(()=>{var RCe=Object.create;var Z6=Object.defineProperty;var OCe=Object.getOwnPropertyDescriptor;var kCe=Object.getOwnPropertyNames;var BCe=Object.getPrototypeOf,DCe=Object.prototype.hasOwnProperty;var UCe=(e,t,r)=>t in e?Z6(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var m=(e,t)=>()=>(e&&(t=e(e=0)),t);var Ve=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),Se=(e,t)=>{for(var r in t)Z6(e,r,{get:t[r],enumerable:!0})},iE=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of kCe(t))!DCe.call(e,s)&&s!==r&&Z6(e,s,{get:()=>t[s],enumerable:!(n=OCe(t,s))||n.enumerable});return e},Ro=(e,t,r)=>(iE(e,t,"default"),r&&iE(r,t,"default")),Bt=(e,t,r)=>(r=e!=null?RCe(BCe(e)):{},iE(t||!e||!e.__esModule?Z6(r,"default",{value:e,enumerable:!0}):r,e)),G6=e=>iE(Z6({},"__esModule",{value:!0}),e);var ot=(e,t,r)=>UCe(e,typeof t!="symbol"?t+"":t,r);var Oo=Ve((qat,qP)=>{"use strict";var v2=typeof Reflect=="object"?Reflect:null,Dq=v2&&typeof v2.apply=="function"?v2.apply:function(t,r,n){return Function.prototype.apply.call(t,r,n)},aE;v2&&typeof v2.ownKeys=="function"?aE=v2.ownKeys:Object.getOwnPropertySymbols?aE=function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:aE=function(t){return Object.getOwnPropertyNames(t)};function LCe(e){console&&console.warn&&console.warn(e)}var Lq=Number.isNaN||function(t){return t!==t};function Ir(){Ir.init.call(this)}qP.exports=Ir;qP.exports.once=FCe;Ir.EventEmitter=Ir;Ir.prototype._events=void 0;Ir.prototype._eventsCount=0;Ir.prototype._maxListeners=void 0;var Uq=10;function cE(e){if(typeof e!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}Object.defineProperty(Ir,"defaultMaxListeners",{enumerable:!0,get:function(){return Uq},set:function(e){if(typeof e!="number"||e<0||Lq(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");Uq=e}});Ir.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};Ir.prototype.setMaxListeners=function(t){if(typeof t!="number"||t<0||Lq(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this};function Mq(e){return e._maxListeners===void 0?Ir.defaultMaxListeners:e._maxListeners}Ir.prototype.getMaxListeners=function(){return Mq(this)};Ir.prototype.emit=function(t){for(var r=[],n=1;n<arguments.length;n++)r.push(arguments[n]);var s=t==="error",o=this._events;if(o!==void 0)s=s&&o.error===void 0;else if(!s)return!1;if(s){var i;if(r.length>0&&(i=r[0]),i instanceof Error)throw i;var a=new Error("Unhandled error."+(i?" ("+i.message+")":""));throw a.context=i,a}var c=o[t];if(c===void 0)return!1;if(typeof c=="function")Dq(c,this,r);else for(var l=c.length,u=zq(c,l),n=0;n<l;++n)Dq(u[n],this,r);return!0};function Hq(e,t,r,n){var s,o,i;if(cE(r),o=e._events,o===void 0?(o=e._events=Object.create(null),e._eventsCount=0):(o.newListener!==void 0&&(e.emit("newListener",t,r.listener?r.listener:r),o=e._events),i=o[t]),i===void 0)i=o[t]=r,++e._eventsCount;else if(typeof i=="function"?i=o[t]=n?[r,i]:[i,r]:n?i.unshift(r):i.push(r),s=Mq(e),s>0&&i.length>s&&!i.warned){i.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+i.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=e,a.type=t,a.count=i.length,LCe(a)}return e}Ir.prototype.addListener=function(t,r){return Hq(this,t,r,!1)};Ir.prototype.on=Ir.prototype.addListener;Ir.prototype.prependListener=function(t,r){return Hq(this,t,r,!0)};function MCe(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function $q(e,t,r){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},s=MCe.bind(n);return s.listener=r,n.wrapFn=s,s}Ir.prototype.once=function(t,r){return cE(r),this.on(t,$q(this,t,r)),this};Ir.prototype.prependOnceListener=function(t,r){return cE(r),this.prependListener(t,$q(this,t,r)),this};Ir.prototype.removeListener=function(t,r){var n,s,o,i,a;if(cE(r),s=this._events,s===void 0)return this;if(n=s[t],n===void 0)return this;if(n===r||n.listener===r)--this._eventsCount===0?this._events=Object.create(null):(delete s[t],s.removeListener&&this.emit("removeListener",t,n.listener||r));else if(typeof n!="function"){for(o=-1,i=n.length-1;i>=0;i--)if(n[i]===r||n[i].listener===r){a=n[i].listener,o=i;break}if(o<0)return this;o===0?n.shift():HCe(n,o),n.length===1&&(s[t]=n[0]),s.removeListener!==void 0&&this.emit("removeListener",t,a||r)}return this};Ir.prototype.off=Ir.prototype.removeListener;Ir.prototype.removeAllListeners=function(t){var r,n,s;if(n=this._events,n===void 0)return this;if(n.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):n[t]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete n[t]),this;if(arguments.length===0){var o=Object.keys(n),i;for(s=0;s<o.length;++s)i=o[s],i!=="removeListener"&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(r=n[t],typeof r=="function")this.removeListener(t,r);else if(r!==void 0)for(s=r.length-1;s>=0;s--)this.removeListener(t,r[s]);return this};function Fq(e,t,r){var n=e._events;if(n===void 0)return[];var s=n[t];return s===void 0?[]:typeof s=="function"?r?[s.listener||s]:[s]:r?$Ce(s):zq(s,s.length)}Ir.prototype.listeners=function(t){return Fq(this,t,!0)};Ir.prototype.rawListeners=function(t){return Fq(this,t,!1)};Ir.listenerCount=function(e,t){return typeof e.listenerCount=="function"?e.listenerCount(t):jq.call(e,t)};Ir.prototype.listenerCount=jq;function jq(e){var t=this._events;if(t!==void 0){var r=t[e];if(typeof r=="function")return 1;if(r!==void 0)return r.length}return 0}Ir.prototype.eventNames=function(){return this._eventsCount>0?aE(this._events):[]};function zq(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e[n];return r}function HCe(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}function $Ce(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}function FCe(e,t){return new Promise(function(r,n){function s(i){e.removeListener(t,o),n(i)}function o(){typeof e.removeListener=="function"&&e.removeListener("error",s),r([].slice.call(arguments))}Vq(e,t,o,{once:!0}),t!=="error"&&jCe(e,s,{once:!0})})}function jCe(e,t,r){typeof e.on=="function"&&Vq(e,"error",t,r)}function Vq(e,t,r,n){if(typeof e.on=="function")n.once?e.once(t,r):e.on(t,r);else if(typeof e.addEventListener=="function")e.addEventListener(t,function s(o){n.once&&e.removeEventListener(t,s),r(o)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e)}});function lE(e){return e?Zq(e):typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"?new KCe:typeof navigator<"u"?Zq(navigator.userAgent):XCe()}function JCe(e){return e!==""&&YCe.reduce(function(t,r){var n=r[0],s=r[1];if(t)return t;var o=s.exec(e);return!!o&&[n,o]},!1)}function Zq(e){var t=JCe(e);if(!t)return null;var r=t[0],n=t[1];if(r==="searchbot")return new WCe;var s=n[1]&&n[1].split(".").join("_").split("_").slice(0,3);s?s.length<Wq&&(s=qq(qq([],s,!0),eSe(Wq-s.length),!0)):s=[];var o=s.join("."),i=QCe(e),a=GCe.exec(e);return a&&a[1]?new qCe(r,o,i,a[1]):new zCe(r,o,i)}function QCe(e){for(var t=0,r=Kq.length;t<r;t++){var n=Kq[t],s=n[0],o=n[1],i=o.exec(e);if(i)return s}return null}function XCe(){var e=typeof process<"u"&&process.version;return e?new VCe(process.version.slice(1)):null}function eSe(e){for(var t=[],r=0;r<e;r++)t.push("0");return t}var qq,zCe,VCe,qCe,WCe,KCe,ZCe,GCe,Wq,YCe,Kq,WP=m(()=>{qq=function(e,t,r){if(r||arguments.length===2)for(var n=0,s=t.length,o;n<s;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return e.concat(o||Array.prototype.slice.call(t))},zCe=(function(){function e(t,r,n){this.name=t,this.version=r,this.os=n,this.type="browser"}return e})(),VCe=(function(){function e(t){this.version=t,this.type="node",this.name="node",this.os=process.platform}return e})(),qCe=(function(){function e(t,r,n,s){this.name=t,this.version=r,this.os=n,this.bot=s,this.type="bot-device"}return e})(),WCe=(function(){function e(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return e})(),KCe=(function(){function e(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return e})(),ZCe=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,GCe=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,Wq=3,YCe=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",ZCe]],Kq=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]]});var E2={};Se(E2,{__assign:()=>ZP,__asyncDelegator:()=>fSe,__asyncGenerator:()=>pSe,__asyncValues:()=>hSe,__await:()=>Y6,__awaiter:()=>iSe,__classPrivateFieldGet:()=>wSe,__classPrivateFieldSet:()=>bSe,__createBinding:()=>cSe,__decorate:()=>nSe,__exportStar:()=>lSe,__extends:()=>tSe,__generator:()=>aSe,__importDefault:()=>ySe,__importStar:()=>gSe,__makeTemplateObject:()=>mSe,__metadata:()=>oSe,__param:()=>sSe,__read:()=>Gq,__rest:()=>rSe,__spread:()=>uSe,__spreadArrays:()=>dSe,__values:()=>GP});function tSe(e,t){KP(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}function rSe(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function nSe(e,t,r,n){var s=arguments.length,o=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,r,o):i(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o}function sSe(e,t){return function(r,n){t(r,n,e)}}function oSe(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function iSe(e,t,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function a(u){try{l(n.next(u))}catch(d){i(d)}}function c(u){try{l(n.throw(u))}catch(d){i(d)}}function l(u){u.done?o(u.value):s(u.value).then(a,c)}l((n=n.apply(e,t||[])).next())})}function aSe(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,s,o,i;return i={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function a(l){return function(u){return c([l,u])}}function c(l){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,s&&(o=l[0]&2?s.return:l[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,l[1])).done)return o;switch(s=0,o&&(l=[l[0]&2,o.value]),l[0]){case 0:case 1:o=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,s=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!o||l[1]>o[0]&&l[1]<o[3])){r.label=l[1];break}if(l[0]===6&&r.label<o[1]){r.label=o[1],o=l;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(l);break}o[2]&&r.ops.pop(),r.trys.pop();continue}l=t.call(e,r)}catch(u){l=[6,u],s=0}finally{n=o=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function cSe(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}function lSe(e,t){for(var r in e)r!=="default"&&!t.hasOwnProperty(r)&&(t[r]=e[r])}function GP(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Gq(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),s,o=[],i;try{for(;(t===void 0||t-- >0)&&!(s=n.next()).done;)o.push(s.value)}catch(a){i={error:a}}finally{try{s&&!s.done&&(r=n.return)&&r.call(n)}finally{if(i)throw i.error}}return o}function uSe(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Gq(arguments[t]));return e}function dSe(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),s=0,t=0;t<r;t++)for(var o=arguments[t],i=0,a=o.length;i<a;i++,s++)n[s]=o[i];return n}function Y6(e){return this instanceof Y6?(this.v=e,this):new Y6(e)}function pSe(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),s,o=[];return s={},i("next"),i("throw"),i("return"),s[Symbol.asyncIterator]=function(){return this},s;function i(p){n[p]&&(s[p]=function(f){return new Promise(function(h,g){o.push([p,f,h,g])>1||a(p,f)})})}function a(p,f){try{c(n[p](f))}catch(h){d(o[0][3],h)}}function c(p){p.value instanceof Y6?Promise.resolve(p.value.v).then(l,u):d(o[0][2],p)}function l(p){a("next",p)}function u(p){a("throw",p)}function d(p,f){p(f),o.shift(),o.length&&a(o[0][0],o[0][1])}}function fSe(e){var t,r;return t={},n("next"),n("throw",function(s){throw s}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(s,o){t[s]=e[s]?function(i){return(r=!r)?{value:Y6(e[s](i)),done:s==="return"}:o?o(i):i}:o}}function hSe(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof GP=="function"?GP(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(o){r[o]=e[o]&&function(i){return new Promise(function(a,c){i=e[o](i),s(a,c,i.done,i.value)})}}function s(o,i,a,c){Promise.resolve(c).then(function(l){o({value:l,done:a})},i)}}function mSe(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function gSe(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function ySe(e){return e&&e.__esModule?e:{default:e}}function wSe(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function bSe(e,t,r){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,r),r}var KP,ZP,A2=m(()=>{KP=function(e,t){return KP=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var s in n)n.hasOwnProperty(s)&&(r[s]=n[s])},KP(e,t)};ZP=function(){return ZP=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},ZP.apply(this,arguments)}});var Yq=Ve(uE=>{"use strict";Object.defineProperty(uE,"__esModule",{value:!0});uE.delay=void 0;function xSe(e){return new Promise(t=>{setTimeout(()=>{t(!0)},e)})}uE.delay=xSe});var Jq=Ve(C2=>{"use strict";Object.defineProperty(C2,"__esModule",{value:!0});C2.ONE_THOUSAND=C2.ONE_HUNDRED=void 0;C2.ONE_HUNDRED=100;C2.ONE_THOUSAND=1e3});var Qq=Ve(Oe=>{"use strict";Object.defineProperty(Oe,"__esModule",{value:!0});Oe.ONE_YEAR=Oe.FOUR_WEEKS=Oe.THREE_WEEKS=Oe.TWO_WEEKS=Oe.ONE_WEEK=Oe.THIRTY_DAYS=Oe.SEVEN_DAYS=Oe.FIVE_DAYS=Oe.THREE_DAYS=Oe.ONE_DAY=Oe.TWENTY_FOUR_HOURS=Oe.TWELVE_HOURS=Oe.SIX_HOURS=Oe.THREE_HOURS=Oe.ONE_HOUR=Oe.SIXTY_MINUTES=Oe.THIRTY_MINUTES=Oe.TEN_MINUTES=Oe.FIVE_MINUTES=Oe.ONE_MINUTE=Oe.SIXTY_SECONDS=Oe.THIRTY_SECONDS=Oe.TEN_SECONDS=Oe.FIVE_SECONDS=Oe.ONE_SECOND=void 0;Oe.ONE_SECOND=1;Oe.FIVE_SECONDS=5;Oe.TEN_SECONDS=10;Oe.THIRTY_SECONDS=30;Oe.SIXTY_SECONDS=60;Oe.ONE_MINUTE=Oe.SIXTY_SECONDS;Oe.FIVE_MINUTES=Oe.ONE_MINUTE*5;Oe.TEN_MINUTES=Oe.ONE_MINUTE*10;Oe.THIRTY_MINUTES=Oe.ONE_MINUTE*30;Oe.SIXTY_MINUTES=Oe.ONE_MINUTE*60;Oe.ONE_HOUR=Oe.SIXTY_MINUTES;Oe.THREE_HOURS=Oe.ONE_HOUR*3;Oe.SIX_HOURS=Oe.ONE_HOUR*6;Oe.TWELVE_HOURS=Oe.ONE_HOUR*12;Oe.TWENTY_FOUR_HOURS=Oe.ONE_HOUR*24;Oe.ONE_DAY=Oe.TWENTY_FOUR_HOURS;Oe.THREE_DAYS=Oe.ONE_DAY*3;Oe.FIVE_DAYS=Oe.ONE_DAY*5;Oe.SEVEN_DAYS=Oe.ONE_DAY*7;Oe.THIRTY_DAYS=Oe.ONE_DAY*30;Oe.ONE_WEEK=Oe.SEVEN_DAYS;Oe.TWO_WEEKS=Oe.ONE_WEEK*2;Oe.THREE_WEEKS=Oe.ONE_WEEK*3;Oe.FOUR_WEEKS=Oe.ONE_WEEK*4;Oe.ONE_YEAR=Oe.ONE_DAY*365});var YP=Ve(dE=>{"use strict";Object.defineProperty(dE,"__esModule",{value:!0});var Xq=(A2(),G6(E2));Xq.__exportStar(Jq(),dE);Xq.__exportStar(Qq(),dE)});var tW=Ve(S2=>{"use strict";Object.defineProperty(S2,"__esModule",{value:!0});S2.fromMiliseconds=S2.toMiliseconds=void 0;var eW=YP();function vSe(e){return e*eW.ONE_THOUSAND}S2.toMiliseconds=vSe;function ESe(e){return Math.floor(e/eW.ONE_THOUSAND)}S2.fromMiliseconds=ESe});var nW=Ve(pE=>{"use strict";Object.defineProperty(pE,"__esModule",{value:!0});var rW=(A2(),G6(E2));rW.__exportStar(Yq(),pE);rW.__exportStar(tW(),pE)});var sW=Ve(J6=>{"use strict";Object.defineProperty(J6,"__esModule",{value:!0});J6.Watch=void 0;var fE=class{constructor(){this.timestamps=new Map}start(t){if(this.timestamps.has(t))throw new Error(`Watch already started for label: ${t}`);this.timestamps.set(t,{started:Date.now()})}stop(t){let r=this.get(t);if(typeof r.elapsed<"u")throw new Error(`Watch already stopped for label: ${t}`);let n=Date.now()-r.started;this.timestamps.set(t,{started:r.started,elapsed:n})}get(t){let r=this.timestamps.get(t);if(typeof r>"u")throw new Error(`No timestamp found for label: ${t}`);return r}elapsed(t){let r=this.get(t);return r.elapsed||Date.now()-r.started}};J6.Watch=fE;J6.default=fE});var oW=Ve(hE=>{"use strict";Object.defineProperty(hE,"__esModule",{value:!0});hE.IWatch=void 0;var JP=class{};hE.IWatch=JP});var iW=Ve(QP=>{"use strict";Object.defineProperty(QP,"__esModule",{value:!0});var ASe=(A2(),G6(E2));ASe.__exportStar(oW(),QP)});var Ld=Ve(I2=>{"use strict";Object.defineProperty(I2,"__esModule",{value:!0});var mE=(A2(),G6(E2));mE.__exportStar(nW(),I2);mE.__exportStar(sW(),I2);mE.__exportStar(iW(),I2);mE.__exportStar(YP(),I2)});var T2=Ve(Mr=>{"use strict";Object.defineProperty(Mr,"__esModule",{value:!0});Mr.getLocalStorage=Mr.getLocalStorageOrThrow=Mr.getCrypto=Mr.getCryptoOrThrow=Mr.getLocation=Mr.getLocationOrThrow=Mr.getNavigator=Mr.getNavigatorOrThrow=Mr.getDocument=Mr.getDocumentOrThrow=Mr.getFromWindowOrThrow=Mr.getFromWindow=void 0;function Om(e){let t;return typeof window<"u"&&typeof window[e]<"u"&&(t=window[e]),t}Mr.getFromWindow=Om;function _2(e){let t=Om(e);if(!t)throw new Error(`${e} is not defined in Window`);return t}Mr.getFromWindowOrThrow=_2;function CSe(){return _2("document")}Mr.getDocumentOrThrow=CSe;function SSe(){return Om("document")}Mr.getDocument=SSe;function ISe(){return _2("navigator")}Mr.getNavigatorOrThrow=ISe;function _Se(){return Om("navigator")}Mr.getNavigator=_Se;function TSe(){return _2("location")}Mr.getLocationOrThrow=TSe;function PSe(){return Om("location")}Mr.getLocation=PSe;function NSe(){return _2("crypto")}Mr.getCryptoOrThrow=NSe;function RSe(){return Om("crypto")}Mr.getCrypto=RSe;function OSe(){return _2("localStorage")}Mr.getLocalStorageOrThrow=OSe;function kSe(){return Om("localStorage")}Mr.getLocalStorage=kSe});var XP=Ve(gE=>{"use strict";Object.defineProperty(gE,"__esModule",{value:!0});gE.getWindowMetadata=void 0;var aW=T2();function BSe(){let e,t;try{e=aW.getDocumentOrThrow(),t=aW.getLocationOrThrow()}catch{return null}function r(){let d=e.getElementsByTagName("link"),p=[];for(let f=0;f<d.length;f++){let h=d[f],g=h.getAttribute("rel");if(g&&g.toLowerCase().indexOf("icon")>-1){let y=h.getAttribute("href");if(y)if(y.toLowerCase().indexOf("https:")===-1&&y.toLowerCase().indexOf("http:")===-1&&y.indexOf("//")!==0){let E=t.protocol+"//"+t.host;if(y.indexOf("/")===0)E+=y;else{let A=t.pathname.split("/");A.pop();let b=A.join("/");E+=b+"/"+y}p.push(E)}else if(y.indexOf("//")===0){let E=t.protocol+y;p.push(E)}else p.push(y)}}return p}function n(...d){let p=e.getElementsByTagName("meta");for(let f=0;f<p.length;f++){let h=p[f],g=["itemprop","property","name"].map(y=>h.getAttribute(y)).filter(y=>y?d.includes(y):!1);if(g.length&&g){let y=h.getAttribute("content");if(y)return y}}return""}function s(){let d=n("name","og:site_name","og:title","twitter:title");return d||(d=e.title),d}function o(){return n("description","og:description","twitter:description","keywords")}let i=s(),a=o(),c=t.origin,l=r();return{description:a,url:c,icons:l,name:i}}gE.getWindowMetadata=BSe});var km,dW=m(()=>{km=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0});function DSe(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function Sc(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function Ic(e,...t){if(!DSe(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function pW(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");Sc(e.outputLen),Sc(e.blockLen)}function Md(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function yE(e,t){Ic(e);let r=t.outputLen;if(e.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}function fW(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))}function ta(...e){for(let t=0;t<e.length;t++)e[t].fill(0)}function wE(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function _c(e,t){return e<<32-t|e>>>t}function Q6(e,t){return e<<t|e>>>32-t>>>0}function LSe(e){return e<<24&4278190080|e<<8&16711680|e>>>8&65280|e>>>24&255}function MSe(e){for(let t=0;t<e.length;t++)e[t]=LSe(e[t]);return e}function hW(e){if(Ic(e),HSe)return e.toHex();let t="";for(let r=0;r<e.length;r++)t+=$Se[e[r]];return t}function FSe(e){if(typeof e!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}function Bm(e){return typeof e=="string"&&(e=FSe(e)),Ic(e),e}function N2(...e){let t=0;for(let n=0;n<e.length;n++){let s=e[n];Ic(s),t+=s.length}let r=new Uint8Array(t);for(let n=0,s=0;n<e.length;n++){let o=e[n];r.set(o,s),s+=o.length}return r}function R2(e){let t=n=>e().update(Bm(n)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t}function If(e=32){if(km&&typeof km.getRandomValues=="function")return km.getRandomValues(new Uint8Array(e));if(km&&typeof km.randomBytes=="function")return Uint8Array.from(km.randomBytes(e));throw new Error("crypto.getRandomValues must be defined")}var USe,eN,HSe,$Se,Sf,ui=m(()=>{dW();USe=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;eN=USe?e=>e:MSe,HSe=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",$Se=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));Sf=class{}});function jSe(e,t,r,n){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,r,n);let s=BigInt(32),o=BigInt(4294967295),i=Number(r>>s&o),a=Number(r&o),c=n?4:0,l=n?0:4;e.setUint32(t+c,i,n),e.setUint32(t+l,a,n)}function tN(e,t,r){return e&t^~e&r}function rN(e,t,r){return e&t^e&r^t&r}var O2,Hd,nN=m(()=>{ui();O2=class extends Sf{constructor(t,r,n,s){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=t,this.outputLen=r,this.padOffset=n,this.isLE=s,this.buffer=new Uint8Array(t),this.view=wE(this.buffer)}update(t){Md(this),t=Bm(t),Ic(t);let{view:r,buffer:n,blockLen:s}=this,o=t.length;for(let i=0;i<o;){let a=Math.min(s-this.pos,o-i);if(a===s){let c=wE(t);for(;s<=o-i;i+=s)this.process(c,i);continue}n.set(t.subarray(i,i+a),this.pos),this.pos+=a,i+=a,this.pos===s&&(this.process(r,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){Md(this),yE(t,this),this.finished=!0;let{buffer:r,view:n,blockLen:s,isLE:o}=this,{pos:i}=this;r[i++]=128,ta(this.buffer.subarray(i)),this.padOffset>s-i&&(this.process(n,0),i=0);for(let d=i;d<s;d++)r[d]=0;jSe(n,s-8,BigInt(this.length*8),o),this.process(n,0);let a=wE(t),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let l=c/4,u=this.get();if(l>u.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<l;d++)a.setUint32(4*d,u[d],o)}digest(){let{buffer:t,outputLen:r}=this;this.digestInto(t);let n=t.slice(0,r);return this.destroy(),n}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());let{blockLen:r,buffer:n,length:s,finished:o,destroyed:i,pos:a}=this;return t.destroyed=i,t.finished=o,t.length=s,t.pos=a,s%r&&t.buffer.set(n),t}clone(){return this._cloneInto()}},Hd=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225])});function mW(e,t,r,n){return e===0?t^r^n:e===1?t&r|~t&n:e===2?(t|~r)^n:e===3?t&n|r&~n:t^(r|~n)}var zSe,gW,VSe,yW,wW,bW,xW,qSe,WSe,KSe,ZSe,bE,xE,vW,EW=m(()=>{nN();ui();zSe=Uint8Array.from([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),gW=Uint8Array.from(new Array(16).fill(0).map((e,t)=>t)),VSe=gW.map(e=>(9*e+5)%16),yW=(()=>{let r=[[gW],[VSe]];for(let n=0;n<4;n++)for(let s of r)s.push(s[n].map(o=>zSe[o]));return r})(),wW=yW[0],bW=yW[1],xW=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map(e=>Uint8Array.from(e)),qSe=wW.map((e,t)=>e.map(r=>xW[t][r])),WSe=bW.map((e,t)=>e.map(r=>xW[t][r])),KSe=Uint32Array.from([0,1518500249,1859775393,2400959708,2840853838]),ZSe=Uint32Array.from([1352829926,1548603684,1836072691,2053994217,0]);bE=new Uint32Array(16),xE=class extends O2{constructor(){super(64,20,8,!0),this.h0=1732584193,this.h1=-271733879,this.h2=-1732584194,this.h3=271733878,this.h4=-1009589776}get(){let{h0:t,h1:r,h2:n,h3:s,h4:o}=this;return[t,r,n,s,o]}set(t,r,n,s,o){this.h0=t|0,this.h1=r|0,this.h2=n|0,this.h3=s|0,this.h4=o|0}process(t,r){for(let f=0;f<16;f++,r+=4)bE[f]=t.getUint32(r,!0);let n=this.h0|0,s=n,o=this.h1|0,i=o,a=this.h2|0,c=a,l=this.h3|0,u=l,d=this.h4|0,p=d;for(let f=0;f<5;f++){let h=4-f,g=KSe[f],y=ZSe[f],E=wW[f],A=bW[f],b=qSe[f],w=WSe[f];for(let C=0;C<16;C++){let _=Q6(n+mW(f,o,a,l)+bE[E[C]]+g,b[C])+d|0;n=d,d=l,l=Q6(a,10)|0,a=o,o=_}for(let C=0;C<16;C++){let _=Q6(s+mW(h,i,c,u)+bE[A[C]]+y,w[C])+p|0;s=p,p=u,u=Q6(c,10)|0,c=i,i=_}}this.set(this.h1+a+u|0,this.h2+l+p|0,this.h3+d+s|0,this.h4+n+i|0,this.h0+o+c|0)}roundClean(){ta(bE)}destroy(){this.destroyed=!0,ta(this.buffer),this.set(0,0,0,0,0)}},vW=R2(()=>new xE)});var AW,CW=m(()=>{EW();AW=vW});function GSe(e,t=!1){return t?{h:Number(e&vE),l:Number(e>>SW&vE)}:{h:Number(e>>SW&vE)|0,l:Number(e&vE)|0}}function IW(e,t=!1){let r=e.length,n=new Uint32Array(r),s=new Uint32Array(r);for(let o=0;o<r;o++){let{h:i,l:a}=GSe(e[o],t);[n[o],s[o]]=[i,a]}return[n,s]}var vE,SW,_W,TW,PW,NW,RW=m(()=>{vE=BigInt(4294967295),SW=BigInt(32);_W=(e,t,r)=>e<<r|t>>>32-r,TW=(e,t,r)=>t<<r|e>>>32-r,PW=(e,t,r)=>t<<r-32|e>>>64-r,NW=(e,t,r)=>e<<r-32|t>>>64-r});function nIe(e,t=24){let r=new Uint32Array(10);for(let n=24-t;n<24;n++){for(let i=0;i<10;i++)r[i]=e[i]^e[i+10]^e[i+20]^e[i+30]^e[i+40];for(let i=0;i<10;i+=2){let a=(i+8)%10,c=(i+2)%10,l=r[c],u=r[c+1],d=OW(l,u,1)^r[a],p=kW(l,u,1)^r[a+1];for(let f=0;f<50;f+=10)e[i+f]^=d,e[i+f+1]^=p}let s=e[2],o=e[3];for(let i=0;i<24;i++){let a=DW[i],c=OW(s,o,a),l=kW(s,o,a),u=BW[i];s=e[u],o=e[u+1],e[u]=c,e[u+1]=l}for(let i=0;i<50;i+=10){for(let a=0;a<10;a++)r[a]=e[i+a];for(let a=0;a<10;a++)e[i+a]^=~r[(a+2)%10]&r[(a+4)%10]}e[0]^=tIe[n],e[1]^=rIe[n]}ta(r)}var YSe,X6,JSe,QSe,XSe,eIe,BW,DW,UW,LW,tIe,rIe,OW,kW,sN,sIe,_f,e8=m(()=>{RW();ui();YSe=BigInt(0),X6=BigInt(1),JSe=BigInt(2),QSe=BigInt(7),XSe=BigInt(256),eIe=BigInt(113),BW=[],DW=[],UW=[];for(let e=0,t=X6,r=1,n=0;e<24;e++){[r,n]=[n,(2*r+3*n)%5],BW.push(2*(5*n+r)),DW.push((e+1)*(e+2)/2%64);let s=YSe;for(let o=0;o<7;o++)t=(t<<X6^(t>>QSe)*eIe)%XSe,t&JSe&&(s^=X6<<(X6<<BigInt(o))-X6);UW.push(s)}LW=IW(UW,!0),tIe=LW[0],rIe=LW[1],OW=(e,t,r)=>r>32?PW(e,t,r):_W(e,t,r),kW=(e,t,r)=>r>32?NW(e,t,r):TW(e,t,r);sN=class e extends Sf{constructor(t,r,n,s=!1,o=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=t,this.suffix=r,this.outputLen=n,this.enableXOF=s,this.rounds=o,Sc(n),!(0<t&&t<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=fW(this.state)}clone(){return this._cloneInto()}keccak(){eN(this.state32),nIe(this.state32,this.rounds),eN(this.state32),this.posOut=0,this.pos=0}update(t){Md(this),t=Bm(t),Ic(t);let{blockLen:r,state:n}=this,s=t.length;for(let o=0;o<s;){let i=Math.min(r-this.pos,s-o);for(let a=0;a<i;a++)n[this.pos++]^=t[o++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;let{state:t,suffix:r,pos:n,blockLen:s}=this;t[n]^=r,(r&128)!==0&&n===s-1&&this.keccak(),t[s-1]^=128,this.keccak()}writeInto(t){Md(this,!1),Ic(t),this.finish();let r=this.state,{blockLen:n}=this;for(let s=0,o=t.length;s<o;){this.posOut>=n&&this.keccak();let i=Math.min(n-this.posOut,o-s);t.set(r.subarray(this.posOut,this.posOut+i),s),this.posOut+=i,s+=i}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return Sc(t),this.xofInto(new Uint8Array(t))}digestInto(t){if(yE(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,ta(this.state)}_cloneInto(t){let{blockLen:r,suffix:n,outputLen:s,rounds:o,enableXOF:i}=this;return t||(t=new e(r,n,s,i,o)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=o,t.suffix=n,t.outputLen=s,t.enableXOF=i,t.destroyed=this.destroyed,t}},sIe=(e,t,r)=>R2(()=>new sN(t,e,r)),_f=sIe(1,136,256/8)});var oIe,Tf,EE,Tc,t8=m(()=>{nN();ui();oIe=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Tf=new Uint32Array(64),EE=class extends O2{constructor(t=32){super(64,t,8,!1),this.A=Hd[0]|0,this.B=Hd[1]|0,this.C=Hd[2]|0,this.D=Hd[3]|0,this.E=Hd[4]|0,this.F=Hd[5]|0,this.G=Hd[6]|0,this.H=Hd[7]|0}get(){let{A:t,B:r,C:n,D:s,E:o,F:i,G:a,H:c}=this;return[t,r,n,s,o,i,a,c]}set(t,r,n,s,o,i,a,c){this.A=t|0,this.B=r|0,this.C=n|0,this.D=s|0,this.E=o|0,this.F=i|0,this.G=a|0,this.H=c|0}process(t,r){for(let d=0;d<16;d++,r+=4)Tf[d]=t.getUint32(r,!1);for(let d=16;d<64;d++){let p=Tf[d-15],f=Tf[d-2],h=_c(p,7)^_c(p,18)^p>>>3,g=_c(f,17)^_c(f,19)^f>>>10;Tf[d]=g+Tf[d-7]+h+Tf[d-16]|0}let{A:n,B:s,C:o,D:i,E:a,F:c,G:l,H:u}=this;for(let d=0;d<64;d++){let p=_c(a,6)^_c(a,11)^_c(a,25),f=u+p+tN(a,c,l)+oIe[d]+Tf[d]|0,g=(_c(n,2)^_c(n,13)^_c(n,22))+rN(n,s,o)|0;u=l,l=c,c=a,a=i+f|0,i=o,o=s,s=n,n=f+g|0}n=n+this.A|0,s=s+this.B|0,o=o+this.C|0,i=i+this.D|0,a=a+this.E|0,c=c+this.F|0,l=l+this.G|0,u=u+this.H|0,this.set(n,s,o,i,a,c,l,u)}roundClean(){ta(Tf)}destroy(){this.set(0,0,0,0,0,0,0,0),ta(this.buffer)}},Tc=R2(()=>new EE)});var AE,oN=m(()=>{t8();AE=Tc});var ME,Fm,HE=m(()=>{ui();ME=class extends Sf{constructor(t,r){super(),this.finished=!1,this.destroyed=!1,pW(t);let n=Bm(r);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let s=this.blockLen,o=new Uint8Array(s);o.set(n.length>s?t.create().update(n).digest():n);for(let i=0;i<o.length;i++)o[i]^=54;this.iHash.update(o),this.oHash=t.create();for(let i=0;i<o.length;i++)o[i]^=106;this.oHash.update(o),ta(o)}update(t){return Md(this),this.iHash.update(t),this}digestInto(t){Md(this),Ic(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){let t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));let{oHash:r,iHash:n,finished:s,destroyed:o,blockLen:i,outputLen:a}=this;return t=t,t.finished=s,t.destroyed=o,t.blockLen=i,t.outputLen=a,t.oHash=r._cloneInto(t.oHash),t.iHash=n._cloneInto(t.iHash),t}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}},Fm=(e,t,r)=>new ME(e,t).update(r).digest();Fm.create=(e,t)=>new ME(e,t)});var KIe,ZIe,GIe,YIe,OK,kK,BK,JIe,QIe,Xut,edt,tdt,rdt,DK=m(()=>{KIe=44032,ZIe=4352,GIe=4449,YIe=4519,OK=19,kK=21,BK=28,JIe=kK*BK,QIe=OK*JIe,Xut=KIe+QIe,edt=ZIe+OK,tdt=GIe+kK,rdt=YIe+BK});function MK(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function HK(e,t){return Array.isArray(t)?t.length===0?!0:e?t.every(r=>typeof r=="string"):t.every(r=>Number.isSafeInteger(r)):!1}function ZE(e,t){if(typeof t!="string")throw new Error(`${e}: string expected`);return!0}function u8(e){if(!Number.isSafeInteger(e))throw new Error(`invalid integer: ${e}`)}function GE(e){if(!Array.isArray(e))throw new Error("array expected")}function YE(e,t){if(!HK(!0,t))throw new Error(`${e}: array of strings expected`)}function $K(e,t){if(!HK(!1,t))throw new Error(`${e}: array of numbers expected`)}function FK(...e){let t=o=>o,r=(o,i)=>a=>o(i(a)),n=e.map(o=>o.encode).reduceRight(r,t),s=e.map(o=>o.decode).reduce(r,t);return{encode:n,decode:s}}function jK(e){let t=typeof e=="string"?e.split(""):e,r=t.length;YE("alphabet",t);let n=new Map(t.map((s,o)=>[s,o]));return{encode:s=>(GE(s),s.map(o=>{if(!Number.isSafeInteger(o)||o<0||o>=r)throw new Error(`alphabet.encode: digit index outside alphabet "${o}". Allowed: ${e}`);return t[o]})),decode:s=>(GE(s),s.map(o=>{ZE("alphabet.decode",o);let i=n.get(o);if(i===void 0)throw new Error(`Unknown letter: "${o}". Allowed: ${e}`);return i}))}}function zK(e=""){return ZE("join",e),{encode:t=>(YE("join.decode",t),t.join(e)),decode:t=>(ZE("join.decode",t),t.split(e))}}function XIe(e,t="="){return u8(e),ZE("padding",t),{encode(r){for(YE("padding.encode",r);r.length*e%8;)r.push(t);return r},decode(r){YE("padding.decode",r);let n=r.length;if(n*e%8)throw new Error("padding: invalid, string should have whole number of bytes");for(;n>0&&r[n-1]===t;n--)if((n-1)*e%8===0)throw new Error("padding: invalid, string has too much padding");return r.slice(0,n)}}}function UK(e,t,r){if(t<2)throw new Error(`convertRadix: invalid from=${t}, base cannot be less than 2`);if(r<2)throw new Error(`convertRadix: invalid to=${r}, base cannot be less than 2`);if(GE(e),!e.length)return[];let n=0,s=[],o=Array.from(e,a=>{if(u8(a),a<0||a>=t)throw new Error(`invalid integer: ${a}`);return a}),i=o.length;for(;;){let a=0,c=!0;for(let l=n;l<i;l++){let u=o[l],d=t*a,p=d+u;if(!Number.isSafeInteger(p)||d/t!==a||p-u!==d)throw new Error("convertRadix: carry overflow");let f=p/r;a=p%r;let h=Math.floor(f);if(o[l]=h,!Number.isSafeInteger(h)||h*r+a!==p)throw new Error("convertRadix: carry overflow");if(c)h?c=!1:n=l;else continue}if(s.push(a),c)break}for(let a=0;a<e.length-1&&e[a]===0;a++)s.push(0);return s.reverse()}function LK(e,t,r,n){if(GE(e),t<=0||t>32)throw new Error(`convertRadix2: wrong from=${t}`);if(r<=0||r>32)throw new Error(`convertRadix2: wrong to=${r}`);if(JE(t,r)>32)throw new Error(`convertRadix2: carry overflow from=${t} to=${r} carryBits=${JE(t,r)}`);let s=0,o=0,i=GN[t],a=GN[r]-1,c=[];for(let l of e){if(u8(l),l>=i)throw new Error(`convertRadix2: invalid data word=${l} from=${t}`);if(s=s<<t|l,o+t>32)throw new Error(`convertRadix2: carry overflow pos=${o} from=${t}`);for(o+=t;o>=r;o-=r)c.push((s>>o-r&a)>>>0);let u=GN[o];if(u===void 0)throw new Error("invalid carry");s&=u-1}if(s=s<<r-o&a,!n&&o>=t)throw new Error("Excess padding");if(!n&&s>0)throw new Error(`Non-zero padding: ${s}`);return n&&o>0&&c.push(s>>>0),c}function e_e(e){u8(e);let t=2**8;return{encode:r=>{if(!MK(r))throw new Error("radix.encode input should be Uint8Array");return UK(Array.from(r),t,e)},decode:r=>($K("radix.decode",r),Uint8Array.from(UK(r,e,t)))}}function t_e(e,t=!1){if(u8(e),e<=0||e>32)throw new Error("radix2: bits should be in (0..32]");if(JE(8,e)>32||JE(e,8)>32)throw new Error("radix2: carry overflow");return{encode:r=>{if(!MK(r))throw new Error("radix2.encode input should be Uint8Array");return LK(Array.from(r),8,e,!t)},decode:r=>($K("radix2.decode",r),Uint8Array.from(LK(r,e,8,t)))}}var VK,JE,GN,QE,r_e,H2,YN=m(()=>{VK=(e,t)=>t===0?e:VK(t,e%t),JE=(e,t)=>e+(t-VK(e,t)),GN=(()=>{let e=[];for(let t=0;t<40;t++)e.push(2**t);return e})();QE=FK(t_e(5),jK("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),XIe(5),zK("")),r_e=e=>FK(e_e(58),jK(e),zK("")),H2=r_e("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")});var YK=m(()=>{});function Bo(e){if(typeof e!="string")throw new Error(`Cannot safe json parse value of type ${typeof e}`);try{return B_e(e)}catch{return e}}function fi(e){return typeof e=="string"?e:k_e(e)||""}var k_e,B_e,qm=m(()=>{k_e=e=>JSON.stringify(e,(t,r)=>typeof r=="bigint"?r.toString()+"n":r),B_e=e=>{let t=/([\[:])?(\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\}\]])/g,r=e.replace(t,'$1"$2n"$3');return JSON.parse(r,(n,s)=>typeof s=="string"&&s.match(/^\d+n$/)?BigInt(s.substring(0,s.length-1)):s)}});function D_e(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function CZ(e,...t){if(!D_e(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function oZ(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function U_e(e,t){CZ(e);let r=t.outputLen;if(e.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}function L_e(e){if(typeof e!="string")throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array(new TextEncoder().encode(e))}function SZ(e){return typeof e=="string"&&(e=L_e(e)),CZ(e),e}function M_e(e){let t=n=>e().update(SZ(n)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t}function IZ(e=32){if(F2&&typeof F2.getRandomValues=="function")return F2.getRandomValues(new Uint8Array(e));if(F2&&typeof F2.randomBytes=="function")return F2.randomBytes(e);throw new Error("crypto.getRandomValues must be defined")}function H_e(e,t,r,n){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,r,n);let s=BigInt(32),o=BigInt(4294967295),i=Number(r>>s&o),a=Number(r&o),c=n?4:0,l=n?0:4;e.setUint32(t+c,i,n),e.setUint32(t+l,a,n)}function _Z(e,t=!1){return t?{h:Number(e&aA),l:Number(e>>fR&aA)}:{h:Number(e>>fR&aA)|0,l:Number(e&aA)|0}}function $_e(e,t=!1){let r=new Uint32Array(e.length),n=new Uint32Array(e.length);for(let s=0;s<e.length;s++){let{h:o,l:i}=_Z(e[s],t);[r[s],n[s]]=[o,i]}return[r,n]}function e9e(e,t,r,n){let s=(t>>>0)+(n>>>0);return{h:e+r+(s/2**32|0)|0,l:s|0}}function IR(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function _R(e){if(!IR(e))throw new Error("Uint8Array expected")}function sR(e,t){if(typeof t!="boolean")throw new Error(e+" boolean expected, got "+t)}function TR(e){_R(e);let t="";for(let r=0;r<e.length;r++)t+=d9e[e[r]];return t}function PZ(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return e===""?SR:BigInt("0x"+e)}function iZ(e){if(e>=qd._0&&e<=qd._9)return e-qd._0;if(e>=qd.A&&e<=qd.F)return e-(qd.A-10);if(e>=qd.a&&e<=qd.f)return e-(qd.a-10)}function NZ(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);let t=e.length,r=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);let n=new Uint8Array(r);for(let s=0,o=0;s<r;s++,o+=2){let i=iZ(e.charCodeAt(o)),a=iZ(e.charCodeAt(o+1));if(i===void 0||a===void 0){let c=e[o]+e[o+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+o)}n[s]=i*16+a}return n}function p9e(e){return PZ(TR(e))}function uA(e){return _R(e),PZ(TR(Uint8Array.from(e).reverse()))}function RZ(e,t){return NZ(e.toString(16).padStart(t*2,"0"))}function mR(e,t){return RZ(e,t).reverse()}function Wd(e,t,r){let n;if(typeof t=="string")try{n=NZ(t)}catch(o){throw new Error(e+" must be hex string or Uint8Array, cause: "+o)}else if(IR(t))n=Uint8Array.from(t);else throw new Error(e+" must be hex string or Uint8Array");let s=n.length;if(typeof r=="number"&&s!==r)throw new Error(e+" of length "+r+" expected, got "+s);return n}function aZ(...e){let t=0;for(let n=0;n<e.length;n++){let s=e[n];_R(s),t+=s.length}let r=new Uint8Array(t);for(let n=0,s=0;n<e.length;n++){let o=e[n];r.set(o,s),s+=o.length}return r}function f9e(e,t,r){return oR(e)&&oR(t)&&oR(r)&&t<=e&&e<r}function m8(e,t,r,n){if(!f9e(t,r,n))throw new Error("expected valid "+e+": "+r+" <= n < "+n+", got "+t)}function h9e(e){let t;for(t=0;e>SR;e>>=TZ,t+=1);return t}function PR(e,t,r={}){let n=(s,o,i)=>{let a=g9e[o];if(typeof a!="function")throw new Error("invalid validator function");let c=e[s];if(!(i&&c===void 0)&&!a(c,e))throw new Error("param "+String(s)+" is invalid. Expected "+o+", got "+c)};for(let[s,o]of Object.entries(t))n(s,o,!1);for(let[s,o]of Object.entries(r))n(s,o,!0);return e}function cZ(e){let t=new WeakMap;return(r,...n)=>{let s=t.get(r);if(s!==void 0)return s;let o=e(r,...n);return t.set(r,o),o}}function Qn(e,t){let r=e%t;return r>=ls?r:t+r}function w9e(e,t,r){if(t<ls)throw new Error("invalid exponent, negatives unsupported");if(r<=ls)throw new Error("invalid modulus");if(r===Sn)return ls;let n=Sn;for(;t>ls;)t&Sn&&(n=n*e%r),e=e*e%r,t>>=Sn;return n}function Dl(e,t,r){let n=e;for(;t-- >ls;)n*=n,n%=r;return n}function dZ(e,t){if(e===ls)throw new Error("invert: expected non-zero number");if(t<=ls)throw new Error("invert: expected positive modulus, got "+t);let r=Qn(e,t),n=t,s=ls,o=Sn;for(;r!==ls;){let i=n/r,a=n%r,c=s-o*i;n=r,r=a,s=o,o=c}if(n!==Sn)throw new Error("invert: does not exist");return Qn(s,t)}function b9e(e){let t=(e-Sn)/Wm,r,n,s;for(r=e-Sn,n=0;r%Wm===ls;r/=Wm,n++);for(s=Wm;s<e&&w9e(s,t,e)!==e-Sn;s++)if(s>1e3)throw new Error("Cannot find square root: likely non-prime P");if(n===1){let i=(e+Sn)/gR;return function(a,c){let l=a.pow(c,i);if(!a.eql(a.sqr(l),c))throw new Error("Cannot find square root");return l}}let o=(r+Sn)/Wm;return function(i,a){if(i.pow(a,t)===i.neg(i.ONE))throw new Error("Cannot find square root");let c=n,l=i.pow(i.mul(i.ONE,s),r),u=i.pow(a,o),d=i.pow(a,r);for(;!i.eql(d,i.ONE);){if(i.eql(d,i.ZERO))return i.ZERO;let p=1;for(let h=i.sqr(d);p<c&&!i.eql(h,i.ONE);p++)h=i.sqr(h);let f=i.pow(l,Sn<<BigInt(c-p-1));l=i.sqr(f),u=i.mul(u,f),d=i.mul(d,l),c=p}return u}}function x9e(e){if(e%gR===y9e){let t=(e+Sn)/gR;return function(r,n){let s=r.pow(n,t);if(!r.eql(r.sqr(s),n))throw new Error("Cannot find square root");return s}}if(e%uZ===lZ){let t=(e-lZ)/uZ;return function(r,n){let s=r.mul(n,Wm),o=r.pow(s,t),i=r.mul(n,o),a=r.mul(r.mul(i,Wm),o),c=r.mul(i,r.sub(a,r.ONE));if(!r.eql(r.sqr(c),n))throw new Error("Cannot find square root");return c}}return b9e(e)}function A9e(e){let t={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},r=E9e.reduce((n,s)=>(n[s]="function",n),t);return PR(e,r)}function C9e(e,t,r){if(r<ls)throw new Error("invalid exponent, negatives unsupported");if(r===ls)return e.ONE;if(r===Sn)return t;let n=e.ONE,s=t;for(;r>ls;)r&Sn&&(n=e.mul(n,s)),s=e.sqr(s),r>>=Sn;return n}function S9e(e,t){let r=new Array(t.length),n=t.reduce((o,i,a)=>e.is0(i)?o:(r[a]=o,e.mul(o,i)),e.ONE),s=e.inv(n);return t.reduceRight((o,i,a)=>e.is0(i)?o:(r[a]=e.mul(o,r[a]),e.mul(o,i)),s),r}function OZ(e,t){let r=t!==void 0?t:e.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}function kZ(e,t,r=!1,n={}){if(e<=ls)throw new Error("invalid field: expected ORDER > 0, got "+e);let{nBitLength:s,nByteLength:o}=OZ(e,t);if(o>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let i,a=Object.freeze({ORDER:e,isLE:r,BITS:s,BYTES:o,MASK:m9e(s),ZERO:ls,ONE:Sn,create:c=>Qn(c,e),isValid:c=>{if(typeof c!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof c);return ls<=c&&c<e},is0:c=>c===ls,isOdd:c=>(c&Sn)===Sn,neg:c=>Qn(-c,e),eql:(c,l)=>c===l,sqr:c=>Qn(c*c,e),add:(c,l)=>Qn(c+l,e),sub:(c,l)=>Qn(c-l,e),mul:(c,l)=>Qn(c*l,e),pow:(c,l)=>C9e(a,c,l),div:(c,l)=>Qn(c*dZ(l,e),e),sqrN:c=>c*c,addN:(c,l)=>c+l,subN:(c,l)=>c-l,mulN:(c,l)=>c*l,inv:c=>dZ(c,e),sqrt:n.sqrt||(c=>(i||(i=x9e(e)),i(a,c))),invertBatch:c=>S9e(a,c),cmov:(c,l,u)=>u?l:c,toBytes:c=>r?mR(c,o):RZ(c,o),fromBytes:c=>{if(c.length!==o)throw new Error("Field.fromBytes: expected "+o+" bytes, got "+c.length);return r?uA(c):p9e(c)}});return Object.freeze(a)}function iR(e,t){let r=t.negate();return e?r:t}function BZ(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw new Error("invalid window size, expected [1.."+t+"], got W="+e)}function aR(e,t){BZ(e,t);let r=Math.ceil(t/e)+1,n=2**(e-1);return{windows:r,windowSize:n}}function I9e(e,t){if(!Array.isArray(e))throw new Error("array expected");e.forEach((r,n)=>{if(!(r instanceof t))throw new Error("invalid point at index "+n)})}function _9e(e,t){if(!Array.isArray(e))throw new Error("array of scalars expected");e.forEach((r,n)=>{if(!t.isValid(r))throw new Error("invalid scalar at index "+n)})}function lR(e){return DZ.get(e)||1}function T9e(e,t){return{constTimeNegate:iR,hasPrecomputes(r){return lR(r)!==1},unsafeLadder(r,n,s=e.ZERO){let o=r;for(;n>pZ;)n&cA&&(s=s.add(o)),o=o.double(),n>>=cA;return s},precomputeWindow(r,n){let{windows:s,windowSize:o}=aR(n,t),i=[],a=r,c=a;for(let l=0;l<s;l++){c=a,i.push(c);for(let u=1;u<o;u++)c=c.add(a),i.push(c);a=c.double()}return i},wNAF(r,n,s){let{windows:o,windowSize:i}=aR(r,t),a=e.ZERO,c=e.BASE,l=BigInt(2**r-1),u=2**r,d=BigInt(r);for(let p=0;p<o;p++){let f=p*i,h=Number(s&l);s>>=d,h>i&&(h-=u,s+=cA);let g=f,y=f+Math.abs(h)-1,E=p%2!==0,A=h<0;h===0?c=c.add(iR(E,n[g])):a=a.add(iR(A,n[y]))}return{p:a,f:c}},wNAFUnsafe(r,n,s,o=e.ZERO){let{windows:i,windowSize:a}=aR(r,t),c=BigInt(2**r-1),l=2**r,u=BigInt(r);for(let d=0;d<i;d++){let p=d*a;if(s===pZ)break;let f=Number(s&c);if(s>>=u,f>a&&(f-=l,s+=cA),f===0)continue;let h=n[p+Math.abs(f)-1];f<0&&(h=h.negate()),o=o.add(h)}return o},getPrecomputes(r,n,s){let o=cR.get(n);return o||(o=this.precomputeWindow(n,r),r!==1&&cR.set(n,s(o))),o},wNAFCached(r,n,s){let o=lR(r);return this.wNAF(o,this.getPrecomputes(o,r,s),n)},wNAFCachedUnsafe(r,n,s,o){let i=lR(r);return i===1?this.unsafeLadder(r,n,o):this.wNAFUnsafe(i,this.getPrecomputes(i,r,s),n,o)},setWindowSize(r,n){BZ(n,t),DZ.set(r,n),cR.delete(r)}}}function P9e(e,t,r,n){if(I9e(r,e),_9e(n,t),r.length!==n.length)throw new Error("arrays of points and scalars must have equal length");let s=e.ZERO,o=h9e(BigInt(r.length)),i=o>12?o-3:o>4?o-2:o?2:1,a=(1<<i)-1,c=new Array(a+1).fill(s),l=Math.floor((t.BITS-1)/i)*i,u=s;for(let d=l;d>=0;d-=i){c.fill(s);for(let f=0;f<n.length;f++){let h=n[f],g=Number(h>>BigInt(d)&BigInt(a));c[g]=c[g].add(r[f])}let p=s;for(let f=c.length-1,h=s;f>0;f--)h=h.add(c[f]),p=p.add(h);if(u=u.add(p),d!==0)for(let f=0;f<i;f++)u=u.double()}return u}function N9e(e){return A9e(e.Fp),PR(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...OZ(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}function k9e(e){let t=N9e(e);return PR(e,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...t})}function B9e(e){let t=k9e(e),{Fp:r,n,prehash:s,hash:o,randomBytes:i,nByteLength:a,h:c}=t,l=lA<<BigInt(a*8)-hi,u=r.create,d=kZ(t.n,t.nBitLength),p=t.uvRatio||((x,v)=>{try{return{isValid:!0,value:r.sqrt(x*r.inv(v))}}catch{return{isValid:!1,value:Nc}}}),f=t.adjustScalarBytes||(x=>x),h=t.domain||((x,v,N)=>{if(sR("phflag",N),v.length||N)throw new Error("Contexts/pre-hash are not supported");return x});function g(x,v){m8("coordinate "+x,v,Nc,l)}function y(x){if(!(x instanceof b))throw new Error("ExtendedPoint expected")}let E=cZ((x,v)=>{let{ex:N,ey:D,ez:T}=x,L=x.is0();v==null&&(v=L?R9e:r.inv(T));let j=u(N*v),q=u(D*v),ie=u(T*v);if(L)return{x:Nc,y:hi};if(ie!==hi)throw new Error("invZ was invalid");return{x:j,y:q}}),A=cZ(x=>{let{a:v,d:N}=t;if(x.is0())throw new Error("bad point: ZERO");let{ex:D,ey:T,ez:L,et:j}=x,q=u(D*D),ie=u(T*T),ne=u(L*L),Y=u(ne*ne),me=u(q*v),ue=u(ne*u(me+ie)),Te=u(Y+u(N*u(q*ie)));if(ue!==Te)throw new Error("bad point: equation left != right (1)");let de=u(D*T),Pe=u(L*j);if(de!==Pe)throw new Error("bad point: equation left != right (2)");return!0});class b{constructor(v,N,D,T){this.ex=v,this.ey=N,this.ez=D,this.et=T,g("x",v),g("y",N),g("z",D),g("t",T),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(v){if(v instanceof b)throw new Error("extended point not allowed");let{x:N,y:D}=v||{};return g("x",N),g("y",D),new b(N,D,hi,u(N*D))}static normalizeZ(v){let N=r.invertBatch(v.map(D=>D.ez));return v.map((D,T)=>D.toAffine(N[T])).map(b.fromAffine)}static msm(v,N){return P9e(b,d,v,N)}_setWindowSize(v){_.setWindowSize(this,v)}assertValidity(){A(this)}equals(v){y(v);let{ex:N,ey:D,ez:T}=this,{ex:L,ey:j,ez:q}=v,ie=u(N*q),ne=u(L*T),Y=u(D*q),me=u(j*T);return ie===ne&&Y===me}is0(){return this.equals(b.ZERO)}negate(){return new b(u(-this.ex),this.ey,this.ez,u(-this.et))}double(){let{a:v}=t,{ex:N,ey:D,ez:T}=this,L=u(N*N),j=u(D*D),q=u(lA*u(T*T)),ie=u(v*L),ne=N+D,Y=u(u(ne*ne)-L-j),me=ie+j,ue=me-q,Te=ie-j,de=u(Y*ue),Pe=u(me*Te),bt=u(Y*Te),At=u(ue*me);return new b(de,Pe,At,bt)}add(v){y(v);let{a:N,d:D}=t,{ex:T,ey:L,ez:j,et:q}=this,{ex:ie,ey:ne,ez:Y,et:me}=v;if(N===BigInt(-1)){let Tq=u((L-T)*(ne+ie)),Pq=u((L+T)*(ne-ie)),VP=u(Pq-Tq);if(VP===Nc)return this.double();let Nq=u(j*lA*me),Rq=u(q*lA*Y),Oq=Rq+Nq,kq=Pq+Tq,Bq=Rq-Nq,_Ce=u(Oq*VP),TCe=u(kq*Bq),PCe=u(Oq*Bq),NCe=u(VP*kq);return new b(_Ce,TCe,NCe,PCe)}let ue=u(T*ie),Te=u(L*ne),de=u(q*D*me),Pe=u(j*Y),bt=u((T+L)*(ie+ne)-ue-Te),At=Pe-de,vt=Pe+de,Zt=u(Te-N*ue),Lr=u(bt*At),kl=u(vt*Zt),SCe=u(bt*Zt),ICe=u(At*vt);return new b(Lr,kl,ICe,SCe)}subtract(v){return this.add(v.negate())}wNAF(v){return _.wNAFCached(this,v,b.normalizeZ)}multiply(v){let N=v;m8("scalar",N,hi,n);let{p:D,f:T}=this.wNAF(N);return b.normalizeZ([D,T])[0]}multiplyUnsafe(v,N=b.ZERO){let D=v;return m8("scalar",D,Nc,n),D===Nc?C:this.is0()||D===hi?this:_.wNAFCachedUnsafe(this,D,b.normalizeZ,N)}isSmallOrder(){return this.multiplyUnsafe(c).is0()}isTorsionFree(){return _.unsafeLadder(this,n).is0()}toAffine(v){return E(this,v)}clearCofactor(){let{h:v}=t;return v===hi?this:this.multiplyUnsafe(v)}static fromHex(v,N=!1){let{d:D,a:T}=t,L=r.BYTES;v=Wd("pointHex",v,L),sR("zip215",N);let j=v.slice(),q=v[L-1];j[L-1]=q&-129;let ie=uA(j),ne=N?l:r.ORDER;m8("pointHex.y",ie,Nc,ne);let Y=u(ie*ie),me=u(Y-hi),ue=u(D*Y-T),{isValid:Te,value:de}=p(me,ue);if(!Te)throw new Error("Point.fromHex: invalid y coordinate");let Pe=(de&hi)===hi,bt=(q&128)!==0;if(!N&&de===Nc&&bt)throw new Error("Point.fromHex: x=0 and x_0=1");return bt!==Pe&&(de=u(-de)),b.fromAffine({x:de,y:ie})}static fromPrivateKey(v){return k(v).point}toRawBytes(){let{x:v,y:N}=this.toAffine(),D=mR(N,r.BYTES);return D[D.length-1]|=v&hi?128:0,D}toHex(){return TR(this.toRawBytes())}}b.BASE=new b(t.Gx,t.Gy,hi,u(t.Gx*t.Gy)),b.ZERO=new b(Nc,hi,hi,Nc);let{BASE:w,ZERO:C}=b,_=T9e(b,a*8);function B(x){return Qn(x,n)}function U(x){return B(uA(x))}function k(x){let v=r.BYTES;x=Wd("private key",x,v);let N=Wd("hashed private key",o(x),2*v),D=f(N.slice(0,v)),T=N.slice(v,2*v),L=U(D),j=w.multiply(L),q=j.toRawBytes();return{head:D,prefix:T,scalar:L,point:j,pointBytes:q}}function $(x){return k(x).pointBytes}function P(x=new Uint8Array,...v){let N=aZ(...v);return U(o(h(N,Wd("context",x),!!s)))}function I(x,v,N={}){x=Wd("message",x),s&&(x=s(x));let{prefix:D,scalar:T,pointBytes:L}=k(v),j=P(N.context,D,x),q=w.multiply(j).toRawBytes(),ie=P(N.context,q,L,x),ne=B(j+ie*T);m8("signature.s",ne,Nc,n);let Y=aZ(q,mR(ne,r.BYTES));return Wd("result",Y,r.BYTES*2)}let S=O9e;function O(x,v,N,D=S){let{context:T,zip215:L}=D,j=r.BYTES;x=Wd("signature",x,2*j),v=Wd("message",v),N=Wd("publicKey",N,j),L!==void 0&&sR("zip215",L),s&&(v=s(v));let q=uA(x.slice(j,2*j)),ie,ne,Y;try{ie=b.fromHex(N,L),ne=b.fromHex(x.slice(0,j),L),Y=w.multiplyUnsafe(q)}catch{return!1}if(!L&&ie.isSmallOrder())return!1;let me=P(T,ne.toRawBytes(),ie.toRawBytes(),v);return ne.add(ie.multiplyUnsafe(me)).subtract(Y).clearCofactor().equals(b.ZERO)}return w._setWindowSize(8),{CURVE:t,getPublicKey:$,sign:I,verify:O,ExtendedPoint:b,utils:{getExtendedPublicKey:k,randomPrivateKey:()=>i(r.BYTES),precompute(x=8,v=b.BASE){return v._setWindowSize(x),v.multiply(BigInt(3)),v}}}}function M9e(e){let t=BigInt(10),r=BigInt(20),n=BigInt(40),s=BigInt(80),o=NR,i=e*e%o*e%o,a=Dl(i,hZ,o)*i%o,c=Dl(a,D9e,o)*e%o,l=Dl(c,U9e,o)*c%o,u=Dl(l,t,o)*l%o,d=Dl(u,r,o)*u%o,p=Dl(d,n,o)*d%o,f=Dl(p,s,o)*p%o,h=Dl(f,s,o)*p%o,g=Dl(h,t,o)*l%o;return{pow_p_5_8:Dl(g,hZ,o)*e%o,b2:i}}function H9e(e){return e[0]&=248,e[31]&=127,e[31]|=64,e}function $9e(e,t){let r=NR,n=Qn(t*t*t,r),s=Qn(n*n*t,r),o=M9e(e*s).pow_p_5_8,i=Qn(e*n*o,r),a=Qn(t*i*i,r),c=i,l=Qn(i*fZ,r),u=a===e,d=a===Qn(-e,r),p=a===Qn(-e*fZ,r);return u&&(i=c),(d||p)&&(i=l),v9e(i,r)&&(i=Qn(-i,r)),{isValid:u||d,value:i}}function RR(e){return globalThis.Buffer!=null?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e}function HZ(e=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?RR(globalThis.Buffer.allocUnsafe(e)):new Uint8Array(e)}function $Z(e,t){t||(t=e.reduce((s,o)=>s+o.length,0));let r=HZ(t),n=0;for(let s of e)r.set(s,n),n+=s.length;return RR(r)}function J9e(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var s=0;s<e.length;s++){var o=e.charAt(s),i=o.charCodeAt(0);if(r[i]!==255)throw new TypeError(o+" is ambiguous");r[i]=s}var a=e.length,c=e.charAt(0),l=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function d(h){if(h instanceof Uint8Array||(ArrayBuffer.isView(h)?h=new Uint8Array(h.buffer,h.byteOffset,h.byteLength):Array.isArray(h)&&(h=Uint8Array.from(h))),!(h instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(h.length===0)return"";for(var g=0,y=0,E=0,A=h.length;E!==A&&h[E]===0;)E++,g++;for(var b=(A-E)*u+1>>>0,w=new Uint8Array(b);E!==A;){for(var C=h[E],_=0,B=b-1;(C!==0||_<y)&&B!==-1;B--,_++)C+=256*w[B]>>>0,w[B]=C%a>>>0,C=C/a>>>0;if(C!==0)throw new Error("Non-zero carry");y=_,E++}for(var U=b-y;U!==b&&w[U]===0;)U++;for(var k=c.repeat(g);U<b;++U)k+=e.charAt(w[U]);return k}function p(h){if(typeof h!="string")throw new TypeError("Expected String");if(h.length===0)return new Uint8Array;var g=0;if(h[g]!==" "){for(var y=0,E=0;h[g]===c;)y++,g++;for(var A=(h.length-g)*l+1>>>0,b=new Uint8Array(A);h[g];){var w=r[h.charCodeAt(g)];if(w===255)return;for(var C=0,_=A-1;(w!==0||C<E)&&_!==-1;_--,C++)w+=a*b[_]>>>0,b[_]=w%256>>>0,w=w/256>>>0;if(w!==0)throw new Error("Non-zero carry");E=C,g++}if(h[g]!==" "){for(var B=A-E;B!==A&&b[B]===0;)B++;for(var U=new Uint8Array(y+(A-B)),k=y;B!==A;)U[k++]=b[B++];return U}}}function f(h){var g=p(h);if(g)return g;throw new Error(`Non-${t} character`)}return{encode:d,decodeUnsafe:p,decode:f}}function M7e(e){return e.reduce((t,r)=>(t+=U7e[r],t),"")}function H7e(e){let t=[];for(let r of e){let n=L7e[r.codePointAt(0)];if(n===void 0)throw new Error(`Non-base256emoji character: ${r}`);t.push(n)}return new Uint8Array(t)}function VZ(e,t,r){t=t||[],r=r||0;for(var n=r;e>=q7e;)t[r++]=e&255|gZ,e/=128;for(;e&V7e;)t[r++]=e&255|gZ,e>>>=7;return t[r]=e|0,VZ.bytes=r-n+1,t}function vR(e,n){var r=0,n=n||0,s=0,o=n,i,a=e.length;do{if(o>=a)throw vR.bytes=0,new RangeError("Could not decode varint");i=e[o++],r+=s<28?(i&yZ)<<s:(i&yZ)*Math.pow(2,s),s+=7}while(i>=K7e);return vR.bytes=o-n,r}function YZ(e,t,r,n){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:r},decoder:{decode:n}}}function mA(e,t="utf8"){let r=JZ[t];if(!r)throw new Error(`Unsupported encoding "${t}"`);return(t==="utf8"||t==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(e.buffer,e.byteOffset,e.byteLength).toString("utf8"):r.encoder.encode(e).substring(1)}function j2(e,t="utf8"){let r=JZ[t];if(!r)throw new Error(`Unsupported encoding "${t}"`);return(t==="utf8"||t==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?RR(globalThis.Buffer.from(e,"utf-8")):r.decoder.decode(`${r.prefix}${e}`)}function EZ(e){return Bo(mA(j2(e,fA),LZ))}function pA(e){return mA(j2(fi(e),LZ),fA)}function y8(e){let t=j2(G9e,mZ),r=Z9e+mA($Z([t,e]),mZ);return[W9e,K9e,r].join(q9e)}function pTe(e){return mA(e,fA)}function fTe(e){return j2(e,fA)}function hTe(e){return j2([pA(e.header),pA(e.payload)].join(dA),MZ)}function mTe(e){return[pA(e.header),pA(e.payload),pTe(e.signature)].join(dA)}function Ul(e){let t=e.split(dA),r=EZ(t[0]),n=EZ(t[1]),s=fTe(t[2]),o=j2(t.slice(0,2).join(dA),MZ);return{header:r,payload:n,signature:s,data:o}}function z2(e=IZ(Y9e)){let t=UZ.getPublicKey(e);return{secretKey:$Z([e,t]),publicKey:t}}async function gA(e,t,r,n,s=(0,AZ.fromMiliseconds)(Date.now())){let o={alg:z9e,typ:V9e},i=y8(n.publicKey),a=s+r,c={iss:i,sub:e,aud:t,iat:s,exp:a},l=hTe({header:o,payload:c}),u=UZ.sign(l,n.secretKey.slice(0,32));return mTe({header:o,payload:c,signature:u})}var AZ,F2,nR,dR,pR,aA,fR,F_e,j_e,z_e,V_e,q_e,W_e,K_e,Z_e,G_e,Y_e,J_e,Q_e,X_e,t9e,r9e,n9e,s9e,o9e,i9e,Ct,a9e,c9e,Nf,Rf,hR,l9e,SR,TZ,u9e,d9e,qd,oR,m9e,g9e,ls,Sn,Wm,y9e,gR,lZ,uZ,v9e,E9e,pZ,cA,cR,DZ,Nc,hi,lA,R9e,O9e,NR,fZ,D9e,hZ,U9e,L9e,F9e,j9e,UZ,z9e,V9e,dA,fA,LZ,MZ,q9e,W9e,K9e,mZ,Z9e,G9e,Y9e,Q9e,X9e,FZ,e7e,t7e,yR,wR,bR,jZ,xR,hA,g8,r7e,n7e,_s,s7e,o7e,i7e,a7e,c7e,l7e,u7e,d7e,p7e,f7e,h7e,m7e,g7e,y7e,w7e,b7e,x7e,v7e,E7e,A7e,C7e,S7e,I7e,_7e,T7e,P7e,N7e,R7e,O7e,k7e,B7e,D7e,zZ,U7e,L7e,$7e,F7e,j7e,gZ,z7e,V7e,q7e,W7e,K7e,yZ,Z7e,G7e,Y7e,J7e,Q7e,X7e,eTe,tTe,rTe,nTe,sTe,qZ,wZ,bZ,ER,AR,WZ,CR,KZ,oTe,iTe,aTe,ZZ,cTe,GZ,lTe,uTe,dTe,xZ,vZ,uR,JZ,Km=m(()=>{AZ=Bt(Ld());qm();F2=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;nR=e=>new DataView(e.buffer,e.byteOffset,e.byteLength);dR=class{clone(){return this._cloneInto()}};pR=class extends dR{constructor(t,r,n,s){super(),this.blockLen=t,this.outputLen=r,this.padOffset=n,this.isLE=s,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=nR(this.buffer)}update(t){oZ(this);let{view:r,buffer:n,blockLen:s}=this;t=SZ(t);let o=t.length;for(let i=0;i<o;){let a=Math.min(s-this.pos,o-i);if(a===s){let c=nR(t);for(;s<=o-i;i+=s)this.process(c,i);continue}n.set(t.subarray(i,i+a),this.pos),this.pos+=a,i+=a,this.pos===s&&(this.process(r,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){oZ(this),U_e(t,this),this.finished=!0;let{buffer:r,view:n,blockLen:s,isLE:o}=this,{pos:i}=this;r[i++]=128,this.buffer.subarray(i).fill(0),this.padOffset>s-i&&(this.process(n,0),i=0);for(let d=i;d<s;d++)r[d]=0;H_e(n,s-8,BigInt(this.length*8),o),this.process(n,0);let a=nR(t),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let l=c/4,u=this.get();if(l>u.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<l;d++)a.setUint32(4*d,u[d],o)}digest(){let{buffer:t,outputLen:r}=this;this.digestInto(t);let n=t.slice(0,r);return this.destroy(),n}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());let{blockLen:r,buffer:n,length:s,finished:o,destroyed:i,pos:a}=this;return t.length=s,t.pos=a,t.finished=o,t.destroyed=i,s%r&&t.buffer.set(n),t}},aA=BigInt(2**32-1),fR=BigInt(32);F_e=(e,t)=>BigInt(e>>>0)<<fR|BigInt(t>>>0),j_e=(e,t,r)=>e>>>r,z_e=(e,t,r)=>e<<32-r|t>>>r,V_e=(e,t,r)=>e>>>r|t<<32-r,q_e=(e,t,r)=>e<<32-r|t>>>r,W_e=(e,t,r)=>e<<64-r|t>>>r-32,K_e=(e,t,r)=>e>>>r-32|t<<64-r,Z_e=(e,t)=>t,G_e=(e,t)=>e,Y_e=(e,t,r)=>e<<r|t>>>32-r,J_e=(e,t,r)=>t<<r|e>>>32-r,Q_e=(e,t,r)=>t<<r-32|e>>>64-r,X_e=(e,t,r)=>e<<r-32|t>>>64-r;t9e=(e,t,r)=>(e>>>0)+(t>>>0)+(r>>>0),r9e=(e,t,r,n)=>t+r+n+(e/2**32|0)|0,n9e=(e,t,r,n)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0),s9e=(e,t,r,n,s)=>t+r+n+s+(e/2**32|0)|0,o9e=(e,t,r,n,s)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0)+(s>>>0),i9e=(e,t,r,n,s,o)=>t+r+n+s+o+(e/2**32|0)|0,Ct={fromBig:_Z,split:$_e,toBig:F_e,shrSH:j_e,shrSL:z_e,rotrSH:V_e,rotrSL:q_e,rotrBH:W_e,rotrBL:K_e,rotr32H:Z_e,rotr32L:G_e,rotlSH:Y_e,rotlSL:J_e,rotlBH:Q_e,rotlBL:X_e,add:e9e,add3L:t9e,add3H:r9e,add4L:n9e,add4H:s9e,add5H:i9e,add5L:o9e},[a9e,c9e]=Ct.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e))),Nf=new Uint32Array(80),Rf=new Uint32Array(80),hR=class extends pR{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){let{Ah:t,Al:r,Bh:n,Bl:s,Ch:o,Cl:i,Dh:a,Dl:c,Eh:l,El:u,Fh:d,Fl:p,Gh:f,Gl:h,Hh:g,Hl:y}=this;return[t,r,n,s,o,i,a,c,l,u,d,p,f,h,g,y]}set(t,r,n,s,o,i,a,c,l,u,d,p,f,h,g,y){this.Ah=t|0,this.Al=r|0,this.Bh=n|0,this.Bl=s|0,this.Ch=o|0,this.Cl=i|0,this.Dh=a|0,this.Dl=c|0,this.Eh=l|0,this.El=u|0,this.Fh=d|0,this.Fl=p|0,this.Gh=f|0,this.Gl=h|0,this.Hh=g|0,this.Hl=y|0}process(t,r){for(let b=0;b<16;b++,r+=4)Nf[b]=t.getUint32(r),Rf[b]=t.getUint32(r+=4);for(let b=16;b<80;b++){let w=Nf[b-15]|0,C=Rf[b-15]|0,_=Ct.rotrSH(w,C,1)^Ct.rotrSH(w,C,8)^Ct.shrSH(w,C,7),B=Ct.rotrSL(w,C,1)^Ct.rotrSL(w,C,8)^Ct.shrSL(w,C,7),U=Nf[b-2]|0,k=Rf[b-2]|0,$=Ct.rotrSH(U,k,19)^Ct.rotrBH(U,k,61)^Ct.shrSH(U,k,6),P=Ct.rotrSL(U,k,19)^Ct.rotrBL(U,k,61)^Ct.shrSL(U,k,6),I=Ct.add4L(B,P,Rf[b-7],Rf[b-16]),S=Ct.add4H(I,_,$,Nf[b-7],Nf[b-16]);Nf[b]=S|0,Rf[b]=I|0}let{Ah:n,Al:s,Bh:o,Bl:i,Ch:a,Cl:c,Dh:l,Dl:u,Eh:d,El:p,Fh:f,Fl:h,Gh:g,Gl:y,Hh:E,Hl:A}=this;for(let b=0;b<80;b++){let w=Ct.rotrSH(d,p,14)^Ct.rotrSH(d,p,18)^Ct.rotrBH(d,p,41),C=Ct.rotrSL(d,p,14)^Ct.rotrSL(d,p,18)^Ct.rotrBL(d,p,41),_=d&f^~d&g,B=p&h^~p&y,U=Ct.add5L(A,C,B,c9e[b],Rf[b]),k=Ct.add5H(U,E,w,_,a9e[b],Nf[b]),$=U|0,P=Ct.rotrSH(n,s,28)^Ct.rotrBH(n,s,34)^Ct.rotrBH(n,s,39),I=Ct.rotrSL(n,s,28)^Ct.rotrBL(n,s,34)^Ct.rotrBL(n,s,39),S=n&o^n&a^o&a,O=s&i^s&c^i&c;E=g|0,A=y|0,g=f|0,y=h|0,f=d|0,h=p|0,{h:d,l:p}=Ct.add(l|0,u|0,k|0,$|0),l=a|0,u=c|0,a=o|0,c=i|0,o=n|0,i=s|0;let x=Ct.add3L($,I,O);n=Ct.add3H(x,k,P,S),s=x|0}({h:n,l:s}=Ct.add(this.Ah|0,this.Al|0,n|0,s|0)),{h:o,l:i}=Ct.add(this.Bh|0,this.Bl|0,o|0,i|0),{h:a,l:c}=Ct.add(this.Ch|0,this.Cl|0,a|0,c|0),{h:l,l:u}=Ct.add(this.Dh|0,this.Dl|0,l|0,u|0),{h:d,l:p}=Ct.add(this.Eh|0,this.El|0,d|0,p|0),{h:f,l:h}=Ct.add(this.Fh|0,this.Fl|0,f|0,h|0),{h:g,l:y}=Ct.add(this.Gh|0,this.Gl|0,g|0,y|0),{h:E,l:A}=Ct.add(this.Hh|0,this.Hl|0,E|0,A|0),this.set(n,s,o,i,a,c,l,u,d,p,f,h,g,y,E,A)}roundClean(){Nf.fill(0),Rf.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}},l9e=M_e(()=>new hR);SR=BigInt(0),TZ=BigInt(1),u9e=BigInt(2);d9e=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));qd={_0:48,_9:57,A:65,F:70,a:97,f:102};oR=e=>typeof e=="bigint"&&SR<=e;m9e=e=>(u9e<<BigInt(e-1))-TZ,g9e={bigint:e=>typeof e=="bigint",function:e=>typeof e=="function",boolean:e=>typeof e=="boolean",string:e=>typeof e=="string",stringOrUint8Array:e=>typeof e=="string"||IR(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>typeof e=="function"&&Number.isSafeInteger(e.outputLen)};ls=BigInt(0),Sn=BigInt(1),Wm=BigInt(2),y9e=BigInt(3),gR=BigInt(4),lZ=BigInt(5),uZ=BigInt(8);v9e=(e,t)=>(Qn(e,t)&Sn)===Sn,E9e=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];pZ=BigInt(0),cA=BigInt(1);cR=new WeakMap,DZ=new WeakMap;Nc=BigInt(0),hi=BigInt(1),lA=BigInt(2),R9e=BigInt(8),O9e={zip215:!0};BigInt(0),BigInt(1);NR=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),fZ=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);D9e=BigInt(1),hZ=BigInt(2);BigInt(3);U9e=BigInt(5),L9e=BigInt(8);F9e=kZ(NR,void 0,!0),j9e={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:F9e,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:L9e,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:l9e,randomBytes:IZ,adjustScalarBytes:H9e,uvRatio:$9e},UZ=B9e(j9e),z9e="EdDSA",V9e="JWT",dA=".",fA="base64url",LZ="utf8",MZ="utf8",q9e=":",W9e="did",K9e="key",mZ="base58btc",Z9e="z",G9e="K36",Y9e=32;Q9e=J9e,X9e=Q9e,FZ=e=>{if(e instanceof Uint8Array&&e.constructor.name==="Uint8Array")return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")},e7e=e=>new TextEncoder().encode(e),t7e=e=>new TextDecoder().decode(e),yR=class{constructor(t,r,n){this.name=t,this.prefix=r,this.baseEncode=n}encode(t){if(t instanceof Uint8Array)return`${this.prefix}${this.baseEncode(t)}`;throw Error("Unknown type, must be binary type")}},wR=class{constructor(t,r,n){if(this.name=t,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=n}decode(t){if(typeof t=="string"){if(t.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(t)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(t.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(t){return jZ(this,t)}},bR=class{constructor(t){this.decoders=t}or(t){return jZ(this,t)}decode(t){let r=t[0],n=this.decoders[r];if(n)return n.decode(t);throw RangeError(`Unable to decode multibase string ${JSON.stringify(t)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}},jZ=(e,t)=>new bR({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}}),xR=class{constructor(t,r,n,s){this.name=t,this.prefix=r,this.baseEncode=n,this.baseDecode=s,this.encoder=new yR(t,r,n),this.decoder=new wR(t,r,s)}encode(t){return this.encoder.encode(t)}decode(t){return this.decoder.decode(t)}},hA=({name:e,prefix:t,encode:r,decode:n})=>new xR(e,t,r,n),g8=({prefix:e,name:t,alphabet:r})=>{let{encode:n,decode:s}=X9e(r,t);return hA({prefix:e,name:t,encode:n,decode:o=>FZ(s(o))})},r7e=(e,t,r,n)=>{let s={};for(let u=0;u<t.length;++u)s[t[u]]=u;let o=e.length;for(;e[o-1]==="=";)--o;let i=new Uint8Array(o*r/8|0),a=0,c=0,l=0;for(let u=0;u<o;++u){let d=s[e[u]];if(d===void 0)throw new SyntaxError(`Non-${n} character`);c=c<<r|d,a+=r,a>=8&&(a-=8,i[l++]=255&c>>a)}if(a>=r||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return i},n7e=(e,t,r)=>{let n=t[t.length-1]==="=",s=(1<<r)-1,o="",i=0,a=0;for(let c=0;c<e.length;++c)for(a=a<<8|e[c],i+=8;i>r;)i-=r,o+=t[s&a>>i];if(i&&(o+=t[s&a<<r-i]),n)for(;o.length*r&7;)o+="=";return o},_s=({name:e,prefix:t,bitsPerChar:r,alphabet:n})=>hA({prefix:t,name:e,encode(s){return n7e(s,n,r)},decode(s){return r7e(s,n,r,e)}}),s7e=hA({prefix:"\0",name:"identity",encode:e=>t7e(e),decode:e=>e7e(e)}),o7e=Object.freeze({__proto__:null,identity:s7e}),i7e=_s({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),a7e=Object.freeze({__proto__:null,base2:i7e}),c7e=_s({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),l7e=Object.freeze({__proto__:null,base8:c7e}),u7e=g8({prefix:"9",name:"base10",alphabet:"0123456789"}),d7e=Object.freeze({__proto__:null,base10:u7e}),p7e=_s({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),f7e=_s({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),h7e=Object.freeze({__proto__:null,base16:p7e,base16upper:f7e}),m7e=_s({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),g7e=_s({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),y7e=_s({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),w7e=_s({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),b7e=_s({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),x7e=_s({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),v7e=_s({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),E7e=_s({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),A7e=_s({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),C7e=Object.freeze({__proto__:null,base32:m7e,base32upper:g7e,base32pad:y7e,base32padupper:w7e,base32hex:b7e,base32hexupper:x7e,base32hexpad:v7e,base32hexpadupper:E7e,base32z:A7e}),S7e=g8({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),I7e=g8({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),_7e=Object.freeze({__proto__:null,base36:S7e,base36upper:I7e}),T7e=g8({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),P7e=g8({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),N7e=Object.freeze({__proto__:null,base58btc:T7e,base58flickr:P7e}),R7e=_s({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),O7e=_s({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),k7e=_s({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),B7e=_s({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),D7e=Object.freeze({__proto__:null,base64:R7e,base64pad:O7e,base64url:k7e,base64urlpad:B7e}),zZ=Array.from("\u{1F680}\u{1FA90}\u2604\u{1F6F0}\u{1F30C}\u{1F311}\u{1F312}\u{1F313}\u{1F314}\u{1F315}\u{1F316}\u{1F317}\u{1F318}\u{1F30D}\u{1F30F}\u{1F30E}\u{1F409}\u2600\u{1F4BB}\u{1F5A5}\u{1F4BE}\u{1F4BF}\u{1F602}\u2764\u{1F60D}\u{1F923}\u{1F60A}\u{1F64F}\u{1F495}\u{1F62D}\u{1F618}\u{1F44D}\u{1F605}\u{1F44F}\u{1F601}\u{1F525}\u{1F970}\u{1F494}\u{1F496}\u{1F499}\u{1F622}\u{1F914}\u{1F606}\u{1F644}\u{1F4AA}\u{1F609}\u263A\u{1F44C}\u{1F917}\u{1F49C}\u{1F614}\u{1F60E}\u{1F607}\u{1F339}\u{1F926}\u{1F389}\u{1F49E}\u270C\u2728\u{1F937}\u{1F631}\u{1F60C}\u{1F338}\u{1F64C}\u{1F60B}\u{1F497}\u{1F49A}\u{1F60F}\u{1F49B}\u{1F642}\u{1F493}\u{1F929}\u{1F604}\u{1F600}\u{1F5A4}\u{1F603}\u{1F4AF}\u{1F648}\u{1F447}\u{1F3B6}\u{1F612}\u{1F92D}\u2763\u{1F61C}\u{1F48B}\u{1F440}\u{1F62A}\u{1F611}\u{1F4A5}\u{1F64B}\u{1F61E}\u{1F629}\u{1F621}\u{1F92A}\u{1F44A}\u{1F973}\u{1F625}\u{1F924}\u{1F449}\u{1F483}\u{1F633}\u270B\u{1F61A}\u{1F61D}\u{1F634}\u{1F31F}\u{1F62C}\u{1F643}\u{1F340}\u{1F337}\u{1F63B}\u{1F613}\u2B50\u2705\u{1F97A}\u{1F308}\u{1F608}\u{1F918}\u{1F4A6}\u2714\u{1F623}\u{1F3C3}\u{1F490}\u2639\u{1F38A}\u{1F498}\u{1F620}\u261D\u{1F615}\u{1F33A}\u{1F382}\u{1F33B}\u{1F610}\u{1F595}\u{1F49D}\u{1F64A}\u{1F639}\u{1F5E3}\u{1F4AB}\u{1F480}\u{1F451}\u{1F3B5}\u{1F91E}\u{1F61B}\u{1F534}\u{1F624}\u{1F33C}\u{1F62B}\u26BD\u{1F919}\u2615\u{1F3C6}\u{1F92B}\u{1F448}\u{1F62E}\u{1F646}\u{1F37B}\u{1F343}\u{1F436}\u{1F481}\u{1F632}\u{1F33F}\u{1F9E1}\u{1F381}\u26A1\u{1F31E}\u{1F388}\u274C\u270A\u{1F44B}\u{1F630}\u{1F928}\u{1F636}\u{1F91D}\u{1F6B6}\u{1F4B0}\u{1F353}\u{1F4A2}\u{1F91F}\u{1F641}\u{1F6A8}\u{1F4A8}\u{1F92C}\u2708\u{1F380}\u{1F37A}\u{1F913}\u{1F619}\u{1F49F}\u{1F331}\u{1F616}\u{1F476}\u{1F974}\u25B6\u27A1\u2753\u{1F48E}\u{1F4B8}\u2B07\u{1F628}\u{1F31A}\u{1F98B}\u{1F637}\u{1F57A}\u26A0\u{1F645}\u{1F61F}\u{1F635}\u{1F44E}\u{1F932}\u{1F920}\u{1F927}\u{1F4CC}\u{1F535}\u{1F485}\u{1F9D0}\u{1F43E}\u{1F352}\u{1F617}\u{1F911}\u{1F30A}\u{1F92F}\u{1F437}\u260E\u{1F4A7}\u{1F62F}\u{1F486}\u{1F446}\u{1F3A4}\u{1F647}\u{1F351}\u2744\u{1F334}\u{1F4A3}\u{1F438}\u{1F48C}\u{1F4CD}\u{1F940}\u{1F922}\u{1F445}\u{1F4A1}\u{1F4A9}\u{1F450}\u{1F4F8}\u{1F47B}\u{1F910}\u{1F92E}\u{1F3BC}\u{1F975}\u{1F6A9}\u{1F34E}\u{1F34A}\u{1F47C}\u{1F48D}\u{1F4E3}\u{1F942}"),U7e=zZ.reduce((e,t,r)=>(e[r]=t,e),[]),L7e=zZ.reduce((e,t,r)=>(e[t.codePointAt(0)]=r,e),[]);$7e=hA({prefix:"\u{1F680}",name:"base256emoji",encode:M7e,decode:H7e}),F7e=Object.freeze({__proto__:null,base256emoji:$7e}),j7e=VZ,gZ=128,z7e=127,V7e=~z7e,q7e=Math.pow(2,31);W7e=vR,K7e=128,yZ=127;Z7e=Math.pow(2,7),G7e=Math.pow(2,14),Y7e=Math.pow(2,21),J7e=Math.pow(2,28),Q7e=Math.pow(2,35),X7e=Math.pow(2,42),eTe=Math.pow(2,49),tTe=Math.pow(2,56),rTe=Math.pow(2,63),nTe=function(e){return e<Z7e?1:e<G7e?2:e<Y7e?3:e<J7e?4:e<Q7e?5:e<X7e?6:e<eTe?7:e<tTe?8:e<rTe?9:10},sTe={encode:j7e,decode:W7e,encodingLength:nTe},qZ=sTe,wZ=(e,t,r=0)=>(qZ.encode(e,t,r),t),bZ=e=>qZ.encodingLength(e),ER=(e,t)=>{let r=t.byteLength,n=bZ(e),s=n+bZ(r),o=new Uint8Array(s+r);return wZ(e,o,0),wZ(r,o,n),o.set(t,s),new AR(e,r,t,o)},AR=class{constructor(t,r,n,s){this.code=t,this.size=r,this.digest=n,this.bytes=s}},WZ=({name:e,code:t,encode:r})=>new CR(e,t,r),CR=class{constructor(t,r,n){this.name=t,this.code=r,this.encode=n}digest(t){if(t instanceof Uint8Array){let r=this.encode(t);return r instanceof Uint8Array?ER(this.code,r):r.then(n=>ER(this.code,n))}else throw Error("Unknown type, must be binary type")}},KZ=e=>async t=>new Uint8Array(await crypto.subtle.digest(e,t)),oTe=WZ({name:"sha2-256",code:18,encode:KZ("SHA-256")}),iTe=WZ({name:"sha2-512",code:19,encode:KZ("SHA-512")}),aTe=Object.freeze({__proto__:null,sha256:oTe,sha512:iTe}),ZZ=0,cTe="identity",GZ=FZ,lTe=e=>ER(ZZ,GZ(e)),uTe={code:ZZ,name:cTe,encode:GZ,digest:lTe},dTe=Object.freeze({__proto__:null,identity:uTe});new TextEncoder,new TextDecoder;xZ={...o7e,...a7e,...l7e,...d7e,...h7e,...C7e,..._7e,...N7e,...D7e,...F7e};({...aTe,...dTe});vZ=YZ("utf8","u",e=>"u"+new TextDecoder("utf8").decode(e),e=>new TextEncoder().encode(e.substring(1))),uR=YZ("ascii","a",e=>{let t="a";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t},e=>{e=e.substring(1);let t=HZ(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}),JZ={utf8:vZ,"utf-8":vZ,hex:xZ.base16,latin1:uR,ascii:uR,binary:uR,...xZ}});var XZ=m(()=>{});function Zm(e){return globalThis.Buffer!=null?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e}var w8=m(()=>{});function b8(e=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?Zm(globalThis.Buffer.allocUnsafe(e)):new Uint8Array(e)}var yA=m(()=>{w8()});function ia(e,t){t||(t=e.reduce((s,o)=>s+o.length,0));let r=b8(t),n=0;for(let s of e)r.set(s,n),n+=s.length;return Zm(r)}var eG=m(()=>{yA();w8()});var tG=m(()=>{});function gTe(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var s=0;s<e.length;s++){var o=e.charAt(s),i=o.charCodeAt(0);if(r[i]!==255)throw new TypeError(o+" is ambiguous");r[i]=s}var a=e.length,c=e.charAt(0),l=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function d(h){if(h instanceof Uint8Array||(ArrayBuffer.isView(h)?h=new Uint8Array(h.buffer,h.byteOffset,h.byteLength):Array.isArray(h)&&(h=Uint8Array.from(h))),!(h instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(h.length===0)return"";for(var g=0,y=0,E=0,A=h.length;E!==A&&h[E]===0;)E++,g++;for(var b=(A-E)*u+1>>>0,w=new Uint8Array(b);E!==A;){for(var C=h[E],_=0,B=b-1;(C!==0||_<y)&&B!==-1;B--,_++)C+=256*w[B]>>>0,w[B]=C%a>>>0,C=C/a>>>0;if(C!==0)throw new Error("Non-zero carry");y=_,E++}for(var U=b-y;U!==b&&w[U]===0;)U++;for(var k=c.repeat(g);U<b;++U)k+=e.charAt(w[U]);return k}function p(h){if(typeof h!="string")throw new TypeError("Expected String");if(h.length===0)return new Uint8Array;var g=0;if(h[g]!==" "){for(var y=0,E=0;h[g]===c;)y++,g++;for(var A=(h.length-g)*l+1>>>0,b=new Uint8Array(A);h[g];){var w=r[h.charCodeAt(g)];if(w===255)return;for(var C=0,_=A-1;(w!==0||C<E)&&_!==-1;_--,C++)w+=a*b[_]>>>0,b[_]=w%256>>>0,w=w/256>>>0;if(w!==0)throw new Error("Non-zero carry");E=C,g++}if(h[g]!==" "){for(var B=A-E;B!==A&&b[B]===0;)B++;for(var U=new Uint8Array(y+(A-B)),k=y;B!==A;)U[k++]=b[B++];return U}}}function f(h){var g=p(h);if(g)return g;throw new Error(`Non-${t} character`)}return{encode:d,decodeUnsafe:p,decode:f}}var yTe,wTe,rG,nG=m(()=>{yTe=gTe,wTe=yTe,rG=wTe});var aft,sG,Kd,oG,iG,Of=m(()=>{aft=new Uint8Array(0),sG=(e,t)=>{if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;for(let r=0;r<e.byteLength;r++)if(e[r]!==t[r])return!1;return!0},Kd=e=>{if(e instanceof Uint8Array&&e.constructor.name==="Uint8Array")return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")},oG=e=>new TextEncoder().encode(e),iG=e=>new TextDecoder().decode(e)});var OR,kR,BR,cG,DR,V2,kf,bTe,xTe,yn,Rc=m(()=>{nG();Of();OR=class{constructor(t,r,n){this.name=t,this.prefix=r,this.baseEncode=n}encode(t){if(t instanceof Uint8Array)return`${this.prefix}${this.baseEncode(t)}`;throw Error("Unknown type, must be binary type")}},kR=class{constructor(t,r,n){if(this.name=t,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=n}decode(t){if(typeof t=="string"){if(t.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(t)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(t.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(t){return cG(this,t)}},BR=class{constructor(t){this.decoders=t}or(t){return cG(this,t)}decode(t){let r=t[0],n=this.decoders[r];if(n)return n.decode(t);throw RangeError(`Unable to decode multibase string ${JSON.stringify(t)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}},cG=(e,t)=>new BR({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}}),DR=class{constructor(t,r,n,s){this.name=t,this.prefix=r,this.baseEncode=n,this.baseDecode=s,this.encoder=new OR(t,r,n),this.decoder=new kR(t,r,s)}encode(t){return this.encoder.encode(t)}decode(t){return this.decoder.decode(t)}},V2=({name:e,prefix:t,encode:r,decode:n})=>new DR(e,t,r,n),kf=({prefix:e,name:t,alphabet:r})=>{let{encode:n,decode:s}=rG(r,t);return V2({prefix:e,name:t,encode:n,decode:o=>Kd(s(o))})},bTe=(e,t,r,n)=>{let s={};for(let u=0;u<t.length;++u)s[t[u]]=u;let o=e.length;for(;e[o-1]==="=";)--o;let i=new Uint8Array(o*r/8|0),a=0,c=0,l=0;for(let u=0;u<o;++u){let d=s[e[u]];if(d===void 0)throw new SyntaxError(`Non-${n} character`);c=c<<r|d,a+=r,a>=8&&(a-=8,i[l++]=255&c>>a)}if(a>=r||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return i},xTe=(e,t,r)=>{let n=t[t.length-1]==="=",s=(1<<r)-1,o="",i=0,a=0;for(let c=0;c<e.length;++c)for(a=a<<8|e[c],i+=8;i>r;)i-=r,o+=t[s&a>>i];if(i&&(o+=t[s&a<<r-i]),n)for(;o.length*r&7;)o+="=";return o},yn=({name:e,prefix:t,bitsPerChar:r,alphabet:n})=>V2({prefix:t,name:e,encode(s){return xTe(s,n,r)},decode(s){return bTe(s,n,r,e)}})});var UR={};Se(UR,{identity:()=>vTe});var vTe,lG=m(()=>{Rc();Of();vTe=V2({prefix:"\0",name:"identity",encode:e=>iG(e),decode:e=>oG(e)})});var LR={};Se(LR,{base2:()=>ETe});var ETe,uG=m(()=>{Rc();ETe=yn({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1})});var MR={};Se(MR,{base8:()=>ATe});var ATe,dG=m(()=>{Rc();ATe=yn({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3})});var HR={};Se(HR,{base10:()=>CTe});var CTe,pG=m(()=>{Rc();CTe=kf({prefix:"9",name:"base10",alphabet:"0123456789"})});var $R={};Se($R,{base16:()=>STe,base16upper:()=>ITe});var STe,ITe,fG=m(()=>{Rc();STe=yn({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),ITe=yn({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4})});var FR={};Se(FR,{base32:()=>q2,base32hex:()=>NTe,base32hexpad:()=>OTe,base32hexpadupper:()=>kTe,base32hexupper:()=>RTe,base32pad:()=>TTe,base32padupper:()=>PTe,base32upper:()=>_Te,base32z:()=>BTe});var q2,_Te,TTe,PTe,NTe,RTe,OTe,kTe,BTe,jR=m(()=>{Rc();q2=yn({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),_Te=yn({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),TTe=yn({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),PTe=yn({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),NTe=yn({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),RTe=yn({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),OTe=yn({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),kTe=yn({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),BTe=yn({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5})});var zR={};Se(zR,{base36:()=>DTe,base36upper:()=>UTe});var DTe,UTe,hG=m(()=>{Rc();DTe=kf({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),UTe=kf({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"})});var VR={};Se(VR,{base58btc:()=>Ll,base58flickr:()=>LTe});var Ll,LTe,qR=m(()=>{Rc();Ll=kf({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),LTe=kf({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"})});var WR={};Se(WR,{base64:()=>MTe,base64pad:()=>HTe,base64url:()=>$Te,base64urlpad:()=>FTe});var MTe,HTe,$Te,FTe,mG=m(()=>{Rc();MTe=yn({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),HTe=yn({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),$Te=yn({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),FTe=yn({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6})});var KR={};Se(KR,{base256emoji:()=>WTe});function VTe(e){return e.reduce((t,r)=>(t+=jTe[r],t),"")}function qTe(e){let t=[];for(let r of e){let n=zTe[r.codePointAt(0)];if(n===void 0)throw new Error(`Non-base256emoji character: ${r}`);t.push(n)}return new Uint8Array(t)}var gG,jTe,zTe,WTe,yG=m(()=>{Rc();gG=Array.from("\u{1F680}\u{1FA90}\u2604\u{1F6F0}\u{1F30C}\u{1F311}\u{1F312}\u{1F313}\u{1F314}\u{1F315}\u{1F316}\u{1F317}\u{1F318}\u{1F30D}\u{1F30F}\u{1F30E}\u{1F409}\u2600\u{1F4BB}\u{1F5A5}\u{1F4BE}\u{1F4BF}\u{1F602}\u2764\u{1F60D}\u{1F923}\u{1F60A}\u{1F64F}\u{1F495}\u{1F62D}\u{1F618}\u{1F44D}\u{1F605}\u{1F44F}\u{1F601}\u{1F525}\u{1F970}\u{1F494}\u{1F496}\u{1F499}\u{1F622}\u{1F914}\u{1F606}\u{1F644}\u{1F4AA}\u{1F609}\u263A\u{1F44C}\u{1F917}\u{1F49C}\u{1F614}\u{1F60E}\u{1F607}\u{1F339}\u{1F926}\u{1F389}\u{1F49E}\u270C\u2728\u{1F937}\u{1F631}\u{1F60C}\u{1F338}\u{1F64C}\u{1F60B}\u{1F497}\u{1F49A}\u{1F60F}\u{1F49B}\u{1F642}\u{1F493}\u{1F929}\u{1F604}\u{1F600}\u{1F5A4}\u{1F603}\u{1F4AF}\u{1F648}\u{1F447}\u{1F3B6}\u{1F612}\u{1F92D}\u2763\u{1F61C}\u{1F48B}\u{1F440}\u{1F62A}\u{1F611}\u{1F4A5}\u{1F64B}\u{1F61E}\u{1F629}\u{1F621}\u{1F92A}\u{1F44A}\u{1F973}\u{1F625}\u{1F924}\u{1F449}\u{1F483}\u{1F633}\u270B\u{1F61A}\u{1F61D}\u{1F634}\u{1F31F}\u{1F62C}\u{1F643}\u{1F340}\u{1F337}\u{1F63B}\u{1F613}\u2B50\u2705\u{1F97A}\u{1F308}\u{1F608}\u{1F918}\u{1F4A6}\u2714\u{1F623}\u{1F3C3}\u{1F490}\u2639\u{1F38A}\u{1F498}\u{1F620}\u261D\u{1F615}\u{1F33A}\u{1F382}\u{1F33B}\u{1F610}\u{1F595}\u{1F49D}\u{1F64A}\u{1F639}\u{1F5E3}\u{1F4AB}\u{1F480}\u{1F451}\u{1F3B5}\u{1F91E}\u{1F61B}\u{1F534}\u{1F624}\u{1F33C}\u{1F62B}\u26BD\u{1F919}\u2615\u{1F3C6}\u{1F92B}\u{1F448}\u{1F62E}\u{1F646}\u{1F37B}\u{1F343}\u{1F436}\u{1F481}\u{1F632}\u{1F33F}\u{1F9E1}\u{1F381}\u26A1\u{1F31E}\u{1F388}\u274C\u270A\u{1F44B}\u{1F630}\u{1F928}\u{1F636}\u{1F91D}\u{1F6B6}\u{1F4B0}\u{1F353}\u{1F4A2}\u{1F91F}\u{1F641}\u{1F6A8}\u{1F4A8}\u{1F92C}\u2708\u{1F380}\u{1F37A}\u{1F913}\u{1F619}\u{1F49F}\u{1F331}\u{1F616}\u{1F476}\u{1F974}\u25B6\u27A1\u2753\u{1F48E}\u{1F4B8}\u2B07\u{1F628}\u{1F31A}\u{1F98B}\u{1F637}\u{1F57A}\u26A0\u{1F645}\u{1F61F}\u{1F635}\u{1F44E}\u{1F932}\u{1F920}\u{1F927}\u{1F4CC}\u{1F535}\u{1F485}\u{1F9D0}\u{1F43E}\u{1F352}\u{1F617}\u{1F911}\u{1F30A}\u{1F92F}\u{1F437}\u260E\u{1F4A7}\u{1F62F}\u{1F486}\u{1F446}\u{1F3A4}\u{1F647}\u{1F351}\u2744\u{1F334}\u{1F4A3}\u{1F438}\u{1F48C}\u{1F4CD}\u{1F940}\u{1F922}\u{1F445}\u{1F4A1}\u{1F4A9}\u{1F450}\u{1F4F8}\u{1F47B}\u{1F910}\u{1F92E}\u{1F3BC}\u{1F975}\u{1F6A9}\u{1F34E}\u{1F34A}\u{1F47C}\u{1F48D}\u{1F4E3}\u{1F942}"),jTe=gG.reduce((e,t,r)=>(e[r]=t,e),[]),zTe=gG.reduce((e,t,r)=>(e[t.codePointAt(0)]=r,e),[]);WTe=V2({prefix:"\u{1F680}",name:"base256emoji",encode:VTe,decode:qTe})});function xG(e,t,r){t=t||[],r=r||0;for(var n=r;e>=YTe;)t[r++]=e&255|wG,e/=128;for(;e&GTe;)t[r++]=e&255|wG,e>>>=7;return t[r]=e|0,xG.bytes=r-n+1,t}function ZR(e,n){var r=0,n=n||0,s=0,o=n,i,a=e.length;do{if(o>=a)throw ZR.bytes=0,new RangeError("Could not decode varint");i=e[o++],r+=s<28?(i&bG)<<s:(i&bG)*Math.pow(2,s),s+=7}while(i>=QTe);return ZR.bytes=o-n,r}var KTe,wG,ZTe,GTe,YTe,JTe,QTe,bG,XTe,ePe,tPe,rPe,nPe,sPe,oPe,iPe,aPe,cPe,lPe,uPe,x8,vG=m(()=>{KTe=xG,wG=128,ZTe=127,GTe=~ZTe,YTe=Math.pow(2,31);JTe=ZR,QTe=128,bG=127;XTe=Math.pow(2,7),ePe=Math.pow(2,14),tPe=Math.pow(2,21),rPe=Math.pow(2,28),nPe=Math.pow(2,35),sPe=Math.pow(2,42),oPe=Math.pow(2,49),iPe=Math.pow(2,56),aPe=Math.pow(2,63),cPe=function(e){return e<XTe?1:e<ePe?2:e<tPe?3:e<rPe?4:e<nPe?5:e<sPe?6:e<oPe?7:e<iPe?8:e<aPe?9:10},lPe={encode:KTe,decode:JTe,encodingLength:cPe},uPe=lPe,x8=uPe});var v8,W2,K2,bA=m(()=>{vG();v8=(e,t=0)=>[x8.decode(e,t),x8.decode.bytes],W2=(e,t,r=0)=>(x8.encode(e,t,r),t),K2=e=>x8.encodingLength(e)});var Gm,EG,AG,Z2,A8=m(()=>{Of();bA();Gm=(e,t)=>{let r=t.byteLength,n=K2(e),s=n+K2(r),o=new Uint8Array(s+r);return W2(e,o,0),W2(r,o,n),o.set(t,s),new Z2(e,r,t,o)},EG=e=>{let t=Kd(e),[r,n]=v8(t),[s,o]=v8(t.subarray(n)),i=t.subarray(n+o);if(i.byteLength!==s)throw new Error("Incorrect length");return new Z2(r,s,i,t)},AG=(e,t)=>e===t?!0:e.code===t.code&&e.size===t.size&&sG(e.bytes,t.bytes),Z2=class{constructor(t,r,n,s){this.code=t,this.size=r,this.digest=n,this.bytes=s}}});var YR,GR,JR=m(()=>{A8();YR=({name:e,code:t,encode:r})=>new GR(e,t,r),GR=class{constructor(t,r,n){this.name=t,this.code=r,this.encode=n}digest(t){if(t instanceof Uint8Array){let r=this.encode(t);return r instanceof Uint8Array?Gm(this.code,r):r.then(n=>Gm(this.code,n))}else throw Error("Unknown type, must be binary type")}}});var QR={};Se(QR,{sha256:()=>dPe,sha512:()=>pPe});var SG,dPe,pPe,IG=m(()=>{JR();SG=e=>async t=>new Uint8Array(await crypto.subtle.digest(e,t)),dPe=YR({name:"sha2-256",code:18,encode:SG("SHA-256")}),pPe=YR({name:"sha2-512",code:19,encode:SG("SHA-512")})});var XR={};Se(XR,{identity:()=>mPe});var _G,fPe,TG,hPe,mPe,PG=m(()=>{Of();A8();_G=0,fPe="identity",TG=Kd,hPe=e=>Gm(_G,TG(e)),mPe={code:_G,name:fPe,encode:TG,digest:hPe}});var NG=m(()=>{Of()});var Tft,Pft,RG=m(()=>{Tft=new TextEncoder,Pft=new TextDecoder});var EA,wPe,bPe,xPe,C8,vPe,OG,kG,xA,vA,EPe,APe,CPe,BG=m(()=>{bA();A8();qR();jR();Of();EA=class e{constructor(t,r,n,s){this.code=r,this.version=t,this.multihash=n,this.bytes=s,this.byteOffset=s.byteOffset,this.byteLength=s.byteLength,this.asCID=this,this._baseCache=new Map,Object.defineProperties(this,{byteOffset:vA,byteLength:vA,code:xA,version:xA,multihash:xA,bytes:xA,_baseCache:vA,asCID:vA})}toV0(){switch(this.version){case 0:return this;default:{let{code:t,multihash:r}=this;if(t!==C8)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(r.code!==vPe)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return e.createV0(r)}}}toV1(){switch(this.version){case 0:{let{code:t,digest:r}=this.multihash,n=Gm(t,r);return e.createV1(this.code,n)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}equals(t){return t&&this.code===t.code&&this.version===t.version&&AG(this.multihash,t.multihash)}toString(t){let{bytes:r,version:n,_baseCache:s}=this;return n===0?bPe(r,s,t||Ll.encoder):xPe(r,s,t||q2.encoder)}toJSON(){return{code:this.code,version:this.version,hash:this.multihash.bytes}}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return"CID("+this.toString()+")"}static isCID(t){return APe(/^0\.0/,CPe),!!(t&&(t[kG]||t.asCID===t))}get toBaseEncodedString(){throw new Error("Deprecated, use .toString()")}get codec(){throw new Error('"codec" property is deprecated, use integer "code" property instead')}get buffer(){throw new Error("Deprecated .buffer property, use .bytes to get Uint8Array instead")}get multibaseName(){throw new Error('"multibaseName" property is deprecated')}get prefix(){throw new Error('"prefix" property is deprecated')}static asCID(t){if(t instanceof e)return t;if(t!=null&&t.asCID===t){let{version:r,code:n,multihash:s,bytes:o}=t;return new e(r,n,s,o||OG(r,n,s.bytes))}else if(t!=null&&t[kG]===!0){let{version:r,multihash:n,code:s}=t,o=EG(n);return e.create(r,s,o)}else return null}static create(t,r,n){if(typeof r!="number")throw new Error("String codecs are no longer supported");switch(t){case 0:{if(r!==C8)throw new Error(`Version 0 CID must use dag-pb (code: ${C8}) block encoding`);return new e(t,r,n,n.bytes)}case 1:{let s=OG(t,r,n.bytes);return new e(t,r,n,s)}default:throw new Error("Invalid version")}}static createV0(t){return e.create(0,C8,t)}static createV1(t,r){return e.create(1,t,r)}static decode(t){let[r,n]=e.decodeFirst(t);if(n.length)throw new Error("Incorrect length");return r}static decodeFirst(t){let r=e.inspectBytes(t),n=r.size-r.multihashSize,s=Kd(t.subarray(n,n+r.multihashSize));if(s.byteLength!==r.multihashSize)throw new Error("Incorrect length");let o=s.subarray(r.multihashSize-r.digestSize),i=new Z2(r.multihashCode,r.digestSize,o,s);return[r.version===0?e.createV0(i):e.createV1(r.codec,i),t.subarray(r.size)]}static inspectBytes(t){let r=0,n=()=>{let[d,p]=v8(t.subarray(r));return r+=p,d},s=n(),o=C8;if(s===18?(s=0,r=0):s===1&&(o=n()),s!==0&&s!==1)throw new RangeError(`Invalid CID version ${s}`);let i=r,a=n(),c=n(),l=r+c,u=l-i;return{version:s,codec:o,multihashCode:a,digestSize:c,multihashSize:u,size:l}}static parse(t,r){let[n,s]=wPe(t,r),o=e.decode(s);return o._baseCache.set(n,t),o}},wPe=(e,t)=>{switch(e[0]){case"Q":{let r=t||Ll;return[Ll.prefix,r.decode(`${Ll.prefix}${e}`)]}case Ll.prefix:{let r=t||Ll;return[Ll.prefix,r.decode(e)]}case q2.prefix:{let r=t||q2;return[q2.prefix,r.decode(e)]}default:{if(t==null)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[e[0],t.decode(e)]}}},bPe=(e,t,r)=>{let{prefix:n}=r;if(n!==Ll.prefix)throw Error(`Cannot string encode V0 in ${r.name} encoding`);let s=t.get(n);if(s==null){let o=r.encode(e).slice(1);return t.set(n,o),o}else return s},xPe=(e,t,r)=>{let{prefix:n}=r,s=t.get(n);if(s==null){let o=r.encode(e);return t.set(n,o),o}else return s},C8=112,vPe=18,OG=(e,t,r)=>{let n=K2(e),s=n+K2(t),o=new Uint8Array(s+r.byteLength);return W2(e,o,0),W2(t,o,n),o.set(r,s),o},kG=Symbol.for("@ipld/js-cid/CID"),xA={writable:!1,configurable:!1,enumerable:!0},vA={writable:!1,enumerable:!1,configurable:!1},EPe="0.0.0-dev",APe=(e,t)=>{if(e.test(EPe))console.warn(t);else throw new Error(t)},CPe=`CID.isCID(v) is deprecated and will be removed in the next major release.
Following code pattern:

if (CID.isCID(value)) {
  doSomethingWithCID(value)
}

Is replaced with:

const cid = CID.asCID(value)
if (cid) {
  // Make sure to use cid instead of value
  doSomethingWithCID(cid)
}
`});var DG=m(()=>{BG();bA();Of();JR();A8()});var eO,Lft,UG=m(()=>{lG();uG();dG();pG();fG();jR();hG();qR();mG();yG();IG();PG();NG();RG();DG();eO={...UR,...LR,...MR,...HR,...$R,...FR,...zR,...VR,...WR,...KR},Lft={...QR,...XR}});function MG(e,t,r,n){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:r},decoder:{decode:n}}}var LG,tO,SPe,AA,rO=m(()=>{UG();yA();LG=MG("utf8","u",e=>"u"+new TextDecoder("utf8").decode(e),e=>new TextEncoder().encode(e.substring(1))),tO=MG("ascii","a",e=>{let t="a";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t},e=>{e=e.substring(1);let t=b8(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}),SPe={utf8:LG,"utf-8":LG,hex:eO.base16,latin1:tO,ascii:tO,binary:tO,...eO},AA=SPe});function Nr(e,t="utf8"){let r=AA[t];if(!r)throw new Error(`Unsupported encoding "${t}"`);return(t==="utf8"||t==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?Zm(globalThis.Buffer.from(e,"utf-8")):r.decoder.decode(`${r.prefix}${e}`)}var HG=m(()=>{rO();w8()});function Xt(e,t="utf8"){let r=AA[t];if(!r)throw new Error(`Unsupported encoding "${t}"`);return(t==="utf8"||t==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(e.buffer,e.byteOffset,e.byteLength).toString("utf8"):r.encoder.encode(e).substring(1)}var $G=m(()=>{rO()});var FG=m(()=>{yA();w8()});var S8=m(()=>{XZ();eG();tG();HG();$G();FG()});var CA,nO=m(()=>{CA={waku:{publish:"waku_publish",batchPublish:"waku_batchPublish",subscribe:"waku_subscribe",batchSubscribe:"waku_batchSubscribe",subscription:"waku_subscription",unsubscribe:"waku_unsubscribe",batchUnsubscribe:"waku_batchUnsubscribe",batchFetchMessages:"waku_batchFetchMessages"},irn:{publish:"irn_publish",batchPublish:"irn_batchPublish",subscribe:"irn_subscribe",batchSubscribe:"irn_batchSubscribe",subscription:"irn_subscription",unsubscribe:"irn_unsubscribe",batchUnsubscribe:"irn_batchUnsubscribe",batchFetchMessages:"irn_batchFetchMessages"},iridium:{publish:"iridium_publish",batchPublish:"iridium_batchPublish",subscribe:"iridium_subscribe",batchSubscribe:"iridium_batchSubscribe",subscription:"iridium_subscription",unsubscribe:"iridium_unsubscribe",batchUnsubscribe:"iridium_batchUnsubscribe",batchFetchMessages:"iridium_batchFetchMessages"}}});var sO=Ve((aht,jG)=>{var IPe="Input must be an string, Buffer or Uint8Array";function _Pe(e){let t;if(e instanceof Uint8Array)t=e;else if(typeof e=="string")t=new TextEncoder().encode(e);else throw new Error(IPe);return t}function TPe(e){return Array.prototype.map.call(e,function(t){return(t<16?"0":"")+t.toString(16)}).join("")}function SA(e){return(4294967296+e).toString(16).substring(1)}function PPe(e,t,r){let n=`
`+e+" = ";for(let s=0;s<t.length;s+=2){if(r===32)n+=SA(t[s]).toUpperCase(),n+=" ",n+=SA(t[s+1]).toUpperCase();else if(r===64)n+=SA(t[s+1]).toUpperCase(),n+=SA(t[s]).toUpperCase();else throw new Error("Invalid size "+r);s%6===4?n+=`
`+new Array(e.length+4).join(" "):s<t.length-2&&(n+=" ")}console.log(n)}function NPe(e,t,r){let n=new Date().getTime(),s=new Uint8Array(t);for(let i=0;i<t;i++)s[i]=i%256;let o=new Date().getTime();console.log("Generated random input in "+(o-n)+"ms"),n=o;for(let i=0;i<r;i++){let a=e(s),c=new Date().getTime(),l=c-n;n=c,console.log("Hashed in "+l+"ms: "+a.substring(0,20)+"..."),console.log(Math.round(t/(1<<20)/(l/1e3)*100)/100+" MB PER SECOND")}}jG.exports={normalizeInput:_Pe,toHex:TPe,debugPrint:PPe,testSpeed:NPe}});var JG=Ve((cht,YG)=>{var _A=sO();function IA(e,t,r){let n=e[t]+e[r],s=e[t+1]+e[r+1];n>=4294967296&&s++,e[t]=n,e[t+1]=s}function zG(e,t,r,n){let s=e[t]+r;r<0&&(s+=4294967296);let o=e[t+1]+n;s>=4294967296&&o++,e[t]=s,e[t+1]=o}function VG(e,t){return e[t]^e[t+1]<<8^e[t+2]<<16^e[t+3]<<24}function Bf(e,t,r,n,s,o){let i=I8[s],a=I8[s+1],c=I8[o],l=I8[o+1];IA(Et,e,t),zG(Et,e,i,a);let u=Et[n]^Et[e],d=Et[n+1]^Et[e+1];Et[n]=d,Et[n+1]=u,IA(Et,r,n),u=Et[t]^Et[r],d=Et[t+1]^Et[r+1],Et[t]=u>>>24^d<<8,Et[t+1]=d>>>24^u<<8,IA(Et,e,t),zG(Et,e,c,l),u=Et[n]^Et[e],d=Et[n+1]^Et[e+1],Et[n]=u>>>16^d<<16,Et[n+1]=d>>>16^u<<16,IA(Et,r,n),u=Et[t]^Et[r],d=Et[t+1]^Et[r+1],Et[t]=d>>>31^u<<1,Et[t+1]=u>>>31^d<<1}var qG=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),RPe=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3],Vs=new Uint8Array(RPe.map(function(e){return e*2})),Et=new Uint32Array(32),I8=new Uint32Array(32);function WG(e,t){let r=0;for(r=0;r<16;r++)Et[r]=e.h[r],Et[r+16]=qG[r];for(Et[24]=Et[24]^e.t,Et[25]=Et[25]^e.t/4294967296,t&&(Et[28]=~Et[28],Et[29]=~Et[29]),r=0;r<32;r++)I8[r]=VG(e.b,4*r);for(r=0;r<12;r++)Bf(0,8,16,24,Vs[r*16+0],Vs[r*16+1]),Bf(2,10,18,26,Vs[r*16+2],Vs[r*16+3]),Bf(4,12,20,28,Vs[r*16+4],Vs[r*16+5]),Bf(6,14,22,30,Vs[r*16+6],Vs[r*16+7]),Bf(0,10,20,30,Vs[r*16+8],Vs[r*16+9]),Bf(2,12,22,24,Vs[r*16+10],Vs[r*16+11]),Bf(4,14,16,26,Vs[r*16+12],Vs[r*16+13]),Bf(6,8,18,28,Vs[r*16+14],Vs[r*16+15]);for(r=0;r<16;r++)e.h[r]=e.h[r]^Et[r]^Et[r+16]}var Df=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);function KG(e,t,r,n){if(e===0||e>64)throw new Error("Illegal output length, expected 0 < length <= 64");if(t&&t.length>64)throw new Error("Illegal key, expected Uint8Array with 0 < length <= 64");if(r&&r.length!==16)throw new Error("Illegal salt, expected Uint8Array with length is 16");if(n&&n.length!==16)throw new Error("Illegal personal, expected Uint8Array with length is 16");let s={b:new Uint8Array(128),h:new Uint32Array(16),t:0,c:0,outlen:e};Df.fill(0),Df[0]=e,t&&(Df[1]=t.length),Df[2]=1,Df[3]=1,r&&Df.set(r,32),n&&Df.set(n,48);for(let o=0;o<16;o++)s.h[o]=qG[o]^VG(Df,o*4);return t&&(oO(s,t),s.c=128),s}function oO(e,t){for(let r=0;r<t.length;r++)e.c===128&&(e.t+=e.c,WG(e,!1),e.c=0),e.b[e.c++]=t[r]}function ZG(e){for(e.t+=e.c;e.c<128;)e.b[e.c++]=0;WG(e,!0);let t=new Uint8Array(e.outlen);for(let r=0;r<e.outlen;r++)t[r]=e.h[r>>2]>>8*(r&3);return t}function GG(e,t,r,n,s){r=r||64,e=_A.normalizeInput(e),n&&(n=_A.normalizeInput(n)),s&&(s=_A.normalizeInput(s));let o=KG(r,t,n,s);return oO(o,e),ZG(o)}function OPe(e,t,r,n,s){let o=GG(e,t,r,n,s);return _A.toHex(o)}YG.exports={blake2b:GG,blake2bHex:OPe,blake2bInit:KG,blake2bUpdate:oO,blake2bFinal:ZG}});var oY=Ve((lht,sY)=>{var QG=sO();function kPe(e,t){return e[t]^e[t+1]<<8^e[t+2]<<16^e[t+3]<<24}function Uf(e,t,r,n,s,o){tr[e]=tr[e]+tr[t]+s,tr[n]=TA(tr[n]^tr[e],16),tr[r]=tr[r]+tr[n],tr[t]=TA(tr[t]^tr[r],12),tr[e]=tr[e]+tr[t]+o,tr[n]=TA(tr[n]^tr[e],8),tr[r]=tr[r]+tr[n],tr[t]=TA(tr[t]^tr[r],7)}function TA(e,t){return e>>>t^e<<32-t}var XG=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),qs=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0]),tr=new Uint32Array(16),Ts=new Uint32Array(16);function eY(e,t){let r=0;for(r=0;r<8;r++)tr[r]=e.h[r],tr[r+8]=XG[r];for(tr[12]^=e.t,tr[13]^=e.t/4294967296,t&&(tr[14]=~tr[14]),r=0;r<16;r++)Ts[r]=kPe(e.b,4*r);for(r=0;r<10;r++)Uf(0,4,8,12,Ts[qs[r*16+0]],Ts[qs[r*16+1]]),Uf(1,5,9,13,Ts[qs[r*16+2]],Ts[qs[r*16+3]]),Uf(2,6,10,14,Ts[qs[r*16+4]],Ts[qs[r*16+5]]),Uf(3,7,11,15,Ts[qs[r*16+6]],Ts[qs[r*16+7]]),Uf(0,5,10,15,Ts[qs[r*16+8]],Ts[qs[r*16+9]]),Uf(1,6,11,12,Ts[qs[r*16+10]],Ts[qs[r*16+11]]),Uf(2,7,8,13,Ts[qs[r*16+12]],Ts[qs[r*16+13]]),Uf(3,4,9,14,Ts[qs[r*16+14]],Ts[qs[r*16+15]]);for(r=0;r<8;r++)e.h[r]^=tr[r]^tr[r+8]}function tY(e,t){if(!(e>0&&e<=32))throw new Error("Incorrect output length, should be in [1, 32]");let r=t?t.length:0;if(t&&!(r>0&&r<=32))throw new Error("Incorrect key length, should be in [1, 32]");let n={h:new Uint32Array(XG),b:new Uint8Array(64),c:0,t:0,outlen:e};return n.h[0]^=16842752^r<<8^e,r>0&&(iO(n,t),n.c=64),n}function iO(e,t){for(let r=0;r<t.length;r++)e.c===64&&(e.t+=e.c,eY(e,!1),e.c=0),e.b[e.c++]=t[r]}function rY(e){for(e.t+=e.c;e.c<64;)e.b[e.c++]=0;eY(e,!0);let t=new Uint8Array(e.outlen);for(let r=0;r<e.outlen;r++)t[r]=e.h[r>>2]>>8*(r&3)&255;return t}function nY(e,t,r){r=r||32,e=QG.normalizeInput(e);let n=tY(r,t);return iO(n,e),rY(n)}function BPe(e,t,r){let n=nY(e,t,r);return QG.toHex(n)}sY.exports={blake2s:nY,blake2sHex:BPe,blake2sInit:tY,blake2sUpdate:iO,blake2sFinal:rY}});var aO=Ve((uht,iY)=>{var _8=JG(),T8=oY();iY.exports={blake2b:_8.blake2b,blake2bHex:_8.blake2bHex,blake2bInit:_8.blake2bInit,blake2bUpdate:_8.blake2bUpdate,blake2bFinal:_8.blake2bFinal,blake2s:T8.blake2s,blake2sHex:T8.blake2sHex,blake2sInit:T8.blake2sInit,blake2sUpdate:T8.blake2sUpdate,blake2sFinal:T8.blake2sFinal}});function DPe(e){try{return JSON.stringify(e)}catch{return'"[Circular]"'}}function LPe(e,t,r){var n=r&&r.stringify||DPe,s=1;if(typeof e=="object"&&e!==null){var o=t.length+s;if(o===1)return e;var i=new Array(o);i[0]=n(e);for(var a=1;a<o;a++)i[a]=n(t[a]);return i.join(" ")}if(typeof e!="string")return e;var c=t.length;if(c===0)return e;for(var l="",u=1-s,d=-1,p=e&&e.length||0,f=0;f<p;){if(e.charCodeAt(f)===37&&f+1<p){switch(d=d>-1?d:0,e.charCodeAt(f+1)){case 100:case 102:if(u>=c||t[u]==null)break;d<f&&(l+=e.slice(d,f)),l+=Number(t[u]),d=f+2,f++;break;case 105:if(u>=c||t[u]==null)break;d<f&&(l+=e.slice(d,f)),l+=Math.floor(Number(t[u])),d=f+2,f++;break;case 79:case 111:case 106:if(u>=c||t[u]===void 0)break;d<f&&(l+=e.slice(d,f));var h=typeof t[u];if(h==="string"){l+="'"+t[u]+"'",d=f+2,f++;break}if(h==="function"){l+=t[u].name||"<anonymous>",d=f+2,f++;break}l+=n(t[u]),d=f+2,f++;break;case 115:if(u>=c)break;d<f&&(l+=e.slice(d,f)),l+=String(t[u]),d=f+2,f++;break;case 37:d<f&&(l+=e.slice(d,f)),l+="%",d=f+2,f++,u--;break}++u}++f}return d===-1?e:(d<p&&(l+=e.slice(d)),l)}function Mf(e,t){return e==="silent"?1/0:t.levels.values[e]}function cY(e,t){let r={logger:t,parent:e[lO]};t[lO]=r}function $Pe(e,t,r){let n={};t.forEach(s=>{n[s]=r[s]?r[s]:P8[s]||P8[HPe[s]||"log"]||G2}),e[hO]=n}function FPe(e,t){return Array.isArray(e)?e.filter(function(r){return r!=="!stdSerializers.err"}):e===!0?Object.keys(t):!1}function Zd(e){e=e||{},e.browser=e.browser||{};let t=e.browser.transmit;if(t&&typeof t.send!="function")throw Error("pino: transmit option must have a send function");let r=e.browser.write||P8;e.browser.write&&(e.browser.asObject=!0);let n=e.serializers||{},s=FPe(e.browser.serialize,n),o=e.browser.serialize;Array.isArray(e.browser.serialize)&&e.browser.serialize.indexOf("!stdSerializers.err")>-1&&(o=!1);let i=Object.keys(e.customLevels||{}),a=["error","fatal","warn","info","debug","trace"].concat(i);typeof r=="function"&&a.forEach(function(g){r[g]=r}),(e.enabled===!1||e.browser.disabled)&&(e.level="silent");let c=e.level||"info",l=Object.create(r);l.log||(l.log=G2),$Pe(l,a,r),cY({},l),Object.defineProperty(l,"levelVal",{get:d}),Object.defineProperty(l,"level",{get:p,set:f});let u={transmit:t,serialize:s,asObject:e.browser.asObject,asObjectBindingsOnly:e.browser.asObjectBindingsOnly,formatters:e.browser.formatters,levels:a,timestamp:GPe(e),messageKey:e.messageKey||"msg",onChild:e.onChild||G2};l.levels=jPe(e),l.level=c,l.isLevelEnabled=function(g){return this.levels.values[g]?this.levels.values[g]>=this.levels.values[this.level]:!1},l.setMaxListeners=l.getMaxListeners=l.emit=l.addListener=l.on=l.prependListener=l.once=l.prependOnceListener=l.removeListener=l.removeAllListeners=l.listeners=l.listenerCount=l.eventNames=l.write=l.flush=G2,l.serializers=n,l._serialize=s,l._stdErrSerialize=o,l.child=function(...g){return h.call(this,u,...g)},t&&(l._logEvent=uO());function d(){return Mf(this.level,this)}function p(){return this._level}function f(g){if(g!=="silent"&&!this.levels.values[g])throw Error("unknown level "+g);this._level=g,Ym(this,u,l,"error"),Ym(this,u,l,"fatal"),Ym(this,u,l,"warn"),Ym(this,u,l,"info"),Ym(this,u,l,"debug"),Ym(this,u,l,"trace"),i.forEach(y=>{Ym(this,u,l,y)})}function h(g,y,E){if(!y)throw new Error("missing bindings for child Pino");E=E||{},s&&y.serializers&&(E.serializers=y.serializers);let A=E.serializers;if(s&&A){var b=Object.assign({},n,A),w=e.browser.serialize===!0?Object.keys(b):s;delete y.serializers,mO([y],w,b,this._stdErrSerialize)}function C(B){this._childLevel=(B._childLevel|0)+1,this.bindings=y,b&&(this.serializers=b,this._serialize=w),t&&(this._logEvent=uO([].concat(B._logEvent.bindings,y)))}C.prototype=this;let _=new C(this);return cY(this,_),_.child=function(...B){return h.call(this,g,...B)},_.level=E.level||this.level,g.onChild(_),_}return l}function jPe(e){let t=e.customLevels||{},r=Object.assign({},Zd.levels.values,t),n=Object.assign({},Zd.levels.labels,zPe(t));return{values:r,labels:n}}function zPe(e){let t={};return Object.keys(e).forEach(function(r){t[e[r]]=r}),t}function VPe(e){let t=[];e.bindings&&t.push(e.bindings);let r=e[lO];for(;r.parent;)r=r.parent,r.logger.bindings&&t.push(r.logger.bindings);return t.reverse()}function Ym(e,t,r,n){if(Object.defineProperty(e,n,{value:Mf(e.level,r)>Mf(n,r)?G2:r[hO][n],writable:!0,enumerable:!0,configurable:!0}),e[n]===G2){if(!t.transmit)return;let o=t.transmit.level||e.level,i=Mf(o,r);if(Mf(n,r)<i)return}e[n]=WPe(e,t,r,n);let s=VPe(e);s.length!==0&&(e[n]=qPe(s,e[n]))}function qPe(e,t){return function(){return t.apply(this,[...e,...arguments])}}function WPe(e,t,r,n){return(function(s){return function(){let o=t.timestamp(),i=new Array(arguments.length),a=Object.getPrototypeOf&&Object.getPrototypeOf(this)===P8?P8:this;for(var c=0;c<i.length;c++)i[c]=arguments[c];var l=!1;if(t.serialize&&(mO(i,this._serialize,this.serializers,this._stdErrSerialize),l=!0),t.asObject||t.formatters?s.call(a,...KPe(this,n,i,o,t)):s.apply(a,i),t.transmit){let u=t.transmit.level||e._level,d=Mf(u,r),p=Mf(n,r);if(p<d)return;ZPe(this,{ts:o,methodLevel:n,methodValue:p,transmitLevel:u,transmitValue:r.levels.values[t.transmit.level||e._level],send:t.transmit.send,val:Mf(e._level,r)},i,l)}}})(e[hO][n])}function KPe(e,t,r,n,s){let{level:o,log:i=d=>d}=s.formatters||{},a=r.slice(),c=a[0],l={},u=(e._childLevel|0)+1;if(u<1&&(u=1),n&&(l.time=n),o){let d=o(t,e.levels.values[t]);Object.assign(l,d)}else l.level=e.levels.values[t];if(s.asObjectBindingsOnly){if(c!==null&&typeof c=="object")for(;u--&&typeof a[0]=="object";)Object.assign(l,a.shift());return[i(l),...a]}else{if(c!==null&&typeof c=="object"){for(;u--&&typeof a[0]=="object";)Object.assign(l,a.shift());c=a.length?aY(a.shift(),a):void 0}else typeof c=="string"&&(c=aY(a.shift(),a));return c!==void 0&&(l[s.messageKey]=c),[i(l)]}}function mO(e,t,r,n){for(let s in e)if(n&&e[s]instanceof Error)e[s]=Zd.stdSerializers.err(e[s]);else if(typeof e[s]=="object"&&!Array.isArray(e[s])&&t)for(let o in e[s])t.indexOf(o)>-1&&o in r&&(e[s][o]=r[o](e[s][o]))}function ZPe(e,t,r,n=!1){let s=t.send,o=t.ts,i=t.methodLevel,a=t.methodValue,c=t.val,l=e._logEvent.bindings;n||mO(r,e._serialize||Object.keys(e.serializers),e.serializers,e._stdErrSerialize===void 0?!0:e._stdErrSerialize),e._logEvent.ts=o,e._logEvent.messages=r.filter(function(u){return l.indexOf(u)===-1}),e._logEvent.level.label=i,e._logEvent.level.value=a,s(i,e._logEvent,c),e._logEvent=uO(l)}function uO(e){return{ts:0,messages:[],bindings:e||[],level:{label:"",value:0}}}function lY(e){let t={type:e.constructor.name,msg:e.message,stack:e.stack};for(let r in e)t[r]===void 0&&(t[r]=e[r]);return t}function GPe(e){return typeof e.timestamp=="function"?e.timestamp:e.timestamp===!1?fY:hY}function PA(){return{}}function cO(e){return e}function G2(){}function fY(){return!1}function hY(){return Date.now()}function YPe(){return Math.round(Date.now()/1e3)}function JPe(){return new Date(Date.now()).toISOString()}function QPe(){function e(t){return typeof t<"u"&&t}try{return typeof globalThis<"u"||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch{return e(self)||e(window)||e(this)||{}}}function uY(e){return typeof e=="string"?e:rNe(e)||""}function Y2(e){return $f(Hf({},e),{level:e?.level||XPe.level})}function gNe(e,t,r=kA){return e[r]=t,e}function ar(e,t=kA){return e[t]||""}function yNe(e,t,r=kA){let n=ar(e,r);return n.trim()?`${n}/${t}`:t}function _r(e,t,r=kA){let n=yNe(e,t,r),s=e.child({context:n});return gNe(s,n,r)}function wNe(e){var t,r;let n=new pO((t=e.opts)==null?void 0:t.level,e.maxSizeInBytes);return{logger:Ml.exports($f(Hf({},e.opts),{level:"trace",browser:$f(Hf({},(r=e.opts)==null?void 0:r.browser),{write:s=>n.write(s)})})),chunkLoggerController:n}}function bNe(e){var t,r;let n=new fO((t=e.opts)==null?void 0:t.level,e.maxSizeInBytes);return{logger:Ml.exports($f(Hf({},e.opts),{level:"trace",browser:$f(Hf({},(r=e.opts)==null?void 0:r.browser),{write:s=>n.write(s)})}),n),chunkLoggerController:n}}function Hl(e){var t;if(typeof e.loggerOverride<"u"&&typeof e.loggerOverride!="string")return{logger:e.loggerOverride,chunkLoggerController:null};let r=$f(Hf({},e.opts),{level:typeof e.loggerOverride=="string"?e.loggerOverride:(t=e.opts)==null?void 0:t.level});return typeof window<"u"?wNe($f(Hf({},e),{opts:r})):bNe($f(Hf({},e),{opts:r}))}var Ml,UPe,aY,P8,MPe,hO,lO,HPe,dht,XPe,kA,gO,eNe,tNe,Lf,dO,RA,rNe,nNe,sNe,NA,OA,oNe,iNe,aNe,pO,cNe,lNe,uNe,fO,dNe,pNe,fNe,dY,hNe,mNe,pY,Hf,$f,Ff=m(()=>{Ml={exports:{}};UPe=LPe;aY=UPe;Ml.exports=Zd;P8=QPe().console||{},MPe={mapHttpRequest:PA,mapHttpResponse:PA,wrapRequestSerializer:cO,wrapResponseSerializer:cO,wrapErrorSerializer:cO,req:PA,res:PA,err:lY,errWithCause:lY};hO=Symbol("pino.logFuncs"),lO=Symbol("pino.hierarchy"),HPe={error:"log",fatal:"error",warn:"error",info:"log",debug:"log",trace:"log"};Zd.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}},Zd.stdSerializers=MPe,Zd.stdTimeFunctions=Object.assign({},{nullTime:fY,epochTime:hY,unixTime:YPe,isoTime:JPe});Ml.exports.default=Zd;dht=Ml.exports.pino=Zd,XPe={level:"info"},kA="custom_context",gO=1e3*1024,eNe=Object.defineProperty,tNe=(e,t,r)=>t in e?eNe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Lf=(e,t,r)=>tNe(e,typeof t!="symbol"?t+"":t,r),dO=class{constructor(t){Lf(this,"nodeValue"),Lf(this,"sizeInBytes"),Lf(this,"next"),this.nodeValue=t,this.sizeInBytes=new TextEncoder().encode(this.nodeValue).length,this.next=null}get value(){return this.nodeValue}get size(){return this.sizeInBytes}},RA=class{constructor(t){Lf(this,"lengthInNodes"),Lf(this,"sizeInBytes"),Lf(this,"head"),Lf(this,"tail"),Lf(this,"maxSizeInBytes"),this.head=null,this.tail=null,this.lengthInNodes=0,this.maxSizeInBytes=t,this.sizeInBytes=0}append(t){let r=new dO(t);if(r.size>this.maxSizeInBytes)throw new Error(`[LinkedList] Value too big to insert into list: ${t} with size ${r.size}`);for(;this.size+r.size>this.maxSizeInBytes;)this.shift();this.head?(this.tail&&(this.tail.next=r),this.tail=r):(this.head=r,this.tail=r),this.lengthInNodes++,this.sizeInBytes+=r.size}shift(){if(!this.head)return;let t=this.head;this.head=this.head.next,this.head||(this.tail=null),this.lengthInNodes--,this.sizeInBytes-=t.size}toArray(){let t=[],r=this.head;for(;r!==null;)t.push(r.value),r=r.next;return t}get length(){return this.lengthInNodes}get size(){return this.sizeInBytes}toOrderedArray(){return Array.from(this)}[Symbol.iterator](){let t=this.head;return{next:()=>{if(!t)return{done:!0,value:null};let r=t.value;return t=t.next,{done:!1,value:r}}}}},rNe=e=>JSON.stringify(e,(t,r)=>typeof r=="bigint"?r.toString()+"n":r);nNe=Object.defineProperty,sNe=(e,t,r)=>t in e?nNe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,NA=(e,t,r)=>sNe(e,typeof t!="symbol"?t+"":t,r),OA=class{constructor(t,r=gO){NA(this,"logs"),NA(this,"level"),NA(this,"levelValue"),NA(this,"MAX_LOG_SIZE_IN_BYTES"),this.level=t??"error",this.levelValue=Ml.exports.levels.values[this.level],this.MAX_LOG_SIZE_IN_BYTES=r,this.logs=new RA(this.MAX_LOG_SIZE_IN_BYTES)}forwardToConsole(t,r){r===Ml.exports.levels.values.error?console.error(t):r===Ml.exports.levels.values.warn?console.warn(t):r===Ml.exports.levels.values.debug?console.debug(t):r===Ml.exports.levels.values.trace?console.trace(t):console.log(t)}appendToLogs(t){this.logs.append(uY({timestamp:new Date().toISOString(),log:t}));let r=typeof t=="string"?JSON.parse(t).level:t.level;r>=this.levelValue&&this.forwardToConsole(t,r)}getLogs(){return this.logs}clearLogs(){this.logs=new RA(this.MAX_LOG_SIZE_IN_BYTES)}getLogArray(){return Array.from(this.logs)}logsToBlob(t){let r=this.getLogArray();return r.push(uY({extraMetadata:t})),new Blob(r,{type:"application/json"})}},oNe=Object.defineProperty,iNe=(e,t,r)=>t in e?oNe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,aNe=(e,t,r)=>iNe(e,typeof t!="symbol"?t+"":t,r),pO=class{constructor(t,r=gO){aNe(this,"baseChunkLogger"),this.baseChunkLogger=new OA(t,r)}write(t){this.baseChunkLogger.appendToLogs(t)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(t){return this.baseChunkLogger.logsToBlob(t)}downloadLogsBlobInBrowser(t){let r=URL.createObjectURL(this.logsToBlob(t)),n=document.createElement("a");n.href=r,n.download=`walletconnect-logs-${new Date().toISOString()}.txt`,document.body.appendChild(n),n.click(),document.body.removeChild(n),URL.revokeObjectURL(r)}},cNe=Object.defineProperty,lNe=(e,t,r)=>t in e?cNe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,uNe=(e,t,r)=>lNe(e,typeof t!="symbol"?t+"":t,r),fO=class{constructor(t,r=gO){uNe(this,"baseChunkLogger"),this.baseChunkLogger=new OA(t,r)}write(t){this.baseChunkLogger.appendToLogs(t)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(t){return this.baseChunkLogger.logsToBlob(t)}},dNe=Object.defineProperty,pNe=Object.defineProperties,fNe=Object.getOwnPropertyDescriptors,dY=Object.getOwnPropertySymbols,hNe=Object.prototype.hasOwnProperty,mNe=Object.prototype.propertyIsEnumerable,pY=(e,t,r)=>t in e?dNe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Hf=(e,t)=>{for(var r in t||(t={}))hNe.call(t,r)&&pY(e,r,t[r]);if(dY)for(var r of dY(t))mNe.call(t,r)&&pY(e,r,t[r]);return e},$f=(e,t)=>pNe(e,fNe(t))});var us,LQ=m(()=>{us=class{}});var aC=m(()=>{LQ()});var HQ,cC,_k,MQ,Lo,uy,Tk=m(()=>{HQ=Bt(Oo()),cC=Bt(Ld());aC();_k=class extends us{constructor(t){super()}},MQ=cC.FIVE_SECONDS,Lo={pulse:"heartbeat_pulse"},uy=class e extends _k{constructor(t){super(t),this.events=new HQ.EventEmitter,this.interval=MQ,this.interval=t?.interval||MQ}static async init(t){let r=new e(t);return await r.init(),r}async init(){await this.initialize()}stop(){clearInterval(this.intervalRef)}on(t,r){this.events.on(t,r)}once(t,r){this.events.once(t,r)}off(t,r){this.events.off(t,r)}removeListener(t,r){this.events.removeListener(t,r)}async initialize(){this.intervalRef=setInterval(()=>this.pulse(),(0,cC.toMiliseconds)(this.interval))}pulse(){this.events.emit(Lo.pulse)}}});function Kke(e,t){if(e==="__proto__"||e==="constructor"&&t&&typeof t=="object"&&"prototype"in t){Zke(e);return}return t}function Zke(e){console.warn(`[destr] Dropping "${e}" key to prevent prototype pollution.`)}function G8(e,t={}){if(typeof e!="string")return e;if(e[0]==='"'&&e[e.length-1]==='"'&&e.indexOf("\\")===-1)return e.slice(1,-1);let r=e.trim();if(r.length<=9)switch(r.toLowerCase()){case"true":return!0;case"false":return!1;case"undefined":return;case"null":return null;case"nan":return Number.NaN;case"infinity":return Number.POSITIVE_INFINITY;case"-infinity":return Number.NEGATIVE_INFINITY}if(!Wke.test(e)){if(t.strict)throw new SyntaxError("[destr] Invalid JSON");return e}try{if(Vke.test(e)||qke.test(e)){if(t.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(e,Kke)}return JSON.parse(e)}catch(n){if(t.strict)throw n;return e}}var Vke,qke,Wke,$Q=m(()=>{Vke=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,qke=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,Wke=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/});function Gke(e){return!e||typeof e.then!="function"?Promise.resolve(e):e}function es(e,...t){try{return Gke(e(...t))}catch(r){return Promise.reject(r)}}function Yke(e){let t=typeof e;return e===null||t!=="object"&&t!=="function"}function Jke(e){let t=Object.getPrototypeOf(e);return!t||t.isPrototypeOf(Object)}function Y8(e){if(Yke(e))return String(e);if(Jke(e)||Array.isArray(e))return JSON.stringify(e);if(typeof e.toJSON=="function")return Y8(e.toJSON());throw new Error("[unstorage] Cannot stringify value!")}function FQ(e){return typeof e=="string"?e:Pk+Xke(e)}function jQ(e){return typeof e!="string"||!e.startsWith(Pk)?e:Qke(e.slice(Pk.length))}function Qke(e){return globalThis.Buffer?Buffer.from(e,"base64"):Uint8Array.from(globalThis.atob(e),t=>t.codePointAt(0))}function Xke(e){return globalThis.Buffer?Buffer.from(e).toString("base64"):globalThis.btoa(String.fromCodePoint(...e))}function Mo(e){return e&&e.split("?")[0]?.replace(/[/\\]/g,":").replace(/:+/g,":").replace(/^:|:$/g,"")||""}function zQ(...e){return Mo(e.join(":"))}function J8(e){return e=Mo(e),e?e+":":""}function VQ(e,t){if(t===void 0)return!0;let r=0,n=e.indexOf(":");for(;n>-1;)r++,n=e.indexOf(":",n+1);return r<=t}function qQ(e,t){return t?e.startsWith(t)&&e[e.length-1]!=="$":e[e.length-1]!=="$"}var Pk,WQ=m(()=>{Pk="base64:"});function GQ(e={}){let t={mounts:{"":e.driver||tBe()},mountpoints:[""],watching:!1,watchListeners:[],unwatch:{}},r=l=>{for(let u of t.mountpoints)if(l.startsWith(u))return{base:u,relativeKey:l.slice(u.length),driver:t.mounts[u]};return{base:"",relativeKey:l,driver:t.mounts[""]}},n=(l,u)=>t.mountpoints.filter(d=>d.startsWith(l)||u&&l.startsWith(d)).map(d=>({relativeBase:l.length>d.length?l.slice(d.length):void 0,mountpoint:d,driver:t.mounts[d]})),s=(l,u)=>{if(t.watching){u=Mo(u);for(let d of t.watchListeners)d(l,u)}},o=async()=>{if(!t.watching){t.watching=!0;for(let l in t.mounts)t.unwatch[l]=await KQ(t.mounts[l],s,l)}},i=async()=>{if(t.watching){for(let l in t.unwatch)await t.unwatch[l]();t.unwatch={},t.watching=!1}},a=(l,u,d)=>{let p=new Map,f=h=>{let g=p.get(h.base);return g||(g={driver:h.driver,base:h.base,items:[]},p.set(h.base,g)),g};for(let h of l){let g=typeof h=="string",y=Mo(g?h:h.key),E=g?void 0:h.value,A=g||!h.options?u:{...u,...h.options},b=r(y);f(b).items.push({key:y,value:E,relativeKey:b.relativeKey,options:A})}return Promise.all([...p.values()].map(h=>d(h))).then(h=>h.flat())},c={hasItem(l,u={}){l=Mo(l);let{relativeKey:d,driver:p}=r(l);return es(p.hasItem,d,u)},getItem(l,u={}){l=Mo(l);let{relativeKey:d,driver:p}=r(l);return es(p.getItem,d,u).then(f=>G8(f))},getItems(l,u={}){return a(l,u,d=>d.driver.getItems?es(d.driver.getItems,d.items.map(p=>({key:p.relativeKey,options:p.options})),u).then(p=>p.map(f=>({key:zQ(d.base,f.key),value:G8(f.value)}))):Promise.all(d.items.map(p=>es(d.driver.getItem,p.relativeKey,p.options).then(f=>({key:p.key,value:G8(f)})))))},getItemRaw(l,u={}){l=Mo(l);let{relativeKey:d,driver:p}=r(l);return p.getItemRaw?es(p.getItemRaw,d,u):es(p.getItem,d,u).then(f=>jQ(f))},async setItem(l,u,d={}){if(u===void 0)return c.removeItem(l);l=Mo(l);let{relativeKey:p,driver:f}=r(l);f.setItem&&(await es(f.setItem,p,Y8(u),d),f.watch||s("update",l))},async setItems(l,u){await a(l,u,async d=>{if(d.driver.setItems)return es(d.driver.setItems,d.items.map(p=>({key:p.relativeKey,value:Y8(p.value),options:p.options})),u);d.driver.setItem&&await Promise.all(d.items.map(p=>es(d.driver.setItem,p.relativeKey,Y8(p.value),p.options)))})},async setItemRaw(l,u,d={}){if(u===void 0)return c.removeItem(l,d);l=Mo(l);let{relativeKey:p,driver:f}=r(l);if(f.setItemRaw)await es(f.setItemRaw,p,u,d);else if(f.setItem)await es(f.setItem,p,FQ(u),d);else return;f.watch||s("update",l)},async removeItem(l,u={}){typeof u=="boolean"&&(u={removeMeta:u}),l=Mo(l);let{relativeKey:d,driver:p}=r(l);p.removeItem&&(await es(p.removeItem,d,u),(u.removeMeta||u.removeMata)&&await es(p.removeItem,d+"$",u),p.watch||s("remove",l))},async getMeta(l,u={}){typeof u=="boolean"&&(u={nativeOnly:u}),l=Mo(l);let{relativeKey:d,driver:p}=r(l),f=Object.create(null);if(p.getMeta&&Object.assign(f,await es(p.getMeta,d,u)),!u.nativeOnly){let h=await es(p.getItem,d+"$",u).then(g=>G8(g));h&&typeof h=="object"&&(typeof h.atime=="string"&&(h.atime=new Date(h.atime)),typeof h.mtime=="string"&&(h.mtime=new Date(h.mtime)),Object.assign(f,h))}return f},setMeta(l,u,d={}){return this.setItem(l+"$",u,d)},removeMeta(l,u={}){return this.removeItem(l+"$",u)},async getKeys(l,u={}){l=J8(l);let d=n(l,!0),p=[],f=[],h=!0;for(let y of d){y.driver.flags?.maxDepth||(h=!1);let E=await es(y.driver.getKeys,y.relativeBase,u);for(let A of E){let b=y.mountpoint+Mo(A);p.some(w=>b.startsWith(w))||f.push(b)}p=[y.mountpoint,...p.filter(A=>!A.startsWith(y.mountpoint))]}let g=u.maxDepth!==void 0&&!h;return f.filter(y=>(!g||VQ(y,u.maxDepth))&&qQ(y,l))},async clear(l,u={}){l=J8(l),await Promise.all(n(l,!1).map(async d=>{if(d.driver.clear)return es(d.driver.clear,d.relativeBase,u);if(d.driver.removeItem){let p=await d.driver.getKeys(d.relativeBase||"",u);return Promise.all(p.map(f=>d.driver.removeItem(f,u)))}}))},async dispose(){await Promise.all(Object.values(t.mounts).map(l=>ZQ(l)))},async watch(l){return await o(),t.watchListeners.push(l),async()=>{t.watchListeners=t.watchListeners.filter(u=>u!==l),t.watchListeners.length===0&&await i()}},async unwatch(){t.watchListeners=[],await i()},mount(l,u){if(l=J8(l),l&&t.mounts[l])throw new Error(`already mounted at ${l}`);return l&&(t.mountpoints.push(l),t.mountpoints.sort((d,p)=>p.length-d.length)),t.mounts[l]=u,t.watching&&Promise.resolve(KQ(u,s,l)).then(d=>{t.unwatch[l]=d}).catch(console.error),c},async unmount(l,u=!0){l=J8(l),!(!l||!t.mounts[l])&&(t.watching&&l in t.unwatch&&(t.unwatch[l]?.(),delete t.unwatch[l]),u&&await ZQ(t.mounts[l]),t.mountpoints=t.mountpoints.filter(d=>d!==l),delete t.mounts[l])},getMount(l=""){l=Mo(l)+":";let u=r(l);return{driver:u.driver,base:u.base}},getMounts(l="",u={}){return l=Mo(l),n(l,u.parents).map(p=>({driver:p.driver,base:p.mountpoint}))},keys:(l,u={})=>c.getKeys(l,u),get:(l,u={})=>c.getItem(l,u),set:(l,u,d={})=>c.setItem(l,u,d),has:(l,u={})=>c.hasItem(l,u),del:(l,u={})=>c.removeItem(l,u),remove:(l,u={})=>c.removeItem(l,u)};return c}function KQ(e,t,r){return e.watch?e.watch((n,s)=>t(n,r+s)):()=>{}}async function ZQ(e){typeof e.dispose=="function"&&await es(e.dispose)}var eBe,tBe,YQ=m(()=>{$Q();WQ();eBe="memory",tBe=()=>{let e=new Map;return{name:eBe,getInstance:()=>e,hasItem(t){return e.has(t)},getItem(t){return e.get(t)??null},getItemRaw(t){return e.get(t)??null},setItem(t,r){e.set(t,r)},setItemRaw(t,r){e.set(t,r)},removeItem(t){e.delete(t)},getKeys(){return[...e.keys()]},clear(){e.clear()},dispose(){e.clear()}}}});function i1(e){return new Promise((t,r)=>{e.oncomplete=e.onsuccess=()=>t(e.result),e.onabort=e.onerror=()=>r(e.error)})}function Rk(e,t){let r=indexedDB.open(e);r.onupgradeneeded=()=>r.result.createObjectStore(t);let n=i1(r);return(s,o)=>n.then(i=>o(i.transaction(t,s).objectStore(t)))}function Q8(){return Nk||(Nk=Rk("keyval-store","keyval")),Nk}function Ok(e,t=Q8()){return t("readonly",r=>i1(r.get(e)))}function JQ(e,t,r=Q8()){return r("readwrite",n=>(n.put(t,e),i1(n.transaction)))}function QQ(e,t=Q8()){return t("readwrite",r=>(r.delete(e),i1(r.transaction)))}function XQ(e=Q8()){return e("readwrite",t=>(t.clear(),i1(t.transaction)))}function rBe(e,t){return e.openCursor().onsuccess=function(){this.result&&(t(this.result),this.result.continue())},i1(e.transaction)}function eX(e=Q8()){return e("readonly",t=>{if(t.getAllKeys)return i1(t.getAllKeys());let r=[];return rBe(t,n=>r.push(n.key)).then(()=>r)})}var Nk,tX=m(()=>{});function aBe(e){var t;return[e[0],Bo((t=e[1])!=null?t:"")]}var nBe,sBe,oBe,iBe,Bk,kk,lC,Dk,cBe,rX,lBe,uBe,dy,Uk=m(()=>{YQ();tX();qm();nBe="idb-keyval",sBe=(e={})=>{let t=e.base&&e.base.length>0?`${e.base}:`:"",r=s=>t+s,n;return e.dbName&&e.storeName&&(n=Rk(e.dbName,e.storeName)),{name:nBe,options:e,async hasItem(s){return!(typeof await Ok(r(s),n)>"u")},async getItem(s){return await Ok(r(s),n)??null},setItem(s,o){return JQ(r(s),o,n)},removeItem(s){return QQ(r(s),n)},getKeys(){return eX(n)},clear(){return XQ(n)}}},oBe="WALLET_CONNECT_V2_INDEXED_DB",iBe="keyvaluestorage",Bk=class{constructor(){this.indexedDb=GQ({driver:sBe({dbName:oBe,storeName:iBe})})}async getKeys(){return this.indexedDb.getKeys()}async getEntries(){return(await this.indexedDb.getItems(await this.indexedDb.getKeys())).map(t=>[t.key,t.value])}async getItem(t){let r=await this.indexedDb.getItem(t);if(r!==null)return r}async setItem(t,r){await this.indexedDb.setItem(t,fi(r))}async removeItem(t){await this.indexedDb.removeItem(t)}},kk=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},lC={exports:{}};(function(){let e;function t(){}e=t,e.prototype.getItem=function(r){return this.hasOwnProperty(r)?String(this[r]):null},e.prototype.setItem=function(r,n){this[r]=String(n)},e.prototype.removeItem=function(r){delete this[r]},e.prototype.clear=function(){let r=this;Object.keys(r).forEach(function(n){r[n]=void 0,delete r[n]})},e.prototype.key=function(r){return r=r||0,Object.keys(this)[r]},e.prototype.__defineGetter__("length",function(){return Object.keys(this).length}),typeof kk<"u"&&kk.localStorage?lC.exports=kk.localStorage:typeof window<"u"&&window.localStorage?lC.exports=window.localStorage:lC.exports=new t})();Dk=class{constructor(){this.localStorage=lC.exports}async getKeys(){return Object.keys(this.localStorage)}async getEntries(){return Object.entries(this.localStorage).map(aBe)}async getItem(t){let r=this.localStorage.getItem(t);if(r!==null)return Bo(r)}async setItem(t,r){this.localStorage.setItem(t,fi(r))}async removeItem(t){this.localStorage.removeItem(t)}},cBe="wc_storage_version",rX=1,lBe=async(e,t,r)=>{let n=cBe,s=await t.getItem(n);if(s&&s>=rX){r(t);return}let o=await e.getKeys();if(!o.length){r(t);return}let i=[];for(;o.length;){let a=o.shift();if(!a)continue;let c=a.toLowerCase();if(c.includes("wc@")||c.includes("walletconnect")||c.includes("wc_")||c.includes("wallet_connect")){let l=await e.getItem(a);await t.setItem(a,l),i.push(a)}}await t.setItem(n,rX),r(t),uBe(e,i)},uBe=async(e,t)=>{t.length&&t.forEach(async r=>{await e.removeItem(r)})},dy=class{constructor(){this.initialized=!1,this.setInitialized=r=>{this.storage=r,this.initialized=!0};let t=new Dk;this.storage=t;try{let r=new Bk;lBe(t,r,this.setInitialized)}catch{this.initialized=!0}}async getKeys(){return await this.initialize(),this.storage.getKeys()}async getEntries(){return await this.initialize(),this.storage.getEntries()}async getItem(t){return await this.initialize(),this.storage.getItem(t)}async setItem(t,r){return await this.initialize(),this.storage.setItem(t,r)}async removeItem(t){return await this.initialize(),this.storage.removeItem(t)}async initialize(){this.initialized||await new Promise(t=>{let r=setInterval(()=>{this.initialized&&(clearInterval(r),t())},20)})}}});var iX,aX,cX,lX,AC,X8,Lk,CC,nh,ex,SC=m(()=>{iX="PARSE_ERROR",aX="INVALID_REQUEST",cX="METHOD_NOT_FOUND",lX="INVALID_PARAMS",AC="INTERNAL_ERROR",X8="SERVER_ERROR",Lk=[-32700,-32600,-32601,-32602,-32603],CC=[-32e3,-32099],nh={[iX]:{code:-32700,message:"Parse error"},[aX]:{code:-32600,message:"Invalid Request"},[cX]:{code:-32601,message:"Method not found"},[lX]:{code:-32602,message:"Invalid params"},[AC]:{code:-32603,message:"Internal error"},[X8]:{code:-32e3,message:"Server error"}},ex=X8});function wBe(e){return e<=CC[0]&&e>=CC[1]}function IC(e){return Lk.includes(e)}function uX(e){return typeof e=="number"}function _C(e){return Object.keys(nh).includes(e)?nh[e]:nh[ex]}function TC(e){let t=Object.values(nh).find(r=>r.code===e);return t||nh[ex]}function bBe(e){if(typeof e.error.code>"u")return{valid:!1,error:"Missing code for JSON-RPC error"};if(typeof e.error.message>"u")return{valid:!1,error:"Missing message for JSON-RPC error"};if(!uX(e.error.code))return{valid:!1,error:`Invalid error code type for JSON-RPC: ${e.error.code}`};if(IC(e.error.code)){let t=TC(e.error.code);if(t.message!==nh[ex].message&&e.error.message===t.message)return{valid:!1,error:`Invalid error code message for JSON-RPC: ${e.error.code}`}}return{valid:!0}}function tx(e,t,r){return e.message.includes("getaddrinfo ENOTFOUND")||e.message.includes("connect ECONNREFUSED")?new Error(`Unavailable ${r} RPC url at ${t}`):e}var Mk=m(()=>{SC()});var pX=Ve(sh=>{"use strict";Object.defineProperty(sh,"__esModule",{value:!0});sh.isBrowserCryptoAvailable=sh.getSubtleCrypto=sh.getBrowerCrypto=void 0;function Hk(){return globalThis?.crypto||globalThis?.msCrypto||{}}sh.getBrowerCrypto=Hk;function dX(){let e=Hk();return e.subtle||e.webkitSubtle}sh.getSubtleCrypto=dX;function xBe(){return!!Hk()&&!!dX()}sh.isBrowserCryptoAvailable=xBe});var mX=Ve(oh=>{"use strict";Object.defineProperty(oh,"__esModule",{value:!0});oh.isBrowser=oh.isNode=oh.isReactNative=void 0;function fX(){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"}oh.isReactNative=fX;function hX(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}oh.isNode=hX;function vBe(){return!fX()&&!hX()}oh.isBrowser=vBe});var $k=Ve(PC=>{"use strict";Object.defineProperty(PC,"__esModule",{value:!0});var gX=(A2(),G6(E2));gX.__exportStar(pX(),PC);gX.__exportStar(mX(),PC)});var Xs={};Se(Xs,{isNodeJs:()=>wX});var yX,wX,bX=m(()=>{yX=Bt($k());Ro(Xs,Bt($k()));wX=yX.isNode});function _n(e=3){let t=Date.now()*Math.pow(10,e),r=Math.floor(Math.random()*Math.pow(10,e));return t+r}function Tn(e=6){return BigInt(_n(e))}function fr(e,t,r){return{id:r||_n(),jsonrpc:"2.0",method:e,params:t}}function ds(e,t){return{id:e,jsonrpc:"2.0",result:t}}function la(e,t,r){return{id:e,jsonrpc:"2.0",error:xX(t,r)}}function xX(e,t){return typeof e>"u"?_C(AC):(typeof e=="string"&&(e=Object.assign(Object.assign({},_C(X8)),{message:e})),typeof t<"u"&&(e.data=t),IC(e.code)&&(e=TC(e.code)),e)}var vX=m(()=>{Mk();SC()});function EBe(e){return e.includes("*")?RC(e):!/\W/g.test(e)}function NC(e){return e==="*"}function RC(e){return NC(e)?!0:!(!e.includes("*")||e.split("*").length!==2||e.split("*").filter(t=>t.trim()==="").length!==1)}function ABe(e){return!NC(e)&&RC(e)&&!e.split("*")[0].trim()}function CBe(e){return!NC(e)&&RC(e)&&!e.split("*")[1].trim()}var EX=m(()=>{});var rx,Fk,OC,nx,AX=m(()=>{rx=class{},Fk=class extends rx{constructor(t){super()}},OC=class extends rx{constructor(){super()}},nx=class extends OC{constructor(t){super()}}});var CX=m(()=>{AX()});function _Be(e){let t=e.match(new RegExp(/^\w+:/,"gi"));if(!(!t||!t.length))return t[0]}function SX(e,t){let r=_Be(e);return typeof r>"u"?!1:new RegExp(t).test(r)}function kC(e){return SX(e,SBe)}function BC(e){return SX(e,IBe)}function jk(e){return new RegExp("wss?://localhost(:d{2,5})?").test(e)}var SBe,IBe,IX=m(()=>{SBe="^https?:",IBe="^wss?:"});function zk(e){return typeof e=="object"&&"id"in e&&"jsonrpc"in e&&e.jsonrpc==="2.0"}function Fc(e){return zk(e)&&"method"in e}function ua(e){return zk(e)&&(Qr(e)||Tr(e))}function Qr(e){return"result"in e}function Tr(e){return"error"in e}function TBe(e){return"error"in e&&e.valid===!1}var _X=m(()=>{});var da={};Se(da,{DEFAULT_ERROR:()=>ex,IBaseJsonRpcProvider:()=>OC,IEvents:()=>rx,IJsonRpcConnection:()=>Fk,IJsonRpcProvider:()=>nx,INTERNAL_ERROR:()=>AC,INVALID_PARAMS:()=>lX,INVALID_REQUEST:()=>aX,METHOD_NOT_FOUND:()=>cX,PARSE_ERROR:()=>iX,RESERVED_ERROR_CODES:()=>Lk,SERVER_ERROR:()=>X8,SERVER_ERROR_CODE_RANGE:()=>CC,STANDARD_ERROR_MAP:()=>nh,formatErrorMessage:()=>xX,formatJsonRpcError:()=>la,formatJsonRpcRequest:()=>fr,formatJsonRpcResult:()=>ds,getBigIntRpcId:()=>Tn,getError:()=>_C,getErrorByCode:()=>TC,isHttpUrl:()=>kC,isJsonRpcError:()=>Tr,isJsonRpcPayload:()=>zk,isJsonRpcRequest:()=>Fc,isJsonRpcResponse:()=>ua,isJsonRpcResult:()=>Qr,isJsonRpcValidationInvalid:()=>TBe,isLocalhostUrl:()=>jk,isNodeJs:()=>wX,isReservedErrorCode:()=>IC,isServerErrorCode:()=>wBe,isValidDefaultRoute:()=>NC,isValidErrorCode:()=>uX,isValidLeadingWildcardRoute:()=>ABe,isValidRoute:()=>EBe,isValidTrailingWildcardRoute:()=>CBe,isValidWildcardRoute:()=>RC,isWsUrl:()=>BC,parseConnectionError:()=>tx,payloadId:()=>_n,validateJsonRpcError:()=>bBe});var jc=m(()=>{SC();Mk();bX();Ro(da,Xs);vX();EX();CX();IX();_X()});var TX,pa,py=m(()=>{TX=Bt(Oo());jc();pa=class extends nx{constructor(t){super(t),this.events=new TX.EventEmitter,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(t),this.connection.connected&&this.registerEventListeners()}async connect(t=this.connection){await this.open(t)}async disconnect(){await this.close()}on(t,r){this.events.on(t,r)}once(t,r){this.events.once(t,r)}off(t,r){this.events.off(t,r)}removeListener(t,r){this.events.removeListener(t,r)}async request(t,r){return this.requestStrict(fr(t.method,t.params||[],t.id||Tn().toString()),r)}async requestStrict(t,r){return new Promise(async(n,s)=>{if(!this.connection.connected)try{await this.open()}catch(o){s(o)}this.events.on(`${t.id}`,o=>{Tr(o)?s(o.error):n(o.result)});try{await this.connection.send(t,r)}catch(o){s(o)}})}setConnection(t=this.connection){return t}onPayload(t){this.events.emit("payload",t),ua(t)?this.events.emit(`${t.id}`,t):this.events.emit("message",{type:t.method,data:t.params})}onClose(t){t&&t.code===3e3&&this.events.emit("error",new Error(`WebSocket connection closed abnormally with code: ${t.code} ${t.reason?`(${t.reason})`:""}`)),this.events.emit("disconnect")}async open(t=this.connection){this.connection===t&&this.connection.connected||(this.connection.connected&&this.close(),typeof t=="string"&&(await this.connection.open(t),t=this.connection),this.connection=this.setConnection(t),await this.connection.open(),this.registerEventListeners(),this.events.emit("connect"))}async close(){await this.connection.close()}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on("payload",t=>this.onPayload(t)),this.connection.on("close",t=>this.onClose(t)),this.connection.on("error",t=>this.events.emit("error",t)),this.connection.on("register_error",t=>this.onClose()),this.hasRegisteredEventListeners=!0)}}});var NX=Ve((d0t,PX)=>{"use strict";PX.exports=function(){throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object")}});var kX,PBe,NBe,RX,OX,RBe,fy,Vk=m(()=>{kX=Bt(Oo());qm();jc();PBe=()=>typeof WebSocket<"u"?WebSocket:typeof globalThis<"u"&&typeof globalThis.WebSocket<"u"?globalThis.WebSocket:typeof window<"u"&&typeof window.WebSocket<"u"?window.WebSocket:typeof self<"u"&&typeof self.WebSocket<"u"?self.WebSocket:NX(),NBe=()=>typeof WebSocket<"u"||typeof globalThis<"u"&&typeof globalThis.WebSocket<"u"||typeof window<"u"&&typeof window.WebSocket<"u"||typeof self<"u"&&typeof self.WebSocket<"u",RX=e=>e.split("?")[0],OX=10,RBe=PBe(),fy=class{constructor(t){if(this.url=t,this.events=new kX.EventEmitter,this.registering=!1,!BC(t))throw new Error(`Provided URL is not compatible with WebSocket connection: ${t}`);this.url=t}get connected(){return typeof this.socket<"u"}get connecting(){return this.registering}on(t,r){this.events.on(t,r)}once(t,r){this.events.once(t,r)}off(t,r){this.events.off(t,r)}removeListener(t,r){this.events.removeListener(t,r)}async open(t=this.url){await this.register(t)}async close(){return new Promise((t,r)=>{if(typeof this.socket>"u"){r(new Error("Connection already closed"));return}this.socket.onclose=n=>{this.onClose(n),t()},this.socket.close()})}async send(t){typeof this.socket>"u"&&(this.socket=await this.register());try{this.socket.send(fi(t))}catch(r){this.onError(t.id,r)}}register(t=this.url){if(!BC(t))throw new Error(`Provided URL is not compatible with WebSocket connection: ${t}`);if(this.registering){let r=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=r||this.events.listenerCount("open")>=r)&&this.events.setMaxListeners(r+1),new Promise((n,s)=>{this.events.once("register_error",o=>{this.resetMaxListeners(),s(o)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.socket>"u")return s(new Error("WebSocket connection is missing or invalid"));n(this.socket)})})}return this.url=t,this.registering=!0,new Promise((r,n)=>{let s=(0,da.isReactNative)()?void 0:{rejectUnauthorized:!jk(t)},o=new RBe(t,[],s);NBe()?o.onerror=i=>{let a=i;n(this.emitError(a.error))}:o.on("error",i=>{n(this.emitError(i))}),o.onopen=()=>{this.onOpen(o),r(o)}})}onOpen(t){t.onmessage=r=>this.onPayload(r),t.onclose=r=>this.onClose(r),this.socket=t,this.registering=!1,this.events.emit("open")}onClose(t){this.socket=void 0,this.registering=!1,this.events.emit("close",t)}onPayload(t){if(typeof t.data>"u")return;let r=typeof t.data=="string"?Bo(t.data):t.data;this.events.emit("payload",r)}onError(t,r){let n=this.parseError(r),s=n.message||n.toString(),o=la(t,s);this.events.emit("payload",o)}parseError(t,r=this.url){return tx(t,RX(r),"WS")}resetMaxListeners(){this.events.getMaxListeners()>OX&&this.events.setMaxListeners(OX)}emitError(t){let r=this.parseError(new Error(t?.message||`WebSocket connection failed for host: ${RX(this.url)}`));return this.events.emit("register_error",r),r}}});var Pee=Ve((lh,Tee)=>{var FC=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof globalThis<"u"&&globalThis,jC=(function(){function e(){this.fetch=!1,this.DOMException=FC.DOMException}return e.prototype=FC,new e})();(function(e){var t=(function(r){var n=typeof e<"u"&&e||typeof self<"u"&&self||typeof e<"u"&&e||{},s={searchParams:"URLSearchParams"in n,iterable:"Symbol"in n&&"iterator"in Symbol,blob:"FileReader"in n&&"Blob"in n&&(function(){try{return new Blob,!0}catch{return!1}})(),formData:"FormData"in n,arrayBuffer:"ArrayBuffer"in n};function o(P){return P&&DataView.prototype.isPrototypeOf(P)}if(s.arrayBuffer)var i=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],a=ArrayBuffer.isView||function(P){return P&&i.indexOf(Object.prototype.toString.call(P))>-1};function c(P){if(typeof P!="string"&&(P=String(P)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(P)||P==="")throw new TypeError('Invalid character in header field name: "'+P+'"');return P.toLowerCase()}function l(P){return typeof P!="string"&&(P=String(P)),P}function u(P){var I={next:function(){var S=P.shift();return{done:S===void 0,value:S}}};return s.iterable&&(I[Symbol.iterator]=function(){return I}),I}function d(P){this.map={},P instanceof d?P.forEach(function(I,S){this.append(S,I)},this):Array.isArray(P)?P.forEach(function(I){if(I.length!=2)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+I.length);this.append(I[0],I[1])},this):P&&Object.getOwnPropertyNames(P).forEach(function(I){this.append(I,P[I])},this)}d.prototype.append=function(P,I){P=c(P),I=l(I);var S=this.map[P];this.map[P]=S?S+", "+I:I},d.prototype.delete=function(P){delete this.map[c(P)]},d.prototype.get=function(P){return P=c(P),this.has(P)?this.map[P]:null},d.prototype.has=function(P){return this.map.hasOwnProperty(c(P))},d.prototype.set=function(P,I){this.map[c(P)]=l(I)},d.prototype.forEach=function(P,I){for(var S in this.map)this.map.hasOwnProperty(S)&&P.call(I,this.map[S],S,this)},d.prototype.keys=function(){var P=[];return this.forEach(function(I,S){P.push(S)}),u(P)},d.prototype.values=function(){var P=[];return this.forEach(function(I){P.push(I)}),u(P)},d.prototype.entries=function(){var P=[];return this.forEach(function(I,S){P.push([S,I])}),u(P)},s.iterable&&(d.prototype[Symbol.iterator]=d.prototype.entries);function p(P){if(!P._noBody){if(P.bodyUsed)return Promise.reject(new TypeError("Already read"));P.bodyUsed=!0}}function f(P){return new Promise(function(I,S){P.onload=function(){I(P.result)},P.onerror=function(){S(P.error)}})}function h(P){var I=new FileReader,S=f(I);return I.readAsArrayBuffer(P),S}function g(P){var I=new FileReader,S=f(I),O=/charset=([A-Za-z0-9_-]+)/.exec(P.type),x=O?O[1]:"utf-8";return I.readAsText(P,x),S}function y(P){for(var I=new Uint8Array(P),S=new Array(I.length),O=0;O<I.length;O++)S[O]=String.fromCharCode(I[O]);return S.join("")}function E(P){if(P.slice)return P.slice(0);var I=new Uint8Array(P.byteLength);return I.set(new Uint8Array(P)),I.buffer}function A(){return this.bodyUsed=!1,this._initBody=function(P){this.bodyUsed=this.bodyUsed,this._bodyInit=P,P?typeof P=="string"?this._bodyText=P:s.blob&&Blob.prototype.isPrototypeOf(P)?this._bodyBlob=P:s.formData&&FormData.prototype.isPrototypeOf(P)?this._bodyFormData=P:s.searchParams&&URLSearchParams.prototype.isPrototypeOf(P)?this._bodyText=P.toString():s.arrayBuffer&&s.blob&&o(P)?(this._bodyArrayBuffer=E(P.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):s.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(P)||a(P))?this._bodyArrayBuffer=E(P):this._bodyText=P=Object.prototype.toString.call(P):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||(typeof P=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):s.searchParams&&URLSearchParams.prototype.isPrototypeOf(P)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},s.blob&&(this.blob=function(){var P=p(this);if(P)return P;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var P=p(this);return P||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else{if(s.blob)return this.blob().then(h);throw new Error("could not read as ArrayBuffer")}},this.text=function(){var P=p(this);if(P)return P;if(this._bodyBlob)return g(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(y(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},s.formData&&(this.formData=function(){return this.text().then(_)}),this.json=function(){return this.text().then(JSON.parse)},this}var b=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function w(P){var I=P.toUpperCase();return b.indexOf(I)>-1?I:P}function C(P,I){if(!(this instanceof C))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');I=I||{};var S=I.body;if(P instanceof C){if(P.bodyUsed)throw new TypeError("Already read");this.url=P.url,this.credentials=P.credentials,I.headers||(this.headers=new d(P.headers)),this.method=P.method,this.mode=P.mode,this.signal=P.signal,!S&&P._bodyInit!=null&&(S=P._bodyInit,P.bodyUsed=!0)}else this.url=String(P);if(this.credentials=I.credentials||this.credentials||"same-origin",(I.headers||!this.headers)&&(this.headers=new d(I.headers)),this.method=w(I.method||this.method||"GET"),this.mode=I.mode||this.mode||null,this.signal=I.signal||this.signal||(function(){if("AbortController"in n){var v=new AbortController;return v.signal}})(),this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&S)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(S),(this.method==="GET"||this.method==="HEAD")&&(I.cache==="no-store"||I.cache==="no-cache")){var O=/([?&])_=[^&]*/;if(O.test(this.url))this.url=this.url.replace(O,"$1_="+new Date().getTime());else{var x=/\?/;this.url+=(x.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}C.prototype.clone=function(){return new C(this,{body:this._bodyInit})};function _(P){var I=new FormData;return P.trim().split("&").forEach(function(S){if(S){var O=S.split("="),x=O.shift().replace(/\+/g," "),v=O.join("=").replace(/\+/g," ");I.append(decodeURIComponent(x),decodeURIComponent(v))}}),I}function B(P){var I=new d,S=P.replace(/\r?\n[\t ]+/g," ");return S.split("\r").map(function(O){return O.indexOf(`
`)===0?O.substr(1,O.length):O}).forEach(function(O){var x=O.split(":"),v=x.shift().trim();if(v){var N=x.join(":").trim();try{I.append(v,N)}catch(D){console.warn("Response "+D.message)}}}),I}A.call(C.prototype);function U(P,I){if(!(this instanceof U))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(I||(I={}),this.type="default",this.status=I.status===void 0?200:I.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=I.statusText===void 0?"":""+I.statusText,this.headers=new d(I.headers),this.url=I.url||"",this._initBody(P)}A.call(U.prototype),U.prototype.clone=function(){return new U(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new d(this.headers),url:this.url})},U.error=function(){var P=new U(null,{status:200,statusText:""});return P.ok=!1,P.status=0,P.type="error",P};var k=[301,302,303,307,308];U.redirect=function(P,I){if(k.indexOf(I)===-1)throw new RangeError("Invalid status code");return new U(null,{status:I,headers:{location:P}})},r.DOMException=n.DOMException;try{new r.DOMException}catch{r.DOMException=function(I,S){this.message=I,this.name=S;var O=Error(I);this.stack=O.stack},r.DOMException.prototype=Object.create(Error.prototype),r.DOMException.prototype.constructor=r.DOMException}function $(P,I){return new Promise(function(S,O){var x=new C(P,I);if(x.signal&&x.signal.aborted)return O(new r.DOMException("Aborted","AbortError"));var v=new XMLHttpRequest;function N(){v.abort()}v.onload=function(){var L={statusText:v.statusText,headers:B(v.getAllResponseHeaders()||"")};x.url.indexOf("file://")===0&&(v.status<200||v.status>599)?L.status=200:L.status=v.status,L.url="responseURL"in v?v.responseURL:L.headers.get("X-Request-URL");var j="response"in v?v.response:v.responseText;setTimeout(function(){S(new U(j,L))},0)},v.onerror=function(){setTimeout(function(){O(new TypeError("Network request failed"))},0)},v.ontimeout=function(){setTimeout(function(){O(new TypeError("Network request timed out"))},0)},v.onabort=function(){setTimeout(function(){O(new r.DOMException("Aborted","AbortError"))},0)};function D(L){try{return L===""&&n.location.href?n.location.href:L}catch{return L}}if(v.open(x.method,D(x.url),!0),x.credentials==="include"?v.withCredentials=!0:x.credentials==="omit"&&(v.withCredentials=!1),"responseType"in v&&(s.blob?v.responseType="blob":s.arrayBuffer&&(v.responseType="arraybuffer")),I&&typeof I.headers=="object"&&!(I.headers instanceof d||n.Headers&&I.headers instanceof n.Headers)){var T=[];Object.getOwnPropertyNames(I.headers).forEach(function(L){T.push(c(L)),v.setRequestHeader(L,l(I.headers[L]))}),x.headers.forEach(function(L,j){T.indexOf(j)===-1&&v.setRequestHeader(j,L)})}else x.headers.forEach(function(L,j){v.setRequestHeader(j,L)});x.signal&&(x.signal.addEventListener("abort",N),v.onreadystatechange=function(){v.readyState===4&&x.signal.removeEventListener("abort",N)}),v.send(typeof x._bodyInit>"u"?null:x._bodyInit)})}return $.polyfill=!0,n.fetch||(n.fetch=$,n.Headers=d,n.Request=C,n.Response=U),r.Headers=d,r.Request=C,r.Response=U,r.fetch=$,Object.defineProperty(r,"__esModule",{value:!0}),r})({})})(jC);jC.fetch.ponyfill=!0;delete jC.fetch.polyfill;var by=FC.fetch?FC:jC;lh=by.fetch;lh.default=by.fetch;lh.fetch=by.fetch;lh.Headers=by.Headers;lh.Request=by.Request;lh.Response=by.Response;Tee.exports=lh});var Uee,HB,mMe,gMe,yMe,Nee,wMe,bMe,Ree,Oee,kee,xMe,vMe,Bee,Dee,Ga,zC=m(()=>{Uee=Bt(Oo()),HB=Bt(Pee());qm();jc();mMe=Object.defineProperty,gMe=Object.defineProperties,yMe=Object.getOwnPropertyDescriptors,Nee=Object.getOwnPropertySymbols,wMe=Object.prototype.hasOwnProperty,bMe=Object.prototype.propertyIsEnumerable,Ree=(e,t,r)=>t in e?mMe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Oee=(e,t)=>{for(var r in t||(t={}))wMe.call(t,r)&&Ree(e,r,t[r]);if(Nee)for(var r of Nee(t))bMe.call(t,r)&&Ree(e,r,t[r]);return e},kee=(e,t)=>gMe(e,yMe(t)),xMe={Accept:"application/json","Content-Type":"application/json"},vMe="POST",Bee={headers:xMe,method:vMe},Dee=10,Ga=class{constructor(t,r=!1){if(this.url=t,this.disableProviderPing=r,this.events=new Uee.EventEmitter,this.isAvailable=!1,this.registering=!1,!kC(t))throw new Error(`Provided URL is not compatible with HTTP connection: ${t}`);this.url=t,this.disableProviderPing=r}get connected(){return this.isAvailable}get connecting(){return this.registering}on(t,r){this.events.on(t,r)}once(t,r){this.events.once(t,r)}off(t,r){this.events.off(t,r)}removeListener(t,r){this.events.removeListener(t,r)}async open(t=this.url){await this.register(t)}async close(){if(!this.isAvailable)throw new Error("Connection already closed");this.onClose()}async send(t){this.isAvailable||await this.register();try{let r=fi(t),n=await(await(0,HB.default)(this.url,kee(Oee({},Bee),{body:r}))).json();this.onPayload({data:n})}catch(r){this.onError(t.id,r)}}async register(t=this.url){if(!kC(t))throw new Error(`Provided URL is not compatible with HTTP connection: ${t}`);if(this.registering){let r=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=r||this.events.listenerCount("open")>=r)&&this.events.setMaxListeners(r+1),new Promise((n,s)=>{this.events.once("register_error",o=>{this.resetMaxListeners(),s(o)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.isAvailable>"u")return s(new Error("HTTP connection is missing or invalid"));n()})})}this.url=t,this.registering=!0;try{if(!this.disableProviderPing){let r=fi({id:1,jsonrpc:"2.0",method:"test",params:[]});await(0,HB.default)(t,kee(Oee({},Bee),{body:r}))}this.onOpen()}catch(r){let n=this.parseError(r);throw this.events.emit("register_error",n),this.onClose(),n}}onOpen(){this.isAvailable=!0,this.registering=!1,this.events.emit("open")}onClose(){this.isAvailable=!1,this.registering=!1,this.events.emit("close")}onPayload(t){if(typeof t.data>"u")return;let r=typeof t.data=="string"?Bo(t.data):t.data;this.events.emit("payload",r)}onError(t,r){let n=this.parseError(r),s=n.message||n.toString(),o=la(t,s);this.events.emit("payload",o)}parseError(t,r=this.url){return tx(t,r,"HTTP")}resetMaxListeners(){this.events.getMaxListeners()>Dee&&this.events.setMaxListeners(Dee)}}});var dx,mte=m(()=>{dx={isLowerCaseMatch(e,t){return e?.toLowerCase()===t?.toLowerCase()}}});var V,px=m(()=>{V={WC_NAME_SUFFIX:".reown.id",WC_NAME_SUFFIX_LEGACY:".wcn.id",BLOCKCHAIN_API_RPC_URL:"https://rpc.walletconnect.org",PULSE_API_URL:"https://pulse.walletconnect.org",W3M_API_URL:"https://api.web3modal.org",CONNECTOR_ID:{WALLET_CONNECT:"walletConnect",INJECTED:"injected",WALLET_STANDARD:"announced",COINBASE:"coinbaseWallet",COINBASE_SDK:"coinbaseWalletSDK",BASE_ACCOUNT:"baseAccount",SAFE:"safe",LEDGER:"ledger",OKX:"okx",EIP6963:"eip6963",AUTH:"AUTH"},CONNECTOR_NAMES:{AUTH:"Auth"},AUTH_CONNECTOR_SUPPORTED_CHAINS:["eip155","solana"],LIMITS:{PENDING_TRANSACTIONS:99},CHAIN:{EVM:"eip155",SOLANA:"solana",POLKADOT:"polkadot",BITCOIN:"bip122",TON:"ton"},CHAIN_NAME_MAP:{eip155:"EVM Networks",solana:"Solana",polkadot:"Polkadot",bip122:"Bitcoin",cosmos:"Cosmos",sui:"Sui",stacks:"Stacks",ton:"TON"},ADAPTER_TYPES:{BITCOIN:"bitcoin",SOLANA:"solana",WAGMI:"wagmi",ETHERS:"ethers",ETHERS5:"ethers5",TON:"ton"},USDT_CONTRACT_ADDRESSES:["0xdac17f958d2ee523a2206206994597c13d831ec7","0xc2132d05d31c914a87c6611c10748aeb04b58e8f","0x9702230a8ea53601f5cd2dc00fdbc13d4df4a8c7","0x919C1c267BC06a7039e03fcc2eF738525769109c","0x48065fbBE25f71C9282ddf5e1cD6D6A887483D5e","0x55d398326f99059fF775485246999027B3197955","0xfd086bc7cd5c481dcc9c85ebe478a1c0b69fcbb9"],SOLANA_SPL_TOKEN_ADDRESSES:{SOL:"So11111111111111111111111111111111111111112"},NATIVE_IMAGE_IDS_BY_NAMESPACE:{eip155:"ba0ba0cd-17c6-4806-ad93-f9d174f17900",solana:"3e8119e5-2a6f-4818-c50c-1937011d5900",bip122:"0b4838db-0161-4ffe-022d-532bf03dba00"},TOKEN_SYMBOLS_BY_ADDRESS:{"0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48":"USDC","0x833589fcd6edb6e08f4c7c32d4f71b54bda02913":"USDC","0x0b2c639c533813f4aa9d7837caf62653d097ff85":"USDC","0xaf88d065e77c8cc2239327c5edb3a432268e5831":"USDC","0x3c499c542cef5e3811e1192ce70d8cc03d5c3359":"USDC","0x2791bca1f2de4661ed88a30c99a7a9449aa84174":"USDC",EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v:"USDC","0xdac17f958d2ee523a2206206994597c13d831ec7":"USDT","0x94b008aa00579c1307b0ef2c499ad98a8ce58e58":"USDT","0xfd086bc7cd5c481dcc9c85ebe478a1c0b69fcbb9":"USDT","0xc2132d05d31c914a87c6611c10748aeb04b58e8f":"USDT",Es9vMFrzaCERmJfrF4H2FYD4KCoNkY11McCe8BenwNYB:"USDT"},HTTP_STATUS_CODES:{SERVER_ERROR:500,TOO_MANY_REQUESTS:429,SERVICE_UNAVAILABLE:503,FORBIDDEN:403},UNSUPPORTED_NETWORK_NAME:"Unknown Network",SECURE_SITE_SDK_ORIGIN:(typeof process<"u"&&typeof process.env<"u"?process.env.NEXT_PUBLIC_SECURE_SITE_ORIGIN:void 0)||"https://secure.walletconnect.org",REMOTE_FEATURES_ALERTS:{MULTI_WALLET_NOT_ENABLED:{DEFAULT:{displayMessage:"Multi-Wallet Not Enabled",debugMessage:"Multi-wallet support is not enabled. Please enable it in your AppKit configuration at cloud.reown.com."},CONNECTIONS_HOOK:{displayMessage:"Multi-Wallet Not Enabled",debugMessage:"Multi-wallet support is not enabled. Please enable it in your AppKit configuration at cloud.reown.com to use the useAppKitConnections hook."},CONNECTION_HOOK:{displayMessage:"Multi-Wallet Not Enabled",debugMessage:"Multi-wallet support is not enabled. Please enable it in your AppKit configuration at cloud.reown.com to use the useAppKitConnection hook."}},HEADLESS_NOT_ENABLED:{DEFAULT:{displayMessage:"",debugMessage:"Headless support is not enabled. Please enable it with the features.headless option in the AppKit configuration and make sure your current plan supports it."}}},IS_DEVELOPMENT:typeof process<"u"&&!1,DEFAULT_ALLOWED_ANCESTORS:["http://localhost:*","https://localhost:*","http://127.0.0.1:*","https://127.0.0.1:*","https://*.pages.dev","https://*.vercel.app","https://*.ngrok-free.app","https://secure-mobile.walletconnect.com","https://secure-mobile.walletconnect.org"],METMASK_CONNECTOR_NAME:"MetaMask",TRUST_CONNECTOR_NAME:"Trust Wallet",SOLFLARE_CONNECTOR_NAME:"Solflare",PHANTOM_CONNECTOR_NAME:"Phantom",COIN98_CONNECTOR_NAME:"Coin98",MAGIC_EDEN_CONNECTOR_NAME:"Magic Eden",BACKPACK_CONNECTOR_NAME:"Backpack",BITGET_CONNECTOR_NAME:"Bitget Wallet",FRONTIER_CONNECTOR_NAME:"Frontier",XVERSE_CONNECTOR_NAME:"Xverse Wallet",LEATHER_CONNECTOR_NAME:"Leather",OKX_CONNECTOR_NAME:"OKX Wallet",BINANCE_CONNECTOR_NAME:"Binance Wallet",EIP155:"eip155",ADD_CHAIN_METHOD:"wallet_addEthereumChain",EIP6963_ANNOUNCE_EVENT:"eip6963:announceProvider",EIP6963_REQUEST_EVENT:"eip6963:requestProvider",CONNECTOR_RDNS_MAP:{coinbaseWallet:"com.coinbase.wallet",coinbaseWalletSDK:"com.coinbase.wallet"},CONNECTOR_TYPE_EXTERNAL:"EXTERNAL",CONNECTOR_TYPE_WALLET_CONNECT:"WALLET_CONNECT",CONNECTOR_TYPE_INJECTED:"INJECTED",CONNECTOR_TYPE_ANNOUNCED:"ANNOUNCED",CONNECTOR_TYPE_AUTH:"AUTH",CONNECTOR_TYPE_MULTI_CHAIN:"MULTI_CHAIN",CONNECTOR_TYPE_W3M_AUTH:"AUTH"}});var c1,ZC,gte=m(()=>{px();c1={caipNetworkIdToNumber(e){return e?Number(e.split(":")[1]):void 0},parseEvmChainId(e){return typeof e=="string"?this.caipNetworkIdToNumber(e):e},getNetworksByNamespace(e,t){return e?.filter(r=>r.chainNamespace===t)||[]},getFirstNetworkByNamespace(e,t){return this.getNetworksByNamespace(e,t)[0]},getNetworkNameByCaipNetworkId(e,t){if(!t)return;let r=e.find(s=>s.caipNetworkId===t);if(r)return r.name;let[n]=t.split(":");return V.CHAIN_NAME_MAP?.[n]||void 0}},ZC=["eip155","solana","polkadot","bip122","cosmos","sui","stacks"]});function bte(){function e(t){var r=this;if(!(r instanceof e))return t===Wl?bte():new e(t);if(t instanceof e)r.s=t.s,r.e=t.e,r.c=t.c.slice();else{if(typeof t!="string"){if(e.strict===!0&&typeof t!="bigint")throw TypeError(u1+"value");t=t===0&&1/t<0?"-0":String(t)}YHe(r,t)}r.constructor=e}return e.prototype=xr,e.DP=zHe,e.RM=VHe,e.NE=qHe,e.PE=WHe,e.strict=KHe,e.roundDown=0,e.roundHalfUp=1,e.roundHalfEven=2,e.roundUp=3,e}function YHe(e,t){var r,n,s;if(!GHe.test(t))throw Error(u1+"number");for(e.s=t.charAt(0)=="-"?(t=t.slice(1),-1):1,(r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),s=t.length,n=0;n<s&&t.charAt(n)=="0";)++n;if(n==s)e.c=[e.e=0];else{for(;s>0&&t.charAt(--s)=="0";);for(e.e=r-n-1,e.c=[],r=0;n<=s;)e.c[r++]=+t.charAt(n++)}return e}function d1(e,t,r,n){var s=e.c;if(r===Wl&&(r=e.constructor.RM),r!==0&&r!==1&&r!==2&&r!==3)throw Error(ZHe);if(t<1)n=r===3&&(n||!!s[0])||t===0&&(r===1&&s[0]>=5||r===2&&(s[0]>5||s[0]===5&&(n||s[1]!==Wl))),s.length=1,n?(e.e=e.e-t+1,s[0]=1):s[0]=e.e=0;else if(t<s.length){if(n=r===1&&s[t]>=5||r===2&&(s[t]>5||s[t]===5&&(n||s[t+1]!==Wl||s[t-1]&1))||r===3&&(n||!!s[0]),s.length=t,n){for(;++s[--t]>9;)if(s[t]=0,t===0){++e.e,s.unshift(1);break}}for(t=s.length;!s[--t];)s.pop()}return e}function p1(e,t,r){var n=e.e,s=e.c.join(""),o=s.length;if(t)s=s.charAt(0)+(o>1?"."+s.slice(1):"")+(n<0?"e":"e+")+n;else if(n<0){for(;++n;)s="0"+s;s="0."+s}else if(n>0)if(++n>o)for(n-=o;n--;)s+="0";else n<o&&(s=s.slice(0,n)+"."+s.slice(n));else o>1&&(s=s.charAt(0)+"."+s.slice(1));return e.s<0&&r?"-"+s:s}var zHe,VHe,l1,yte,qHe,WHe,KHe,fx,u1,GC,ZHe,wte,xr,Wl,GHe,JHe,Wc,xte=m(()=>{zHe=20,VHe=1,l1=1e6,yte=1e6,qHe=-7,WHe=21,KHe=!1,fx="[big.js] ",u1=fx+"Invalid ",GC=u1+"decimal places",ZHe=u1+"rounding mode",wte=fx+"Division by zero",xr={},Wl=void 0,GHe=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i;xr.abs=function(){var e=new this.constructor(this);return e.s=1,e};xr.cmp=function(e){var t,r=this,n=r.c,s=(e=new r.constructor(e)).c,o=r.s,i=e.s,a=r.e,c=e.e;if(!n[0]||!s[0])return n[0]?o:s[0]?-i:0;if(o!=i)return o;if(t=o<0,a!=c)return a>c^t?1:-1;for(i=(a=n.length)<(c=s.length)?a:c,o=-1;++o<i;)if(n[o]!=s[o])return n[o]>s[o]^t?1:-1;return a==c?0:a>c^t?1:-1};xr.div=function(e){var t=this,r=t.constructor,n=t.c,s=(e=new r(e)).c,o=t.s==e.s?1:-1,i=r.DP;if(i!==~~i||i<0||i>l1)throw Error(GC);if(!s[0])throw Error(wte);if(!n[0])return e.s=o,e.c=[e.e=0],e;var a,c,l,u,d,p=s.slice(),f=a=s.length,h=n.length,g=n.slice(0,a),y=g.length,E=e,A=E.c=[],b=0,w=i+(E.e=t.e-e.e)+1;for(E.s=o,o=w<0?0:w,p.unshift(0);y++<a;)g.push(0);do{for(l=0;l<10;l++){if(a!=(y=g.length))u=a>y?1:-1;else for(d=-1,u=0;++d<a;)if(s[d]!=g[d]){u=s[d]>g[d]?1:-1;break}if(u<0){for(c=y==a?s:p;y;){if(g[--y]<c[y]){for(d=y;d&&!g[--d];)g[d]=9;--g[d],g[y]+=10}g[y]-=c[y]}for(;!g[0];)g.shift()}else break}A[b++]=u?l:++l,g[0]&&u?g[y]=n[f]||0:g=[n[f]]}while((f++<h||g[0]!==Wl)&&o--);return!A[0]&&b!=1&&(A.shift(),E.e--,w--),b>w&&d1(E,w,r.RM,g[0]!==Wl),E};xr.eq=function(e){return this.cmp(e)===0};xr.gt=function(e){return this.cmp(e)>0};xr.gte=function(e){return this.cmp(e)>-1};xr.lt=function(e){return this.cmp(e)<0};xr.lte=function(e){return this.cmp(e)<1};xr.minus=xr.sub=function(e){var t,r,n,s,o=this,i=o.constructor,a=o.s,c=(e=new i(e)).s;if(a!=c)return e.s=-c,o.plus(e);var l=o.c.slice(),u=o.e,d=e.c,p=e.e;if(!l[0]||!d[0])return d[0]?e.s=-c:l[0]?e=new i(o):e.s=1,e;if(a=u-p){for((s=a<0)?(a=-a,n=l):(p=u,n=d),n.reverse(),c=a;c--;)n.push(0);n.reverse()}else for(r=((s=l.length<d.length)?l:d).length,a=c=0;c<r;c++)if(l[c]!=d[c]){s=l[c]<d[c];break}if(s&&(n=l,l=d,d=n,e.s=-e.s),(c=(r=d.length)-(t=l.length))>0)for(;c--;)l[t++]=0;for(c=t;r>a;){if(l[--r]<d[r]){for(t=r;t&&!l[--t];)l[t]=9;--l[t],l[r]+=10}l[r]-=d[r]}for(;l[--c]===0;)l.pop();for(;l[0]===0;)l.shift(),--p;return l[0]||(e.s=1,l=[p=0]),e.c=l,e.e=p,e};xr.mod=function(e){var t,r=this,n=r.constructor,s=r.s,o=(e=new n(e)).s;if(!e.c[0])throw Error(wte);return r.s=e.s=1,t=e.cmp(r)==1,r.s=s,e.s=o,t?new n(r):(s=n.DP,o=n.RM,n.DP=n.RM=0,r=r.div(e),n.DP=s,n.RM=o,this.minus(r.times(e)))};xr.neg=function(){var e=new this.constructor(this);return e.s=-e.s,e};xr.plus=xr.add=function(e){var t,r,n,s=this,o=s.constructor;if(e=new o(e),s.s!=e.s)return e.s=-e.s,s.minus(e);var i=s.e,a=s.c,c=e.e,l=e.c;if(!a[0]||!l[0])return l[0]||(a[0]?e=new o(s):e.s=s.s),e;if(a=a.slice(),t=i-c){for(t>0?(c=i,n=l):(t=-t,n=a),n.reverse();t--;)n.push(0);n.reverse()}for(a.length-l.length<0&&(n=l,l=a,a=n),t=l.length,r=0;t;a[t]%=10)r=(a[--t]=a[t]+l[t]+r)/10|0;for(r&&(a.unshift(r),++c),t=a.length;a[--t]===0;)a.pop();return e.c=a,e.e=c,e};xr.pow=function(e){var t=this,r=new t.constructor("1"),n=r,s=e<0;if(e!==~~e||e<-yte||e>yte)throw Error(u1+"exponent");for(s&&(e=-e);e&1&&(n=n.times(t)),e>>=1,!!e;)t=t.times(t);return s?r.div(n):n};xr.prec=function(e,t){if(e!==~~e||e<1||e>l1)throw Error(u1+"precision");return d1(new this.constructor(this),e,t)};xr.round=function(e,t){if(e===Wl)e=0;else if(e!==~~e||e<-l1||e>l1)throw Error(GC);return d1(new this.constructor(this),e+this.e+1,t)};xr.sqrt=function(){var e,t,r,n=this,s=n.constructor,o=n.s,i=n.e,a=new s("0.5");if(!n.c[0])return new s(n);if(o<0)throw Error(fx+"No square root");o=Math.sqrt(+p1(n,!0,!0)),o===0||o===1/0?(t=n.c.join(""),t.length+i&1||(t+="0"),o=Math.sqrt(t),i=((i+1)/2|0)-(i<0||i&1),e=new s((o==1/0?"5e":(o=o.toExponential()).slice(0,o.indexOf("e")+1))+i)):e=new s(o+""),i=e.e+(s.DP+=4);do r=e,e=a.times(r.plus(n.div(r)));while(r.c.slice(0,i).join("")!==e.c.slice(0,i).join(""));return d1(e,(s.DP-=4)+e.e+1,s.RM)};xr.times=xr.mul=function(e){var t,r=this,n=r.constructor,s=r.c,o=(e=new n(e)).c,i=s.length,a=o.length,c=r.e,l=e.e;if(e.s=r.s==e.s?1:-1,!s[0]||!o[0])return e.c=[e.e=0],e;for(e.e=c+l,i<a&&(t=s,s=o,o=t,l=i,i=a,a=l),t=new Array(l=i+a);l--;)t[l]=0;for(c=a;c--;){for(a=0,l=i+c;l>c;)a=t[l]+o[c]*s[l-c-1]+a,t[l--]=a%10,a=a/10|0;t[l]=a}for(a?++e.e:t.shift(),c=t.length;!t[--c];)t.pop();return e.c=t,e};xr.toExponential=function(e,t){var r=this,n=r.c[0];if(e!==Wl){if(e!==~~e||e<0||e>l1)throw Error(GC);for(r=d1(new r.constructor(r),++e,t);r.c.length<e;)r.c.push(0)}return p1(r,!0,!!n)};xr.toFixed=function(e,t){var r=this,n=r.c[0];if(e!==Wl){if(e!==~~e||e<0||e>l1)throw Error(GC);for(r=d1(new r.constructor(r),e+r.e+1,t),e=e+r.e+1;r.c.length<e;)r.c.push(0)}return p1(r,!1,!!n)};xr[Symbol.for("nodejs.util.inspect.custom")]=xr.toJSON=xr.toString=function(){var e=this,t=e.constructor;return p1(e,e.e<=t.NE||e.e>=t.PE,!!e.c[0])};xr.toNumber=function(){var e=+p1(this,!0,!0);if(this.constructor.strict===!0&&!this.eq(e.toString()))throw Error(fx+"Imprecise conversion");return e};xr.toPrecision=function(e,t){var r=this,n=r.constructor,s=r.c[0];if(e!==Wl){if(e!==~~e||e<1||e>l1)throw Error(u1+"precision");for(r=d1(new n(r),e,t);r.c.length<e;)r.c.push(0)}return p1(r,e<=r.e||r.e<=n.NE||r.e>=n.PE,!!s)};xr.valueOf=function(){var e=this,t=e.constructor;if(t.strict===!0)throw Error(fx+"valueOf disallowed");return p1(e,e.e<=t.NE||e.e>=t.PE,!0)};JHe=bte(),Wc=JHe});var pt,vte=m(()=>{xte();pt={bigNumber(e,t={safe:!1}){try{return e?new Wc(e):new Wc(0)}catch(r){if(t.safe)return new Wc(0);throw r}},formatNumber(e,t){let{decimals:r,round:n=8,safe:s=!0}=t;return pt.bigNumber(e,{safe:s}).div(new Wc(10).pow(r)).round(n)},multiply(e,t){if(e===void 0||t===void 0)return new Wc(0);let r=new Wc(e),n=new Wc(t);return r.times(n)},toFixed(e,t=2){return e===void 0||e===""?new Wc(0).toFixed(t):new Wc(e).toFixed(t)},formatNumberToLocalString(e,t=2){return e===void 0||e===""?"0.00":typeof e=="number"?e.toLocaleString("en-US",{maximumFractionDigits:t,minimumFractionDigits:t,roundingMode:"floor"}):parseFloat(e).toLocaleString("en-US",{maximumFractionDigits:t,minimumFractionDigits:t,roundingMode:"floor"})},parseLocalStringToNumber(e){if(e===void 0||e==="")return 0;let t=e.replace(/,/gu,"");return new Wc(t).toNumber()}}});var Ete,Ate=m(()=>{Ete=[{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"_to",type:"address"},{name:"_value",type:"uint256"}],outputs:[{name:"",type:"bool"}]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_value",type:"uint256"}],outputs:[{name:"",type:"bool"}]}]});var Cte,Ste=m(()=>{Cte=[{type:"function",name:"approve",stateMutability:"nonpayable",inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]}]});var Ite,_te=m(()=>{Ite=[{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{name:"",type:"bool"}]}]});var hx,Tte=m(()=>{Ate();Ste();_te();px();hx={getERC20Abi:e=>V.USDT_CONTRACT_ADDRESSES.includes(e)?Ite:Ete,getSwapAbi:()=>Cte}});var uh,Pte=m(()=>{px();uh={ConnectorExplorerIds:{[V.CONNECTOR_ID.COINBASE]:"fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa",[V.CONNECTOR_ID.COINBASE_SDK]:"fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa",[V.CONNECTOR_ID.BASE_ACCOUNT]:"fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa",[V.CONNECTOR_ID.SAFE]:"225affb176778569276e484e1b92637ad061b01e13a048b35a9d280c3b58970f",[V.CONNECTOR_ID.LEDGER]:"19177a98252e07ddfc9af2083ba8e07ef627cb6103467ffebb3f8f4205fd7927",[V.CONNECTOR_ID.OKX]:"971e689d0a5be527bac79629b4ee9b925e82208e5168b733496a09c0faed0709",[V.METMASK_CONNECTOR_NAME]:"c57ca95b47569778a828d19178114f4db188b89b763c899ba0be274e97267d96",[V.TRUST_CONNECTOR_NAME]:"4622a2b2d6af1c9844944291e5e7351a6aa24cd7b23099efac1b2fd875da31a0",[V.SOLFLARE_CONNECTOR_NAME]:"1ca0bdd4747578705b1939af023d120677c64fe6ca76add81fda36e350605e79",[V.PHANTOM_CONNECTOR_NAME]:"a797aa35c0fadbfc1a53e7f675162ed5226968b44a19ee3d24385c64d1d3c393",[V.COIN98_CONNECTOR_NAME]:"2a3c89040ac3b723a1972a33a125b1db11e258a6975d3a61252cd64e6ea5ea01",[V.MAGIC_EDEN_CONNECTOR_NAME]:"8b830a2b724a9c3fbab63af6f55ed29c9dfa8a55e732dc88c80a196a2ba136c6",[V.BACKPACK_CONNECTOR_NAME]:"2bd8c14e035c2d48f184aaa168559e86b0e3433228d3c4075900a221785019b0",[V.BITGET_CONNECTOR_NAME]:"38f5d18bd8522c244bdd70cb4a68e0e718865155811c043f052fb9f1c51de662",[V.FRONTIER_CONNECTOR_NAME]:"85db431492aa2e8672e93f4ea7acf10c88b97b867b0d373107af63dc4880f041",[V.XVERSE_CONNECTOR_NAME]:"2a87d74ae02e10bdd1f51f7ce6c4e1cc53cd5f2c0b6b5ad0d7b3007d2b13de7b",[V.LEATHER_CONNECTOR_NAME]:"483afe1df1df63daf313109971ff3ef8356ddf1cc4e45877d205eee0b7893a13",[V.OKX_CONNECTOR_NAME]:"971e689d0a5be527bac79629b4ee9b925e82208e5168b733496a09c0faed0709",[V.BINANCE_CONNECTOR_NAME]:"2fafea35bb471d22889ccb49c08d99dd0a18a37982602c33f696a5723934ba25"},NetworkImageIds:{1:"ba0ba0cd-17c6-4806-ad93-f9d174f17900",42161:"3bff954d-5cb0-47a0-9a23-d20192e74600",43114:"30c46e53-e989-45fb-4549-be3bd4eb3b00",56:"93564157-2e8e-4ce7-81df-b264dbee9b00",250:"06b26297-fe0c-4733-5d6b-ffa5498aac00",10:"ab9c186a-c52f-464b-2906-ca59d760a400",137:"41d04d42-da3b-4453-8506-668cc0727900",5e3:"e86fae9b-b770-4eea-e520-150e12c81100",295:"6a97d510-cac8-4e58-c7ce-e8681b044c00",11155111:"e909ea0a-f92a-4512-c8fc-748044ea6800",84532:"a18a7ecd-e307-4360-4746-283182228e00",1301:"4eeea7ef-0014-4649-5d1d-07271a80f600",130:"2257980a-3463-48c6-cbac-a42d2a956e00",10143:"0a728e83-bacb-46db-7844-948f05434900",100:"02b53f6a-e3d4-479e-1cb4-21178987d100",9001:"f926ff41-260d-4028-635e-91913fc28e00",324:"b310f07f-4ef7-49f3-7073-2a0a39685800",314:"5a73b3dd-af74-424e-cae0-0de859ee9400",4689:"34e68754-e536-40da-c153-6ef2e7188a00",1088:"3897a66d-40b9-4833-162f-a2c90531c900",1284:"161038da-44ae-4ec7-1208-0ea569454b00",1285:"f1d73bb6-5450-4e18-38f7-fb6484264a00",7777777:"845c60df-d429-4991-e687-91ae45791600",42220:"ab781bbc-ccc6-418d-d32d-789b15da1f00",8453:"7289c336-3981-4081-c5f4-efc26ac64a00",1313161554:"3ff73439-a619-4894-9262-4470c773a100",2020:"b8101fc0-9c19-4b6f-ec65-f6dfff106e00",2021:"b8101fc0-9c19-4b6f-ec65-f6dfff106e00",80094:"e329c2c9-59b0-4a02-83e4-212ff3779900",2741:"fc2427d1-5af9-4a9c-8da5-6f94627cd900","5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp":"a1b58899-f671-4276-6a5e-56ca5bd59700","4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z":"a1b58899-f671-4276-6a5e-56ca5bd59700",EtWTRABZaYq6iMfeYKouRu166VU2xqa1:"a1b58899-f671-4276-6a5e-56ca5bd59700","000000000019d6689c085ae165831e93":"0b4838db-0161-4ffe-022d-532bf03dba00","000000000933ea01ad0ee984209779ba":"39354064-d79b-420b-065d-f980c4b78200","00000008819873e925422c1ff0f99f7c":"b3406e4a-bbfc-44fb-e3a6-89673c78b700","-239":"20f673c0-095e-49b2-07cf-eb5049dcf600","-3":"20f673c0-095e-49b2-07cf-eb5049dcf600"},ConnectorImageIds:{[V.CONNECTOR_ID.COINBASE]:"0c2840c3-5b04-4c44-9661-fbd4b49e1800",[V.CONNECTOR_ID.COINBASE_SDK]:"0c2840c3-5b04-4c44-9661-fbd4b49e1800",[V.CONNECTOR_ID.BASE_ACCOUNT]:"bba2c8be-7fd1-463e-42b1-796ecb0ad200",[V.CONNECTOR_ID.SAFE]:"461db637-8616-43ce-035a-d89b8a1d5800",[V.CONNECTOR_ID.LEDGER]:"54a1aa77-d202-4f8d-0fb2-5d2bb6db0300",[V.CONNECTOR_ID.WALLET_CONNECT]:"ef1a1fcf-7fe8-4d69-bd6d-fda1345b4400",[V.CONNECTOR_ID.INJECTED]:"07ba87ed-43aa-4adf-4540-9e6a2b9cae00"},ConnectorNamesMap:{[V.CONNECTOR_ID.INJECTED]:"Browser Wallet",[V.CONNECTOR_ID.WALLET_CONNECT]:"WalletConnect",[V.CONNECTOR_ID.COINBASE]:"Coinbase",[V.CONNECTOR_ID.COINBASE_SDK]:"Coinbase",[V.CONNECTOR_ID.BASE_ACCOUNT]:"Base Account",[V.CONNECTOR_ID.LEDGER]:"Ledger",[V.CONNECTOR_ID.SAFE]:"Safe"},ConnectorTypesMap:{[V.CONNECTOR_ID.INJECTED]:"INJECTED",[V.CONNECTOR_ID.WALLET_CONNECT]:"WALLET_CONNECT",[V.CONNECTOR_ID.EIP6963]:"ANNOUNCED",[V.CONNECTOR_ID.AUTH]:"AUTH"},WalletConnectRpcChainIds:[1,5,11155111,10,420,42161,421613,137,80001,42220,1313161554,1313161555,56,97,43114,43113,100,8453,84531,7777777,999,324,280]}});var it,Nte=m(()=>{it={validateCaipAddress(e){if(e.split(":")?.length!==3)throw new Error("Invalid CAIP Address");return e},parseCaipAddress(e){let t=e.split(":");if(t.length!==3)throw new Error(`Invalid CAIP-10 address: ${e}`);let[r,n,s]=t;if(!r||!n||!s)throw new Error(`Invalid CAIP-10 address: ${e}`);return{chainNamespace:r,chainId:n,address:s}},parseCaipNetworkId(e){let t=e.split(":");if(t.length!==2)throw new Error(`Invalid CAIP-2 network id: ${e}`);let[r,n]=t;if(!r||!n)throw new Error(`Invalid CAIP-2 network id: ${e}`);return{chainNamespace:r,chainId:n}}}});var Ho,iD,f1,Rte=m(()=>{Ho={RPC_ERROR_CODE:{USER_REJECTED_REQUEST:4001,USER_REJECTED_METHODS:5002,USER_REJECTED:5e3,SEND_TRANSACTION_ERROR:5001},PROVIDER_RPC_ERROR_NAME:{PROVIDER_RPC:"ProviderRpcError",USER_REJECTED_REQUEST:"UserRejectedRequestError",SEND_TRANSACTION_ERROR:"SendTransactionError"},isRpcProviderError(e){try{if(typeof e=="object"&&e!==null){let t=e,r=typeof t.message=="string",n=typeof t.code=="number";return r&&n}return!1}catch{return!1}},isUserRejectedMessage(e){return e.toLowerCase().includes("user rejected")||e.toLowerCase().includes("user cancelled")||e.toLowerCase().includes("user canceled")},isUserRejectedRequestError(e){if(Ho.isRpcProviderError(e)){let t=e.code===Ho.RPC_ERROR_CODE.USER_REJECTED_REQUEST,r=e.code===Ho.RPC_ERROR_CODE.USER_REJECTED_METHODS;return t||r||Ho.isUserRejectedMessage(e.message)}return e instanceof Error?Ho.isUserRejectedMessage(e.message):!1}},iD=class extends Error{constructor(t,r){super(r.message,{cause:t}),this.name=Ho.PROVIDER_RPC_ERROR_NAME.PROVIDER_RPC,this.code=r.code}},f1=class extends iD{constructor(t){super(t,{code:Ho.RPC_ERROR_CODE.USER_REJECTED_REQUEST,message:"User rejected the request"}),this.name=Ho.PROVIDER_RPC_ERROR_NAME.USER_REJECTED_REQUEST}}});function mx(e){if(!e)throw new Error("Namespace is required for CONNECTED_CONNECTOR_ID");return`@appkit/${e}:connected_connector_id`}function h1(){return typeof window<"u"&&typeof localStorage<"u"}var He,Be,Ote=m(()=>{He={WALLET_ID:"@appkit/wallet_id",WALLET_NAME:"@appkit/wallet_name",SOLANA_WALLET:"@appkit/solana_wallet",SOLANA_CAIP_CHAIN:"@appkit/solana_caip_chain",ACTIVE_CAIP_NETWORK_ID:"@appkit/active_caip_network_id",CONNECTED_SOCIAL:"@appkit/connected_social",CONNECTED_SOCIAL_USERNAME:"@appkit-wallet/SOCIAL_USERNAME",RECENT_WALLETS:"@appkit/recent_wallets",RECENT_WALLET:"@appkit/recent_wallet",DEEPLINK_CHOICE:"WALLETCONNECT_DEEPLINK_CHOICE",ACTIVE_NAMESPACE:"@appkit/active_namespace",CONNECTED_NAMESPACES:"@appkit/connected_namespaces",CONNECTION_STATUS:"@appkit/connection_status",SIWX_AUTH_TOKEN:"@appkit/siwx-auth-token",SIWX_NONCE_TOKEN:"@appkit/siwx-nonce-token",TELEGRAM_SOCIAL_PROVIDER:"@appkit/social_provider",NATIVE_BALANCE_CACHE:"@appkit/native_balance_cache",PORTFOLIO_CACHE:"@appkit/portfolio_cache",ENS_CACHE:"@appkit/ens_cache",IDENTITY_CACHE:"@appkit/identity_cache",PREFERRED_ACCOUNT_TYPES:"@appkit/preferred_account_types",CONNECTIONS:"@appkit/connections",DISCONNECTED_CONNECTOR_IDS:"@appkit/disconnected_connector_ids",HISTORY_TRANSACTIONS_CACHE:"@appkit/history_transactions_cache",TOKEN_PRICE_CACHE:"@appkit/token_price_cache",RECENT_EMAILS:"@appkit/recent_emails",LATEST_APPKIT_VERSION:"@appkit/latest_version",TON_WALLETS_CACHE:"@appkit/ton_wallets_cache"};Be={setItem(e,t){h1()&&t!==void 0&&localStorage.setItem(e,t)},getItem(e){if(h1())return localStorage.getItem(e)||void 0},removeItem(e){h1()&&localStorage.removeItem(e)},clear(){h1()&&localStorage.clear()}}});function m1(e,t){let r=e?.["--apkt-accent"]??e?.["--w3m-accent"];return t==="light"?{"--w3m-accent":r||"hsla(231, 100%, 70%, 1)","--w3m-background":"#fff"}:{"--w3m-accent":r||"hsla(230, 100%, 67%, 1)","--w3m-background":"#202020"}}var kte=m(()=>{});var at=m(()=>{mte();gte();vte();Tte();px();Pte();Nte();Rte();Ote();kte()});var QHe,Bte,aD,XHe,Dte,cD,Ute=m(()=>{QHe=Symbol(),Bte=Object.getPrototypeOf,aD=new WeakMap,XHe=e=>e&&(aD.has(e)?aD.get(e):Bte(e)===Object.prototype||Bte(e)===Array.prototype),Dte=e=>XHe(e)&&e[QHe]||null,cD=(e,t=!0)=>{aD.set(e,t)}});function Xe(e={}){if(!uD(e))throw new Error("object required");let t=gx.get(e);if(t)return t;let r=YC[0],n=new Set,s=(y,E=++YC[0])=>{r!==E&&(o=r=E,n.forEach(A=>A(y,E)))},o=r,i=(y=YC[0])=>(o!==y&&(o=y,c.forEach(([E])=>{let A=E[1](y);A>r&&(r=A)})),r),a=y=>(E,A)=>{let b=[...E];b[1]=[y,...b[1]],s(b,A)},c=new Map,l=(y,E)=>{let A=!yx.has(E)&&ph.get(E);if(A){if((dh.env?dh.env.MODE:void 0)!=="production"&&c.has(y))throw new Error("prop listener already exists");if(n.size){let b=A[2](a(y));c.set(y,[A,b])}else c.set(y,[A])}},u=y=>{var E;let A=c.get(y);A&&(c.delete(y),(E=A[1])==null||E.call(A))},d=y=>(n.add(y),n.size===1&&c.forEach(([A,b],w)=>{if((dh.env?dh.env.MODE:void 0)!=="production"&&b)throw new Error("remove already exists");let C=A[2](a(w));c.set(w,[A,C])}),()=>{n.delete(y),n.size===0&&c.forEach(([A,b],w)=>{b&&(b(),c.set(w,[A]))})}),p=!0,f=o$e(()=>p,l,u,s),h=r$e(e,f);gx.set(e,h);let g=[e,i,d];return ph.set(h,g),Reflect.ownKeys(e).forEach(y=>{let E=Object.getOwnPropertyDescriptor(e,y);"value"in E&&E.writable&&(h[y]=e[y])}),p=!1,h}function Ut(e,t,r){let n=ph.get(e);(dh.env?dh.env.MODE:void 0)!=="production"&&!n&&console.warn("Please use proxy object");let s,o=[],i=n[2],a=!1,l=i(u=>{if(o.push(u),r){t(o.splice(0));return}s||(s=Promise.resolve().then(()=>{s=void 0,a&&t(o.splice(0))}))});return a=!0,()=>{a=!1,l()}}function Kl(e){let t=ph.get(e);(dh.env?dh.env.MODE:void 0)!=="production"&&!t&&console.warn("Please use proxy object");let[r,n]=t;return s$e(r,n())}function op(e){return yx.add(e),e}function dD(){return{proxyStateMap:ph,refSet:yx,snapCache:lD,versionHolder:YC,proxyCache:gx}}var dh,uD,e$e,Mte,t$e,ph,yx,lD,YC,gx,Lte,r$e,n$e,s$e,o$e,Fr=m(()=>{Ute();dh={},uD=e=>typeof e=="object"&&e!==null,e$e=e=>uD(e)&&!yx.has(e)&&(Array.isArray(e)||!(Symbol.iterator in e))&&!(e instanceof WeakMap)&&!(e instanceof WeakSet)&&!(e instanceof Error)&&!(e instanceof Number)&&!(e instanceof Date)&&!(e instanceof String)&&!(e instanceof RegExp)&&!(e instanceof ArrayBuffer)&&!(e instanceof Promise),Mte=(e,t)=>{let r=lD.get(e);if(r?.[0]===t)return r[1];let n=Array.isArray(e)?[]:Object.create(Object.getPrototypeOf(e));return cD(n,!0),lD.set(e,[t,n]),Reflect.ownKeys(e).forEach(s=>{if(Object.getOwnPropertyDescriptor(n,s))return;let o=Reflect.get(e,s),{enumerable:i}=Reflect.getOwnPropertyDescriptor(e,s),a={value:o,enumerable:i,configurable:!0};if(yx.has(o))cD(o,!1);else if(ph.has(o)){let[c,l]=ph.get(o);a.value=Mte(c,l())}Object.defineProperty(n,s,a)}),Object.preventExtensions(n)},t$e=(e,t,r,n)=>({deleteProperty(s,o){let i=Reflect.get(s,o);r(o);let a=Reflect.deleteProperty(s,o);return a&&n(["delete",[o],i]),a},set(s,o,i,a){let c=!e()&&Reflect.has(s,o),l=Reflect.get(s,o,a);if(c&&(Lte(l,i)||gx.has(i)&&Lte(l,gx.get(i))))return!0;r(o),uD(i)&&(i=Dte(i)||i);let u=!ph.has(i)&&n$e(i)?Xe(i):i;return t(o,u),Reflect.set(s,o,u,a),n(["set",[o],i,l]),!0}}),ph=new WeakMap,yx=new WeakSet,lD=new WeakMap,YC=[1],gx=new WeakMap,Lte=Object.is,r$e=(e,t)=>new Proxy(e,t),n$e=e$e,s$e=Mte,o$e=t$e});function _t(e,t,r,n){let s=e[t];return Ut(e,()=>{let o=e[t];Object.is(s,o)||r(s=o)},n)}function Hte(e){let t=[],r=0,n=new Map,s=new WeakMap,o=()=>{let l=a$e.get(a),u=l?.[1];if(u&&!s.has(u)){let d=new Map(n);s.set(u,d)}},i=l=>s.get(l)||n;if(e){if(typeof e[Symbol.iterator]!="function")throw new TypeError(`proxyMap:
	initial state must be iterable
		tip: structure should be [[key, value]]`);for(let[l,u]of e)n.set(l,r),t[r++]=u}let a={data:t,index:r,epoch:0,get size(){return JC(this)||o(),i(this).size},get(l){let d=i(this).get(l);if(d===void 0){this.epoch;return}return this.data[d]},has(l){let u=i(this);return this.epoch,u.has(l)},set(l,u){if(!JC(this))throw new Error("Cannot perform mutations on a snapshot");let d=n.get(l);return d===void 0?(n.set(l,this.index),this.data[this.index++]=u):this.data[d]=u,this.epoch++,this},delete(l){if(!JC(this))throw new Error("Cannot perform mutations on a snapshot");let u=n.get(l);return u===void 0?!1:(delete this.data[u],n.delete(l),this.epoch++,!0)},clear(){if(!JC(this))throw new Error("Cannot perform mutations on a snapshot");this.data.length=0,this.index=0,this.epoch++,n.clear()},forEach(l){this.epoch,i(this).forEach((d,p)=>{l(this.data[d],p,this)})},*entries(){this.epoch;let l=i(this);for(let[u,d]of l)yield[u,this.data[d]]},*keys(){this.epoch;let l=i(this);for(let u of l.keys())yield u},*values(){this.epoch;let l=i(this);for(let u of l.values())yield this.data[u]},[Symbol.iterator](){return this.entries()},get[Symbol.toStringTag](){return"Map"},toJSON(){return new Map(this.entries())}},c=Xe(a);return Object.defineProperties(c,{size:{enumerable:!1},index:{enumerable:!1},epoch:{enumerable:!1},data:{enumerable:!1},toJSON:{enumerable:!1}}),Object.seal(c),c}var i$e,a$e,JC,Imt,_mt,Hn=m(()=>{Fr();({proxyStateMap:i$e,snapCache:a$e}=dD()),JC=e=>i$e.has(e);({proxyStateMap:Imt,snapCache:_mt}=dD())});var pD,fD,$te,Ke,ya=m(()=>{at();pD=(typeof process<"u"&&typeof process.env<"u"?process.env.NEXT_PUBLIC_SECURE_SITE_ORIGIN:void 0)||"https://secure.walletconnect.org",fD=[{label:"Meld.io",name:"meld",feeRange:"1-2%",url:"https://meldcrypto.com",supportedChains:["eip155","solana"]}],$te="WXETMuFUQmqqybHuRkSgxv:25B8LJHSfpG6LVjR2ytU5Cwh7Z4Sch2ocoU",Ke={FOUR_MINUTES_MS:24e4,TEN_SEC_MS:1e4,FIVE_SEC_MS:5e3,THREE_SEC_MS:3e3,ONE_SEC_MS:1e3,SECURE_SITE:pD,SECURE_SITE_DASHBOARD:`${pD}/dashboard`,SECURE_SITE_FAVICON:`${pD}/images/favicon.png`,SOLANA_NATIVE_TOKEN_ADDRESS:"So11111111111111111111111111111111111111111",RESTRICTED_TIMEZONES:["ASIA/SHANGHAI","ASIA/URUMQI","ASIA/CHONGQING","ASIA/HARBIN","ASIA/KASHGAR","ASIA/MACAU","ASIA/HONG_KONG","ASIA/MACAO","ASIA/BEIJING","ASIA/HARBIN"],SWAP_SUGGESTED_TOKENS:["ETH","UNI","1INCH","AAVE","SOL","ADA","AVAX","DOT","LINK","NITRO","GAIA","MILK","TRX","NEAR","GNO","WBTC","DAI","WETH","USDC","USDT","ARB","BAL","BICO","CRV","ENS","MATIC","OP"],SWAP_POPULAR_TOKENS:["ETH","UNI","1INCH","AAVE","SOL","ADA","AVAX","DOT","LINK","NITRO","GAIA","MILK","TRX","NEAR","GNO","WBTC","DAI","WETH","USDC","USDT","ARB","BAL","BICO","CRV","ENS","MATIC","OP","METAL","DAI","CHAMP","WOLF","SALE","BAL","BUSD","MUST","BTCpx","ROUTE","HEX","WELT","amDAI","VSQ","VISION","AURUM","pSP","SNX","VC","LINK","CHP","amUSDT","SPHERE","FOX","GIDDY","GFC","OMEN","OX_OLD","DE","WNT"],SUGGESTED_TOKENS_BY_CHAIN:{"eip155:42161":["USD\u20AE0"]},BALANCE_SUPPORTED_CHAINS:[V.CHAIN.EVM,V.CHAIN.SOLANA],SEND_PARAMS_SUPPORTED_CHAINS:[V.CHAIN.EVM],SWAP_SUPPORTED_NETWORKS:["eip155:1","eip155:42161","eip155:10","eip155:324","eip155:8453","eip155:56","eip155:137","eip155:100","eip155:43114","eip155:250","eip155:8217","eip155:1313161554"],NAMES_SUPPORTED_CHAIN_NAMESPACES:[V.CHAIN.EVM],ONRAMP_SUPPORTED_CHAIN_NAMESPACES:[V.CHAIN.EVM,V.CHAIN.SOLANA],PAY_WITH_EXCHANGE_SUPPORTED_CHAIN_NAMESPACES:[V.CHAIN.EVM,V.CHAIN.SOLANA],ACTIVITY_ENABLED_CHAIN_NAMESPACES:[V.CHAIN.EVM,V.CHAIN.TON],NATIVE_TOKEN_ADDRESS:{eip155:"0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",solana:"So11111111111111111111111111111111111111111",polkadot:"0x",bip122:"0x",cosmos:"0x",sui:"0x",stacks:"0x",ton:"0x"},CONVERT_SLIPPAGE_TOLERANCE:1,CONNECT_LABELS:{MOBILE:"Open and continue in the wallet app",WEB:"Open and continue in the wallet app"},SEND_SUPPORTED_NAMESPACES:[V.CHAIN.EVM,V.CHAIN.SOLANA],DEFAULT_REMOTE_FEATURES:{swaps:["1inch"],onramp:["meld"],email:!0,socials:["google","x","discord","farcaster","github","apple","facebook"],activity:!0,reownBranding:!0,multiWallet:!1,emailCapture:!1,payWithExchange:!1,payments:!1,reownAuthentication:!1,headless:!1},DEFAULT_REMOTE_FEATURES_DISABLED:{email:!1,socials:!1,swaps:!1,onramp:!1,activity:!1,reownBranding:!1,emailCapture:!1,reownAuthentication:!1,headless:!1},DEFAULT_FEATURES:{receive:!0,send:!0,emailShowWallets:!0,connectorTypeOrder:["walletConnect","recent","injected","featured","custom","external","recommended"],analytics:!0,allWallets:!0,legalCheckbox:!1,smartSessions:!1,collapseWallets:!1,walletFeaturesOrder:["onramp","swaps","receive","send"],connectMethodsOrder:void 0,pay:!1,reownAuthentication:!1,headless:!1},DEFAULT_SOCIALS:["google","x","farcaster","discord","apple","github","facebook"],DEFAULT_ACCOUNT_TYPES:{bip122:"payment",eip155:"smartAccount",polkadot:"eoa",solana:"eoa",ton:"eoa"},ADAPTER_TYPES:{UNIVERSAL:"universal",SOLANA:"solana",WAGMI:"wagmi",ETHERS:"ethers",ETHERS5:"ethers5",BITCOIN:"bitcoin"},SIWX_DEFAULTS:{signOutOnDisconnect:!0},MANDATORY_WALLET_IDS_ON_MOBILE:[uh.ConnectorExplorerIds[V.CONNECTOR_ID.COINBASE],uh.ConnectorExplorerIds[V.CONNECTOR_ID.COINBASE_SDK],uh.ConnectorExplorerIds[V.CONNECTOR_ID.BASE_ACCOUNT],uh.ConnectorExplorerIds[V.SOLFLARE_CONNECTOR_NAME],uh.ConnectorExplorerIds[V.PHANTOM_CONNECTOR_NAME],uh.ConnectorExplorerIds[V.BINANCE_CONNECTOR_NAME]],DEFAULT_CONNECT_METHOD_ORDER:["email","social","wallet"]}});var ae,wa=m(()=>{at();ae={cacheExpiry:{portfolio:3e4,nativeBalance:3e4,ens:3e5,identity:3e5,transactionsHistory:15e3,tokenPrice:15e3,latestAppKitVersion:6048e5,tonWallets:864e5},isCacheExpired(e,t){return Date.now()-e>t},getActiveNetworkProps(){let e=ae.getActiveNamespace(),t=ae.getActiveCaipNetworkId(),r=t?t.split(":")[1]:void 0,n=r?isNaN(Number(r))?r:Number(r):void 0;return{namespace:e,caipNetworkId:t,chainId:n}},setWalletConnectDeepLink({name:e,href:t}){try{Be.setItem(He.DEEPLINK_CHOICE,JSON.stringify({href:t,name:e}))}catch{console.info("Unable to set WalletConnect deep link")}},getWalletConnectDeepLink(){try{let e=Be.getItem(He.DEEPLINK_CHOICE);if(e)return JSON.parse(e)}catch{console.info("Unable to get WalletConnect deep link")}},deleteWalletConnectDeepLink(){try{Be.removeItem(He.DEEPLINK_CHOICE)}catch{console.info("Unable to delete WalletConnect deep link")}},setActiveNamespace(e){try{Be.setItem(He.ACTIVE_NAMESPACE,e)}catch{console.info("Unable to set active namespace")}},setActiveCaipNetworkId(e){try{Be.setItem(He.ACTIVE_CAIP_NETWORK_ID,e),ae.setActiveNamespace(e.split(":")[0])}catch{console.info("Unable to set active caip network id")}},getActiveCaipNetworkId(){try{return Be.getItem(He.ACTIVE_CAIP_NETWORK_ID)}catch{console.info("Unable to get active caip network id");return}},deleteActiveCaipNetworkId(){try{Be.removeItem(He.ACTIVE_CAIP_NETWORK_ID)}catch{console.info("Unable to delete active caip network id")}},deleteConnectedConnectorId(e){try{let t=mx(e);Be.removeItem(t)}catch{console.info("Unable to delete connected connector id")}},setAppKitRecent(e){try{let t=ae.getRecentWallets();t.find(n=>n.id===e.id)||(t.unshift(e),t.length>2&&t.pop(),Be.setItem(He.RECENT_WALLETS,JSON.stringify(t)),Be.setItem(He.RECENT_WALLET,JSON.stringify(e)))}catch{console.info("Unable to set AppKit recent")}},getRecentWallets(){try{let e=Be.getItem(He.RECENT_WALLETS);return e?JSON.parse(e):[]}catch{console.info("Unable to get AppKit recent")}return[]},getRecentWallet(){try{let e=Be.getItem(He.RECENT_WALLET);return e?JSON.parse(e):null}catch{console.info("Unable to get AppKit recent")}return null},deleteRecentWallet(){try{Be.removeItem(He.RECENT_WALLET)}catch{console.info("Unable to delete AppKit recent")}},setConnectedConnectorId(e,t){try{let r=mx(e);Be.setItem(r,t)}catch{console.info("Unable to set Connected Connector Id")}},getActiveNamespace(){try{return Be.getItem(He.ACTIVE_NAMESPACE)}catch{console.info("Unable to get active namespace")}},getConnectedConnectorId(e){if(e)try{let t=mx(e);return Be.getItem(t)}catch{console.info("Unable to get connected connector id in namespace",e)}},setConnectedSocialProvider(e){try{Be.setItem(He.CONNECTED_SOCIAL,e)}catch{console.info("Unable to set connected social provider")}},getConnectedSocialProvider(){try{return Be.getItem(He.CONNECTED_SOCIAL)}catch{console.info("Unable to get connected social provider")}},deleteConnectedSocialProvider(){try{Be.removeItem(He.CONNECTED_SOCIAL)}catch{console.info("Unable to delete connected social provider")}},getConnectedSocialUsername(){try{return Be.getItem(He.CONNECTED_SOCIAL_USERNAME)}catch{console.info("Unable to get connected social username")}},getStoredActiveCaipNetworkId(){return Be.getItem(He.ACTIVE_CAIP_NETWORK_ID)?.split(":")?.[1]},setConnectionStatus(e){try{Be.setItem(He.CONNECTION_STATUS,e)}catch{console.info("Unable to set connection status")}},getConnectionStatus(){try{return Be.getItem(He.CONNECTION_STATUS)}catch{return}},getConnectedNamespaces(){try{let e=Be.getItem(He.CONNECTED_NAMESPACES);return e?.length?e.split(","):[]}catch{return[]}},setConnectedNamespaces(e){try{let t=Array.from(new Set(e));Be.setItem(He.CONNECTED_NAMESPACES,t.join(","))}catch{console.info("Unable to set namespaces in storage")}},addConnectedNamespace(e){try{let t=ae.getConnectedNamespaces();t.includes(e)||(t.push(e),ae.setConnectedNamespaces(t))}catch{console.info("Unable to add connected namespace")}},removeConnectedNamespace(e){try{let t=ae.getConnectedNamespaces(),r=t.indexOf(e);r>-1&&(t.splice(r,1),ae.setConnectedNamespaces(t))}catch{console.info("Unable to remove connected namespace")}},getTelegramSocialProvider(){try{return Be.getItem(He.TELEGRAM_SOCIAL_PROVIDER)}catch{return console.info("Unable to get telegram social provider"),null}},setTelegramSocialProvider(e){try{Be.setItem(He.TELEGRAM_SOCIAL_PROVIDER,e)}catch{console.info("Unable to set telegram social provider")}},removeTelegramSocialProvider(){try{Be.removeItem(He.TELEGRAM_SOCIAL_PROVIDER)}catch{console.info("Unable to remove telegram social provider")}},getBalanceCache(){let e={};try{let t=Be.getItem(He.PORTFOLIO_CACHE);e=t?JSON.parse(t):{}}catch{console.info("Unable to get balance cache")}return e},removeAddressFromBalanceCache(e){try{let t=ae.getBalanceCache();Be.setItem(He.PORTFOLIO_CACHE,JSON.stringify({...t,[e]:void 0}))}catch{console.info("Unable to remove address from balance cache",e)}},getBalanceCacheForCaipAddress(e){try{let r=ae.getBalanceCache()[e];if(r&&!this.isCacheExpired(r.timestamp,this.cacheExpiry.portfolio))return r.balance;ae.removeAddressFromBalanceCache(e)}catch{console.info("Unable to get balance cache for address",e)}},updateBalanceCache(e){try{let t=ae.getBalanceCache();t[e.caipAddress]=e,Be.setItem(He.PORTFOLIO_CACHE,JSON.stringify(t))}catch{console.info("Unable to update balance cache",e)}},getNativeBalanceCache(){let e={};try{let t=Be.getItem(He.NATIVE_BALANCE_CACHE);e=t?JSON.parse(t):{}}catch{console.info("Unable to get balance cache")}return e},removeAddressFromNativeBalanceCache(e){try{let t=ae.getBalanceCache();Be.setItem(He.NATIVE_BALANCE_CACHE,JSON.stringify({...t,[e]:void 0}))}catch{console.info("Unable to remove address from balance cache",e)}},getNativeBalanceCacheForCaipAddress(e){try{let r=ae.getNativeBalanceCache()[e];if(r&&!this.isCacheExpired(r.timestamp,this.cacheExpiry.nativeBalance))return r;console.info("Discarding cache for address",e),ae.removeAddressFromBalanceCache(e)}catch{console.info("Unable to get balance cache for address",e)}},updateNativeBalanceCache(e){try{let t=ae.getNativeBalanceCache();t[e.caipAddress]=e,Be.setItem(He.NATIVE_BALANCE_CACHE,JSON.stringify(t))}catch{console.info("Unable to update balance cache",e)}},getEnsCache(){let e={};try{let t=Be.getItem(He.ENS_CACHE);e=t?JSON.parse(t):{}}catch{console.info("Unable to get ens name cache")}return e},getEnsFromCacheForAddress(e){try{let r=ae.getEnsCache()[e];if(r&&!this.isCacheExpired(r.timestamp,this.cacheExpiry.ens))return r.ens;ae.removeEnsFromCache(e)}catch{console.info("Unable to get ens name from cache",e)}},updateEnsCache(e){try{let t=ae.getEnsCache();t[e.address]=e,Be.setItem(He.ENS_CACHE,JSON.stringify(t))}catch{console.info("Unable to update ens name cache",e)}},removeEnsFromCache(e){try{let t=ae.getEnsCache();Be.setItem(He.ENS_CACHE,JSON.stringify({...t,[e]:void 0}))}catch{console.info("Unable to remove ens name from cache",e)}},getIdentityCache(){let e={};try{let t=Be.getItem(He.IDENTITY_CACHE);e=t?JSON.parse(t):{}}catch{console.info("Unable to get identity cache")}return e},getIdentityFromCacheForAddress(e){try{let r=ae.getIdentityCache()[e];if(r&&!this.isCacheExpired(r.timestamp,this.cacheExpiry.identity))return r.identity;ae.removeIdentityFromCache(e)}catch{console.info("Unable to get identity from cache",e)}},updateIdentityCache(e){try{let t=ae.getIdentityCache();t[e.address]={identity:e.identity,timestamp:e.timestamp},Be.setItem(He.IDENTITY_CACHE,JSON.stringify(t))}catch{console.info("Unable to update identity cache",e)}},removeIdentityFromCache(e){try{let t=ae.getIdentityCache();Be.setItem(He.IDENTITY_CACHE,JSON.stringify({...t,[e]:void 0}))}catch{console.info("Unable to remove identity from cache",e)}},getTonWalletsCache(){try{let e=Be.getItem(He.TON_WALLETS_CACHE),t=e?JSON.parse(e):void 0;if(t&&!this.isCacheExpired(t.timestamp,this.cacheExpiry.tonWallets))return t;ae.removeTonWalletsCache()}catch{console.info("Unable to get ton wallets cache")}},updateTonWalletsCache(e){try{let t=ae.getTonWalletsCache()||{timestamp:0,wallets:[]};t.timestamp=new Date().getTime(),t.wallets=e,Be.setItem(He.TON_WALLETS_CACHE,JSON.stringify(t))}catch{console.info("Unable to update ton wallets cache",e)}},removeTonWalletsCache(){try{Be.removeItem(He.TON_WALLETS_CACHE)}catch{console.info("Unable to remove ton wallets cache")}},clearAddressCache(){try{Be.removeItem(He.PORTFOLIO_CACHE),Be.removeItem(He.NATIVE_BALANCE_CACHE),Be.removeItem(He.ENS_CACHE),Be.removeItem(He.IDENTITY_CACHE),Be.removeItem(He.HISTORY_TRANSACTIONS_CACHE)}catch{console.info("Unable to clear address cache")}},setPreferredAccountTypes(e){try{Be.setItem(He.PREFERRED_ACCOUNT_TYPES,JSON.stringify(e))}catch{console.info("Unable to set preferred account types",e)}},getPreferredAccountTypes(){try{let e=Be.getItem(He.PREFERRED_ACCOUNT_TYPES);return e?JSON.parse(e):{}}catch{console.info("Unable to get preferred account types")}return{}},setConnections(e,t){try{let r=ae.getConnections(),n=r[t]??[],s=new Map;for(let i of n)s.set(i.connectorId,{...i});for(let i of e){let a=s.get(i.connectorId),c=i.connectorId===V.CONNECTOR_ID.AUTH;if(a&&!c){let l=new Set(a.accounts.map(d=>d.address.toLowerCase())),u=i.accounts.filter(d=>!l.has(d.address.toLowerCase()));a.accounts.push(...u)}else s.set(i.connectorId,{...i})}let o={...r,[t]:Array.from(s.values())};Be.setItem(He.CONNECTIONS,JSON.stringify(o))}catch(r){console.error("Unable to sync connections to storage",r)}},getConnections(){try{let e=Be.getItem(He.CONNECTIONS);return e?JSON.parse(e):{}}catch(e){return console.error("Unable to get connections from storage",e),{}}},deleteAddressFromConnection({connectorId:e,address:t,namespace:r}){try{let n=ae.getConnections(),s=n[r]??[],o=new Map(s.map(a=>[a.connectorId,a])),i=o.get(e);i&&(i.accounts.filter(c=>c.address.toLowerCase()!==t.toLowerCase()).length===0?o.delete(e):o.set(e,{...i,accounts:i.accounts.filter(c=>c.address.toLowerCase()!==t.toLowerCase())})),Be.setItem(He.CONNECTIONS,JSON.stringify({...n,[r]:Array.from(o.values())}))}catch{console.error(`Unable to remove address "${t}" from connector "${e}" in namespace "${r}"`)}},getDisconnectedConnectorIds(){try{let e=Be.getItem(He.DISCONNECTED_CONNECTOR_IDS);return e?JSON.parse(e):{}}catch{console.info("Unable to get disconnected connector ids")}return{}},addDisconnectedConnectorId(e,t){try{let r=ae.getDisconnectedConnectorIds(),n=r[t]??[];n.push(e),Be.setItem(He.DISCONNECTED_CONNECTOR_IDS,JSON.stringify({...r,[t]:Array.from(new Set(n))}))}catch{console.error(`Unable to set disconnected connector id "${e}" for namespace "${t}"`)}},removeDisconnectedConnectorId(e,t){try{let r=ae.getDisconnectedConnectorIds(),n=r[t]??[];n=n.filter(s=>s.toLowerCase()!==e.toLowerCase()),Be.setItem(He.DISCONNECTED_CONNECTOR_IDS,JSON.stringify({...r,[t]:Array.from(new Set(n))}))}catch{console.error(`Unable to remove disconnected connector id "${e}" for namespace "${t}"`)}},isConnectorDisconnected(e,t){try{return(ae.getDisconnectedConnectorIds()[t]??[]).some(s=>s.toLowerCase()===e.toLowerCase())}catch{console.info(`Unable to get disconnected connector id "${e}" for namespace "${t}"`)}return!1},getTransactionsCache(){try{let e=Be.getItem(He.HISTORY_TRANSACTIONS_CACHE);return e?JSON.parse(e):{}}catch{console.info("Unable to get transactions cache")}return{}},getTransactionsCacheForAddress({address:e,chainId:t=""}){try{let n=ae.getTransactionsCache()[e]?.[t];if(n&&!this.isCacheExpired(n.timestamp,this.cacheExpiry.transactionsHistory))return n.transactions;ae.removeTransactionsCache({address:e,chainId:t})}catch{console.info("Unable to get transactions cache")}},updateTransactionsCache({address:e,chainId:t="",timestamp:r,transactions:n}){try{let s=ae.getTransactionsCache();s[e]={...s[e],[t]:{timestamp:r,transactions:n}},Be.setItem(He.HISTORY_TRANSACTIONS_CACHE,JSON.stringify(s))}catch{console.info("Unable to update transactions cache",{address:e,chainId:t,timestamp:r,transactions:n})}},removeTransactionsCache({address:e,chainId:t}){try{let r=ae.getTransactionsCache(),n=r?.[e]||{},{[t]:s,...o}=n;Be.setItem(He.HISTORY_TRANSACTIONS_CACHE,JSON.stringify({...r,[e]:o}))}catch{console.info("Unable to remove transactions cache",{address:e,chainId:t})}},getTokenPriceCache(){try{let e=Be.getItem(He.TOKEN_PRICE_CACHE);return e?JSON.parse(e):{}}catch{console.info("Unable to get token price cache")}return{}},getTokenPriceCacheForAddresses(e){try{let r=ae.getTokenPriceCache()[e.join(",")];if(r&&!this.isCacheExpired(r.timestamp,this.cacheExpiry.tokenPrice))return r.tokenPrice;ae.removeTokenPriceCache(e)}catch{console.info("Unable to get token price cache for addresses",e)}},updateTokenPriceCache(e){try{let t=ae.getTokenPriceCache();t[e.addresses.join(",")]={timestamp:e.timestamp,tokenPrice:e.tokenPrice},Be.setItem(He.TOKEN_PRICE_CACHE,JSON.stringify(t))}catch{console.info("Unable to update token price cache",e)}},removeTokenPriceCache(e){try{let t=ae.getTokenPriceCache();Be.setItem(He.TOKEN_PRICE_CACHE,JSON.stringify({...t,[e.join(",")]:void 0}))}catch{console.info("Unable to remove token price cache",e)}},getLatestAppKitVersion(){try{let e=this.getLatestAppKitVersionCache(),t=e?.version;return t&&!this.isCacheExpired(e.timestamp,this.cacheExpiry.latestAppKitVersion)?t:void 0}catch{console.info("Unable to get latest AppKit version")}},getLatestAppKitVersionCache(){try{let e=Be.getItem(He.LATEST_APPKIT_VERSION);return e?JSON.parse(e):{}}catch{console.info("Unable to get latest AppKit version cache")}return{}},updateLatestAppKitVersion(e){try{let t=ae.getLatestAppKitVersionCache();t.timestamp=e.timestamp,t.version=e.version,Be.setItem(He.LATEST_APPKIT_VERSION,JSON.stringify(t))}catch{console.info("Unable to update latest AppKit version on local storage",e)}}}});var te,$n=m(()=>{at();ya();wa();te={getWindow(){if(!(typeof window>"u"))return window},isMobile(){return this.isClient()?!!(window?.matchMedia&&typeof window.matchMedia=="function"&&window.matchMedia("(pointer:coarse)")?.matches||/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini/u.test(navigator.userAgent)):!1},checkCaipNetwork(e,t=""){return e?.caipNetworkId.toLocaleLowerCase().includes(t.toLowerCase())},isAndroid(){if(!this.isMobile())return!1;let e=window?.navigator.userAgent.toLowerCase();return te.isMobile()&&e.includes("android")},isIos(){if(!this.isMobile())return!1;let e=window?.navigator.userAgent.toLowerCase();return e.includes("iphone")||e.includes("ipad")},isSafari(){return this.isClient()?(window?.navigator.userAgent.toLowerCase()).includes("safari"):!1},isClient(){return typeof window<"u"},isPairingExpired(e){return e?e-Date.now()<=Ke.TEN_SEC_MS:!0},isAllowedRetry(e,t=Ke.ONE_SEC_MS){return Date.now()-e>=t},copyToClopboard(e){navigator.clipboard.writeText(e)},isIframe(){try{return window?.self!==window?.top}catch{return!1}},isSafeApp(){if(te.isClient()&&window.self!==window.top)try{let e=window?.location?.ancestorOrigins?.[0],t="https://app.safe.global";if(e){let r=new URL(e),n=new URL(t);return r.hostname===n.hostname}}catch{return!1}return!1},getPairingExpiry(){return Date.now()+Ke.FOUR_MINUTES_MS},getNetworkId(e){return e?.split(":")[1]},getPlainAddress(e){return e?.split(":")[2]},async wait(e){return new Promise(t=>{setTimeout(t,e)})},debounce(e,t=500){let r;return(...n)=>{function s(){e(...n)}r&&clearTimeout(r),r=setTimeout(s,t)}},isHttpUrl(e){return e.startsWith("http://")||e.startsWith("https://")},formatNativeUrl(e,t,r=null){if(te.isHttpUrl(e))return this.formatUniversalUrl(e,t);let n=e,s=r;n.includes("://")||(n=e.replaceAll("/","").replaceAll(":",""),n=`${n}://`),n.endsWith("/")||(n=`${n}/`),s&&!s?.endsWith("/")&&(s=`${s}/`),this.isTelegram()&&this.isAndroid()&&(t=encodeURIComponent(t));let o=encodeURIComponent(t);return{redirect:`${n}wc?uri=${o}`,redirectUniversalLink:s?`${s}wc?uri=${o}`:void 0,href:n}},formatUniversalUrl(e,t){if(!te.isHttpUrl(e))return this.formatNativeUrl(e,t);let r=e;r.endsWith("/")||(r=`${r}/`);let n=encodeURIComponent(t);return{redirect:`${r}wc?uri=${n}`,href:r}},getOpenTargetForPlatform(e){return e==="popupWindow"?e:this.isTelegram()?ae.getTelegramSocialProvider()?"_top":"_blank":e},openHref(e,t,r){window?.open(e,this.getOpenTargetForPlatform(t),r||"noreferrer noopener")},returnOpenHref(e,t,r){return window?.open(e,this.getOpenTargetForPlatform(t),r||"noreferrer noopener")},isTelegram(){return typeof window<"u"&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto)},isPWA(){if(typeof window>"u")return!1;let e=window?.matchMedia&&typeof window.matchMedia=="function"?window.matchMedia("(display-mode: standalone)")?.matches:!1,t=window?.navigator?.standalone;return!!(e||t)},async preloadImage(e){let t=new Promise((r,n)=>{let s=new Image;s.onload=r,s.onerror=n,s.crossOrigin="anonymous",s.src=e});return Promise.race([t,te.wait(2e3)])},parseBalance(e,t){let r="0.000";if(typeof e=="string"){let c=Number(e);if(!isNaN(c)){let l=(Math.floor(c*1e3)/1e3).toFixed(3);l&&(r=l)}}let[n,s]=r.split("."),o=n||"0",i=s||"000";return{formattedText:`${o}.${i}${t?` ${t}`:""}`,value:o,decimals:i,symbol:t}},getApiUrl(){return V.W3M_API_URL},getBlockchainApiUrl(){return V.BLOCKCHAIN_API_RPC_URL},getAnalyticsUrl(){return V.PULSE_API_URL},getUUID(){return crypto?.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu,e=>{let t=Math.random()*16|0;return(e==="x"?t:t&3|8).toString(16)})},parseError(e){return typeof e=="string"?e:typeof e?.issues?.[0]?.message=="string"?e.issues[0].message:e instanceof Error?e.message:"Unknown error"},sortRequestedNetworks(e,t=[]){let r={};return t&&e&&(e.forEach((n,s)=>{r[n]=s}),t.sort((n,s)=>{let o=r[n.id],i=r[s.id];return o!==void 0&&i!==void 0?o-i:o!==void 0?-1:i!==void 0?1:0})),t},calculateBalance(e){let t=0;for(let r of e)t+=r.value??0;return t},formatTokenBalance(e){let t=e.toFixed(2),[r,n]=t.split(".");return{dollars:r,pennies:n}},isAddress(e,t="eip155"){switch(t){case"eip155":if(/^(?:0x)?[0-9a-f]{40}$/iu.test(e)){if(/^(?:0x)?[0-9a-f]{40}$/iu.test(e)||/^(?:0x)?[0-9A-F]{40}$/iu.test(e))return!0}else return!1;return!1;case"solana":return/[1-9A-HJ-NP-Za-km-z]{32,44}$/iu.test(e);case"bip122":{let r=/^[1][a-km-zA-HJ-NP-Z1-9]{25,34}$/u.test(e),n=/^[3][a-km-zA-HJ-NP-Z1-9]{25,34}$/u.test(e),s=/^bc1[a-z0-9]{39,87}$/u.test(e),o=/^bc1p[a-z0-9]{58}$/u.test(e);return r||n||s||o}default:return!1}},uniqueBy(e,t){let r=new Set;return e.filter(n=>{let s=n[t];return r.has(s)?!1:(r.add(s),!0)})},generateSdkVersion(e,t,r){let s=e.length===0?Ke.ADAPTER_TYPES.UNIVERSAL:e.map(o=>o.adapterType).join(",");return`${t}-${s}-${r}`},createAccount(e,t,r,n,s){return{namespace:e,address:t,type:r,publicKey:n,path:s}},isCaipAddress(e){if(typeof e!="string")return!1;let t=e.split(":"),r=t[0];return t.filter(Boolean).length===3&&r in V.CHAIN_NAME_MAP},getAccount(e){return e?typeof e=="string"?{address:e,chainId:void 0}:{address:e.address,chainId:e.chainId}:{address:void 0,chainId:void 0}},isMac(){let e=window?.navigator.userAgent.toLowerCase();return e.includes("macintosh")&&!e.includes("safari")},formatTelegramSocialLoginUrl(e){let t=`--${encodeURIComponent(window?.location.href)}`,r="state=";if(new URL(e).host==="auth.magic.link"){let s="provider_authorization_url=",o=e.substring(e.indexOf(s)+s.length),i=this.injectIntoUrl(decodeURIComponent(o),r,t);return e.replace(o,encodeURIComponent(i))}return this.injectIntoUrl(e,r,t)},injectIntoUrl(e,t,r){let n=e.indexOf(t);if(n===-1)throw new Error(`${t} parameter not found in the URL: ${e}`);let s=e.indexOf("&",n),o=t.length,i=s!==-1?s:e.length,a=e.substring(0,n+o),c=e.substring(n+o,i),l=e.substring(s),u=c+r;return a+u+l},isNumber(e){return typeof e!="number"&&typeof e!="string"?!1:!isNaN(Number(e))}}});var c$e,Lmt,Mmt,Hmt,Ya,Gr,wx=m(()=>{c$e="https://secure.walletconnect.org/sdk",Lmt=(typeof process<"u"&&typeof process.env<"u"?process.env.NEXT_PUBLIC_SECURE_SITE_SDK_URL:void 0)||c$e,Mmt=(typeof process<"u"&&typeof process.env<"u"?process.env.NEXT_PUBLIC_DEFAULT_LOG_LEVEL:void 0)||"error",Hmt=(typeof process<"u"&&typeof process.env<"u"?process.env.NEXT_PUBLIC_SECURE_SITE_SDK_VERSION:void 0)||"4",Ya={APP_EVENT_KEY:"@w3m-app/",FRAME_EVENT_KEY:"@w3m-frame/",RPC_METHOD_KEY:"RPC_",STORAGE_KEY:"@appkit-wallet/",SESSION_TOKEN_KEY:"SESSION_TOKEN_KEY",EMAIL_LOGIN_USED_KEY:"EMAIL_LOGIN_USED_KEY",LAST_USED_CHAIN_KEY:"LAST_USED_CHAIN_KEY",LAST_EMAIL_LOGIN_TIME:"LAST_EMAIL_LOGIN_TIME",EMAIL:"EMAIL",PREFERRED_ACCOUNT_TYPE:"PREFERRED_ACCOUNT_TYPE",SMART_ACCOUNT_ENABLED:"SMART_ACCOUNT_ENABLED",SMART_ACCOUNT_ENABLED_NETWORKS:"SMART_ACCOUNT_ENABLED_NETWORKS",SOCIAL_USERNAME:"SOCIAL_USERNAME",APP_SWITCH_NETWORK:"@w3m-app/SWITCH_NETWORK",APP_CONNECT_EMAIL:"@w3m-app/CONNECT_EMAIL",APP_CONNECT_DEVICE:"@w3m-app/CONNECT_DEVICE",APP_CONNECT_OTP:"@w3m-app/CONNECT_OTP",APP_CONNECT_SOCIAL:"@w3m-app/CONNECT_SOCIAL",APP_GET_SOCIAL_REDIRECT_URI:"@w3m-app/GET_SOCIAL_REDIRECT_URI",APP_GET_USER:"@w3m-app/GET_USER",APP_SIGN_OUT:"@w3m-app/SIGN_OUT",APP_IS_CONNECTED:"@w3m-app/IS_CONNECTED",APP_GET_CHAIN_ID:"@w3m-app/GET_CHAIN_ID",APP_RPC_REQUEST:"@w3m-app/RPC_REQUEST",APP_UPDATE_EMAIL:"@w3m-app/UPDATE_EMAIL",APP_UPDATE_EMAIL_PRIMARY_OTP:"@w3m-app/UPDATE_EMAIL_PRIMARY_OTP",APP_UPDATE_EMAIL_SECONDARY_OTP:"@w3m-app/UPDATE_EMAIL_SECONDARY_OTP",APP_AWAIT_UPDATE_EMAIL:"@w3m-app/AWAIT_UPDATE_EMAIL",APP_SYNC_THEME:"@w3m-app/SYNC_THEME",APP_SYNC_DAPP_DATA:"@w3m-app/SYNC_DAPP_DATA",APP_GET_SMART_ACCOUNT_ENABLED_NETWORKS:"@w3m-app/GET_SMART_ACCOUNT_ENABLED_NETWORKS",APP_INIT_SMART_ACCOUNT:"@w3m-app/INIT_SMART_ACCOUNT",APP_SET_PREFERRED_ACCOUNT:"@w3m-app/SET_PREFERRED_ACCOUNT",APP_CONNECT_FARCASTER:"@w3m-app/CONNECT_FARCASTER",APP_GET_FARCASTER_URI:"@w3m-app/GET_FARCASTER_URI",APP_RELOAD:"@w3m-app/RELOAD",APP_RPC_ABORT:"@w3m-app/RPC_ABORT",FRAME_SWITCH_NETWORK_ERROR:"@w3m-frame/SWITCH_NETWORK_ERROR",FRAME_SWITCH_NETWORK_SUCCESS:"@w3m-frame/SWITCH_NETWORK_SUCCESS",FRAME_CONNECT_EMAIL_ERROR:"@w3m-frame/CONNECT_EMAIL_ERROR",FRAME_CONNECT_EMAIL_SUCCESS:"@w3m-frame/CONNECT_EMAIL_SUCCESS",FRAME_CONNECT_DEVICE_ERROR:"@w3m-frame/CONNECT_DEVICE_ERROR",FRAME_CONNECT_DEVICE_SUCCESS:"@w3m-frame/CONNECT_DEVICE_SUCCESS",FRAME_CONNECT_OTP_SUCCESS:"@w3m-frame/CONNECT_OTP_SUCCESS",FRAME_CONNECT_OTP_ERROR:"@w3m-frame/CONNECT_OTP_ERROR",FRAME_CONNECT_SOCIAL_SUCCESS:"@w3m-frame/CONNECT_SOCIAL_SUCCESS",FRAME_CONNECT_SOCIAL_ERROR:"@w3m-frame/CONNECT_SOCIAL_ERROR",FRAME_CONNECT_FARCASTER_SUCCESS:"@w3m-frame/CONNECT_FARCASTER_SUCCESS",FRAME_CONNECT_FARCASTER_ERROR:"@w3m-frame/CONNECT_FARCASTER_ERROR",FRAME_GET_FARCASTER_URI_SUCCESS:"@w3m-frame/GET_FARCASTER_URI_SUCCESS",FRAME_GET_FARCASTER_URI_ERROR:"@w3m-frame/GET_FARCASTER_URI_ERROR",FRAME_GET_SOCIAL_REDIRECT_URI_SUCCESS:"@w3m-frame/GET_SOCIAL_REDIRECT_URI_SUCCESS",FRAME_GET_SOCIAL_REDIRECT_URI_ERROR:"@w3m-frame/GET_SOCIAL_REDIRECT_URI_ERROR",FRAME_GET_USER_SUCCESS:"@w3m-frame/GET_USER_SUCCESS",FRAME_GET_USER_ERROR:"@w3m-frame/GET_USER_ERROR",FRAME_SIGN_OUT_SUCCESS:"@w3m-frame/SIGN_OUT_SUCCESS",FRAME_SIGN_OUT_ERROR:"@w3m-frame/SIGN_OUT_ERROR",FRAME_IS_CONNECTED_SUCCESS:"@w3m-frame/IS_CONNECTED_SUCCESS",FRAME_IS_CONNECTED_ERROR:"@w3m-frame/IS_CONNECTED_ERROR",FRAME_GET_CHAIN_ID_SUCCESS:"@w3m-frame/GET_CHAIN_ID_SUCCESS",FRAME_GET_CHAIN_ID_ERROR:"@w3m-frame/GET_CHAIN_ID_ERROR",FRAME_RPC_REQUEST_SUCCESS:"@w3m-frame/RPC_REQUEST_SUCCESS",FRAME_RPC_REQUEST_ERROR:"@w3m-frame/RPC_REQUEST_ERROR",FRAME_SESSION_UPDATE:"@w3m-frame/SESSION_UPDATE",FRAME_UPDATE_EMAIL_SUCCESS:"@w3m-frame/UPDATE_EMAIL_SUCCESS",FRAME_UPDATE_EMAIL_ERROR:"@w3m-frame/UPDATE_EMAIL_ERROR",FRAME_UPDATE_EMAIL_PRIMARY_OTP_SUCCESS:"@w3m-frame/UPDATE_EMAIL_PRIMARY_OTP_SUCCESS",FRAME_UPDATE_EMAIL_PRIMARY_OTP_ERROR:"@w3m-frame/UPDATE_EMAIL_PRIMARY_OTP_ERROR",FRAME_UPDATE_EMAIL_SECONDARY_OTP_SUCCESS:"@w3m-frame/UPDATE_EMAIL_SECONDARY_OTP_SUCCESS",FRAME_UPDATE_EMAIL_SECONDARY_OTP_ERROR:"@w3m-frame/UPDATE_EMAIL_SECONDARY_OTP_ERROR",FRAME_SYNC_THEME_SUCCESS:"@w3m-frame/SYNC_THEME_SUCCESS",FRAME_SYNC_THEME_ERROR:"@w3m-frame/SYNC_THEME_ERROR",FRAME_SYNC_DAPP_DATA_SUCCESS:"@w3m-frame/SYNC_DAPP_DATA_SUCCESS",FRAME_SYNC_DAPP_DATA_ERROR:"@w3m-frame/SYNC_DAPP_DATA_ERROR",FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_SUCCESS:"@w3m-frame/GET_SMART_ACCOUNT_ENABLED_NETWORKS_SUCCESS",FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_ERROR:"@w3m-frame/GET_SMART_ACCOUNT_ENABLED_NETWORKS_ERROR",FRAME_INIT_SMART_ACCOUNT_SUCCESS:"@w3m-frame/INIT_SMART_ACCOUNT_SUCCESS",FRAME_INIT_SMART_ACCOUNT_ERROR:"@w3m-frame/INIT_SMART_ACCOUNT_ERROR",FRAME_SET_PREFERRED_ACCOUNT_SUCCESS:"@w3m-frame/SET_PREFERRED_ACCOUNT_SUCCESS",FRAME_SET_PREFERRED_ACCOUNT_ERROR:"@w3m-frame/SET_PREFERRED_ACCOUNT_ERROR",FRAME_READY:"@w3m-frame/READY",FRAME_RELOAD_SUCCESS:"@w3m-frame/RELOAD_SUCCESS",FRAME_RELOAD_ERROR:"@w3m-frame/RELOAD_ERROR",FRAME_RPC_ABORT_SUCCESS:"@w3m-frame/RPC_ABORT_SUCCESS",FRAME_RPC_ABORT_ERROR:"@w3m-frame/RPC_ABORT_ERROR",RPC_RESPONSE_TYPE_ERROR:"RPC_RESPONSE_ERROR",RPC_RESPONSE_TYPE_TX:"RPC_RESPONSE_TRANSACTION_HASH",RPC_RESPONSE_TYPE_OBJECT:"RPC_RESPONSE_OBJECT"},Gr={SAFE_RPC_METHODS:["eth_accounts","eth_blockNumber","eth_call","eth_chainId","eth_estimateGas","eth_feeHistory","eth_gasPrice","eth_getAccount","eth_getBalance","eth_getBlockByHash","eth_getBlockByNumber","eth_getBlockReceipts","eth_getBlockTransactionCountByHash","eth_getBlockTransactionCountByNumber","eth_getCode","eth_getFilterChanges","eth_getFilterLogs","eth_getLogs","eth_getProof","eth_getStorageAt","eth_getTransactionByBlockHashAndIndex","eth_getTransactionByBlockNumberAndIndex","eth_getTransactionByHash","eth_getTransactionCount","eth_getTransactionReceipt","eth_getUncleCountByBlockHash","eth_getUncleCountByBlockNumber","eth_maxPriorityFeePerGas","eth_newBlockFilter","eth_newFilter","eth_newPendingTransactionFilter","eth_sendRawTransaction","eth_syncing","eth_uninstallFilter","wallet_getCapabilities","wallet_getCallsStatus","eth_getUserOperationReceipt","eth_estimateUserOperationGas","eth_getUserOperationByHash","eth_supportedEntryPoints","wallet_getAssets"],NOT_SAFE_RPC_METHODS:["personal_sign","eth_signTypedData_v4","eth_sendTransaction","solana_signMessage","solana_signTransaction","solana_signAllTransactions","solana_signAndSendTransaction","wallet_sendCalls","wallet_grantPermissions","wallet_revokePermissions","eth_sendUserOperation"],GET_CHAIN_ID:"eth_chainId",RPC_METHOD_NOT_ALLOWED_MESSAGE:"Requested RPC call is not allowed",RPC_METHOD_NOT_ALLOWED_UI_MESSAGE:"Action not allowed",ACCOUNT_TYPES:{EOA:"eoa",SMART_ACCOUNT:"smartAccount"}}});var hD,Fte=m(()=>{hD={address:/^0x(?:[A-Fa-f0-9]{40})$/u,transactionHash:/^0x(?:[A-Fa-f0-9]{64})$/u,signedMessage:/^0x(?:[a-fA-F0-9]{62,})$/u}});var Cy,mD=m(()=>{wx();jte();Cy={set(e,t){QC.isClient&&localStorage.setItem(`${Ya.STORAGE_KEY}${e}`,t)},get(e){return QC.isClient?localStorage.getItem(`${Ya.STORAGE_KEY}${e}`):null},delete(e,t){QC.isClient&&(t?localStorage.removeItem(e):localStorage.removeItem(`${Ya.STORAGE_KEY}${e}`))}}});var XC,QC,jte=m(()=>{Fte();wx();mD();XC=30*1e3,QC={checkIfAllowedToTriggerEmail(){let e=Cy.get(Ya.LAST_EMAIL_LOGIN_TIME);if(e){let t=Date.now()-Number(e);if(t<XC){let r=Math.ceil((XC-t)/1e3);throw new Error(`Please try again after ${r} seconds`)}}},getTimeToNextEmailLogin(){let e=Cy.get(Ya.LAST_EMAIL_LOGIN_TIME);if(e){let t=Date.now()-Number(e);if(t<XC)return Math.ceil((XC-t)/1e3)}return 0},checkIfRequestExists(e){return Gr.NOT_SAFE_RPC_METHODS.includes(e.method)||Gr.SAFE_RPC_METHODS.includes(e.method)},getResponseType(e){return typeof e=="string"&&(e?.match(hD.transactionHash)||e?.match(hD.signedMessage))?Ya.RPC_RESPONSE_TYPE_TX:Ya.RPC_RESPONSE_TYPE_OBJECT},checkIfRequestIsSafe(e){return Gr.SAFE_RPC_METHODS.includes(e.method)},isClient:typeof window<"u"}});var zte=m(()=>{wx();mD()});var Vte,qte=m(()=>{Vte="1.2.3"});var xn,Sy=m(()=>{qte();xn=class e extends Error{constructor(t,r={}){let n=r.cause instanceof e?r.cause.details:r.cause?.message?r.cause.message:r.details,s=r.cause instanceof e&&r.cause.docsPath||r.docsPath,o=[t||"An error occurred.","",...r.metaMessages?[...r.metaMessages,""]:[],...s?[`Docs: https://abitype.dev${s}`]:[],...n?[`Details: ${n}`]:[],`Version: abitype@${Vte}`].join(`
`);super(o),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiTypeError"}),r.cause&&(this.cause=r.cause),this.details=n,this.docsPath=s,this.metaMessages=r.metaMessages,this.shortMessage=t}}});function ba(e,t){return e.exec(t)?.groups}var gD,yD,eS,bx=m(()=>{gD=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,yD=/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,eS=/^\(.+?\).*?$/});function tS(e){let t=e.type;if(Wte.test(e.type)&&"components"in e){t="(";let r=e.components.length;for(let s=0;s<r;s++){let o=e.components[s];t+=tS(o),s<r-1&&(t+=", ")}let n=ba(Wte,e.type);return t+=`)${n?.array||""}`,tS({...e,type:t})}return"indexed"in e&&e.indexed&&(t=`${t} indexed`),e.name?`${t} ${e.name}`:t}var Wte,Kte=m(()=>{bx();Wte=/^tuple(?<array>(\[(\d*)\])*)$/});function ip(e){let t="",r=e.length;for(let n=0;n<r;n++){let s=e[n];t+=tS(s),n!==r-1&&(t+=", ")}return t}var wD=m(()=>{Kte()});function g1(e){return e.type==="function"?`function ${e.name}(${ip(e.inputs)})${e.stateMutability&&e.stateMutability!=="nonpayable"?` ${e.stateMutability}`:""}${e.outputs?.length?` returns (${ip(e.outputs)})`:""}`:e.type==="event"?`event ${e.name}(${ip(e.inputs)})`:e.type==="error"?`error ${e.name}(${ip(e.inputs)})`:e.type==="constructor"?`constructor(${ip(e.inputs)})${e.stateMutability==="payable"?" payable":""}`:e.type==="fallback"?`fallback() external${e.stateMutability==="payable"?" payable":""}`:"receive() external payable"}var Zte=m(()=>{wD()});function Yte(e){return Gte.test(e)}function Jte(e){return ba(Gte,e)}function Xte(e){return Qte.test(e)}function ere(e){return ba(Qte,e)}function rre(e){return tre.test(e)}function nre(e){return ba(tre,e)}function Zl(e){return sre.test(e)}function ore(e){return ba(sre,e)}function are(e){return ire.test(e)}function cre(e){return ba(ire,e)}function ure(e){return lre.test(e)}function dre(e){return ba(lre,e)}function pre(e){return l$e.test(e)}var Gte,Qte,tre,sre,ire,lre,l$e,Iy,fre,rS,y1=m(()=>{bx();Gte=/^error (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;Qte=/^event (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;tre=/^function (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)(?: (?<scope>external|public{1}))?(?: (?<stateMutability>pure|view|nonpayable|payable{1}))?(?: returns\s?\((?<returns>.*?)\))?$/;sre=/^struct (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*) \{(?<properties>.*?)\}$/;ire=/^constructor\((?<parameters>.*?)\)(?:\s(?<stateMutability>payable{1}))?$/;lre=/^fallback\(\) external(?:\s(?<stateMutability>payable{1}))?$/;l$e=/^receive\(\) external payable$/;Iy=new Set(["memory","indexed","storage","calldata"]),fre=new Set(["indexed"]),rS=new Set(["calldata","memory","storage"])});var w1,b1,xx,vx=m(()=>{Sy();w1=class extends xn{constructor({signature:t}){super("Failed to parse ABI item.",{details:`parseAbiItem(${JSON.stringify(t,null,2)})`,docsPath:"/api/human#parseabiitem-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiItemError"})}},b1=class extends xn{constructor({type:t}){super("Unknown type.",{metaMessages:[`Type "${t}" is not a valid ABI type. Perhaps you forgot to include a struct signature?`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownTypeError"})}},xx=class extends xn{constructor({type:t}){super("Unknown type.",{metaMessages:[`Type "${t}" is not a valid ABI type.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSolidityTypeError"})}}});var x1,v1,E1,A1,C1,S1,I1,_y=m(()=>{Sy();x1=class extends xn{constructor({param:t}){super("Failed to parse ABI parameter.",{details:`parseAbiParameter(${JSON.stringify(t,null,2)})`,docsPath:"/api/human#parseabiparameter-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiParameterError"})}},v1=class extends xn{constructor({params:t}){super("Failed to parse ABI parameters.",{details:`parseAbiParameters(${JSON.stringify(t,null,2)})`,docsPath:"/api/human#parseabiparameters-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiParametersError"})}},E1=class extends xn{constructor({param:t}){super("Invalid ABI parameter.",{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParameterError"})}},A1=class extends xn{constructor({param:t,name:r}){super("Invalid ABI parameter.",{details:t,metaMessages:[`"${r}" is a protected Solidity keyword. More info: https://docs.soliditylang.org/en/latest/cheatsheet.html`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SolidityProtectedKeywordError"})}},C1=class extends xn{constructor({param:t,type:r,modifier:n}){super("Invalid ABI parameter.",{details:t,metaMessages:[`Modifier "${n}" not allowed${r?` in "${r}" type`:""}.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidModifierError"})}},S1=class extends xn{constructor({param:t,type:r,modifier:n}){super("Invalid ABI parameter.",{details:t,metaMessages:[`Modifier "${n}" not allowed${r?` in "${r}" type`:""}.`,`Data location can only be specified for array, struct, or mapping types, but "${n}" was given.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidFunctionModifierError"})}},I1=class extends xn{constructor({abiParameter:t}){super("Invalid ABI parameter.",{details:JSON.stringify(t,null,2),metaMessages:["ABI parameter type is invalid."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiTypeParameterError"})}}});var xa,_1,T1,nS=m(()=>{Sy();xa=class extends xn{constructor({signature:t,type:r}){super(`Invalid ${r} signature.`,{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSignatureError"})}},_1=class extends xn{constructor({signature:t}){super("Unknown signature.",{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSignatureError"})}},T1=class extends xn{constructor({signature:t}){super("Invalid struct signature.",{details:t,metaMessages:["No properties exist."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidStructSignatureError"})}}});var P1,bD=m(()=>{Sy();P1=class extends xn{constructor({type:t}){super("Circular reference detected.",{metaMessages:[`Struct "${t}" is a circular reference.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CircularReferenceError"})}}});var N1,xD=m(()=>{Sy();N1=class extends xn{constructor({current:t,depth:r}){super("Unbalanced parentheses.",{metaMessages:[`"${t.trim()}" has too many ${r>0?"opening":"closing"} parentheses.`],details:`Depth "${r}"`}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParenthesisError"})}}});function hre(e,t,r){let n="";if(r)for(let s of Object.entries(r)){if(!s)continue;let o="";for(let i of s[1])o+=`[${i.type}${i.name?`:${i.name}`:""}]`;n+=`(${s[0]}{${o}})`}return t?`${t}:${e}${n}`:`${e}${n}`}var sS,mre=m(()=>{sS=new Map([["address",{type:"address"}],["bool",{type:"bool"}],["bytes",{type:"bytes"}],["bytes32",{type:"bytes32"}],["int",{type:"int256"}],["int256",{type:"int256"}],["string",{type:"string"}],["uint",{type:"uint256"}],["uint8",{type:"uint8"}],["uint16",{type:"uint16"}],["uint24",{type:"uint24"}],["uint32",{type:"uint32"}],["uint64",{type:"uint64"}],["uint96",{type:"uint96"}],["uint112",{type:"uint112"}],["uint160",{type:"uint160"}],["uint192",{type:"uint192"}],["uint256",{type:"uint256"}],["address owner",{type:"address",name:"owner"}],["address to",{type:"address",name:"to"}],["bool approved",{type:"bool",name:"approved"}],["bytes _data",{type:"bytes",name:"_data"}],["bytes data",{type:"bytes",name:"data"}],["bytes signature",{type:"bytes",name:"signature"}],["bytes32 hash",{type:"bytes32",name:"hash"}],["bytes32 r",{type:"bytes32",name:"r"}],["bytes32 root",{type:"bytes32",name:"root"}],["bytes32 s",{type:"bytes32",name:"s"}],["string name",{type:"string",name:"name"}],["string symbol",{type:"string",name:"symbol"}],["string tokenURI",{type:"string",name:"tokenURI"}],["uint tokenId",{type:"uint256",name:"tokenId"}],["uint8 v",{type:"uint8",name:"v"}],["uint256 balance",{type:"uint256",name:"balance"}],["uint256 tokenId",{type:"uint256",name:"tokenId"}],["uint256 value",{type:"uint256",name:"value"}],["event:address indexed from",{type:"address",name:"from",indexed:!0}],["event:address indexed to",{type:"address",name:"to",indexed:!0}],["event:uint indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}],["event:uint256 indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}]])});function Ex(e,t={}){if(rre(e))return u$e(e,t);if(Xte(e))return d$e(e,t);if(Yte(e))return p$e(e,t);if(are(e))return f$e(e,t);if(ure(e))return h$e(e);if(pre(e))return{type:"receive",stateMutability:"payable"};throw new _1({signature:e})}function u$e(e,t={}){let r=nre(e);if(!r)throw new xa({signature:e,type:"function"});let n=xi(r.parameters),s=[],o=n.length;for(let a=0;a<o;a++)s.push(vi(n[a],{modifiers:rS,structs:t,type:"function"}));let i=[];if(r.returns){let a=xi(r.returns),c=a.length;for(let l=0;l<c;l++)i.push(vi(a[l],{modifiers:rS,structs:t,type:"function"}))}return{name:r.name,type:"function",stateMutability:r.stateMutability??"nonpayable",inputs:s,outputs:i}}function d$e(e,t={}){let r=ere(e);if(!r)throw new xa({signature:e,type:"event"});let n=xi(r.parameters),s=[],o=n.length;for(let i=0;i<o;i++)s.push(vi(n[i],{modifiers:fre,structs:t,type:"event"}));return{name:r.name,type:"event",inputs:s}}function p$e(e,t={}){let r=Jte(e);if(!r)throw new xa({signature:e,type:"error"});let n=xi(r.parameters),s=[],o=n.length;for(let i=0;i<o;i++)s.push(vi(n[i],{structs:t,type:"error"}));return{name:r.name,type:"error",inputs:s}}function f$e(e,t={}){let r=cre(e);if(!r)throw new xa({signature:e,type:"constructor"});let n=xi(r.parameters),s=[],o=n.length;for(let i=0;i<o;i++)s.push(vi(n[i],{structs:t,type:"constructor"}));return{type:"constructor",stateMutability:r.stateMutability??"nonpayable",inputs:s}}function h$e(e){let t=dre(e);if(!t)throw new xa({signature:e,type:"fallback"});return{type:"fallback",stateMutability:t.stateMutability??"nonpayable"}}function vi(e,t){let r=hre(e,t?.type,t?.structs);if(sS.has(r))return sS.get(r);let n=eS.test(e),s=ba(n?g$e:m$e,e);if(!s)throw new E1({param:e});if(s.name&&b$e(s.name))throw new A1({param:e,name:s.name});let o=s.name?{name:s.name}:{},i=s.modifier==="indexed"?{indexed:!0}:{},a=t?.structs??{},c,l={};if(n){c="tuple";let d=xi(s.type),p=[],f=d.length;for(let h=0;h<f;h++)p.push(vi(d[h],{structs:a}));l={components:p}}else if(s.type in a)c="tuple",l={components:a[s.type]};else if(y$e.test(s.type))c=`${s.type}256`;else if(s.type==="address payable")c="address";else if(c=s.type,t?.type!=="struct"&&!vD(c))throw new xx({type:c});if(s.modifier){if(!t?.modifiers?.has?.(s.modifier))throw new C1({param:e,type:t?.type,modifier:s.modifier});if(rS.has(s.modifier)&&!x$e(c,!!s.array))throw new S1({param:e,type:t?.type,modifier:s.modifier})}let u={type:`${c}${s.array??""}`,...o,...i,...l};return sS.set(r,u),u}function xi(e,t=[],r="",n=0){let s=e.trim().length;for(let o=0;o<s;o++){let i=e[o],a=e.slice(o+1);switch(i){case",":return n===0?xi(a,[...t,r.trim()]):xi(a,t,`${r}${i}`,n);case"(":return xi(a,t,`${r}${i}`,n+1);case")":return xi(a,t,`${r}${i}`,n-1);default:return xi(a,t,`${r}${i}`,n)}}if(r==="")return t;if(n!==0)throw new N1({current:r,depth:n});return t.push(r.trim()),t}function vD(e){return e==="address"||e==="bool"||e==="function"||e==="string"||gD.test(e)||yD.test(e)}function b$e(e){return e==="address"||e==="bool"||e==="function"||e==="string"||e==="tuple"||gD.test(e)||yD.test(e)||w$e.test(e)}function x$e(e,t){return t||e==="bytes"||e==="string"||e==="tuple"}var m$e,g$e,y$e,w$e,R1=m(()=>{bx();vx();_y();nS();xD();mre();y1();m$e=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*(?:\spayable)?)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,g$e=/^\((?<type>.+?)\)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,y$e=/^u?int$/;w$e=/^(?:after|alias|anonymous|apply|auto|byte|calldata|case|catch|constant|copyof|default|defined|error|event|external|false|final|function|immutable|implements|in|indexed|inline|internal|let|mapping|match|memory|mutable|null|of|override|partial|private|promise|public|pure|reference|relocatable|return|returns|sizeof|static|storage|struct|super|supports|switch|this|true|try|typedef|typeof|var|view|virtual)$/});function fh(e){let t={},r=e.length;for(let i=0;i<r;i++){let a=e[i];if(!Zl(a))continue;let c=ore(a);if(!c)throw new xa({signature:a,type:"struct"});let l=c.properties.split(";"),u=[],d=l.length;for(let p=0;p<d;p++){let h=l[p].trim();if(!h)continue;let g=vi(h,{type:"struct"});u.push(g)}if(!u.length)throw new T1({signature:a});t[c.name]=u}let n={},s=Object.entries(t),o=s.length;for(let i=0;i<o;i++){let[a,c]=s[i];n[a]=gre(c,t)}return n}function gre(e=[],t={},r=new Set){let n=[],s=e.length;for(let o=0;o<s;o++){let i=e[o];if(eS.test(i.type))n.push(i);else{let c=ba(v$e,i.type);if(!c?.type)throw new I1({abiParameter:i});let{array:l,type:u}=c;if(u in t){if(r.has(u))throw new P1({type:u});n.push({...i,type:`tuple${l??""}`,components:gre(t[u],t,new Set([...r,u]))})}else if(vD(u))n.push(i);else throw new b1({type:u})}}return n}var v$e,Ax=m(()=>{bx();vx();_y();nS();bD();y1();R1();v$e=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?$/});function Ty(e){let t=fh(e),r=[],n=e.length;for(let s=0;s<n;s++){let o=e[s];Zl(o)||r.push(Ex(o,t))}return r}var yre=m(()=>{y1();Ax();R1()});function Py(e){let t;if(typeof e=="string")t=Ex(e);else{let r=fh(e),n=e.length;for(let s=0;s<n;s++){let o=e[s];if(!Zl(o)){t=Ex(o,r);break}}}if(!t)throw new w1({signature:e});return t}var wre=m(()=>{vx();y1();Ax();R1()});function ED(e){let t;if(typeof e=="string")t=vi(e,{modifiers:Iy});else{let r=fh(e),n=e.length;for(let s=0;s<n;s++){let o=e[s];if(!Zl(o)){t=vi(o,{modifiers:Iy,structs:r});break}}}if(!t)throw new x1({param:e});return t}var bre=m(()=>{_y();y1();Ax();R1()});function Ny(e){let t=[];if(typeof e=="string"){let r=xi(e),n=r.length;for(let s=0;s<n;s++)t.push(vi(r[s],{modifiers:Iy}))}else{let r=fh(e),n=e.length;for(let s=0;s<n;s++){let o=e[s];if(Zl(o))continue;let i=xi(o),a=i.length;for(let c=0;c<a;c++)t.push(vi(i[c],{modifiers:Iy,structs:r}))}}if(t.length===0)throw new v1({params:e});return t}var xre=m(()=>{_y();y1();Ax();R1();R1()});var Ry=m(()=>{Zte();wD();yre();wre();bre();xre();vx();_y();nS();xD();bD()});function fe(e,t,r){let n=e[t.name];if(typeof n=="function")return n;let s=e[r];return typeof s=="function"?s:o=>t(e,o)}var jt=m(()=>{});function ts(e,{includeName:t=!1}={}){if(e.type!=="function"&&e.type!=="event"&&e.type!=="error")throw new Oy(e.type);return`${e.name}(${Cx(e.inputs,{includeName:t})})`}function Cx(e,{includeName:t=!1}={}){return e?e.map(r=>E$e(r,{includeName:t})).join(t?", ":","):""}function E$e(e,{includeName:t}){return e.type.startsWith("tuple")?`(${Cx(e.components,{includeName:t})})${e.type.slice(5)}`:e.type+(t&&e.name?` ${e.name}`:"")}var ap=m(()=>{Xr()});function je(e,{strict:t=!0}={}){return!e||typeof e!="string"?!1:t?/^0x[0-9a-fA-F]*$/.test(e):e.startsWith("0x")}var $o=m(()=>{});function Ot(e){return je(e,{strict:!1})?Math.ceil((e.length-2)/2):e.length}var Ei=m(()=>{$o()});var AD,Ere=m(()=>{AD="2.46.1"});function Are(e){oS=e}function Cre(e,t){return t?.(e)?e:e&&typeof e=="object"&&"cause"in e&&e.cause!==void 0?Cre(e.cause,t):t?null:e}var oS,Z,yt=m(()=>{Ere();oS={getDocsUrl:({docsBaseUrl:e,docsPath:t="",docsSlug:r})=>t?`${e??"https://viem.sh"}${t}${r?`#${r}`:""}`:void 0,version:`viem@${AD}`};Z=class e extends Error{constructor(t,r={}){let n=r.cause instanceof e?r.cause.details:r.cause?.message?r.cause.message:r.details,s=r.cause instanceof e&&r.cause.docsPath||r.docsPath,o=oS.getDocsUrl?.({...r,docsPath:s}),i=[t||"An error occurred.","",...r.metaMessages?[...r.metaMessages,""]:[],...o?[`Docs: ${o}`]:[],...n?[`Details: ${n}`]:[],...oS.version?[`Version: ${oS.version}`]:[]].join(`
`);super(i,r.cause?{cause:r.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=n,this.docsPath=s,this.metaMessages=r.metaMessages,this.name=r.name??this.name,this.shortMessage=t,this.version=AD}walk(t){return Cre(this,t)}}});var hh,Gl,iS,mh,Ai,ky,By,gh,Dy,O1,yh,Uy,Ly,k1,va,wh,My,aS,bh,Kc,Yl,Hy,$y,xh,Oy,Fy,Xr=m(()=>{ap();Ei();yt();hh=class extends Z{constructor({docsPath:t}){super(["A constructor was not found on the ABI.","Make sure you are using the correct ABI and that the constructor exists on it."].join(`
`),{docsPath:t,name:"AbiConstructorNotFoundError"})}},Gl=class extends Z{constructor({docsPath:t}){super(["Constructor arguments were provided (`args`), but a constructor parameters (`inputs`) were not found on the ABI.","Make sure you are using the correct ABI, and that the `inputs` attribute on the constructor exists."].join(`
`),{docsPath:t,name:"AbiConstructorParamsNotFoundError"})}},iS=class extends Z{constructor({data:t,size:r}){super([`Data size of ${r} bytes is invalid.`,"Size must be in increments of 32 bytes (size % 32 === 0)."].join(`
`),{metaMessages:[`Data: ${t} (${r} bytes)`],name:"AbiDecodingDataSizeInvalidError"})}},mh=class extends Z{constructor({data:t,params:r,size:n}){super([`Data size of ${n} bytes is too small for given parameters.`].join(`
`),{metaMessages:[`Params: (${Cx(r,{includeName:!0})})`,`Data:   ${t} (${n} bytes)`],name:"AbiDecodingDataSizeTooSmallError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=t,this.params=r,this.size=n}},Ai=class extends Z{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.',{name:"AbiDecodingZeroDataError"})}},ky=class extends Z{constructor({expectedLength:t,givenLength:r,type:n}){super([`ABI encoding array length mismatch for type ${n}.`,`Expected length: ${t}`,`Given length: ${r}`].join(`
`),{name:"AbiEncodingArrayLengthMismatchError"})}},By=class extends Z{constructor({expectedSize:t,value:r}){super(`Size of bytes "${r}" (bytes${Ot(r)}) does not match expected size (bytes${t}).`,{name:"AbiEncodingBytesSizeMismatchError"})}},gh=class extends Z{constructor({expectedLength:t,givenLength:r}){super(["ABI encoding params/values length mismatch.",`Expected length (params): ${t}`,`Given length (values): ${r}`].join(`
`),{name:"AbiEncodingLengthMismatchError"})}},Dy=class extends Z{constructor(t,{docsPath:r}){super([`Arguments (\`args\`) were provided to "${t}", but "${t}" on the ABI does not contain any parameters (\`inputs\`).`,"Cannot encode error result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the inputs exist on it."].join(`
`),{docsPath:r,name:"AbiErrorInputsNotFoundError"})}},O1=class extends Z{constructor(t,{docsPath:r}={}){super([`Error ${t?`"${t}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it."].join(`
`),{docsPath:r,name:"AbiErrorNotFoundError"})}},yh=class extends Z{constructor(t,{docsPath:r}){super([`Encoded error signature "${t}" not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://4byte.sourcify.dev/?q=${t}.`].join(`
`),{docsPath:r,name:"AbiErrorSignatureNotFoundError"}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.signature=t}},Uy=class extends Z{constructor({docsPath:t}){super("Cannot extract event signature from empty topics.",{docsPath:t,name:"AbiEventSignatureEmptyTopicsError"})}},Ly=class extends Z{constructor(t,{docsPath:r}){super([`Encoded event signature "${t}" not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it.",`You can look up the signature here: https://4byte.sourcify.dev/?q=${t}.`].join(`
`),{docsPath:r,name:"AbiEventSignatureNotFoundError"})}},k1=class extends Z{constructor(t,{docsPath:r}={}){super([`Event ${t?`"${t}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it."].join(`
`),{docsPath:r,name:"AbiEventNotFoundError"})}},va=class extends Z{constructor(t,{docsPath:r}={}){super([`Function ${t?`"${t}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:r,name:"AbiFunctionNotFoundError"})}},wh=class extends Z{constructor(t,{docsPath:r}){super([`Function "${t}" does not contain any \`outputs\` on ABI.`,"Cannot decode function result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:r,name:"AbiFunctionOutputsNotFoundError"})}},My=class extends Z{constructor(t,{docsPath:r}){super([`Encoded function signature "${t}" not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it.",`You can look up the signature here: https://4byte.sourcify.dev/?q=${t}.`].join(`
`),{docsPath:r,name:"AbiFunctionSignatureNotFoundError"})}},aS=class extends Z{constructor(t,r){super("Found ambiguous types in overloaded ABI items.",{metaMessages:[`\`${t.type}\` in \`${ts(t.abiItem)}\`, and`,`\`${r.type}\` in \`${ts(r.abiItem)}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."],name:"AbiItemAmbiguityError"})}},bh=class extends Z{constructor({expectedSize:t,givenSize:r}){super(`Expected bytes${t}, got bytes${r}.`,{name:"BytesSizeMismatchError"})}},Kc=class extends Z{constructor({abiItem:t,data:r,params:n,size:s}){super([`Data size of ${s} bytes is too small for non-indexed event parameters.`].join(`
`),{metaMessages:[`Params: (${Cx(n,{includeName:!0})})`,`Data:   ${r} (${s} bytes)`],name:"DecodeLogDataMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=t,this.data=r,this.params=n,this.size=s}},Yl=class extends Z{constructor({abiItem:t,param:r}){super([`Expected a topic for indexed event parameter${r.name?` "${r.name}"`:""} on event "${ts(t,{includeName:!0})}".`].join(`
`),{name:"DecodeLogTopicsMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=t}},Hy=class extends Z{constructor(t,{docsPath:r}){super([`Type "${t}" is not a valid encoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:r,name:"InvalidAbiEncodingType"})}},$y=class extends Z{constructor(t,{docsPath:r}){super([`Type "${t}" is not a valid decoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:r,name:"InvalidAbiDecodingType"})}},xh=class extends Z{constructor(t){super([`Value "${t}" is not a valid array.`].join(`
`),{name:"InvalidArrayError"})}},Oy=class extends Z{constructor(t){super([`"${t}" is not a valid definition type.`,'Valid types: "function", "event", "error"'].join(`
`),{name:"InvalidDefinitionTypeError"})}},Fy=class extends Z{constructor(t){super(`Type "${t}" is not supported for packed encoding.`,{name:"UnsupportedPackedAbiType"})}}});var jy,CD=m(()=>{yt();jy=class extends Z{constructor(t){super(`Filter type "${t}" is not supported.`,{name:"FilterTypeNotSupportedError"})}}});var B1,D1,Sx,Ix=m(()=>{yt();B1=class extends Z{constructor({offset:t,position:r,size:n}){super(`Slice ${r==="start"?"starting":"ending"} at offset "${t}" is out-of-bounds (size: ${n}).`,{name:"SliceOffsetOutOfBoundsError"})}},D1=class extends Z{constructor({size:t,targetSize:r,type:n}){super(`${n.charAt(0).toUpperCase()}${n.slice(1).toLowerCase()} size (${t}) exceeds padding size (${r}).`,{name:"SizeExceedsPaddingSizeError"})}},Sx=class extends Z{constructor({size:t,targetSize:r,type:n}){super(`${n.charAt(0).toUpperCase()}${n.slice(1).toLowerCase()} is expected to be ${r} ${n} long, but is ${t} ${n} long.`,{name:"InvalidBytesLengthError"})}}});function to(e,{dir:t,size:r=32}={}){return typeof e=="string"?Ci(e,{dir:t,size:r}):SD(e,{dir:t,size:r})}function Ci(e,{dir:t,size:r=32}={}){if(r===null)return e;let n=e.replace("0x","");if(n.length>r*2)throw new D1({size:Math.ceil(n.length/2),targetSize:r,type:"hex"});return`0x${n[t==="right"?"padEnd":"padStart"](r*2,"0")}`}function SD(e,{dir:t,size:r=32}={}){if(r===null)return e;if(e.length>r)throw new D1({size:e.length,targetSize:r,type:"bytes"});let n=new Uint8Array(r);for(let s=0;s<r;s++){let o=t==="right";n[o?s:r-s-1]=e[o?s:e.length-s-1]}return n}var vh=m(()=>{Ix()});var Jl,zy,Vy,qy,Wy,U1=m(()=>{yt();Jl=class extends Z{constructor({max:t,min:r,signed:n,size:s,value:o}){super(`Number "${o}" is not in safe ${s?`${s*8}-bit ${n?"signed":"unsigned"} `:""}integer range ${t?`(${r} to ${t})`:`(above ${r})`}`,{name:"IntegerOutOfRangeError"})}},zy=class extends Z{constructor(t){super(`Bytes value "${t}" is not a valid boolean. The bytes array must contain a single byte of either a 0 or 1 value.`,{name:"InvalidBytesBooleanError"})}},Vy=class extends Z{constructor(t){super(`Hex value "${t}" is not a valid boolean. The hex value must be "0x0" (false) or "0x1" (true).`,{name:"InvalidHexBooleanError"})}},qy=class extends Z{constructor(t){super(`Hex value "${t}" is an odd length (${t.length}). It must be an even length.`,{name:"InvalidHexValueError"})}},Wy=class extends Z{constructor({givenSize:t,maxSize:r}){super(`Size cannot exceed ${r} bytes. Given size: ${t} bytes.`,{name:"SizeOverflowError"})}}});function ln(e,{dir:t="left"}={}){let r=typeof e=="string"?e.replace("0x",""):e,n=0;for(let s=0;s<r.length-1&&r[t==="left"?s:r.length-s-1].toString()==="0";s++)n++;return r=t==="left"?r.slice(n):r.slice(0,r.length-n),typeof e=="string"?(r.length===1&&t==="right"&&(r=`${r}0`),`0x${r.length%2===1?`0${r}`:r}`):r}var cp=m(()=>{});function Fo(e,{size:t}){if(Ot(e)>t)throw new Wy({givenSize:Ot(e),maxSize:t})}function ID(e,t){let r=typeof t=="string"?{to:t}:t,n=r.to;return n==="number"?ft(e,r):n==="bigint"?lt(e,r):n==="string"?cS(e,r):n==="boolean"?Ky(e,r):Gt(e,r)}function lt(e,t={}){let{signed:r}=t;t.size&&Fo(e,{size:t.size});let n=BigInt(e);if(!r)return n;let s=(e.length-2)/2,o=(1n<<BigInt(s)*8n-1n)-1n;return n<=o?n:n-BigInt(`0x${"f".padStart(s*2,"f")}`)-1n}function Ky(e,t={}){let r=e;if(t.size&&(Fo(r,{size:t.size}),r=ln(r)),ln(r)==="0x00")return!1;if(ln(r)==="0x01")return!0;throw new Vy(r)}function ft(e,t={}){let r=lt(e,t),n=Number(r);if(!Number.isSafeInteger(n))throw new Jl({max:`${Number.MAX_SAFE_INTEGER}`,min:`${Number.MIN_SAFE_INTEGER}`,signed:t.signed,size:t.size,value:`${r}n`});return n}function cS(e,t={}){let r=Gt(e);return t.size&&(Fo(r,{size:t.size}),r=ln(r,{dir:"right"})),new TextDecoder().decode(r)}var un=m(()=>{U1();Ei();cp();Or()});function vr(e,t={}){return typeof e=="number"||typeof e=="bigint"?J(e,t):typeof e=="string"?jo(e,t):typeof e=="boolean"?Eh(e,t):ht(e,t)}function Eh(e,t={}){let r=`0x${Number(e)}`;return typeof t.size=="number"?(Fo(r,{size:t.size}),to(r,{size:t.size})):r}function ht(e,t={}){let r="";for(let s=0;s<e.length;s++)r+=A$e[e[s]];let n=`0x${r}`;return typeof t.size=="number"?(Fo(n,{size:t.size}),to(n,{dir:"right",size:t.size})):n}function J(e,t={}){let{signed:r,size:n}=t,s=BigInt(e),o;n?r?o=(1n<<BigInt(n)*8n-1n)-1n:o=2n**(BigInt(n)*8n)-1n:typeof e=="number"&&(o=BigInt(Number.MAX_SAFE_INTEGER));let i=typeof o=="bigint"&&r?-o-1n:0;if(o&&s>o||s<i){let c=typeof e=="bigint"?"n":"";throw new Jl({max:o?`${o}${c}`:void 0,min:`${i}${c}`,signed:r,size:n,value:`${e}${c}`})}let a=`0x${(r&&s<0?(1n<<BigInt(n*8))+BigInt(s):s).toString(16)}`;return n?to(a,{size:n}):a}function jo(e,t={}){let r=C$e.encode(e);return ht(r,t)}var A$e,C$e,De=m(()=>{U1();vh();un();A$e=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));C$e=new TextEncoder});function dn(e,t={}){return typeof e=="number"||typeof e=="bigint"?TD(e,t):typeof e=="boolean"?_D(e,t):je(e)?Gt(e,t):Ea(e,t)}function _D(e,t={}){let r=new Uint8Array(1);return r[0]=Number(e),typeof t.size=="number"?(Fo(r,{size:t.size}),to(r,{size:t.size})):r}function Sre(e){if(e>=lp.zero&&e<=lp.nine)return e-lp.zero;if(e>=lp.A&&e<=lp.F)return e-(lp.A-10);if(e>=lp.a&&e<=lp.f)return e-(lp.a-10)}function Gt(e,t={}){let r=e;t.size&&(Fo(r,{size:t.size}),r=to(r,{dir:"right",size:t.size}));let n=r.slice(2);n.length%2&&(n=`0${n}`);let s=n.length/2,o=new Uint8Array(s);for(let i=0,a=0;i<s;i++){let c=Sre(n.charCodeAt(a++)),l=Sre(n.charCodeAt(a++));if(c===void 0||l===void 0)throw new Z(`Invalid byte sequence ("${n[a-2]}${n[a-1]}" in "${n}").`);o[i]=c*16+l}return o}function TD(e,t){let r=J(e,t);return Gt(r)}function Ea(e,t={}){let r=S$e.encode(e);return typeof t.size=="number"?(Fo(r,{size:t.size}),to(r,{dir:"right",size:t.size})):r}var S$e,lp,Or=m(()=>{yt();$o();vh();un();De();S$e=new TextEncoder;lp={zero:48,nine:57,A:65,F:70,a:97,f:102}});function zt(e,t){let r=t||"hex",n=_f(je(e,{strict:!1})?dn(e):e);return r==="bytes"?n:vr(n)}var Si=m(()=>{e8();$o();Or();De()});function Ire(e){return I$e(e)}var I$e,_re=m(()=>{Or();Si();I$e=e=>zt(dn(e))});function Tre(e){let t=!0,r="",n=0,s="",o=!1;for(let i=0;i<e.length;i++){let a=e[i];if(["(",")",","].includes(a)&&(t=!0),a==="("&&n++,a===")"&&n--,!!t){if(n===0){if(a===" "&&["event","function",""].includes(s))s="";else if(s+=a,a===")"){o=!0;break}continue}if(a===" "){e[i-1]!==","&&r!==","&&r!==",("&&(r="",t=!1);continue}s+=a,r+=a}}if(!o)throw new Z("Unable to normalize signature.");return s}var Pre=m(()=>{yt()});var up,lS=m(()=>{Ry();Pre();up=e=>{let t=typeof e=="string"?e:g1(e);return Tre(t)}});function dp(e){return Ire(up(e))}var _x=m(()=>{_re();lS()});var Zc,Zy=m(()=>{_x();Zc=dp});var Er,Ja=m(()=>{yt();Er=class extends Z{constructor({address:t}){super(`Address "${t}" is invalid.`,{metaMessages:["- Address must be a hex value of 20 bytes (40 hex characters).","- Address must match its checksum counterpart."],name:"InvalidAddressError"})}}});var ro,Ah=m(()=>{ro=class extends Map{constructor(t){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=t}get(t){let r=super.get(t);return super.has(t)&&r!==void 0&&(this.delete(t),super.set(t,r)),r}set(t,r){if(super.set(t,r),this.maxSize&&this.size>this.maxSize){let n=this.keys().next().value;n&&this.delete(n)}return this}}});function Gc(e,t){if(PD.has(`${e}.${t}`))return PD.get(`${e}.${t}`);let r=t?`${t}${e.toLowerCase()}`:e.substring(2).toLowerCase(),n=zt(Ea(r),"bytes"),s=(t?r.substring(`${t}0x`.length):r).split("");for(let i=0;i<40;i+=2)n[i>>1]>>4>=8&&s[i]&&(s[i]=s[i].toUpperCase()),(n[i>>1]&15)>=8&&s[i+1]&&(s[i+1]=s[i+1].toUpperCase());let o=`0x${s.join("")}`;return PD.set(`${e}.${t}`,o),o}function rs(e,t){if(!Vt(e,{strict:!1}))throw new Er({address:e});return Gc(e,t)}var PD,Aa=m(()=>{Ja();Or();Si();Ah();Ii();PD=new ro(8192)});function Vt(e,t){let{strict:r=!0}=t??{},n=`${e}.${r}`;if(ND.has(n))return ND.get(n);let s=_$e.test(e)?e.toLowerCase()===e?!0:r?Gc(e)===e:!0:!1;return ND.set(n,s),s}var _$e,ND,Ii=m(()=>{Ah();Aa();_$e=/^0x[a-fA-F0-9]{40}$/,ND=new ro(8192)});function hr(e){return typeof e[0]=="string"?pn(e):RD(e)}function RD(e){let t=0;for(let s of e)t+=s.length;let r=new Uint8Array(t),n=0;for(let s of e)r.set(s,n),n+=s.length;return r}function pn(e){return`0x${e.reduce((t,r)=>t+r.replace("0x",""),"")}`}var Fn=m(()=>{});function no(e,t,r,{strict:n}={}){return je(e,{strict:!1})?Ql(e,t,r,{strict:n}):Tx(e,t,r,{strict:n})}function Nre(e,t){if(typeof t=="number"&&t>0&&t>Ot(e)-1)throw new B1({offset:t,position:"start",size:Ot(e)})}function Rre(e,t,r){if(typeof t=="number"&&typeof r=="number"&&Ot(e)!==r-t)throw new B1({offset:r,position:"end",size:Ot(e)})}function Tx(e,t,r,{strict:n}={}){Nre(e,t);let s=e.slice(t,r);return n&&Rre(s,t,r),s}function Ql(e,t,r,{strict:n}={}){Nre(e,t);let s=`0x${e.replace("0x","").slice((t??0)*2,(r??e.length)*2)}`;return n&&Rre(s,t,r),s}var Qa=m(()=>{Ix();$o();Ei()});var Ore,uS,Gy,dS=m(()=>{Ore=/^(.*)\[([0-9]*)\]$/,uS=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,Gy=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/});function ns(e,t){if(e.length!==t.length)throw new gh({expectedLength:e.length,givenLength:t.length});let r=T$e({params:e,values:t}),n=kD(r);return n.length===0?"0x":n}function T$e({params:e,values:t}){let r=[];for(let n=0;n<e.length;n++)r.push(OD({param:e[n],value:t[n]}));return r}function OD({param:e,value:t}){let r=pS(e.type);if(r){let[n,s]=r;return N$e(t,{length:n,param:{...e,type:s}})}if(e.type==="tuple")return D$e(t,{param:e});if(e.type==="address")return P$e(t);if(e.type==="bool")return O$e(t);if(e.type.startsWith("uint")||e.type.startsWith("int")){let n=e.type.startsWith("int"),[,,s="256"]=Gy.exec(e.type)??[];return k$e(t,{signed:n,size:Number(s)})}if(e.type.startsWith("bytes"))return R$e(t,{param:e});if(e.type==="string")return B$e(t);throw new Hy(e.type,{docsPath:"/docs/contract/encodeAbiParameters"})}function kD(e){let t=0;for(let o=0;o<e.length;o++){let{dynamic:i,encoded:a}=e[o];i?t+=32:t+=Ot(a)}let r=[],n=[],s=0;for(let o=0;o<e.length;o++){let{dynamic:i,encoded:a}=e[o];i?(r.push(J(t+s,{size:32})),n.push(a),s+=Ot(a)):r.push(a)}return hr([...r,...n])}function P$e(e){if(!Vt(e))throw new Er({address:e});return{dynamic:!1,encoded:Ci(e.toLowerCase())}}function N$e(e,{length:t,param:r}){let n=t===null;if(!Array.isArray(e))throw new xh(e);if(!n&&e.length!==t)throw new ky({expectedLength:t,givenLength:e.length,type:`${r.type}[${t}]`});let s=!1,o=[];for(let i=0;i<e.length;i++){let a=OD({param:r,value:e[i]});a.dynamic&&(s=!0),o.push(a)}if(n||s){let i=kD(o);if(n){let a=J(o.length,{size:32});return{dynamic:!0,encoded:o.length>0?hr([a,i]):a}}if(s)return{dynamic:!0,encoded:i}}return{dynamic:!1,encoded:hr(o.map(({encoded:i})=>i))}}function R$e(e,{param:t}){let[,r]=t.type.split("bytes"),n=Ot(e);if(!r){let s=e;return n%32!==0&&(s=Ci(s,{dir:"right",size:Math.ceil((e.length-2)/2/32)*32})),{dynamic:!0,encoded:hr([Ci(J(n,{size:32})),s])}}if(n!==Number.parseInt(r,10))throw new By({expectedSize:Number.parseInt(r,10),value:e});return{dynamic:!1,encoded:Ci(e,{dir:"right"})}}function O$e(e){if(typeof e!="boolean")throw new Z(`Invalid boolean value: "${e}" (type: ${typeof e}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:Ci(Eh(e))}}function k$e(e,{signed:t,size:r=256}){if(typeof r=="number"){let n=2n**(BigInt(r)-(t?1n:0n))-1n,s=t?-n-1n:0n;if(e>n||e<s)throw new Jl({max:n.toString(),min:s.toString(),signed:t,size:r/8,value:e.toString()})}return{dynamic:!1,encoded:J(e,{size:32,signed:t})}}function B$e(e){let t=jo(e),r=Math.ceil(Ot(t)/32),n=[];for(let s=0;s<r;s++)n.push(Ci(no(t,s*32,(s+1)*32),{dir:"right"}));return{dynamic:!0,encoded:hr([Ci(J(Ot(t),{size:32})),...n])}}function D$e(e,{param:t}){let r=!1,n=[];for(let s=0;s<t.components.length;s++){let o=t.components[s],i=Array.isArray(e)?s:o.name,a=OD({param:o,value:e[i]});n.push(a),a.dynamic&&(r=!0)}return{dynamic:r,encoded:r?kD(n):hr(n.map(({encoded:s})=>s))}}function pS(e){let t=e.match(/^(.*)\[(\d+)?\]$/);return t?[t[2]?Number(t[2]):null,t[1]]:void 0}var Yc=m(()=>{Xr();Ja();yt();U1();Ii();Fn();vh();Ei();Qa();De();dS()});var Ca,L1=m(()=>{Qa();_x();Ca=e=>no(dp(e),0,4)});function so(e){let{abi:t,args:r=[],name:n}=e,s=je(n,{strict:!1}),o=t.filter(a=>s?a.type==="function"?Ca(a)===n:a.type==="event"?Zc(a)===n:!1:"name"in a&&a.name===n);if(o.length===0)return;if(o.length===1)return o[0];let i;for(let a of o){if(!("inputs"in a))continue;if(!r||r.length===0){if(!a.inputs||a.inputs.length===0)return a;continue}if(!a.inputs||a.inputs.length===0||a.inputs.length!==r.length)continue;if(r.every((l,u)=>{let d="inputs"in a&&a.inputs[u];return d?BD(l,d):!1})){if(i&&"inputs"in i&&i.inputs){let l=kre(a.inputs,i.inputs,r);if(l)throw new aS({abiItem:a,type:l[0]},{abiItem:i,type:l[1]})}i=a}}return i||o[0]}function BD(e,t){let r=typeof e,n=t.type;switch(n){case"address":return Vt(e,{strict:!1});case"bool":return r==="boolean";case"function":return r==="string";case"string":return r==="string";default:return n==="tuple"&&"components"in t?Object.values(t.components).every((s,o)=>r==="object"&&BD(Object.values(e)[o],s)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(n)?r==="number"||r==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(n)?r==="string"||e instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(n)?Array.isArray(e)&&e.every(s=>BD(s,{...t,type:n.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function kre(e,t,r){for(let n in e){let s=e[n],o=t[n];if(s.type==="tuple"&&o.type==="tuple"&&"components"in s&&"components"in o)return kre(s.components,o.components,r[n]);let i=[s.type,o.type];if(i.includes("address")&&i.includes("bytes20")?!0:i.includes("address")&&i.includes("string")?Vt(r[n],{strict:!1}):i.includes("address")&&i.includes("bytes")?Vt(r[n],{strict:!1}):!1)return i}}var pp=m(()=>{Xr();$o();Ii();Zy();L1()});function Xa(e){let{abi:t,eventName:r,args:n}=e,s=t[0];if(r){let c=so({abi:t,name:r});if(!c)throw new k1(r,{docsPath:Bre});s=c}if(s.type!=="event")throw new k1(void 0,{docsPath:Bre});let o=ts(s),i=Zc(o),a=[];if(n&&"inputs"in s){let c=s.inputs?.filter(u=>"indexed"in u&&u.indexed),l=Array.isArray(n)?n:Object.values(n).length>0?c?.map(u=>n[u.name])??[]:[];l.length>0&&(a=c?.map((u,d)=>Array.isArray(l[d])?l[d].map((p,f)=>Dre({param:u,value:l[d][f]})):typeof l[d]<"u"&&l[d]!==null?Dre({param:u,value:l[d]}):null)??[])}return[i,...a]}function Dre({param:e,value:t}){if(e.type==="string"||e.type==="bytes")return zt(dn(t));if(e.type==="tuple"||e.type.match(/^(.*)\[(\d+)?\]$/))throw new jy(e.type);return ns([e],[t])}var Bre,M1=m(()=>{Xr();CD();Or();Si();Zy();Yc();ap();pp();Bre="/docs/contract/encodeEventTopics"});function Ch(e,{method:t}){let r={};return e.transport.type==="fallback"&&e.transport.onResponse?.(({method:n,response:s,status:o,transport:i})=>{o==="success"&&t===n&&(r[s]=i.request)}),(n=>r[n]||e.request)}var Px=m(()=>{});async function Yy(e,t){let{address:r,abi:n,args:s,eventName:o,fromBlock:i,strict:a,toBlock:c}=t,l=Ch(e,{method:"eth_newFilter"}),u=o?Xa({abi:n,args:s,eventName:o}):void 0,d=await e.request({method:"eth_newFilter",params:[{address:r,fromBlock:typeof i=="bigint"?J(i):i,toBlock:typeof c=="bigint"?J(c):c,topics:u}]});return{abi:n,args:s,eventName:o,id:d,request:l(d),strict:!!a,type:"event"}}var fS=m(()=>{M1();De();Px()});function mt(e){return typeof e=="string"?{address:e,type:"json-rpc"}:e}var fn=m(()=>{});function hS(e){let{abi:t,args:r,functionName:n}=e,s=t[0];if(n){let o=so({abi:t,args:r,name:n});if(!o)throw new va(n,{docsPath:Ure});s=o}if(s.type!=="function")throw new va(void 0,{docsPath:Ure});return{abi:[s],functionName:Ca(ts(s))}}var Ure,DD=m(()=>{Xr();L1();ap();pp();Ure="/docs/contract/encodeFunctionData"});function Ar(e){let{args:t}=e,{abi:r,functionName:n}=e.abi.length===1&&e.functionName?.startsWith("0x")?e:hS(e),s=r[0],o=n,i="inputs"in s&&s.inputs?ns(s.inputs,t??[]):void 0;return pn([o,i??"0x"])}var zo=m(()=>{Fn();Yc();DD()});var Lre,mS,Mre,gS=m(()=>{Lre={1:"An `assert` condition failed.",17:"Arithmetic operation resulted in underflow or overflow.",18:"Division or modulo by zero (e.g. `5 / 0` or `23 % 0`).",33:"Attempted to convert to an invalid type.",34:"Attempted to access a storage byte array that is incorrectly encoded.",49:"Performed `.pop()` on an empty array",50:"Array index is out of bounds.",65:"Allocated too much memory or created an array which is too large.",81:"Attempted to call a zero-initialized variable of internal function type."},mS={inputs:[{name:"message",type:"string"}],name:"Error",type:"error"},Mre={inputs:[{name:"reason",type:"uint256"}],name:"Panic",type:"error"}});var Nx,Jy,yS,UD=m(()=>{yt();Nx=class extends Z{constructor({offset:t}){super(`Offset \`${t}\` cannot be negative.`,{name:"NegativeOffsetError"})}},Jy=class extends Z{constructor({length:t,position:r}){super(`Position \`${r}\` is out of bounds (\`0 < position < ${t}\`).`,{name:"PositionOutOfBoundsError"})}},yS=class extends Z{constructor({count:t,limit:r}){super(`Recursive read limit of \`${r}\` exceeded (recursive read count: \`${t}\`).`,{name:"RecursiveReadLimitExceededError"})}}});function Jc(e,{recursiveReadLimit:t=8192}={}){let r=Object.create(U$e);return r.bytes=e,r.dataView=new DataView(e.buffer??e,e.byteOffset,e.byteLength),r.positionReadCount=new Map,r.recursiveReadLimit=t,r}var U$e,Qy=m(()=>{UD();U$e={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new yS({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(e){if(e<0||e>this.bytes.length-1)throw new Jy({length:this.bytes.length,position:e})},decrementPosition(e){if(e<0)throw new Nx({offset:e});let t=this.position-e;this.assertPosition(t),this.position=t},getReadCount(e){return this.positionReadCount.get(e||this.position)||0},incrementPosition(e){if(e<0)throw new Nx({offset:e});let t=this.position+e;this.assertPosition(t),this.position=t},inspectByte(e){let t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectBytes(e,t){let r=t??this.position;return this.assertPosition(r+e-1),this.bytes.subarray(r,r+e)},inspectUint8(e){let t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectUint16(e){let t=e??this.position;return this.assertPosition(t+1),this.dataView.getUint16(t)},inspectUint24(e){let t=e??this.position;return this.assertPosition(t+2),(this.dataView.getUint16(t)<<8)+this.dataView.getUint8(t+2)},inspectUint32(e){let t=e??this.position;return this.assertPosition(t+3),this.dataView.getUint32(t)},pushByte(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushBytes(e){this.assertPosition(this.position+e.length-1),this.bytes.set(e,this.position),this.position+=e.length},pushUint8(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushUint16(e){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,e),this.position+=2},pushUint24(e){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,e>>8),this.dataView.setUint8(this.position+2,e&255),this.position+=3},pushUint32(e){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,e),this.position+=4},readByte(){this.assertReadLimit(),this._touch();let e=this.inspectByte();return this.position++,e},readBytes(e,t){this.assertReadLimit(),this._touch();let r=this.inspectBytes(e);return this.position+=t??e,r},readUint8(){this.assertReadLimit(),this._touch();let e=this.inspectUint8();return this.position+=1,e},readUint16(){this.assertReadLimit(),this._touch();let e=this.inspectUint16();return this.position+=2,e},readUint24(){this.assertReadLimit(),this._touch();let e=this.inspectUint24();return this.position+=3,e},readUint32(){this.assertReadLimit(),this._touch();let e=this.inspectUint32();return this.position+=4,e},get remaining(){return this.bytes.length-this.position},setPosition(e){let t=this.position;return this.assertPosition(e),this.position=e,()=>this.position=t},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;let e=this.getReadCount();this.positionReadCount.set(this.position,e+1),e>0&&this.recursiveReadCount++}}});function Hre(e,t){let r=typeof t=="string"?{to:t}:t,n=r.to;return n==="number"?Sa(e,r):n==="bigint"?Rx(e,r):n==="boolean"?Ox(e,r):n==="string"?kx(e,r):ht(e,r)}function Rx(e,t={}){typeof t.size<"u"&&Fo(e,{size:t.size});let r=ht(e,t);return lt(r,t)}function Ox(e,t={}){let r=e;if(typeof t.size<"u"&&(Fo(r,{size:t.size}),r=ln(r)),r.length>1||r[0]>1)throw new zy(r);return!!r[0]}function Sa(e,t={}){typeof t.size<"u"&&Fo(e,{size:t.size});let r=ht(e,t);return ft(r,t)}function kx(e,t={}){let r=e;return typeof t.size<"u"&&(Fo(r,{size:t.size}),r=ln(r,{dir:"right"})),new TextDecoder().decode(r)}var LD=m(()=>{U1();cp();un();De()});function Vo(e,t){let r=typeof t=="string"?Gt(t):t,n=Jc(r);if(Ot(r)===0&&e.length>0)throw new Ai;if(Ot(t)&&Ot(t)<32)throw new mh({data:typeof t=="string"?t:ht(t),params:e,size:Ot(t)});let s=0,o=[];for(let i=0;i<e.length;++i){let a=e[i];n.setPosition(s);let[c,l]=Xy(n,a,{staticPosition:0});s+=l,o.push(c)}return o}function Xy(e,t,{staticPosition:r}){let n=pS(t.type);if(n){let[s,o]=n;return M$e(e,{...t,type:o},{length:s,staticPosition:r})}if(t.type==="tuple")return j$e(e,t,{staticPosition:r});if(t.type==="address")return L$e(e);if(t.type==="bool")return H$e(e);if(t.type.startsWith("bytes"))return $$e(e,t,{staticPosition:r});if(t.type.startsWith("uint")||t.type.startsWith("int"))return F$e(e,t);if(t.type==="string")return z$e(e,{staticPosition:r});throw new $y(t.type,{docsPath:"/docs/contract/decodeAbiParameters"})}function L$e(e){let t=e.readBytes(32);return[Gc(ht(Tx(t,-20))),32]}function M$e(e,t,{length:r,staticPosition:n}){if(!r){let i=Sa(e.readBytes(MD)),a=n+i,c=a+$re;e.setPosition(a);let l=Sa(e.readBytes($re)),u=Bx(t),d=0,p=[];for(let f=0;f<l;++f){e.setPosition(c+(u?f*32:d));let[h,g]=Xy(e,t,{staticPosition:c});d+=g,p.push(h)}return e.setPosition(n+32),[p,32]}if(Bx(t)){let i=Sa(e.readBytes(MD)),a=n+i,c=[];for(let l=0;l<r;++l){e.setPosition(a+l*32);let[u]=Xy(e,t,{staticPosition:a});c.push(u)}return e.setPosition(n+32),[c,32]}let s=0,o=[];for(let i=0;i<r;++i){let[a,c]=Xy(e,t,{staticPosition:n+s});s+=c,o.push(a)}return[o,s]}function H$e(e){return[Ox(e.readBytes(32),{size:32}),32]}function $$e(e,t,{staticPosition:r}){let[n,s]=t.type.split("bytes");if(!s){let i=Sa(e.readBytes(32));e.setPosition(r+i);let a=Sa(e.readBytes(32));if(a===0)return e.setPosition(r+32),["0x",32];let c=e.readBytes(a);return e.setPosition(r+32),[ht(c),32]}return[ht(e.readBytes(Number.parseInt(s,10),32)),32]}function F$e(e,t){let r=t.type.startsWith("int"),n=Number.parseInt(t.type.split("int")[1]||"256",10),s=e.readBytes(32);return[n>48?Rx(s,{signed:r}):Sa(s,{signed:r}),32]}function j$e(e,t,{staticPosition:r}){let n=t.components.length===0||t.components.some(({name:i})=>!i),s=n?[]:{},o=0;if(Bx(t)){let i=Sa(e.readBytes(MD)),a=r+i;for(let c=0;c<t.components.length;++c){let l=t.components[c];e.setPosition(a+o);let[u,d]=Xy(e,l,{staticPosition:a});o+=d,s[n?c:l?.name]=u}return e.setPosition(r+32),[s,32]}for(let i=0;i<t.components.length;++i){let a=t.components[i],[c,l]=Xy(e,a,{staticPosition:r});s[n?i:a?.name]=c,o+=l}return[s,o]}function z$e(e,{staticPosition:t}){let r=Sa(e.readBytes(32)),n=t+r;e.setPosition(n);let s=Sa(e.readBytes(32));if(s===0)return e.setPosition(t+32),["",32];let o=e.readBytes(s,32),i=kx(ln(o));return e.setPosition(t+32),[i,32]}function Bx(e){let{type:t}=e;if(t==="string"||t==="bytes"||t.endsWith("[]"))return!0;if(t==="tuple")return e.components?.some(Bx);let r=pS(e.type);return!!(r&&Bx({...e,type:r[1]}))}var $re,MD,Sh=m(()=>{Xr();Aa();Qy();Ei();Qa();cp();LD();Or();De();Yc();$re=32,MD=32});function ew(e){let{abi:t,data:r}=e,n=no(r,0,4);if(n==="0x")throw new Ai;let o=[...t||[],mS,Mre].find(i=>i.type==="error"&&n===Ca(ts(i)));if(!o)throw new yh(n,{docsPath:"/docs/contract/decodeErrorResult"});return{abiItem:o,args:"inputs"in o&&o.inputs&&o.inputs.length>0?Vo(o.inputs,no(r,4)):void 0,errorName:o.name}}var wS=m(()=>{gS();Xr();Qa();L1();Sh();ap()});var Tt,Bs=m(()=>{Tt=(e,t,r)=>JSON.stringify(e,(n,s)=>{let o=typeof s=="bigint"?s.toString():s;return typeof t=="function"?t(n,o):o},r)});function HD({abiItem:e,args:t,includeFunctionName:r=!0,includeName:n=!1}){if("name"in e&&"inputs"in e&&e.inputs)return`${r?e.name:""}(${e.inputs.map((s,o)=>`${n&&s.name?`${s.name}: `:""}${typeof t[o]=="object"?Tt(t[o]):t[o]}`).join(", ")})`}var Fre=m(()=>{Bs()});var tw,rw,jre,nw=m(()=>{tw={gwei:9,wei:18},rw={ether:-9,wei:9},jre={ether:-18,gwei:-9}});function Xl(e,t){let r=e.toString(),n=r.startsWith("-");n&&(r=r.slice(1)),r=r.padStart(t,"0");let[s,o]=[r.slice(0,r.length-t),r.slice(r.length-t)];return o=o.replace(/(0+)$/,""),`${n?"-":""}${s||"0"}${o?`.${o}`:""}`}var bS=m(()=>{});function Ih(e,t="wei"){return Xl(e,tw[t])}var Dx=m(()=>{nw();bS()});function Pn(e,t="wei"){return Xl(e,rw[t])}var H1=m(()=>{nw();bS()});function zre(e){return e.reduce((t,{slot:r,value:n})=>`${t}        ${r}: ${n}
`,"")}function Vre(e){return e.reduce((t,{address:r,...n})=>{let s=`${t}    ${r}:
`;return n.nonce&&(s+=`      nonce: ${n.nonce}
`),n.balance&&(s+=`      balance: ${n.balance}
`),n.code&&(s+=`      code: ${n.code}
`),n.state&&(s+=`      state:
`,s+=zre(n.state)),n.stateDiff&&(s+=`      stateDiff:
`,s+=zre(n.stateDiff)),s},`  State Override:
`).slice(0,-1)}var sw,ow,xS=m(()=>{yt();sw=class extends Z{constructor({address:t}){super(`State for account "${t}" is set multiple times.`,{name:"AccountStateConflictError"})}},ow=class extends Z{constructor(){super("state and stateDiff are set on the same account.",{name:"StateAssignmentConflictError"})}}});function $1(e){let t=Object.entries(e).map(([n,s])=>s===void 0||s===!1?null:[n,s]).filter(Boolean),r=t.reduce((n,[s])=>Math.max(n,s.length),0);return t.map(([n,s])=>`  ${`${n}:`.padEnd(r+1)}  ${s}`).join(`
`)}var vS,_h,iw,aw,eu,cw,lw,Th,Ph,uw,dw,qo=m(()=>{Dx();H1();yt();vS=class extends Z{constructor(){super(["Cannot specify both a `gasPrice` and a `maxFeePerGas`/`maxPriorityFeePerGas`.","Use `maxFeePerGas`/`maxPriorityFeePerGas` for EIP-1559 compatible networks, and `gasPrice` for others."].join(`
`),{name:"FeeConflictError"})}},_h=class extends Z{constructor({v:t}){super(`Invalid \`v\` value "${t}". Expected 27 or 28.`,{name:"InvalidLegacyVError"})}},iw=class extends Z{constructor({transaction:t}){super("Cannot infer a transaction type from provided transaction.",{metaMessages:["Provided Transaction:","{",$1(t),"}","","To infer the type, either provide:","- a `type` to the Transaction, or","- an EIP-1559 Transaction with `maxFeePerGas`, or","- an EIP-2930 Transaction with `gasPrice` & `accessList`, or","- an EIP-4844 Transaction with `blobs`, `blobVersionedHashes`, `sidecars`, or","- an EIP-7702 Transaction with `authorizationList`, or","- a Legacy Transaction with `gasPrice`"],name:"InvalidSerializableTransactionError"})}},aw=class extends Z{constructor({serializedType:t}){super(`Serialized transaction type "${t}" is invalid.`,{name:"InvalidSerializedTransactionType"}),Object.defineProperty(this,"serializedType",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.serializedType=t}},eu=class extends Z{constructor({attributes:t,serializedTransaction:r,type:n}){let s=Object.entries(t).map(([o,i])=>typeof i>"u"?o:void 0).filter(Boolean);super(`Invalid serialized transaction of type "${n}" was provided.`,{metaMessages:[`Serialized Transaction: "${r}"`,s.length>0?`Missing Attributes: ${s.join(", ")}`:""].filter(Boolean),name:"InvalidSerializedTransactionError"}),Object.defineProperty(this,"serializedTransaction",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"type",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.serializedTransaction=r,this.type=n}},cw=class extends Z{constructor({storageKey:t}){super(`Size for storage key "${t}" is invalid. Expected 32 bytes. Got ${Math.floor((t.length-2)/2)} bytes.`,{name:"InvalidStorageKeySizeError"})}},lw=class extends Z{constructor(t,{account:r,docsPath:n,chain:s,data:o,gas:i,gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:l,nonce:u,to:d,value:p}){let f=$1({chain:s&&`${s?.name} (id: ${s?.id})`,from:r?.address,to:d,value:typeof p<"u"&&`${Ih(p)} ${s?.nativeCurrency?.symbol||"ETH"}`,data:o,gas:i,gasPrice:typeof a<"u"&&`${Pn(a)} gwei`,maxFeePerGas:typeof c<"u"&&`${Pn(c)} gwei`,maxPriorityFeePerGas:typeof l<"u"&&`${Pn(l)} gwei`,nonce:u});super(t.shortMessage,{cause:t,docsPath:n,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Request Arguments:",f].filter(Boolean),name:"TransactionExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=t}},Th=class extends Z{constructor({blockHash:t,blockNumber:r,blockTag:n,hash:s,index:o}){let i="Transaction";n&&o!==void 0&&(i=`Transaction at block time "${n}" at index "${o}"`),t&&o!==void 0&&(i=`Transaction at block hash "${t}" at index "${o}"`),r&&o!==void 0&&(i=`Transaction at block number "${r}" at index "${o}"`),s&&(i=`Transaction with hash "${s}"`),super(`${i} could not be found.`,{name:"TransactionNotFoundError"})}},Ph=class extends Z{constructor({hash:t}){super(`Transaction receipt with hash "${t}" could not be found. The Transaction may not be processed on a block yet.`,{name:"TransactionReceiptNotFoundError"})}},uw=class extends Z{constructor({receipt:t}){super(`Transaction with hash "${t.transactionHash}" reverted.`,{metaMessages:['The receipt marked the transaction as "reverted". This could mean that the function on the contract you are trying to call threw an error.'," ","You can attempt to extract the revert reason by:","- calling the `simulateContract` or `simulateCalls` Action with the `abi` and `functionName` of the contract","- using the `call` Action with raw `data`"],name:"TransactionReceiptRevertedError"}),Object.defineProperty(this,"receipt",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.receipt=t}},dw=class extends Z{constructor({hash:t}){super(`Timed out while waiting for transaction with hash "${t}" to be confirmed.`,{name:"WaitForTransactionReceiptTimeoutError"})}}});var qre,fp,ES=m(()=>{qre=e=>e,fp=e=>e});var Nh,Rh,hp,pw,fw,ec,mp=m(()=>{fn();gS();wS();ap();Fre();pp();Dx();H1();Xr();yt();xS();qo();ES();Nh=class extends Z{constructor(t,{account:r,docsPath:n,chain:s,data:o,gas:i,gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:l,nonce:u,to:d,value:p,stateOverride:f}){let h=r?mt(r):void 0,g=$1({from:h?.address,to:d,value:typeof p<"u"&&`${Ih(p)} ${s?.nativeCurrency?.symbol||"ETH"}`,data:o,gas:i,gasPrice:typeof a<"u"&&`${Pn(a)} gwei`,maxFeePerGas:typeof c<"u"&&`${Pn(c)} gwei`,maxPriorityFeePerGas:typeof l<"u"&&`${Pn(l)} gwei`,nonce:u});f&&(g+=`
${Vre(f)}`),super(t.shortMessage,{cause:t,docsPath:n,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Raw Call Arguments:",g].filter(Boolean),name:"CallExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=t}},Rh=class extends Z{constructor(t,{abi:r,args:n,contractAddress:s,docsPath:o,functionName:i,sender:a}){let c=so({abi:r,args:n,name:i}),l=c?HD({abiItem:c,args:n,includeFunctionName:!1,includeName:!1}):void 0,u=c?ts(c,{includeName:!0}):void 0,d=$1({address:s&&qre(s),function:u,args:l&&l!=="()"&&`${[...Array(i?.length??0).keys()].map(()=>" ").join("")}${l}`,sender:a});super(t.shortMessage||`An unknown error occurred while executing the contract function "${i}".`,{cause:t,docsPath:o,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],d&&"Contract Call:",d].filter(Boolean),name:"ContractFunctionExecutionError"}),Object.defineProperty(this,"abi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"contractAddress",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"formattedArgs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"functionName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sender",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abi=r,this.args=n,this.cause=t,this.contractAddress=s,this.functionName=i,this.sender=a}},hp=class extends Z{constructor({abi:t,data:r,functionName:n,message:s}){let o,i,a,c;if(r&&r!=="0x")try{i=ew({abi:t,data:r});let{abiItem:u,errorName:d,args:p}=i;if(d==="Error")c=p[0];else if(d==="Panic"){let[f]=p;c=Lre[f]}else{let f=u?ts(u,{includeName:!0}):void 0,h=u&&p?HD({abiItem:u,args:p,includeFunctionName:!1,includeName:!1}):void 0;a=[f?`Error: ${f}`:"",h&&h!=="()"?`       ${[...Array(d?.length??0).keys()].map(()=>" ").join("")}${h}`:""]}}catch(u){o=u}else s&&(c=s);let l;o instanceof yh&&(l=o.signature,a=[`Unable to decode signature "${l}" as it was not found on the provided ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://4byte.sourcify.dev/?q=${l}.`]),super(c&&c!=="execution reverted"||l?[`The contract function "${n}" reverted with the following ${l?"signature":"reason"}:`,c||l].join(`
`):`The contract function "${n}" reverted.`,{cause:o,metaMessages:a,name:"ContractFunctionRevertedError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"raw",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reason",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=i,this.raw=r,this.reason=c,this.signature=l}},pw=class extends Z{constructor({functionName:t}){super(`The contract function "${t}" returned no data ("0x").`,{metaMessages:["This could be due to any of the following:",`  - The contract does not have the function "${t}",`,"  - The parameters passed to the contract function may be invalid, or","  - The address is not a contract."],name:"ContractFunctionZeroDataError"})}},fw=class extends Z{constructor({factory:t}){super(`Deployment for counterfactual contract call failed${t?` for factory "${t}".`:""}`,{metaMessages:["Please ensure:","- The `factory` is a valid contract deployment factory (ie. Create2 Factory, ERC-4337 Factory, etc).","- The `factoryData` is a valid encoded function call for contract deployment function on the factory."],name:"CounterfactualDeploymentFailedError"})}},ec=class extends Z{constructor({data:t,message:r}){super(r||"",{name:"RawContractError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=t}}});var _i,F1,tc,tu,gp,Qc=m(()=>{Bs();yt();ES();_i=class extends Z{constructor({body:t,cause:r,details:n,headers:s,status:o,url:i}){super("HTTP request failed.",{cause:r,details:n,metaMessages:[o&&`Status: ${o}`,`URL: ${fp(i)}`,t&&`Request body: ${Tt(t)}`].filter(Boolean),name:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=t,this.headers=s,this.status=o,this.url=i}},F1=class extends Z{constructor({body:t,cause:r,details:n,url:s}){super("WebSocket request failed.",{cause:r,details:n,metaMessages:[`URL: ${fp(s)}`,t&&`Request body: ${Tt(t)}`].filter(Boolean),name:"WebSocketRequestError"}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.url=s}},tc=class extends Z{constructor({body:t,error:r,url:n}){super("RPC Request failed.",{cause:r,details:r.message,metaMessages:[`URL: ${fp(n)}`,`Request body: ${Tt(t)}`],name:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=r.code,this.data=r.data,this.url=n}},tu=class extends Z{constructor({url:t}={}){super("The socket has been closed.",{metaMessages:[t&&`URL: ${fp(t)}`].filter(Boolean),name:"SocketClosedError"}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.url=t}},gp=class extends Z{constructor({body:t,url:r}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${fp(r)}`,`Request body: ${Tt(t)}`],name:"TimeoutError"}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.url=r}}});var V$e,hs,ms,Oh,kh,Bh,Dh,Xc,Ti,Uh,Lh,ru,nu,yp,Mh,el,Hh,$h,Fh,jh,zh,su,Vh,qh,Wh,Kh,Zh,ou,Gh,hw,Yh=m(()=>{yt();Qc();V$e=-1,hs=class extends Z{constructor(t,{code:r,docsPath:n,metaMessages:s,name:o,shortMessage:i}){super(i,{cause:t,docsPath:n,metaMessages:s||t?.metaMessages,name:o||"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=o||t.name,this.code=t instanceof tc?t.code:r??V$e}},ms=class extends hs{constructor(t,r){super(t,r),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=r.data}},Oh=class e extends hs{constructor(t){super(t,{code:e.code,name:"ParseRpcError",shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."})}};Object.defineProperty(Oh,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});kh=class e extends hs{constructor(t){super(t,{code:e.code,name:"InvalidRequestRpcError",shortMessage:"JSON is not a valid request object."})}};Object.defineProperty(kh,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});Bh=class e extends hs{constructor(t,{method:r}={}){super(t,{code:e.code,name:"MethodNotFoundRpcError",shortMessage:`The method${r?` "${r}"`:""} does not exist / is not available.`})}};Object.defineProperty(Bh,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});Dh=class e extends hs{constructor(t){super(t,{code:e.code,name:"InvalidParamsRpcError",shortMessage:["Invalid parameters were provided to the RPC method.","Double check you have provided the correct parameters."].join(`
`)})}};Object.defineProperty(Dh,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});Xc=class e extends hs{constructor(t){super(t,{code:e.code,name:"InternalRpcError",shortMessage:"An internal error was received."})}};Object.defineProperty(Xc,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});Ti=class e extends hs{constructor(t){super(t,{code:e.code,name:"InvalidInputRpcError",shortMessage:["Missing or invalid parameters.","Double check you have provided the correct parameters."].join(`
`)})}};Object.defineProperty(Ti,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});Uh=class e extends hs{constructor(t){super(t,{code:e.code,name:"ResourceNotFoundRpcError",shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}};Object.defineProperty(Uh,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});Lh=class e extends hs{constructor(t){super(t,{code:e.code,name:"ResourceUnavailableRpcError",shortMessage:"Requested resource not available."})}};Object.defineProperty(Lh,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});ru=class e extends hs{constructor(t){super(t,{code:e.code,name:"TransactionRejectedRpcError",shortMessage:"Transaction creation failed."})}};Object.defineProperty(ru,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});nu=class e extends hs{constructor(t,{method:r}={}){super(t,{code:e.code,name:"MethodNotSupportedRpcError",shortMessage:`Method${r?` "${r}"`:""} is not supported.`})}};Object.defineProperty(nu,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});yp=class e extends hs{constructor(t){super(t,{code:e.code,name:"LimitExceededRpcError",shortMessage:"Request exceeds defined limit."})}};Object.defineProperty(yp,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});Mh=class e extends hs{constructor(t){super(t,{code:e.code,name:"JsonRpcVersionUnsupportedError",shortMessage:"Version of JSON-RPC protocol is not supported."})}};Object.defineProperty(Mh,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});el=class e extends ms{constructor(t){super(t,{code:e.code,name:"UserRejectedRequestError",shortMessage:"User rejected the request."})}};Object.defineProperty(el,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});Hh=class e extends ms{constructor(t){super(t,{code:e.code,name:"UnauthorizedProviderError",shortMessage:"The requested method and/or account has not been authorized by the user."})}};Object.defineProperty(Hh,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});$h=class e extends ms{constructor(t,{method:r}={}){super(t,{code:e.code,name:"UnsupportedProviderMethodError",shortMessage:`The Provider does not support the requested method${r?` " ${r}"`:""}.`})}};Object.defineProperty($h,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});Fh=class e extends ms{constructor(t){super(t,{code:e.code,name:"ProviderDisconnectedError",shortMessage:"The Provider is disconnected from all chains."})}};Object.defineProperty(Fh,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});jh=class e extends ms{constructor(t){super(t,{code:e.code,name:"ChainDisconnectedError",shortMessage:"The Provider is not connected to the requested chain."})}};Object.defineProperty(jh,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});zh=class e extends ms{constructor(t){super(t,{code:e.code,name:"SwitchChainError",shortMessage:"An error occurred when attempting to switch chain."})}};Object.defineProperty(zh,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});su=class e extends ms{constructor(t){super(t,{code:e.code,name:"UnsupportedNonOptionalCapabilityError",shortMessage:"This Wallet does not support a capability that was not marked as optional."})}};Object.defineProperty(su,"code",{enumerable:!0,configurable:!0,writable:!0,value:5700});Vh=class e extends ms{constructor(t){super(t,{code:e.code,name:"UnsupportedChainIdError",shortMessage:"This Wallet does not support the requested chain ID."})}};Object.defineProperty(Vh,"code",{enumerable:!0,configurable:!0,writable:!0,value:5710});qh=class e extends ms{constructor(t){super(t,{code:e.code,name:"DuplicateIdError",shortMessage:"There is already a bundle submitted with this ID."})}};Object.defineProperty(qh,"code",{enumerable:!0,configurable:!0,writable:!0,value:5720});Wh=class e extends ms{constructor(t){super(t,{code:e.code,name:"UnknownBundleIdError",shortMessage:"This bundle id is unknown / has not been submitted"})}};Object.defineProperty(Wh,"code",{enumerable:!0,configurable:!0,writable:!0,value:5730});Kh=class e extends ms{constructor(t){super(t,{code:e.code,name:"BundleTooLargeError",shortMessage:"The call bundle is too large for the Wallet to process."})}};Object.defineProperty(Kh,"code",{enumerable:!0,configurable:!0,writable:!0,value:5740});Zh=class e extends ms{constructor(t){super(t,{code:e.code,name:"AtomicReadyWalletRejectedUpgradeError",shortMessage:"The Wallet can support atomicity after an upgrade, but the user rejected the upgrade."})}};Object.defineProperty(Zh,"code",{enumerable:!0,configurable:!0,writable:!0,value:5750});ou=class e extends ms{constructor(t){super(t,{code:e.code,name:"AtomicityNotSupportedError",shortMessage:"The wallet does not support atomic execution but the request requires it."})}};Object.defineProperty(ou,"code",{enumerable:!0,configurable:!0,writable:!0,value:5760});Gh=class e extends ms{constructor(t){super(t,{code:e.code,name:"WalletConnectSessionSettlementError",shortMessage:"WalletConnect session settlement failed."})}};Object.defineProperty(Gh,"code",{enumerable:!0,configurable:!0,writable:!0,value:7e3});hw=class extends hs{constructor(t){super(t,{name:"UnknownRpcError",shortMessage:"An unknown RPC error occurred."})}}});function Wo(e,{abi:t,address:r,args:n,docsPath:s,functionName:o,sender:i}){let a=e instanceof ec?e:e instanceof Z?e.walk(h=>"data"in h)||e.walk():{},{code:c,data:l,details:u,message:d,shortMessage:p}=a,f=e instanceof Ai?new pw({functionName:o}):[q$e,Xc.code].includes(c)&&(l||u||d||p)||c===Ti.code&&u==="execution reverted"&&l?new hp({abi:t,data:typeof l=="object"?l.data:l,functionName:o,message:a instanceof tc?u:p??d}):e;return new Rh(f,{abi:t,args:n,contractAddress:r,docsPath:s,functionName:o,sender:i})}var q$e,Jh=m(()=>{Xr();yt();mp();Qc();Yh();q$e=3});function Wre(e){let t=zt(`0x${e.substring(4)}`).substring(26);return Gc(`0x${t}`)}var Kre=m(()=>{Aa();Si()});function mw(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function bp(e){if(!mw(e))throw new Error("Uint8Array expected")}function gw(e,t){if(typeof t!="boolean")throw new Error(e+" boolean expected, got "+t)}function Ux(e){let t=e.toString(16);return t.length&1?"0"+t:t}function Yre(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return e===""?zD:BigInt("0x"+e)}function yw(e){if(bp(e),Jre)return e.toHex();let t="";for(let r=0;r<e.length;r++)t+=W$e[e[r]];return t}function Zre(e){if(e>=wp._0&&e<=wp._9)return e-wp._0;if(e>=wp.A&&e<=wp.F)return e-(wp.A-10);if(e>=wp.a&&e<=wp.f)return e-(wp.a-10)}function Lx(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);if(Jre)return Uint8Array.fromHex(e);let t=e.length,r=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);let n=new Uint8Array(r);for(let s=0,o=0;s<r;s++,o+=2){let i=Zre(e.charCodeAt(o)),a=Zre(e.charCodeAt(o+1));if(i===void 0||a===void 0){let c=e[o]+e[o+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+o)}n[s]=i*16+a}return n}function Pi(e){return Yre(yw(e))}function VD(e){return bp(e),Yre(yw(Uint8Array.from(e).reverse()))}function iu(e,t){return Lx(e.toString(16).padStart(t*2,"0"))}function qD(e,t){return iu(e,t).reverse()}function jn(e,t,r){let n;if(typeof t=="string")try{n=Lx(t)}catch(o){throw new Error(e+" must be hex string or Uint8Array, cause: "+o)}else if(mw(t))n=Uint8Array.from(t);else throw new Error(e+" must be hex string or Uint8Array");let s=n.length;if(typeof r=="number"&&s!==r)throw new Error(e+" of length "+r+" expected, got "+s);return n}function Ko(...e){let t=0;for(let n=0;n<e.length;n++){let s=e[n];bp(s),t+=s.length}let r=new Uint8Array(t);for(let n=0,s=0;n<e.length;n++){let o=e[n];r.set(o,s),s+=o.length}return r}function AS(e){if(typeof e!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}function j1(e,t,r){return $D(e)&&$D(t)&&$D(r)&&t<=e&&e<r}function xp(e,t,r,n){if(!j1(t,r,n))throw new Error("expected valid "+e+": "+r+" <= n < "+n+", got "+t)}function Qre(e){let t;for(t=0;e>zD;e>>=jD,t+=1);return t}function Xre(e,t,r){if(typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof r!="function")throw new Error("hmacFn must be a function");let n=FD(e),s=FD(e),o=0,i=()=>{n.fill(1),s.fill(0),o=0},a=(...d)=>r(s,n,...d),c=(d=FD(0))=>{s=a(Gre([0]),d),n=a(),d.length!==0&&(s=a(Gre([1]),d),n=a())},l=()=>{if(o++>=1e3)throw new Error("drbg: tried 1000 values");let d=0,p=[];for(;d<t;){n=a();let f=n.slice();p.push(f),d+=n.length}return Ko(...p)};return(d,p)=>{i(),c(d);let f;for(;!(f=p(l()));)c();return i(),f}}function vp(e,t,r={}){let n=(s,o,i)=>{let a=K$e[o];if(typeof a!="function")throw new Error("invalid validator function");let c=e[s];if(!(i&&c===void 0)&&!a(c,e))throw new Error("param "+String(s)+" is invalid. Expected "+o+", got "+c)};for(let[s,o]of Object.entries(t))n(s,o,!1);for(let[s,o]of Object.entries(r))n(s,o,!0);return e}function WD(e){let t=new WeakMap;return(r,...n)=>{let s=t.get(r);if(s!==void 0)return s;let o=e(r,...n);return t.set(r,o),o}}var zD,jD,Jre,W$e,wp,$D,z1,FD,Gre,K$e,ww=m(()=>{zD=BigInt(0),jD=BigInt(1);Jre=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",W$e=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));wp={_0:48,_9:57,A:65,F:70,a:97,f:102};$D=e=>typeof e=="bigint"&&zD<=e;z1=e=>(jD<<BigInt(e))-jD,FD=e=>new Uint8Array(e),Gre=e=>Uint8Array.from(e);K$e={bigint:e=>typeof e=="bigint",function:e=>typeof e=="function",boolean:e=>typeof e=="boolean",string:e=>typeof e=="string",stringOrUint8Array:e=>typeof e=="string"||mw(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>typeof e=="function"&&Number.isSafeInteger(e.outputLen)}});function Nn(e,t){let r=e%t;return r>=Zo?r:t+r}function Ia(e,t,r){let n=e;for(;t-- >Zo;)n*=n,n%=r;return n}function CS(e,t){if(e===Zo)throw new Error("invert: expected non-zero number");if(t<=Zo)throw new Error("invert: expected positive modulus, got "+t);let r=Nn(e,t),n=t,s=Zo,o=oo,i=oo,a=Zo;for(;r!==Zo;){let l=n/r,u=n%r,d=s-i*l,p=o-a*l;n=r,r=u,s=i,o=a,i=d,a=p}if(n!==oo)throw new Error("invert: does not exist");return Nn(s,t)}function sne(e,t){let r=(e.ORDER+oo)/tne,n=e.pow(t,r);if(!e.eql(e.sqr(n),t))throw new Error("Cannot find square root");return n}function G$e(e,t){let r=(e.ORDER-rne)/nne,n=e.mul(t,V1),s=e.pow(n,r),o=e.mul(t,s),i=e.mul(e.mul(o,V1),s),a=e.mul(o,e.sub(i,e.ONE));if(!e.eql(e.sqr(a),t))throw new Error("Cannot find square root");return a}function Y$e(e){if(e<BigInt(3))throw new Error("sqrt is not defined for small field");let t=e-oo,r=0;for(;t%V1===Zo;)t/=V1,r++;let n=V1,s=Mx(e);for(;ene(s,n)===1;)if(n++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(r===1)return sne;let o=s.pow(n,t),i=(t+oo)/V1;return function(c,l){if(c.is0(l))return l;if(ene(c,l)!==1)throw new Error("Cannot find square root");let u=r,d=c.mul(c.ONE,o),p=c.pow(l,t),f=c.pow(l,i);for(;!c.eql(p,c.ONE);){if(c.is0(p))return c.ZERO;let h=1,g=c.sqr(p);for(;!c.eql(g,c.ONE);)if(h++,g=c.sqr(g),h===u)throw new Error("Cannot find square root");let y=oo<<BigInt(u-h-1),E=c.pow(d,y);u=h,d=c.sqr(E),p=c.mul(p,d),f=c.mul(f,E)}return f}}function J$e(e){return e%tne===Z$e?sne:e%nne===rne?G$e:Y$e(e)}function SS(e){let t={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},r=Q$e.reduce((n,s)=>(n[s]="function",n),t);return vp(e,r)}function X$e(e,t,r){if(r<Zo)throw new Error("invalid exponent, negatives unsupported");if(r===Zo)return e.ONE;if(r===oo)return t;let n=e.ONE,s=t;for(;r>Zo;)r&oo&&(n=e.mul(n,s)),s=e.sqr(s),r>>=oo;return n}function bw(e,t,r=!1){let n=new Array(t.length).fill(r?e.ZERO:void 0),s=t.reduce((i,a,c)=>e.is0(a)?i:(n[c]=i,e.mul(i,a)),e.ONE),o=e.inv(s);return t.reduceRight((i,a,c)=>e.is0(a)?i:(n[c]=e.mul(i,n[c]),e.mul(i,a)),o),n}function ene(e,t){let r=(e.ORDER-oo)/V1,n=e.pow(t,r),s=e.eql(n,e.ONE),o=e.eql(n,e.ZERO),i=e.eql(n,e.neg(e.ONE));if(!s&&!o&&!i)throw new Error("invalid Legendre symbol result");return s?1:o?0:-1}function KD(e,t){t!==void 0&&Sc(t);let r=t!==void 0?t:e.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}function Mx(e,t,r=!1,n={}){if(e<=Zo)throw new Error("invalid field: expected ORDER > 0, got "+e);let{nBitLength:s,nByteLength:o}=KD(e,t);if(o>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let i,a=Object.freeze({ORDER:e,isLE:r,BITS:s,BYTES:o,MASK:z1(s),ZERO:Zo,ONE:oo,create:c=>Nn(c,e),isValid:c=>{if(typeof c!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof c);return Zo<=c&&c<e},is0:c=>c===Zo,isOdd:c=>(c&oo)===oo,neg:c=>Nn(-c,e),eql:(c,l)=>c===l,sqr:c=>Nn(c*c,e),add:(c,l)=>Nn(c+l,e),sub:(c,l)=>Nn(c-l,e),mul:(c,l)=>Nn(c*l,e),pow:(c,l)=>X$e(a,c,l),div:(c,l)=>Nn(c*CS(l,e),e),sqrN:c=>c*c,addN:(c,l)=>c+l,subN:(c,l)=>c-l,mulN:(c,l)=>c*l,inv:c=>CS(c,e),sqrt:n.sqrt||(c=>(i||(i=J$e(e)),i(a,c))),toBytes:c=>r?qD(c,o):iu(c,o),fromBytes:c=>{if(c.length!==o)throw new Error("Field.fromBytes: expected "+o+" bytes, got "+c.length);return r?VD(c):Pi(c)},invertBatch:c=>bw(a,c),cmov:(c,l,u)=>u?l:c});return Object.freeze(a)}function one(e){if(typeof e!="bigint")throw new Error("field order must be bigint");let t=e.toString(2).length;return Math.ceil(t/8)}function ZD(e){let t=one(e);return t+Math.ceil(t/2)}function ine(e,t,r=!1){let n=e.length,s=one(t),o=ZD(t);if(n<16||n<o||n>1024)throw new Error("expected "+o+"-1024 bytes of input, got "+n);let i=r?VD(e):Pi(e),a=Nn(i,t-oo)+oo;return r?qD(a,s):iu(a,s)}var Zo,oo,V1,Z$e,tne,rne,nne,Q$e,Hx=m(()=>{ui();ww();Zo=BigInt(0),oo=BigInt(1),V1=BigInt(2),Z$e=BigInt(3),tne=BigInt(4),rne=BigInt(5),nne=BigInt(8);Q$e=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"]});function GD(e,t){let r=t.negate();return e?r:t}function lne(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw new Error("invalid window size, expected [1.."+t+"], got W="+e)}function YD(e,t){lne(e,t);let r=Math.ceil(t/e)+1,n=2**(e-1),s=2**e,o=z1(e),i=BigInt(e);return{windows:r,windowSize:n,mask:o,maxNumber:s,shiftBy:i}}function cne(e,t,r){let{windowSize:n,mask:s,maxNumber:o,shiftBy:i}=r,a=Number(e&s),c=e>>i;a>n&&(a-=o,c+=XD);let l=t*n,u=l+Math.abs(a)-1,d=a===0,p=a<0,f=t%2!==0;return{nextN:c,offset:u,isZero:d,isNeg:p,isNegF:f,offsetF:l}}function eFe(e,t){if(!Array.isArray(e))throw new Error("array expected");e.forEach((r,n)=>{if(!(r instanceof t))throw new Error("invalid point at index "+n)})}function tFe(e,t){if(!Array.isArray(e))throw new Error("array of scalars expected");e.forEach((r,n)=>{if(!t.isValid(r))throw new Error("invalid scalar at index "+n)})}function QD(e){return une.get(e)||1}function dne(e,t){return{constTimeNegate:GD,hasPrecomputes(r){return QD(r)!==1},unsafeLadder(r,n,s=e.ZERO){let o=r;for(;n>ane;)n&XD&&(s=s.add(o)),o=o.double(),n>>=XD;return s},precomputeWindow(r,n){let{windows:s,windowSize:o}=YD(n,t),i=[],a=r,c=a;for(let l=0;l<s;l++){c=a,i.push(c);for(let u=1;u<o;u++)c=c.add(a),i.push(c);a=c.double()}return i},wNAF(r,n,s){let o=e.ZERO,i=e.BASE,a=YD(r,t);for(let c=0;c<a.windows;c++){let{nextN:l,offset:u,isZero:d,isNeg:p,isNegF:f,offsetF:h}=cne(s,c,a);s=l,d?i=i.add(GD(f,n[h])):o=o.add(GD(p,n[u]))}return{p:o,f:i}},wNAFUnsafe(r,n,s,o=e.ZERO){let i=YD(r,t);for(let a=0;a<i.windows&&s!==ane;a++){let{nextN:c,offset:l,isZero:u,isNeg:d}=cne(s,a,i);if(s=c,!u){let p=n[l];o=o.add(d?p.negate():p)}}return o},getPrecomputes(r,n,s){let o=JD.get(n);return o||(o=this.precomputeWindow(n,r),r!==1&&JD.set(n,s(o))),o},wNAFCached(r,n,s){let o=QD(r);return this.wNAF(o,this.getPrecomputes(o,r,s),n)},wNAFCachedUnsafe(r,n,s,o){let i=QD(r);return i===1?this.unsafeLadder(r,n,o):this.wNAFUnsafe(i,this.getPrecomputes(i,r,s),n,o)},setWindowSize(r,n){lne(n,t),une.set(r,n),JD.delete(r)}}}function pne(e,t,r,n){eFe(r,e),tFe(n,t);let s=r.length,o=n.length;if(s!==o)throw new Error("arrays of points and scalars must have equal length");let i=e.ZERO,a=Qre(BigInt(s)),c=1;a>12?c=a-3:a>4?c=a-2:a>0&&(c=2);let l=z1(c),u=new Array(Number(l)+1).fill(i),d=Math.floor((t.BITS-1)/c)*c,p=i;for(let f=d;f>=0;f-=c){u.fill(i);for(let g=0;g<o;g++){let y=n[g],E=Number(y>>BigInt(f)&l);u[E]=u[E].add(r[g])}let h=i;for(let g=u.length-1,y=i;g>0;g--)y=y.add(u[g]),h=h.add(y);if(p=p.add(h),f!==0)for(let g=0;g<c;g++)p=p.double()}return p}function eU(e){return SS(e.Fp),vp(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...KD(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}var ane,XD,JD,une,fne=m(()=>{Hx();ww();ane=BigInt(0),XD=BigInt(1);JD=new WeakMap,une=new WeakMap});function hne(e){e.lowS!==void 0&&gw("lowS",e.lowS),e.prehash!==void 0&&gw("prehash",e.prehash)}function rFe(e){let t=eU(e);vp(t,{a:"field",b:"field"},{allowInfinityPoint:"boolean",allowedPrivateKeyLengths:"array",clearCofactor:"function",fromBytes:"function",isTorsionFree:"function",toBytes:"function",wrapPrivateKey:"boolean"});let{endo:r,Fp:n,a:s}=t;if(r){if(!n.eql(s,n.ZERO))throw new Error("invalid endo: CURVE.a must be 0");if(typeof r!="object"||typeof r.beta!="bigint"||typeof r.splitScalar!="function")throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function')}return Object.freeze({...t})}function tU(e,t){return yw(iu(e,t))}function nFe(e){let t=rFe(e),{Fp:r}=t,n=Mx(t.n,t.nBitLength),s=t.toBytes||((b,w,C)=>{let _=w.toAffine();return Ko(Uint8Array.from([4]),r.toBytes(_.x),r.toBytes(_.y))}),o=t.fromBytes||(b=>{let w=b.subarray(1),C=r.fromBytes(w.subarray(0,r.BYTES)),_=r.fromBytes(w.subarray(r.BYTES,2*r.BYTES));return{x:C,y:_}});function i(b){let{a:w,b:C}=t,_=r.sqr(b),B=r.mul(_,b);return r.add(r.add(B,r.mul(b,w)),C)}function a(b,w){let C=r.sqr(w),_=i(b);return r.eql(C,_)}if(!a(t.Gx,t.Gy))throw new Error("bad curve params: generator point");let c=r.mul(r.pow(t.a,$x),nU),l=r.mul(r.sqr(t.b),BigInt(27));if(r.is0(r.add(c,l)))throw new Error("bad curve params: a or b");function u(b){return j1(b,Pr,t.n)}function d(b){let{allowedPrivateKeyLengths:w,nByteLength:C,wrapPrivateKey:_,n:B}=t;if(w&&typeof b!="bigint"){if(mw(b)&&(b=yw(b)),typeof b!="string"||!w.includes(b.length))throw new Error("invalid private key");b=b.padStart(C*2,"0")}let U;try{U=typeof b=="bigint"?b:Pi(jn("private key",b,C))}catch{throw new Error("invalid private key, expected hex or "+C+" bytes, got "+typeof b)}return _&&(U=Nn(U,B)),xp("private key",U,Pr,B),U}function p(b){if(!(b instanceof g))throw new Error("ProjectivePoint expected")}let f=WD((b,w)=>{let{px:C,py:_,pz:B}=b;if(r.eql(B,r.ONE))return{x:C,y:_};let U=b.is0();w==null&&(w=U?r.ONE:r.inv(B));let k=r.mul(C,w),$=r.mul(_,w),P=r.mul(B,w);if(U)return{x:r.ZERO,y:r.ZERO};if(!r.eql(P,r.ONE))throw new Error("invZ was invalid");return{x:k,y:$}}),h=WD(b=>{if(b.is0()){if(t.allowInfinityPoint&&!r.is0(b.py))return;throw new Error("bad point: ZERO")}let{x:w,y:C}=b.toAffine();if(!r.isValid(w)||!r.isValid(C))throw new Error("bad point: x or y not FE");if(!a(w,C))throw new Error("bad point: equation left != right");if(!b.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class g{constructor(w,C,_){if(w==null||!r.isValid(w))throw new Error("x required");if(C==null||!r.isValid(C)||r.is0(C))throw new Error("y required");if(_==null||!r.isValid(_))throw new Error("z required");this.px=w,this.py=C,this.pz=_,Object.freeze(this)}static fromAffine(w){let{x:C,y:_}=w||{};if(!w||!r.isValid(C)||!r.isValid(_))throw new Error("invalid affine point");if(w instanceof g)throw new Error("projective point not allowed");let B=U=>r.eql(U,r.ZERO);return B(C)&&B(_)?g.ZERO:new g(C,_,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(w){let C=bw(r,w.map(_=>_.pz));return w.map((_,B)=>_.toAffine(C[B])).map(g.fromAffine)}static fromHex(w){let C=g.fromAffine(o(jn("pointHex",w)));return C.assertValidity(),C}static fromPrivateKey(w){return g.BASE.multiply(d(w))}static msm(w,C){return pne(g,n,w,C)}_setWindowSize(w){A.setWindowSize(this,w)}assertValidity(){h(this)}hasEvenY(){let{y:w}=this.toAffine();if(r.isOdd)return!r.isOdd(w);throw new Error("Field doesn't support isOdd")}equals(w){p(w);let{px:C,py:_,pz:B}=this,{px:U,py:k,pz:$}=w,P=r.eql(r.mul(C,$),r.mul(U,B)),I=r.eql(r.mul(_,$),r.mul(k,B));return P&&I}negate(){return new g(this.px,r.neg(this.py),this.pz)}double(){let{a:w,b:C}=t,_=r.mul(C,$x),{px:B,py:U,pz:k}=this,$=r.ZERO,P=r.ZERO,I=r.ZERO,S=r.mul(B,B),O=r.mul(U,U),x=r.mul(k,k),v=r.mul(B,U);return v=r.add(v,v),I=r.mul(B,k),I=r.add(I,I),$=r.mul(w,I),P=r.mul(_,x),P=r.add($,P),$=r.sub(O,P),P=r.add(O,P),P=r.mul($,P),$=r.mul(v,$),I=r.mul(_,I),x=r.mul(w,x),v=r.sub(S,x),v=r.mul(w,v),v=r.add(v,I),I=r.add(S,S),S=r.add(I,S),S=r.add(S,x),S=r.mul(S,v),P=r.add(P,S),x=r.mul(U,k),x=r.add(x,x),S=r.mul(x,v),$=r.sub($,S),I=r.mul(x,O),I=r.add(I,I),I=r.add(I,I),new g($,P,I)}add(w){p(w);let{px:C,py:_,pz:B}=this,{px:U,py:k,pz:$}=w,P=r.ZERO,I=r.ZERO,S=r.ZERO,O=t.a,x=r.mul(t.b,$x),v=r.mul(C,U),N=r.mul(_,k),D=r.mul(B,$),T=r.add(C,_),L=r.add(U,k);T=r.mul(T,L),L=r.add(v,N),T=r.sub(T,L),L=r.add(C,B);let j=r.add(U,$);return L=r.mul(L,j),j=r.add(v,D),L=r.sub(L,j),j=r.add(_,B),P=r.add(k,$),j=r.mul(j,P),P=r.add(N,D),j=r.sub(j,P),S=r.mul(O,L),P=r.mul(x,D),S=r.add(P,S),P=r.sub(N,S),S=r.add(N,S),I=r.mul(P,S),N=r.add(v,v),N=r.add(N,v),D=r.mul(O,D),L=r.mul(x,L),N=r.add(N,D),D=r.sub(v,D),D=r.mul(O,D),L=r.add(L,D),v=r.mul(N,L),I=r.add(I,v),v=r.mul(j,L),P=r.mul(T,P),P=r.sub(P,v),v=r.mul(T,N),S=r.mul(j,S),S=r.add(S,v),new g(P,I,S)}subtract(w){return this.add(w.negate())}is0(){return this.equals(g.ZERO)}wNAF(w){return A.wNAFCached(this,w,g.normalizeZ)}multiplyUnsafe(w){let{endo:C,n:_}=t;xp("scalar",w,tl,_);let B=g.ZERO;if(w===tl)return B;if(this.is0()||w===Pr)return this;if(!C||A.hasPrecomputes(this))return A.wNAFCachedUnsafe(this,w,g.normalizeZ);let{k1neg:U,k1:k,k2neg:$,k2:P}=C.splitScalar(w),I=B,S=B,O=this;for(;k>tl||P>tl;)k&Pr&&(I=I.add(O)),P&Pr&&(S=S.add(O)),O=O.double(),k>>=Pr,P>>=Pr;return U&&(I=I.negate()),$&&(S=S.negate()),S=new g(r.mul(S.px,C.beta),S.py,S.pz),I.add(S)}multiply(w){let{endo:C,n:_}=t;xp("scalar",w,Pr,_);let B,U;if(C){let{k1neg:k,k1:$,k2neg:P,k2:I}=C.splitScalar(w),{p:S,f:O}=this.wNAF($),{p:x,f:v}=this.wNAF(I);S=A.constTimeNegate(k,S),x=A.constTimeNegate(P,x),x=new g(r.mul(x.px,C.beta),x.py,x.pz),B=S.add(x),U=O.add(v)}else{let{p:k,f:$}=this.wNAF(w);B=k,U=$}return g.normalizeZ([B,U])[0]}multiplyAndAddUnsafe(w,C,_){let B=g.BASE,U=($,P)=>P===tl||P===Pr||!$.equals(B)?$.multiplyUnsafe(P):$.multiply(P),k=U(this,C).add(U(w,_));return k.is0()?void 0:k}toAffine(w){return f(this,w)}isTorsionFree(){let{h:w,isTorsionFree:C}=t;if(w===Pr)return!0;if(C)return C(g,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){let{h:w,clearCofactor:C}=t;return w===Pr?this:C?C(g,this):this.multiplyUnsafe(t.h)}toRawBytes(w=!0){return gw("isCompressed",w),this.assertValidity(),s(g,this,w)}toHex(w=!0){return gw("isCompressed",w),yw(this.toRawBytes(w))}}g.BASE=new g(t.Gx,t.Gy,r.ONE),g.ZERO=new g(r.ZERO,r.ONE,r.ZERO);let{endo:y,nBitLength:E}=t,A=dne(g,y?Math.ceil(E/2):E);return{CURVE:t,ProjectivePoint:g,normPrivateKeyToScalar:d,weierstrassEquation:i,isWithinCurveOrder:u}}function sFe(e){let t=eU(e);return vp(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}function mne(e){let t=sFe(e),{Fp:r,n,nByteLength:s,nBitLength:o}=t,i=r.BYTES+1,a=2*r.BYTES+1;function c(x){return Nn(x,n)}function l(x){return CS(x,n)}let{ProjectivePoint:u,normPrivateKeyToScalar:d,weierstrassEquation:p,isWithinCurveOrder:f}=nFe({...t,toBytes(x,v,N){let D=v.toAffine(),T=r.toBytes(D.x),L=Ko;return gw("isCompressed",N),N?L(Uint8Array.from([v.hasEvenY()?2:3]),T):L(Uint8Array.from([4]),T,r.toBytes(D.y))},fromBytes(x){let v=x.length,N=x[0],D=x.subarray(1);if(v===i&&(N===2||N===3)){let T=Pi(D);if(!j1(T,Pr,r.ORDER))throw new Error("Point is not on curve");let L=p(T),j;try{j=r.sqrt(L)}catch(ne){let Y=ne instanceof Error?": "+ne.message:"";throw new Error("Point is not on curve"+Y)}let q=(j&Pr)===Pr;return(N&1)===1!==q&&(j=r.neg(j)),{x:T,y:j}}else if(v===a&&N===4){let T=r.fromBytes(D.subarray(0,r.BYTES)),L=r.fromBytes(D.subarray(r.BYTES,2*r.BYTES));return{x:T,y:L}}else{let T=i,L=a;throw new Error("invalid Point, expected length of "+T+", or uncompressed "+L+", got "+v)}}});function h(x){let v=n>>Pr;return x>v}function g(x){return h(x)?c(-x):x}let y=(x,v,N)=>Pi(x.slice(v,N));class E{constructor(v,N,D){xp("r",v,Pr,n),xp("s",N,Pr,n),this.r=v,this.s=N,D!=null&&(this.recovery=D),Object.freeze(this)}static fromCompact(v){let N=s;return v=jn("compactSignature",v,N*2),new E(y(v,0,N),y(v,N,2*N))}static fromDER(v){let{r:N,s:D}=Ep.toSig(jn("DER",v));return new E(N,D)}assertValidity(){}addRecoveryBit(v){return new E(this.r,this.s,v)}recoverPublicKey(v){let{r:N,s:D,recovery:T}=this,L=B(jn("msgHash",v));if(T==null||![0,1,2,3].includes(T))throw new Error("recovery id invalid");let j=T===2||T===3?N+t.n:N;if(j>=r.ORDER)throw new Error("recovery id 2 or 3 invalid");let q=(T&1)===0?"02":"03",ie=u.fromHex(q+tU(j,r.BYTES)),ne=l(j),Y=c(-L*ne),me=c(D*ne),ue=u.BASE.multiplyAndAddUnsafe(ie,Y,me);if(!ue)throw new Error("point at infinify");return ue.assertValidity(),ue}hasHighS(){return h(this.s)}normalizeS(){return this.hasHighS()?new E(this.r,c(-this.s),this.recovery):this}toDERRawBytes(){return Lx(this.toDERHex())}toDERHex(){return Ep.hexFromSig(this)}toCompactRawBytes(){return Lx(this.toCompactHex())}toCompactHex(){let v=s;return tU(this.r,v)+tU(this.s,v)}}let A={isValidPrivateKey(x){try{return d(x),!0}catch{return!1}},normPrivateKeyToScalar:d,randomPrivateKey:()=>{let x=ZD(t.n);return ine(t.randomBytes(x),t.n)},precompute(x=8,v=u.BASE){return v._setWindowSize(x),v.multiply(BigInt(3)),v}};function b(x,v=!0){return u.fromPrivateKey(x).toRawBytes(v)}function w(x){if(typeof x=="bigint")return!1;if(x instanceof u)return!0;let N=jn("key",x).length,D=r.BYTES,T=D+1,L=2*D+1;if(!(t.allowedPrivateKeyLengths||s===T))return N===T||N===L}function C(x,v,N=!0){if(w(x)===!0)throw new Error("first arg must be private key");if(w(v)===!1)throw new Error("second arg must be public key");return u.fromHex(v).multiply(d(x)).toRawBytes(N)}let _=t.bits2int||function(x){if(x.length>8192)throw new Error("input is too large");let v=Pi(x),N=x.length*8-o;return N>0?v>>BigInt(N):v},B=t.bits2int_modN||function(x){return c(_(x))},U=z1(o);function k(x){return xp("num < 2^"+o,x,tl,U),iu(x,s)}function $(x,v,N=P){if(["recovered","canonical"].some(de=>de in N))throw new Error("sign() legacy options not supported");let{hash:D,randomBytes:T}=t,{lowS:L,prehash:j,extraEntropy:q}=N;L==null&&(L=!0),x=jn("msgHash",x),hne(N),j&&(x=jn("prehashed msgHash",D(x)));let ie=B(x),ne=d(v),Y=[k(ne),k(ie)];if(q!=null&&q!==!1){let de=q===!0?T(r.BYTES):q;Y.push(jn("extraEntropy",de))}let me=Ko(...Y),ue=ie;function Te(de){let Pe=_(de);if(!f(Pe))return;let bt=l(Pe),At=u.BASE.multiply(Pe).toAffine(),vt=c(At.x);if(vt===tl)return;let Zt=c(bt*c(ue+vt*ne));if(Zt===tl)return;let Lr=(At.x===vt?0:2)|Number(At.y&Pr),kl=Zt;return L&&h(Zt)&&(kl=g(Zt),Lr^=1),new E(vt,kl,Lr)}return{seed:me,k2sig:Te}}let P={lowS:t.lowS,prehash:!1},I={lowS:t.lowS,prehash:!1};function S(x,v,N=P){let{seed:D,k2sig:T}=$(x,v,N),L=t;return Xre(L.hash.outputLen,L.nByteLength,L.hmac)(D,T)}u.BASE._setWindowSize(8);function O(x,v,N,D=I){let T=x;v=jn("msgHash",v),N=jn("publicKey",N);let{lowS:L,prehash:j,format:q}=D;if(hne(D),"strict"in D)throw new Error("options.strict was renamed to lowS");if(q!==void 0&&q!=="compact"&&q!=="der")throw new Error("format must be compact or der");let ie=typeof T=="string"||mw(T),ne=!ie&&!q&&typeof T=="object"&&T!==null&&typeof T.r=="bigint"&&typeof T.s=="bigint";if(!ie&&!ne)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let Y,me;try{if(ne&&(Y=new E(T.r,T.s)),ie){try{q!=="compact"&&(Y=E.fromDER(T))}catch(Lr){if(!(Lr instanceof Ep.Err))throw Lr}!Y&&q!=="der"&&(Y=E.fromCompact(T))}me=u.fromHex(N)}catch{return!1}if(!Y||L&&Y.hasHighS())return!1;j&&(v=t.hash(v));let{r:ue,s:Te}=Y,de=B(v),Pe=l(Te),bt=c(de*Pe),At=c(ue*Pe),vt=u.BASE.multiplyAndAddUnsafe(me,bt,At)?.toAffine();return vt?c(vt.x)===ue:!1}return{CURVE:t,getPublicKey:b,getSharedSecret:C,sign:S,verify:O,ProjectivePoint:u,Signature:E,utils:A}}function oFe(e,t){let r=e.ORDER,n=tl;for(let h=r-Pr;h%Qh===tl;h/=Qh)n+=Pr;let s=n,o=Qh<<s-Pr-Pr,i=o*Qh,a=(r-Pr)/i,c=(a-Pr)/Qh,l=i-Pr,u=o,d=e.pow(t,a),p=e.pow(t,(a+Pr)/Qh),f=(h,g)=>{let y=d,E=e.pow(g,l),A=e.sqr(E);A=e.mul(A,g);let b=e.mul(h,A);b=e.pow(b,c),b=e.mul(b,E),E=e.mul(b,g),A=e.mul(b,h);let w=e.mul(A,E);b=e.pow(w,u);let C=e.eql(b,e.ONE);E=e.mul(A,p),b=e.mul(w,y),A=e.cmov(E,A,C),w=e.cmov(b,w,C);for(let _=s;_>Pr;_--){let B=_-Qh;B=Qh<<B-Pr;let U=e.pow(w,B),k=e.eql(U,e.ONE);E=e.mul(A,y),y=e.mul(y,y),U=e.mul(w,y),A=e.cmov(E,A,k),w=e.cmov(U,w,k)}return{isValid:C,value:A}};if(e.ORDER%nU===$x){let h=(e.ORDER-$x)/nU,g=e.sqrt(e.neg(t));f=(y,E)=>{let A=e.sqr(E),b=e.mul(y,E);A=e.mul(A,b);let w=e.pow(A,h);w=e.mul(w,b);let C=e.mul(w,g),_=e.mul(e.sqr(w),E),B=e.eql(_,y),U=e.cmov(C,w,B);return{isValid:B,value:U}}}return f}function gne(e,t){if(SS(e),!e.isValid(t.A)||!e.isValid(t.B)||!e.isValid(t.Z))throw new Error("mapToCurveSimpleSWU: invalid opts");let r=oFe(e,t.Z);if(!e.isOdd)throw new Error("Fp.isOdd is not implemented!");return n=>{let s,o,i,a,c,l,u,d;s=e.sqr(n),s=e.mul(s,t.Z),o=e.sqr(s),o=e.add(o,s),i=e.add(o,e.ONE),i=e.mul(i,t.B),a=e.cmov(t.Z,e.neg(o),!e.eql(o,e.ZERO)),a=e.mul(a,t.A),o=e.sqr(i),l=e.sqr(a),c=e.mul(l,t.A),o=e.add(o,c),o=e.mul(o,i),l=e.mul(l,a),c=e.mul(l,t.B),o=e.add(o,c),u=e.mul(s,i);let{isValid:p,value:f}=r(o,l);d=e.mul(s,n),d=e.mul(d,f),u=e.cmov(u,i,p),d=e.cmov(d,f,p);let h=e.isOdd(n)===e.isOdd(d);d=e.cmov(e.neg(d),d,h);let g=bw(e,[a],!0)[0];return u=e.mul(u,g),{x:u,y:d}}}var rU,Ep,tl,Pr,Qh,$x,nU,sU=m(()=>{fne();Hx();ww();rU=class extends Error{constructor(t=""){super(t)}},Ep={Err:rU,_tlv:{encode:(e,t)=>{let{Err:r}=Ep;if(e<0||e>256)throw new r("tlv.encode: wrong tag");if(t.length&1)throw new r("tlv.encode: unpadded data");let n=t.length/2,s=Ux(n);if(s.length/2&128)throw new r("tlv.encode: long form length too big");let o=n>127?Ux(s.length/2|128):"";return Ux(e)+o+s+t},decode(e,t){let{Err:r}=Ep,n=0;if(e<0||e>256)throw new r("tlv.encode: wrong tag");if(t.length<2||t[n++]!==e)throw new r("tlv.decode: wrong tlv");let s=t[n++],o=!!(s&128),i=0;if(!o)i=s;else{let c=s&127;if(!c)throw new r("tlv.decode(long): indefinite length not supported");if(c>4)throw new r("tlv.decode(long): byte length is too big");let l=t.subarray(n,n+c);if(l.length!==c)throw new r("tlv.decode: length bytes not complete");if(l[0]===0)throw new r("tlv.decode(long): zero leftmost byte");for(let u of l)i=i<<8|u;if(n+=c,i<128)throw new r("tlv.decode(long): not minimal encoding")}let a=t.subarray(n,n+i);if(a.length!==i)throw new r("tlv.decode: wrong value length");return{v:a,l:t.subarray(n+i)}}},_int:{encode(e){let{Err:t}=Ep;if(e<tl)throw new t("integer: negative integers are not allowed");let r=Ux(e);if(Number.parseInt(r[0],16)&8&&(r="00"+r),r.length&1)throw new t("unexpected DER parsing assertion: unpadded hex");return r},decode(e){let{Err:t}=Ep;if(e[0]&128)throw new t("invalid signature integer: negative");if(e[0]===0&&!(e[1]&128))throw new t("invalid signature integer: unnecessary leading zero");return Pi(e)}},toSig(e){let{Err:t,_int:r,_tlv:n}=Ep,s=jn("signature",e),{v:o,l:i}=n.decode(48,s);if(i.length)throw new t("invalid signature: left bytes after parsing");let{v:a,l:c}=n.decode(2,o),{v:l,l:u}=n.decode(2,c);if(u.length)throw new t("invalid signature: left bytes after parsing");return{r:r.decode(a),s:r.decode(l)}},hexFromSig(e){let{_tlv:t,_int:r}=Ep,n=t.encode(2,r.encode(e.r)),s=t.encode(2,r.encode(e.s)),o=n+s;return t.encode(48,o)}};tl=BigInt(0),Pr=BigInt(1),Qh=BigInt(2),$x=BigInt(3),nU=BigInt(4)});function iFe(e){return{hash:e,hmac:(t,...r)=>Fm(e,t,N2(...r)),randomBytes:If}}function yne(e,t){let r=n=>mne({...e,...iFe(n)});return{...r(t),create:r}}var wne=m(()=>{HE();ui();sU();});function Xh(e,t){if(Fx(e),Fx(t),e<0||e>=1<<8*t)throw new Error("invalid I2OSP input: "+e);let r=Array.from({length:t}).fill(0);for(let n=t-1;n>=0;n--)r[n]=e&255,e>>>=8;return new Uint8Array(r)}function cFe(e,t){let r=new Uint8Array(e.length);for(let n=0;n<e.length;n++)r[n]=e[n]^t[n];return r}function Fx(e){if(!Number.isSafeInteger(e))throw new Error("number expected")}function lFe(e,t,r,n){bp(e),bp(t),Fx(r),t.length>255&&(t=n(Ko(AS("H2C-OVERSIZE-DST-"),t)));let{outputLen:s,blockLen:o}=n,i=Math.ceil(r/s);if(r>65535||i>255)throw new Error("expand_message_xmd: invalid lenInBytes");let a=Ko(t,Xh(t.length,1)),c=Xh(0,o),l=Xh(r,2),u=new Array(i),d=n(Ko(c,e,l,Xh(0,1),a));u[0]=n(Ko(d,Xh(1,1),a));for(let f=1;f<=i;f++){let h=[cFe(d,u[f-1]),Xh(f+1,1),a];u[f]=n(Ko(...h))}return Ko(...u).slice(0,r)}function uFe(e,t,r,n,s){if(bp(e),bp(t),Fx(r),t.length>255){let o=Math.ceil(2*n/8);t=s.create({dkLen:o}).update(AS("H2C-OVERSIZE-DST-")).update(t).digest()}if(r>65535||t.length>255)throw new Error("expand_message_xof: invalid lenInBytes");return s.create({dkLen:r}).update(e).update(Xh(r,2)).update(t).update(Xh(t.length,1)).digest()}function bne(e,t,r){vp(r,{DST:"stringOrUint8Array",p:"bigint",m:"isSafeInteger",k:"isSafeInteger",hash:"hash"});let{p:n,k:s,m:o,hash:i,expand:a,DST:c}=r;bp(e),Fx(t);let l=typeof c=="string"?AS(c):c,u=n.toString(2).length,d=Math.ceil((u+s)/8),p=t*o*d,f;if(a==="xmd")f=lFe(e,l,p,i);else if(a==="xof")f=uFe(e,l,p,s,i);else if(a==="_internal_pass")f=e;else throw new Error('expand must be "xmd" or "xof"');let h=new Array(t);for(let g=0;g<t;g++){let y=new Array(o);for(let E=0;E<o;E++){let A=d*(E+g*o),b=f.subarray(A,A+d);y[E]=Nn(aFe(b),n)}h[g]=y}return h}function xne(e,t){let r=t.map(n=>Array.from(n).reverse());return(n,s)=>{let[o,i,a,c]=r.map(d=>d.reduce((p,f)=>e.add(e.mul(p,n),f))),[l,u]=bw(e,[i,c],!0);return n=e.mul(o,l),s=e.mul(s,e.mul(a,u)),{x:n,y:s}}}function vne(e,t,r){if(typeof t!="function")throw new Error("mapToCurve() must be defined");function n(o){return e.fromAffine(t(o))}function s(o){let i=o.clearCofactor();return i.equals(e.ZERO)?e.ZERO:(i.assertValidity(),i)}return{defaults:r,hashToCurve(o,i){let a=bne(o,2,{...r,DST:r.DST,...i}),c=n(a[0]),l=n(a[1]);return s(c.add(l))},encodeToCurve(o,i){let a=bne(o,1,{...r,DST:r.encodeDST,...i});return s(n(a[0]))},mapToCurve(o){if(!Array.isArray(o))throw new Error("expected array of bigints");for(let i of o)if(typeof i!="bigint")throw new Error("expected array of bigints");return s(n(o))}}}var aFe,Ene=m(()=>{Hx();ww();aFe=Pi});var Pne={};Se(Pne,{encodeToCurve:()=>wFe,hashToCurve:()=>yFe,schnorr:()=>hFe,secp256k1:()=>Go,secp256k1_hasher:()=>dU});function Sne(e){let t=Vx,r=BigInt(3),n=BigInt(6),s=BigInt(11),o=BigInt(22),i=BigInt(23),a=BigInt(44),c=BigInt(88),l=e*e*e%t,u=l*l*e%t,d=Ia(u,r,t)*u%t,p=Ia(d,r,t)*u%t,f=Ia(p,_S,t)*l%t,h=Ia(f,s,t)*f%t,g=Ia(h,o,t)*h%t,y=Ia(g,a,t)*g%t,E=Ia(y,c,t)*y%t,A=Ia(E,a,t)*g%t,b=Ia(A,r,t)*u%t,w=Ia(b,i,t)*h%t,C=Ia(w,n,t)*l%t,_=Ia(C,_S,t);if(!e0.eql(e0.sqr(_),e))throw new Error("Cannot find square root");return _}function TS(e,...t){let r=Cne[e];if(r===void 0){let n=Tc(Uint8Array.from(e,s=>s.charCodeAt(0)));r=Ko(n,n),Cne[e]=r}return Tc(Ko(r,...t))}function aU(e){let t=Go.utils.normPrivateKeyToScalar(e),r=uU.fromPrivateKey(t);return{scalar:r.hasEvenY()?t:zx(-t),bytes:lU(r)}}function Ine(e){xp("x",e,jx,Vx);let t=oU(e*e),r=oU(t*e+BigInt(7)),n=Sne(r);n%_S!==cU&&(n=oU(-n));let s=new uU(e,n,jx);return s.assertValidity(),s}function _ne(...e){return zx(xw(TS("BIP0340/challenge",...e)))}function pFe(e){return aU(e).bytes}function fFe(e,t,r=If(32)){let n=jn("message",e),{bytes:s,scalar:o}=aU(t),i=jn("auxRand",r,32),a=iU(o^xw(TS("BIP0340/aux",i))),c=TS("BIP0340/nonce",a,s,n),l=zx(xw(c));if(l===cU)throw new Error("sign failed: k is zero");let{bytes:u,scalar:d}=aU(l),p=_ne(u,s,n),f=new Uint8Array(64);if(f.set(u,0),f.set(iU(zx(d+p*o)),32),!Tne(f,n,s))throw new Error("sign: Invalid signature produced");return f}function Tne(e,t,r){let n=jn("signature",e,64),s=jn("message",t),o=jn("publicKey",r,32);try{let i=Ine(xw(o)),a=xw(n.subarray(0,32));if(!j1(a,jx,Vx))return!1;let c=xw(n.subarray(32,64));if(!j1(c,jx,IS))return!1;let l=_ne(iU(a),lU(i),s),u=dFe(i,c,zx(-l));return!(!u||!u.hasEvenY()||u.toAffine().x!==a)}catch{return!1}}var Vx,IS,cU,jx,_S,Ane,e0,Go,Cne,lU,iU,oU,zx,uU,dFe,xw,hFe,mFe,gFe,dU,yFe,wFe,q1=m(()=>{t8();ui();wne();Ene();Hx();ww();sU();Vx=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),IS=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),cU=BigInt(0),jx=BigInt(1),_S=BigInt(2),Ane=(e,t)=>(e+t/_S)/t;e0=Mx(Vx,void 0,void 0,{sqrt:Sne}),Go=yne({a:cU,b:BigInt(7),Fp:e0,n:IS,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{let t=IS,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-jx*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),s=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),o=r,i=BigInt("0x100000000000000000000000000000000"),a=Ane(o*e,t),c=Ane(-n*e,t),l=Nn(e-a*r-c*s,t),u=Nn(-a*n-c*o,t),d=l>i,p=u>i;if(d&&(l=t-l),p&&(u=t-u),l>i||u>i)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:d,k1:l,k2neg:p,k2:u}}}},Tc),Cne={};lU=e=>e.toRawBytes(!0).slice(1),iU=e=>iu(e,32),oU=e=>Nn(e,Vx),zx=e=>Nn(e,IS),uU=Go.ProjectivePoint,dFe=(e,t,r)=>uU.BASE.multiplyAndAddUnsafe(e,t,r);xw=Pi;hFe={getPublicKey:pFe,sign:fFe,verify:Tne,utils:{randomPrivateKey:Go.utils.randomPrivateKey,lift_x:Ine,pointToBytes:lU,numberToBytesBE:iu,bytesToNumberBE:Pi,taggedHash:TS,mod:Nn}},mFe=xne(e0,[["0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa8c7","0x7d3d4c80bc321d5b9f315cea7fd44c5d595d2fc0bf63b92dfff1044f17c6581","0x534c328d23f234e6e2a413deca25caece4506144037c40314ecbd0b53d9dd262","0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa88c"],["0xd35771193d94918a9ca34ccbb7b640dd86cd409542f8487d9fe6b745781eb49b","0xedadc6f64383dc1df7c4b2d51b54225406d36b641f5e41bbc52a56612a8c6d14","0x0000000000000000000000000000000000000000000000000000000000000001"],["0x4bda12f684bda12f684bda12f684bda12f684bda12f684bda12f684b8e38e23c","0xc75e0c32d5cb7c0fa9d0a54b12a0a6d5647ab046d686da6fdffc90fc201d71a3","0x29a6194691f91a73715209ef6512e576722830a201be2018a765e85a9ecee931","0x2f684bda12f684bda12f684bda12f684bda12f684bda12f684bda12f38e38d84"],["0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffff93b","0x7a06534bb8bdb49fd5e9e6632722c2989467c1bfc8e8d978dfb425d2685c2573","0x6484aa716545ca2cf3a70c3fa8fe337e0a3d21162f0d6299a7bf8192bfd2a76f","0x0000000000000000000000000000000000000000000000000000000000000001"]].map(e=>e.map(t=>BigInt(t)))),gFe=gne(e0,{A:BigInt("0x3f8731abdd661adca08a5558f0f5d272e953d363cb6f0e5d405447c01a444533"),B:BigInt("1771"),Z:e0.create(BigInt("-11"))}),dU=vne(Go.ProjectivePoint,e=>{let{x:t,y:r}=gFe(e0.create(e[0]));return mFe(t,r)},{DST:"secp256k1_XMD:SHA-256_SSWU_RO_",encodeDST:"secp256k1_XMD:SHA-256_SSWU_NU_",p:e0.ORDER,m:1,k:128,expand:"xmd",hash:Tc}),yFe=dU.hashToCurve,wFe=dU.encodeToCurve});async function PS({hash:e,signature:t}){let r=je(e)?e:vr(e),{secp256k1:n}=await Promise.resolve().then(()=>(q1(),Pne));return`0x${(()=>{if(typeof t=="object"&&"r"in t&&"s"in t){let{r:l,s:u,v:d,yParity:p}=t,f=Number(p??d),h=Nne(f);return new n.Signature(lt(l),lt(u)).addRecoveryBit(h)}let i=je(t)?t:vr(t);if(Ot(i)!==65)throw new Error("invalid signature length");let a=ft(`0x${i.slice(130)}`),c=Nne(a);return n.Signature.fromCompact(i.substring(2,130)).addRecoveryBit(c)})().recoverPublicKey(r.substring(2)).toHex(!1)}`}function Nne(e){if(e===0||e===1)return e;if(e===27)return 0;if(e===28)return 1;throw new Error("Invalid yParityOrV value")}var pU=m(()=>{$o();Ei();un();De()});async function Ni({hash:e,signature:t}){return Wre(await PS({hash:e,signature:t}))}var t0=m(()=>{Kre();pU()});function Yo(e,t="hex"){let r=kne(e),n=Jc(new Uint8Array(r.length));return r.encode(n),t==="hex"?ht(n.bytes):n.bytes}function Rne(e,t="bytes"){return Yo(e,t)}function One(e,t="hex"){return Yo(e,t)}function kne(e){return Array.isArray(e)?bFe(e.map(t=>kne(t))):xFe(e)}function bFe(e){let t=e.reduce((s,o)=>s+o.length,0),r=Bne(t);return{length:t<=55?1+t:1+r+t,encode(s){t<=55?s.pushByte(192+t):(s.pushByte(247+r),r===1?s.pushUint8(t):r===2?s.pushUint16(t):r===3?s.pushUint24(t):s.pushUint32(t));for(let{encode:o}of e)o(s)}}}function xFe(e){let t=typeof e=="string"?Gt(e):e,r=Bne(t.length);return{length:t.length===1&&t[0]<128?1:t.length<=55?1+t.length:1+r+t.length,encode(s){t.length===1&&t[0]<128?s.pushBytes(t):t.length<=55?(s.pushByte(128+t.length),s.pushBytes(t)):(s.pushByte(183+r),r===1?s.pushUint8(t.length):r===2?s.pushUint16(t.length):r===3?s.pushUint24(t.length):s.pushUint32(t.length),s.pushBytes(t))}}}function Bne(e){if(e<2**8)return 1;if(e<2**16)return 2;if(e<2**24)return 3;if(e<2**32)return 4;throw new Z("Length is too large.")}var qx=m(()=>{yt();Qy();Or();De()});function Dne(e){let{chainId:t,nonce:r,to:n}=e,s=e.contractAddress??e.address,o=zt(pn(["0x05",Yo([t?J(t):"0x",s,r?J(r):"0x"])]));return n==="bytes"?Gt(o):o}var Une=m(()=>{Fn();Or();De();qx();Si()});async function r0(e){let{authorization:t,signature:r}=e;return Ni({hash:Dne(t),signature:r??t})}var Wx=m(()=>{t0();Une()});var vw,fU=m(()=>{Dx();H1();yt();qo();vw=class extends Z{constructor(t,{account:r,docsPath:n,chain:s,data:o,gas:i,gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:l,nonce:u,to:d,value:p}){let f=$1({from:r?.address,to:d,value:typeof p<"u"&&`${Ih(p)} ${s?.nativeCurrency?.symbol||"ETH"}`,data:o,gas:i,gasPrice:typeof a<"u"&&`${Pn(a)} gwei`,maxFeePerGas:typeof c<"u"&&`${Pn(c)} gwei`,maxPriorityFeePerGas:typeof l<"u"&&`${Pn(l)} gwei`,nonce:u});super(t.shortMessage,{cause:t,docsPath:n,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Estimate Gas Arguments:",f].filter(Boolean),name:"EstimateGasExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=t}}});var _a,Ri,n0,s0,o0,i0,a0,c0,l0,u0,rc,Oi,au=m(()=>{H1();yt();_a=class extends Z{constructor({cause:t,message:r}={}){let n=r?.replace("execution reverted: ","")?.replace("execution reverted","");super(`Execution reverted ${n?`with reason: ${n}`:"for an unknown reason"}.`,{cause:t,name:"ExecutionRevertedError"})}};Object.defineProperty(_a,"code",{enumerable:!0,configurable:!0,writable:!0,value:3});Object.defineProperty(_a,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted|gas required exceeds allowance/});Ri=class extends Z{constructor({cause:t,maxFeePerGas:r}={}){super(`The fee cap (\`maxFeePerGas\`${r?` = ${Pn(r)} gwei`:""}) cannot be higher than the maximum allowed value (2^256-1).`,{cause:t,name:"FeeCapTooHighError"})}};Object.defineProperty(Ri,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas higher than 2\^256-1|fee cap higher than 2\^256-1/});n0=class extends Z{constructor({cause:t,maxFeePerGas:r}={}){super(`The fee cap (\`maxFeePerGas\`${r?` = ${Pn(r)}`:""} gwei) cannot be lower than the block base fee.`,{cause:t,name:"FeeCapTooLowError"})}};Object.defineProperty(n0,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas less than block base fee|fee cap less than block base fee|transaction is outdated/});s0=class extends Z{constructor({cause:t,nonce:r}={}){super(`Nonce provided for the transaction ${r?`(${r}) `:""}is higher than the next one expected.`,{cause:t,name:"NonceTooHighError"})}};Object.defineProperty(s0,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too high/});o0=class extends Z{constructor({cause:t,nonce:r}={}){super([`Nonce provided for the transaction ${r?`(${r}) `:""}is lower than the current nonce of the account.`,"Try increasing the nonce or find the latest nonce with `getTransactionCount`."].join(`
`),{cause:t,name:"NonceTooLowError"})}};Object.defineProperty(o0,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too low|transaction already imported|already known/});i0=class extends Z{constructor({cause:t,nonce:r}={}){super(`Nonce provided for the transaction ${r?`(${r}) `:""}exceeds the maximum allowed nonce.`,{cause:t,name:"NonceMaxValueError"})}};Object.defineProperty(i0,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce has max value/});a0=class extends Z{constructor({cause:t}={}){super(["The total cost (gas * gas fee + value) of executing this transaction exceeds the balance of the account."].join(`
`),{cause:t,metaMessages:["This error could arise when the account does not have enough funds to:"," - pay for the total gas fee,"," - pay for the value to send."," ","The cost of the transaction is calculated as `gas * gas fee + value`, where:"," - `gas` is the amount of gas needed for transaction to execute,"," - `gas fee` is the gas fee,"," - `value` is the amount of ether to send to the recipient."],name:"InsufficientFundsError"})}};Object.defineProperty(a0,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/insufficient funds|exceeds transaction sender account balance/});c0=class extends Z{constructor({cause:t,gas:r}={}){super(`The amount of gas ${r?`(${r}) `:""}provided for the transaction exceeds the limit allowed for the block.`,{cause:t,name:"IntrinsicGasTooHighError"})}};Object.defineProperty(c0,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too high|gas limit reached/});l0=class extends Z{constructor({cause:t,gas:r}={}){super(`The amount of gas ${r?`(${r}) `:""}provided for the transaction is too low.`,{cause:t,name:"IntrinsicGasTooLowError"})}};Object.defineProperty(l0,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too low/});u0=class extends Z{constructor({cause:t}){super("The transaction type is not supported for this chain.",{cause:t,name:"TransactionTypeNotSupportedError"})}};Object.defineProperty(u0,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/transaction type not valid/});rc=class extends Z{constructor({cause:t,maxPriorityFeePerGas:r,maxFeePerGas:n}={}){super([`The provided tip (\`maxPriorityFeePerGas\`${r?` = ${Pn(r)} gwei`:""}) cannot be higher than the fee cap (\`maxFeePerGas\`${n?` = ${Pn(n)} gwei`:""}).`].join(`
`),{cause:t,name:"TipAboveFeeCapError"})}};Object.defineProperty(rc,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max priority fee per gas higher than max fee per gas|tip higher than fee cap/});Oi=class extends Z{constructor({cause:t}){super(`An error occurred while executing: ${t?.shortMessage}`,{cause:t,name:"UnknownNodeError"})}}});function d0(e,t){let r=(e.details||"").toLowerCase(),n=e instanceof Z?e.walk(s=>s?.code===_a.code):e;return n instanceof Z?new _a({cause:e,message:n.details}):_a.nodeMessage.test(r)?new _a({cause:e,message:e.details}):Ri.nodeMessage.test(r)?new Ri({cause:e,maxFeePerGas:t?.maxFeePerGas}):n0.nodeMessage.test(r)?new n0({cause:e,maxFeePerGas:t?.maxFeePerGas}):s0.nodeMessage.test(r)?new s0({cause:e,nonce:t?.nonce}):o0.nodeMessage.test(r)?new o0({cause:e,nonce:t?.nonce}):i0.nodeMessage.test(r)?new i0({cause:e,nonce:t?.nonce}):a0.nodeMessage.test(r)?new a0({cause:e}):c0.nodeMessage.test(r)?new c0({cause:e,gas:t?.gas}):l0.nodeMessage.test(r)?new l0({cause:e,gas:t?.gas}):u0.nodeMessage.test(r)?new u0({cause:e}):rc.nodeMessage.test(r)?new rc({cause:e,maxFeePerGas:t?.maxFeePerGas,maxPriorityFeePerGas:t?.maxPriorityFeePerGas}):new Oi({cause:e})}var Kx=m(()=>{yt();au()});function Lne(e,{docsPath:t,...r}){let n=(()=>{let s=d0(e,r);return s instanceof Oi?e:s})();return new vw(n,{docsPath:t,...r})}var Mne=m(()=>{fU();au();Kx()});function ki(e,{format:t}){if(!t)return{};let r={};function n(o){let i=Object.keys(o);for(let a of i)a in e&&(r[a]=e[a]),o[a]&&typeof o[a]=="object"&&!Array.isArray(o[a])&&n(o[a])}let s=t(e||{});return n(s),r}var p0=m(()=>{});function f0(e,t){return({exclude:r,format:n})=>({exclude:r,format:(s,o)=>{let i=t(s,o);if(r)for(let a of r)delete i[a];return{...i,...n(s,o)}},type:e})}var Zx=m(()=>{});function Rn(e,t){let r={};return typeof e.authorizationList<"u"&&(r.authorizationList=vFe(e.authorizationList)),typeof e.accessList<"u"&&(r.accessList=e.accessList),typeof e.blobVersionedHashes<"u"&&(r.blobVersionedHashes=e.blobVersionedHashes),typeof e.blobs<"u"&&(typeof e.blobs[0]!="string"?r.blobs=e.blobs.map(n=>ht(n)):r.blobs=e.blobs),typeof e.data<"u"&&(r.data=e.data),e.account&&(r.from=e.account.address),typeof e.from<"u"&&(r.from=e.from),typeof e.gas<"u"&&(r.gas=J(e.gas)),typeof e.gasPrice<"u"&&(r.gasPrice=J(e.gasPrice)),typeof e.maxFeePerBlobGas<"u"&&(r.maxFeePerBlobGas=J(e.maxFeePerBlobGas)),typeof e.maxFeePerGas<"u"&&(r.maxFeePerGas=J(e.maxFeePerGas)),typeof e.maxPriorityFeePerGas<"u"&&(r.maxPriorityFeePerGas=J(e.maxPriorityFeePerGas)),typeof e.nonce<"u"&&(r.nonce=J(e.nonce)),typeof e.to<"u"&&(r.to=e.to),typeof e.type<"u"&&(r.type=hU[e.type]),typeof e.value<"u"&&(r.value=J(e.value)),r}function vFe(e){return e.map(t=>({address:t.address,r:t.r?J(BigInt(t.r)):t.r,s:t.s?J(BigInt(t.s)):t.s,chainId:J(t.chainId),nonce:J(t.nonce),...typeof t.yParity<"u"?{yParity:J(t.yParity)}:{},...typeof t.v<"u"&&typeof t.yParity>"u"?{v:J(t.v)}:{}}))}var hU,Hne,rl=m(()=>{De();Zx();hU={legacy:"0x0",eip2930:"0x1",eip1559:"0x2",eip4844:"0x3",eip7702:"0x4"};Hne=f0("transactionRequest",Rn)});function $ne(e){if(!(!e||e.length===0))return e.reduce((t,{slot:r,value:n})=>{if(r.length!==66)throw new Sx({size:r.length,targetSize:66,type:"hex"});if(n.length!==66)throw new Sx({size:n.length,targetSize:66,type:"hex"});return t[r]=n,t},{})}function EFe(e){let{balance:t,nonce:r,state:n,stateDiff:s,code:o}=e,i={};if(o!==void 0&&(i.code=o),t!==void 0&&(i.balance=J(t)),r!==void 0&&(i.nonce=J(r)),n!==void 0&&(i.state=$ne(n)),s!==void 0){if(i.state)throw new ow;i.stateDiff=$ne(s)}return i}function Ew(e){if(!e)return;let t={};for(let{address:r,...n}of e){if(!Vt(r,{strict:!1}))throw new Er({address:r});if(t[r])throw new sw({address:r});t[r]=EFe(n)}return t}var NS=m(()=>{Ja();Ix();xS();Ii();De()});var Fne,jne,zne,Vne,qne,Wne,Kne,Zne,Gne,Yne,Jne,Qne,Xne,ese,tse,rse,nse,sse,ose,ise,ase,cse,lse,use,dse,pse,fse,hse,mse,gse,yse,wse,bse,xse,vse,Ese,Ase,Cse,Sse,Ise,_se,Tse,Pse,Nse,Rse,Ose,kse,Bse,Dse,Use,Lse,Mse,Hse,$se,Fse,jse,zse,Vse,qse,Wse,Kse,Zse,Gse,Yse,Jse,Qse,Xse,eoe,toe,roe,noe,soe,ooe,ioe,aoe,coe,loe,uoe,doe,poe,foe,hoe,moe,goe,yoe,woe,boe,xoe,voe,Eoe,Aoe,Coe,Soe,Ioe,_oe,h0,RS=m(()=>{Fne=2n**(8n-1n)-1n,jne=2n**(16n-1n)-1n,zne=2n**(24n-1n)-1n,Vne=2n**(32n-1n)-1n,qne=2n**(40n-1n)-1n,Wne=2n**(48n-1n)-1n,Kne=2n**(56n-1n)-1n,Zne=2n**(64n-1n)-1n,Gne=2n**(72n-1n)-1n,Yne=2n**(80n-1n)-1n,Jne=2n**(88n-1n)-1n,Qne=2n**(96n-1n)-1n,Xne=2n**(104n-1n)-1n,ese=2n**(112n-1n)-1n,tse=2n**(120n-1n)-1n,rse=2n**(128n-1n)-1n,nse=2n**(136n-1n)-1n,sse=2n**(144n-1n)-1n,ose=2n**(152n-1n)-1n,ise=2n**(160n-1n)-1n,ase=2n**(168n-1n)-1n,cse=2n**(176n-1n)-1n,lse=2n**(184n-1n)-1n,use=2n**(192n-1n)-1n,dse=2n**(200n-1n)-1n,pse=2n**(208n-1n)-1n,fse=2n**(216n-1n)-1n,hse=2n**(224n-1n)-1n,mse=2n**(232n-1n)-1n,gse=2n**(240n-1n)-1n,yse=2n**(248n-1n)-1n,wse=2n**(256n-1n)-1n,bse=-(2n**(8n-1n)),xse=-(2n**(16n-1n)),vse=-(2n**(24n-1n)),Ese=-(2n**(32n-1n)),Ase=-(2n**(40n-1n)),Cse=-(2n**(48n-1n)),Sse=-(2n**(56n-1n)),Ise=-(2n**(64n-1n)),_se=-(2n**(72n-1n)),Tse=-(2n**(80n-1n)),Pse=-(2n**(88n-1n)),Nse=-(2n**(96n-1n)),Rse=-(2n**(104n-1n)),Ose=-(2n**(112n-1n)),kse=-(2n**(120n-1n)),Bse=-(2n**(128n-1n)),Dse=-(2n**(136n-1n)),Use=-(2n**(144n-1n)),Lse=-(2n**(152n-1n)),Mse=-(2n**(160n-1n)),Hse=-(2n**(168n-1n)),$se=-(2n**(176n-1n)),Fse=-(2n**(184n-1n)),jse=-(2n**(192n-1n)),zse=-(2n**(200n-1n)),Vse=-(2n**(208n-1n)),qse=-(2n**(216n-1n)),Wse=-(2n**(224n-1n)),Kse=-(2n**(232n-1n)),Zse=-(2n**(240n-1n)),Gse=-(2n**(248n-1n)),Yse=-(2n**(256n-1n)),Jse=2n**8n-1n,Qse=2n**16n-1n,Xse=2n**24n-1n,eoe=2n**32n-1n,toe=2n**40n-1n,roe=2n**48n-1n,noe=2n**56n-1n,soe=2n**64n-1n,ooe=2n**72n-1n,ioe=2n**80n-1n,aoe=2n**88n-1n,coe=2n**96n-1n,loe=2n**104n-1n,uoe=2n**112n-1n,doe=2n**120n-1n,poe=2n**128n-1n,foe=2n**136n-1n,hoe=2n**144n-1n,moe=2n**152n-1n,goe=2n**160n-1n,yoe=2n**168n-1n,woe=2n**176n-1n,boe=2n**184n-1n,xoe=2n**192n-1n,voe=2n**200n-1n,Eoe=2n**208n-1n,Aoe=2n**216n-1n,Coe=2n**224n-1n,Soe=2n**232n-1n,Ioe=2n**240n-1n,_oe=2n**248n-1n,h0=2n**256n-1n});function zn(e){let{account:t,maxFeePerGas:r,maxPriorityFeePerGas:n,to:s}=e,o=t?mt(t):void 0;if(o&&!Vt(o.address))throw new Er({address:o.address});if(s&&!Vt(s))throw new Er({address:s});if(r&&r>h0)throw new Ri({maxFeePerGas:r});if(n&&r&&n>r)throw new rc({maxFeePerGas:r,maxPriorityFeePerGas:n})}var nl=m(()=>{fn();RS();Ja();au();Ii()});var m0,cu,Aw,Cw=m(()=>{H1();yt();m0=class extends Z{constructor(){super("`baseFeeMultiplier` must be greater than 1.",{name:"BaseFeeScalarError"})}},cu=class extends Z{constructor(){super("Chain does not support EIP-1559 fees.",{name:"Eip1559FeesNotSupportedError"})}},Aw=class extends Z{constructor({maxPriorityFeePerGas:t}){super(`\`maxFeePerGas\` cannot be less than the \`maxPriorityFeePerGas\` (${Pn(t)} gwei).`,{name:"MaxFeePerGasTooLowError"})}}});var g0,OS=m(()=>{yt();g0=class extends Z{constructor({blockHash:t,blockNumber:r}){let n="Block";t&&(n=`Block at hash "${t}"`),r&&(n=`Block at number "${r}"`),super(`${n} could not be found.`,{name:"BlockNotFoundError"})}}});function Ap(e,t){let r={...e,blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,chainId:e.chainId?ft(e.chainId):void 0,gas:e.gas?BigInt(e.gas):void 0,gasPrice:e.gasPrice?BigInt(e.gasPrice):void 0,maxFeePerBlobGas:e.maxFeePerBlobGas?BigInt(e.maxFeePerBlobGas):void 0,maxFeePerGas:e.maxFeePerGas?BigInt(e.maxFeePerGas):void 0,maxPriorityFeePerGas:e.maxPriorityFeePerGas?BigInt(e.maxPriorityFeePerGas):void 0,nonce:e.nonce?ft(e.nonce):void 0,to:e.to?e.to:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null,type:e.type?Gx[e.type]:void 0,typeHex:e.type?e.type:void 0,value:e.value?BigInt(e.value):void 0,v:e.v?BigInt(e.v):void 0};return e.authorizationList&&(r.authorizationList=AFe(e.authorizationList)),r.yParity=(()=>{if(e.yParity)return Number(e.yParity);if(typeof r.v=="bigint"){if(r.v===0n||r.v===27n)return 0;if(r.v===1n||r.v===28n)return 1;if(r.v>=35n)return r.v%2n===0n?1:0}})(),r.type==="legacy"&&(delete r.accessList,delete r.maxFeePerBlobGas,delete r.maxFeePerGas,delete r.maxPriorityFeePerGas,delete r.yParity),r.type==="eip2930"&&(delete r.maxFeePerBlobGas,delete r.maxFeePerGas,delete r.maxPriorityFeePerGas),r.type==="eip1559"&&delete r.maxFeePerBlobGas,r}function AFe(e){return e.map(t=>({address:t.address,chainId:Number(t.chainId),nonce:Number(t.nonce),r:t.r,s:t.s,yParity:Number(t.yParity)}))}var Gx,Toe,Sw=m(()=>{un();Zx();Gx={"0x0":"legacy","0x1":"eip2930","0x2":"eip1559","0x3":"eip4844","0x4":"eip7702"};Toe=f0("transaction",Ap)});function W1(e,t){let r=(e.transactions??[]).map(n=>typeof n=="string"?n:Ap(n));return{...e,baseFeePerGas:e.baseFeePerGas?BigInt(e.baseFeePerGas):null,blobGasUsed:e.blobGasUsed?BigInt(e.blobGasUsed):void 0,difficulty:e.difficulty?BigInt(e.difficulty):void 0,excessBlobGas:e.excessBlobGas?BigInt(e.excessBlobGas):void 0,gasLimit:e.gasLimit?BigInt(e.gasLimit):void 0,gasUsed:e.gasUsed?BigInt(e.gasUsed):void 0,hash:e.hash?e.hash:null,logsBloom:e.logsBloom?e.logsBloom:null,nonce:e.nonce?e.nonce:null,number:e.number?BigInt(e.number):null,size:e.size?BigInt(e.size):void 0,timestamp:e.timestamp?BigInt(e.timestamp):void 0,transactions:r,totalDifficulty:e.totalDifficulty?BigInt(e.totalDifficulty):null}}var Poe,kS=m(()=>{Zx();Sw();Poe=f0("block",W1)});async function gs(e,{blockHash:t,blockNumber:r,blockTag:n=e.experimental_blockTag??"latest",includeTransactions:s}={}){let o=s??!1,i=r!==void 0?J(r):void 0,a=null;if(t?a=await e.request({method:"eth_getBlockByHash",params:[t,o]},{dedupe:!0}):a=await e.request({method:"eth_getBlockByNumber",params:[i||n,o]},{dedupe:!!i}),!a)throw new g0({blockHash:t,blockNumber:r});return(e.chain?.formatters?.block?.format||W1)(a,"getBlock")}var y0=m(()=>{OS();De();kS()});async function Iw(e){let t=await e.request({method:"eth_gasPrice"});return BigInt(t)}var BS=m(()=>{});async function Noe(e,t){return mU(e,t)}async function mU(e,t){let{block:r,chain:n=e.chain,request:s}=t||{};try{let o=n?.fees?.maxPriorityFeePerGas??n?.fees?.defaultPriorityFee;if(typeof o=="function"){let a=r||await fe(e,gs,"getBlock")({}),c=await o({block:a,client:e,request:s});if(c===null)throw new Error;return c}if(typeof o<"u")return o;let i=await e.request({method:"eth_maxPriorityFeePerGas"});return lt(i)}catch{let[o,i]=await Promise.all([r?Promise.resolve(r):fe(e,gs,"getBlock")({}),fe(e,Iw,"getGasPrice")({})]);if(typeof o.baseFeePerGas!="bigint")throw new cu;let a=i-o.baseFeePerGas;return a<0n?0n:a}}var gU=m(()=>{Cw();un();jt();y0();BS()});async function Roe(e,t){return DS(e,t)}async function DS(e,t){let{block:r,chain:n=e.chain,request:s,type:o="eip1559"}=t||{},i=await(async()=>typeof n?.fees?.baseFeeMultiplier=="function"?n.fees.baseFeeMultiplier({block:r,client:e,request:s}):n?.fees?.baseFeeMultiplier??1.2)();if(i<1)throw new m0;let c=10**(i.toString().split(".")[1]?.length??0),l=p=>p*BigInt(Math.ceil(i*c))/BigInt(c),u=r||await fe(e,gs,"getBlock")({});if(typeof n?.fees?.estimateFeesPerGas=="function"){let p=await n.fees.estimateFeesPerGas({block:r,client:e,multiply:l,request:s,type:o});if(p!==null)return p}if(o==="eip1559"){if(typeof u.baseFeePerGas!="bigint")throw new cu;let p=typeof s?.maxPriorityFeePerGas=="bigint"?s.maxPriorityFeePerGas:await mU(e,{block:u,chain:n,request:s}),f=l(u.baseFeePerGas);return{maxFeePerGas:s?.maxFeePerGas??f+p,maxPriorityFeePerGas:p}}return{gasPrice:s?.gasPrice??l(await fe(e,Iw,"getGasPrice")({}))}}var yU=m(()=>{Cw();jt();gU();y0();BS()});async function w0(e,{address:t,blockTag:r="latest",blockNumber:n}){let s=await e.request({method:"eth_getTransactionCount",params:[t,typeof n=="bigint"?J(n):r]},{dedupe:!!n});return ft(s)}var Yx=m(()=>{un();De()});function b0(e){let{kzg:t}=e,r=e.to??(typeof e.blobs[0]=="string"?"hex":"bytes"),n=typeof e.blobs[0]=="string"?e.blobs.map(o=>Gt(o)):e.blobs,s=[];for(let o of n)s.push(Uint8Array.from(t.blobToKzgCommitment(o)));return r==="bytes"?s:s.map(o=>ht(o))}var Jx=m(()=>{Or();De()});function x0(e){let{kzg:t}=e,r=e.to??(typeof e.blobs[0]=="string"?"hex":"bytes"),n=typeof e.blobs[0]=="string"?e.blobs.map(i=>Gt(i)):e.blobs,s=typeof e.commitments[0]=="string"?e.commitments.map(i=>Gt(i)):e.commitments,o=[];for(let i=0;i<n.length;i++){let a=n[i],c=s[i];o.push(Uint8Array.from(t.computeBlobKzgProof(a,c)))}return r==="bytes"?o:o.map(i=>ht(i))}var Qx=m(()=>{Or();De()});function US(e,t){let r=t||"hex",n=AE(je(e,{strict:!1})?dn(e):e);return r==="bytes"?n:vr(n)}var wU=m(()=>{oN();$o();Or();De()});function _w(e){let{commitment:t,version:r=1}=e,n=e.to??(typeof t=="string"?"hex":"bytes"),s=US(t,"bytes");return s.set([r],0),n==="bytes"?s:ht(s)}var LS=m(()=>{De();wU()});function Tw(e){let{commitments:t,version:r}=e,n=e.to??(typeof t[0]=="string"?"hex":"bytes"),s=[];for(let o of t)s.push(_w({commitment:o,to:n,version:r}));return s}var MS=m(()=>{LS()});var HS,Pw,$S,FS,bU=m(()=>{yt();HS=class extends Z{constructor({maxSize:t,size:r}){super("Blob size is too large.",{metaMessages:[`Max: ${t} bytes`,`Given: ${r} bytes`],name:"BlobSizeTooLargeError"})}},Pw=class extends Z{constructor(){super("Blob data must not be empty.",{name:"EmptyBlobError"})}},$S=class extends Z{constructor({hash:t,size:r}){super(`Versioned hash "${t}" size is invalid.`,{metaMessages:["Expected: 32",`Received: ${r}`],name:"InvalidVersionedHashSizeError"})}},FS=class extends Z{constructor({hash:t,version:r}){super(`Versioned hash "${t}" version is invalid.`,{metaMessages:[`Expected: ${1}`,`Received: ${r}`],name:"InvalidVersionedHashVersionError"})}}});function jS(e){let t=e.to??(typeof e.data=="string"?"hex":"bytes"),r=typeof e.data=="string"?Gt(e.data):e.data,n=Ot(r);if(!n)throw new Pw;if(n>761855)throw new HS({maxSize:761855,size:n});let s=[],o=!0,i=0;for(;o;){let a=Jc(new Uint8Array(131072)),c=0;for(;c<4096;){let l=r.slice(i,i+31);if(a.pushByte(0),a.pushBytes(l),l.length<31){a.pushByte(128),o=!1;break}c++,i+=31}s.push(a)}return t==="bytes"?s.map(a=>a.bytes):s.map(a=>ht(a.bytes))}var xU=m(()=>{bU();Qy();Ei();Or();De()});function v0(e){let{data:t,kzg:r,to:n}=e,s=e.blobs??jS({data:t,to:n}),o=e.commitments??b0({blobs:s,kzg:r,to:n}),i=e.proofs??x0({blobs:s,commitments:o,kzg:r,to:n}),a=[];for(let c=0;c<s.length;c++)a.push({blob:s[c],commitment:o[c],proof:i[c]});return a}var Xx=m(()=>{Jx();Qx();xU()});function Nw(e){if(e.type)return e.type;if(typeof e.authorizationList<"u")return"eip7702";if(typeof e.blobs<"u"||typeof e.blobVersionedHashes<"u"||typeof e.maxFeePerBlobGas<"u"||typeof e.sidecars<"u")return"eip4844";if(typeof e.maxFeePerGas<"u"||typeof e.maxPriorityFeePerGas<"u")return"eip1559";if(typeof e.gasPrice<"u")return typeof e.accessList<"u"?"eip2930":"legacy";throw new iw({transaction:e})}var zS=m(()=>{qo()});function E0(e,{docsPath:t,...r}){let n=(()=>{let s=d0(e,r);return s instanceof Oi?e:s})();return new lw(n,{docsPath:t,...r})}var e4=m(()=>{au();qo();Kx()});async function io(e){let t=await e.request({method:"eth_chainId"},{dedupe:!0});return ft(t)}var Cp=m(()=>{un()});async function Rw(e,t){let{account:r=e.account,accessList:n,authorizationList:s,chain:o=e.chain,blobVersionedHashes:i,blobs:a,data:c,gas:l,gasPrice:u,maxFeePerBlobGas:d,maxFeePerGas:p,maxPriorityFeePerGas:f,nonce:h,nonceManager:g,to:y,type:E,value:A,...b}=t,w=await(async()=>{if(!r||!g||typeof h<"u")return h;let U=mt(r),k=o?o.id:await fe(e,io,"getChainId")({});return await g.consume({address:U.address,chainId:k,client:e})})();zn(t);let C=o?.formatters?.transactionRequest?.format,B=(C||Rn)({...ki(b,{format:C}),account:r?mt(r):void 0,accessList:n,authorizationList:s,blobs:a,blobVersionedHashes:i,data:c,gas:l,gasPrice:u,maxFeePerBlobGas:d,maxFeePerGas:p,maxPriorityFeePerGas:f,nonce:w,to:y,type:E,value:A},"fillTransaction");try{let U=await e.request({method:"eth_fillTransaction",params:[B]}),$=(o?.formatters?.transaction?.format||Ap)(U.tx);delete $.blockHash,delete $.blockNumber,delete $.r,delete $.s,delete $.transactionIndex,delete $.v,delete $.yParity,$.data=$.input,$.gas&&($.gas=t.gas??$.gas),$.gasPrice&&($.gasPrice=t.gasPrice??$.gasPrice),$.maxFeePerBlobGas&&($.maxFeePerBlobGas=t.maxFeePerBlobGas??$.maxFeePerBlobGas),$.maxFeePerGas&&($.maxFeePerGas=t.maxFeePerGas??$.maxFeePerGas),$.maxPriorityFeePerGas&&($.maxPriorityFeePerGas=t.maxPriorityFeePerGas??$.maxPriorityFeePerGas),$.nonce&&($.nonce=t.nonce??$.nonce);let P=await(async()=>{if(typeof o?.fees?.baseFeeMultiplier=="function"){let x=await fe(e,gs,"getBlock")({});return o.fees.baseFeeMultiplier({block:x,client:e,request:t})}return o?.fees?.baseFeeMultiplier??1.2})();if(P<1)throw new m0;let S=10**(P.toString().split(".")[1]?.length??0),O=x=>x*BigInt(Math.ceil(P*S))/BigInt(S);return $.maxFeePerGas&&!t.maxFeePerGas&&($.maxFeePerGas=O($.maxFeePerGas)),$.gasPrice&&!t.gasPrice&&($.gasPrice=O($.gasPrice)),{raw:U.raw,transaction:{from:B.from,...$}}}catch(U){throw E0(U,{...t,chain:e.chain})}}var VS=m(()=>{fn();Cw();e4();p0();Sw();rl();jt();nl();y0();Cp()});async function lu(e,t){let r=t;r.account??(r.account=e.account),r.parameters??(r.parameters=t4);let{account:n,chain:s=e.chain,nonceManager:o,parameters:i}=r,a=(()=>{if(typeof s?.prepareTransactionRequest=="function")return{fn:s.prepareTransactionRequest,runAt:["beforeFillTransaction"]};if(Array.isArray(s?.prepareTransactionRequest))return{fn:s.prepareTransactionRequest[0],runAt:s.prepareTransactionRequest[1].runAt}})(),c;async function l(){return c||(typeof r.chainId<"u"?r.chainId:s?s.id:(c=await fe(e,io,"getChainId")({}),c))}let u=n&&mt(n),d=r.nonce;if(i.includes("nonce")&&typeof d>"u"&&u&&o){let w=await l();d=await o.consume({address:u.address,chainId:w,client:e})}a?.fn&&a.runAt?.includes("beforeFillTransaction")&&(r=await a.fn({...r,chain:s},{phase:"beforeFillTransaction"}),d??(d=r.nonce));let f=((i.includes("blobVersionedHashes")||i.includes("sidecars"))&&r.kzg&&r.blobs||vU.get(e.uid)===!1||!["fees","gas"].some(C=>i.includes(C))?!1:!!(i.includes("chainId")&&typeof r.chainId!="number"||i.includes("nonce")&&typeof d!="number"||i.includes("fees")&&typeof r.gasPrice!="bigint"&&(typeof r.maxFeePerGas!="bigint"||typeof r.maxPriorityFeePerGas!="bigint")||i.includes("gas")&&typeof r.gas!="bigint"))?await fe(e,Rw,"fillTransaction")({...r,nonce:d}).then(w=>{let{chainId:C,from:_,gas:B,gasPrice:U,nonce:k,maxFeePerBlobGas:$,maxFeePerGas:P,maxPriorityFeePerGas:I,type:S,...O}=w.transaction;return vU.set(e.uid,!0),{...r,..._?{from:_}:{},...S?{type:S}:{},...typeof C<"u"?{chainId:C}:{},...typeof B<"u"?{gas:B}:{},...typeof U<"u"?{gasPrice:U}:{},...typeof k<"u"?{nonce:k}:{},...typeof $<"u"?{maxFeePerBlobGas:$}:{},...typeof P<"u"?{maxFeePerGas:P}:{},...typeof I<"u"?{maxPriorityFeePerGas:I}:{},..."nonceKey"in O&&typeof O.nonceKey<"u"?{nonceKey:O.nonceKey}:{}}}).catch(w=>{let C=w;return C.name!=="TransactionExecutionError"||C.walk?.(B=>{let U=B;return U.name==="MethodNotFoundRpcError"||U.name==="MethodNotSupportedRpcError"})&&vU.set(e.uid,!1),r}):r;d??(d=f.nonce),r={...f,...u?{from:u?.address}:{},...d?{nonce:d}:{}};let{blobs:h,gas:g,kzg:y,type:E}=r;a?.fn&&a.runAt?.includes("beforeFillParameters")&&(r=await a.fn({...r,chain:s},{phase:"beforeFillParameters"}));let A;async function b(){return A||(A=await fe(e,gs,"getBlock")({blockTag:"latest"}),A)}if(i.includes("nonce")&&typeof d>"u"&&u&&!o&&(r.nonce=await fe(e,w0,"getTransactionCount")({address:u.address,blockTag:"pending"})),(i.includes("blobVersionedHashes")||i.includes("sidecars"))&&h&&y){let w=b0({blobs:h,kzg:y});if(i.includes("blobVersionedHashes")){let C=Tw({commitments:w,to:"hex"});r.blobVersionedHashes=C}if(i.includes("sidecars")){let C=x0({blobs:h,commitments:w,kzg:y}),_=v0({blobs:h,commitments:w,proofs:C,to:"hex"});r.sidecars=_}}if(i.includes("chainId")&&(r.chainId=await l()),(i.includes("fees")||i.includes("type"))&&typeof E>"u")try{r.type=Nw(r)}catch{let w=Ooe.get(e.uid);typeof w>"u"&&(w=typeof(await b())?.baseFeePerGas=="bigint",Ooe.set(e.uid,w)),r.type=w?"eip1559":"legacy"}if(i.includes("fees"))if(r.type!=="legacy"&&r.type!=="eip2930"){if(typeof r.maxFeePerGas>"u"||typeof r.maxPriorityFeePerGas>"u"){let w=await b(),{maxFeePerGas:C,maxPriorityFeePerGas:_}=await DS(e,{block:w,chain:s,request:r});if(typeof r.maxPriorityFeePerGas>"u"&&r.maxFeePerGas&&r.maxFeePerGas<_)throw new Aw({maxPriorityFeePerGas:_});r.maxPriorityFeePerGas=_,r.maxFeePerGas=C}}else{if(typeof r.maxFeePerGas<"u"||typeof r.maxPriorityFeePerGas<"u")throw new cu;if(typeof r.gasPrice>"u"){let w=await b(),{gasPrice:C}=await DS(e,{block:w,chain:s,request:r,type:"legacy"});r.gasPrice=C}}return i.includes("gas")&&typeof g>"u"&&(r.gas=await fe(e,kw,"estimateGas")({...r,account:u,prepare:u?.type==="local"?[]:["blobVersionedHashes"]})),a?.fn&&a.runAt?.includes("afterFillParameters")&&(r=await a.fn({...r,chain:s},{phase:"afterFillParameters"})),zn(r),delete r.parameters,r}var t4,Ooe,vU,Ow=m(()=>{fn();yU();qS();y0();Yx();Cw();Jx();Qx();MS();Xx();jt();Ah();nl();zS();VS();Cp();t4=["blobVersionedHashes","chainId","fees","gas","nonce","type"],Ooe=new Map,vU=new ro(128)});async function kw(e,t){let{account:r=e.account,prepare:n=!0}=t,s=r?mt(r):void 0,o=(()=>{if(Array.isArray(n))return n;if(s?.type!=="local")return["blobVersionedHashes"]})();try{let i=await(async()=>{if(t.to)return t.to;if(t.authorizationList&&t.authorizationList.length>0)return await r0({authorization:t.authorizationList[0]}).catch(()=>{throw new Z("`to` is required. Could not infer from `authorizationList`")})})(),{accessList:a,authorizationList:c,blobs:l,blobVersionedHashes:u,blockNumber:d,blockTag:p,data:f,gas:h,gasPrice:g,maxFeePerBlobGas:y,maxFeePerGas:E,maxPriorityFeePerGas:A,nonce:b,value:w,stateOverride:C,..._}=n?await lu(e,{...t,parameters:o,to:i}):t;if(h&&t.gas!==h)return h;let U=(typeof d=="bigint"?J(d):void 0)||p,k=Ew(C);zn(t);let $=e.chain?.formatters?.transactionRequest?.format,I=($||Rn)({...ki(_,{format:$}),account:s,accessList:a,authorizationList:c,blobs:l,blobVersionedHashes:u,data:f,gasPrice:g,maxFeePerBlobGas:y,maxFeePerGas:E,maxPriorityFeePerGas:A,nonce:b,to:i,value:w},"estimateGas");return BigInt(await e.request({method:"eth_estimateGas",params:k?[I,U??e.experimental_blockTag??"latest",k]:U?[I,U]:[I]}))}catch(i){throw Lne(i,{...t,account:s,chain:e.chain})}}var qS=m(()=>{fn();yt();Wx();De();Mne();p0();rl();NS();nl();Ow()});async function WS(e,t){let{abi:r,address:n,args:s,functionName:o,dataSuffix:i=typeof e.dataSuffix=="string"?e.dataSuffix:e.dataSuffix?.value,...a}=t,c=Ar({abi:r,args:s,functionName:o});try{return await fe(e,kw,"estimateGas")({data:`${c}${i?i.replace("0x",""):""}`,to:n,...a})}catch(l){let u=a.account?mt(a.account):void 0;throw Wo(l,{abi:r,address:n,args:s,docsPath:"/docs/contract/estimateContractGas",functionName:o,sender:u?.address})}}var EU=m(()=>{fn();zo();Jh();jt();qS()});function vn(e,t){if(!Vt(e,{strict:!1}))throw new Er({address:e});if(!Vt(t,{strict:!1}))throw new Er({address:t});return e.toLowerCase()===t.toLowerCase()}var sl=m(()=>{Ja();Ii()});function Sp(e){let{abi:t,data:r,strict:n,topics:s}=e,o=n??!0,[i,...a]=s;if(!i)throw new Uy({docsPath:koe});let c=t.find(E=>E.type==="event"&&i===Zc(ts(E)));if(!(c&&"name"in c)||c.type!=="event")throw new Ly(i,{docsPath:koe});let{name:l,inputs:u}=c,d=u?.some(E=>!("name"in E&&E.name)),p=d?[]:{},f=u.map((E,A)=>[E,A]).filter(([E])=>"indexed"in E&&E.indexed),h=[];for(let E=0;E<f.length;E++){let[A,b]=f[E],w=a[E];if(!w){if(o)throw new Yl({abiItem:c,param:A});h.push([A,b]);continue}p[d?b:A.name||b]=IFe({param:A,value:w})}let g=u.filter(E=>!("indexed"in E&&E.indexed)),y=o?g:[...h.map(([E])=>E),...g];if(y.length>0){if(r&&r!=="0x")try{let E=Vo(y,r);if(E){let A=0;if(!o)for(let[b,w]of h)p[d?w:b.name||w]=E[A++];if(d)for(let b=0;b<u.length;b++)p[b]===void 0&&A<E.length&&(p[b]=E[A++]);else for(let b=0;b<g.length;b++)p[g[b].name]=E[A++]}}catch(E){if(o)throw E instanceof mh||E instanceof Jy?new Kc({abiItem:c,data:r,params:y,size:Ot(r)}):E}else if(o)throw new Kc({abiItem:c,data:"0x",params:y,size:0})}return{eventName:l,args:Object.values(p).length>0?p:void 0}}function IFe({param:e,value:t}){return e.type==="string"||e.type==="bytes"||e.type==="tuple"||e.type.match(/^(.*)\[(\d+)?\]$/)?t:(Vo([e],t)||[])[0]}var koe,r4=m(()=>{Xr();UD();Ei();Zy();Sh();ap();koe="/docs/contract/decodeEventLog"});function A0(e){let{abi:t,args:r,logs:n,strict:s=!0}=e,o=(()=>{if(e.eventName)return Array.isArray(e.eventName)?e.eventName:[e.eventName]})(),i=t.filter(a=>a.type==="event").map(a=>({abi:a,selector:Zc(a)}));return n.map(a=>{let c=i.filter(d=>a.topics[0]===d.selector);if(c.length===0)return null;let l,u;for(let d of c)try{l=Sp({...a,abi:[d.abi],strict:!0}),u=d;break}catch{}if(!l&&!s){u=c[0];try{l=Sp({data:a.data,topics:a.topics,abi:[u.abi],strict:!1})}catch{let d=u.abi.inputs?.some(p=>!("name"in p&&p.name));return{...a,args:d?[]:{},eventName:u.abi.name}}}return!l||!u||o&&!o.includes(l.eventName)||!_Fe({args:l.args,inputs:u.abi.inputs,matchArgs:r})?null:{...l,...a}}).filter(Boolean)}function _Fe(e){let{args:t,inputs:r,matchArgs:n}=e;if(!n)return!0;if(!t)return!1;function s(o,i,a){try{return o.type==="address"?vn(i,a):o.type==="string"||o.type==="bytes"?zt(dn(i))===a:i===a}catch{return!1}}return Array.isArray(t)&&Array.isArray(n)?n.every((o,i)=>{if(o==null)return!0;let a=r[i];return a?(Array.isArray(o)?o:[o]).some(l=>s(a,l,t[i])):!1}):typeof t=="object"&&!Array.isArray(t)&&typeof n=="object"&&!Array.isArray(n)?Object.entries(n).every(([o,i])=>{if(i==null)return!0;let a=r.find(l=>l.name===o);return a?(Array.isArray(i)?i:[i]).some(l=>s(a,l,t[o])):!1}):!1}var n4=m(()=>{sl();Or();Si();Zy();r4()});function ys(e,{args:t,eventName:r}={}){return{...e,blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,blockTimestamp:e.blockTimestamp?BigInt(e.blockTimestamp):e.blockTimestamp===null?null:void 0,logIndex:e.logIndex?Number(e.logIndex):null,transactionHash:e.transactionHash?e.transactionHash:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null,...r?{args:t,eventName:r}:{}}}var Ip=m(()=>{});async function Bw(e,{address:t,blockHash:r,fromBlock:n,toBlock:s,event:o,events:i,args:a,strict:c}={}){let l=c??!1,u=i??(o?[o]:void 0),d=[];u&&(d=[u.flatMap(g=>Xa({abi:[g],eventName:g.name,args:i?void 0:a}))],o&&(d=d[0]));let p;r?p=await e.request({method:"eth_getLogs",params:[{address:t,topics:d,blockHash:r}]}):p=await e.request({method:"eth_getLogs",params:[{address:t,topics:d,fromBlock:typeof n=="bigint"?J(n):n,toBlock:typeof s=="bigint"?J(s):s}]});let f=p.map(h=>ys(h));return u?A0({abi:u,args:a,logs:f,strict:l}):f}var KS=m(()=>{M1();n4();De();Ip()});async function Dw(e,t){let{abi:r,address:n,args:s,blockHash:o,eventName:i,fromBlock:a,toBlock:c,strict:l}=t,u=i?so({abi:r,name:i}):void 0,d=u?void 0:r.filter(p=>p.type==="event");return fe(e,Bw,"getLogs")({address:n,args:s,blockHash:o,event:u,events:d,fromBlock:a,toBlock:c,strict:l})}var ZS=m(()=>{pp();jt();KS()});function ws(e){let{abi:t,args:r,functionName:n,data:s}=e,o=t[0];if(n){let a=so({abi:t,args:r,name:n});if(!a)throw new va(n,{docsPath:AU});o=a}if(o.type!=="function")throw new va(void 0,{docsPath:AU});if(!o.outputs)throw new wh(o.name,{docsPath:AU});let i=Vo(o.outputs,s);if(i&&i.length>1)return i;if(i&&i.length===1)return i[0]}var AU,uu=m(()=>{Xr();Sh();pp();AU="/docs/contract/decodeFunctionResult"});var Boe,Doe=m(()=>{Boe="0.1.1"});function Uoe(){return Boe}var Loe=m(()=>{Doe()});function Moe(e,t){return t?.(e)?e:e&&typeof e=="object"&&"cause"in e&&e.cause?Moe(e.cause,t):t?null:e}var ze,Bi=m(()=>{Loe();ze=class e extends Error{static setStaticOptions(t){e.prototype.docsOrigin=t.docsOrigin,e.prototype.showVersion=t.showVersion,e.prototype.version=t.version}constructor(t,r={}){let n=(()=>{if(r.cause instanceof e){if(r.cause.details)return r.cause.details;if(r.cause.shortMessage)return r.cause.shortMessage}return r.cause&&"details"in r.cause&&typeof r.cause.details=="string"?r.cause.details:r.cause?.message?r.cause.message:r.details})(),s=r.cause instanceof e&&r.cause.docsPath||r.docsPath,o=r.docsOrigin??e.prototype.docsOrigin,i=`${o}${s??""}`,a=!!(r.version??e.prototype.showVersion),c=r.version??e.prototype.version,l=[t||"An error occurred.",...r.metaMessages?["",...r.metaMessages]:[],...n||s||a?["",n?`Details: ${n}`:void 0,s?`See: ${i}`:void 0,a?`Version: ${c}`:void 0]:[]].filter(u=>typeof u=="string").join(`
`);super(l,r.cause?{cause:r.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsOrigin",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"showVersion",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.cause=r.cause,this.details=n,this.docs=i,this.docsOrigin=o,this.docsPath=s,this.shortMessage=t,this.showVersion=a,this.version=c}walk(t){return Moe(this,t)}};Object.defineProperty(ze,"defaultStaticOptions",{enumerable:!0,configurable:!0,writable:!0,value:{docsOrigin:"https://oxlib.sh",showVersion:!1,version:`ox@${Uoe()}`}});ze.setStaticOptions(ze.defaultStaticOptions)});function Uw(e,t){if(nc(e)>t)throw new GS({givenSize:nc(e),maxSize:t})}function Hoe(e,t){if(typeof t=="number"&&t>0&&t>nc(e)-1)throw new s4({offset:t,position:"start",size:nc(e)})}function $oe(e,t,r){if(typeof t=="number"&&typeof r=="number"&&nc(e)!==r-t)throw new s4({offset:r,position:"end",size:nc(e)})}function CU(e){if(e>=_p.zero&&e<=_p.nine)return e-_p.zero;if(e>=_p.A&&e<=_p.F)return e-(_p.A-10);if(e>=_p.a&&e<=_p.f)return e-(_p.a-10)}function Foe(e,t={}){let{dir:r,size:n=32}=t;if(n===0)return e;if(e.length>n)throw new YS({size:e.length,targetSize:n,type:"Bytes"});let s=new Uint8Array(n);for(let o=0;o<n;o++){let i=r==="right";s[i?o:n-o-1]=e[i?o:e.length-o-1]}return s}function SU(e,t={}){let{dir:r="left"}=t,n=e,s=0;for(let o=0;o<n.length-1&&n[r==="left"?o:n.length-o-1].toString()==="0";o++)s++;return n=r==="left"?n.slice(s):n.slice(0,n.length-s),n}var _p,joe=m(()=>{C0();_p={zero:48,nine:57,A:65,F:70,a:97,f:102}});function Lw(e,t){if(en(e)>t)throw new JS({givenSize:en(e),maxSize:t})}function zoe(e,t){if(typeof t=="number"&&t>0&&t>en(e)-1)throw new o4({offset:t,position:"start",size:en(e)})}function Voe(e,t,r){if(typeof t=="number"&&typeof r=="number"&&en(e)!==r-t)throw new o4({offset:r,position:"end",size:en(e)})}function IU(e,t={}){let{dir:r,size:n=32}=t;if(n===0)return e;let s=e.replace("0x","");if(s.length>n*2)throw new QS({size:Math.ceil(s.length/2),targetSize:n,type:"Hex"});return`0x${s[r==="right"?"padEnd":"padStart"](n*2,"0")}`}function qoe(e,t={}){let{dir:r="left"}=t,n=e.replace("0x",""),s=0;for(let o=0;o<n.length-1&&n[r==="left"?o:n.length-o-1].toString()==="0";o++)s++;return n=r==="left"?n.slice(s):n.slice(0,n.length-s),n==="0"?"0x":r==="right"&&n.length%2===1?`0x${n}0`:`0x${n}`}var _U=m(()=>{bs()});function S0(e,t,r){return JSON.stringify(e,(n,s)=>typeof t=="function"?t(n,s):typeof s=="bigint"?s.toString()+PFe:s,r)}var PFe,i4=m(()=>{PFe="#__bigint"});function OFe(e){if(!(e instanceof Uint8Array)){if(!e)throw new Mw(e);if(typeof e!="object")throw new Mw(e);if(!("BYTES_PER_ELEMENT"in e))throw new Mw(e);if(e.BYTES_PER_ELEMENT!==1||e.constructor.name!=="Uint8Array")throw new Mw(e)}}function Koe(e){return e instanceof Uint8Array?e:typeof e=="string"?Hw(e):kFe(e)}function kFe(e){return e instanceof Uint8Array?e:new Uint8Array(e)}function Hw(e,t={}){let{size:r}=t,n=e;r&&(Lw(e,r),n=pu(e,r));let s=n.slice(2);s.length%2&&(s=`0${s}`);let o=s.length/2,i=new Uint8Array(o);for(let a=0,c=0;a<o;a++){let l=CU(s.charCodeAt(c++)),u=CU(s.charCodeAt(c++));if(l===void 0||u===void 0)throw new ze(`Invalid byte sequence ("${s[c-2]}${s[c-1]}" in "${s}").`);i[a]=l<<4|u}return i}function Zoe(e,t={}){let{size:r}=t,n=RFe.encode(e);return typeof r=="number"?(Uw(n,r),BFe(n,r)):n}function BFe(e,t){return Foe(e,{dir:"right",size:t})}function nc(e){return e.length}function Goe(e,t,r,n={}){let{strict:s}=n;Hoe(e,t);let o=e.slice(t,r);return s&&$oe(o,t,r),o}function Yoe(e,t={}){let{size:r}=t;typeof r<"u"&&Uw(e,r);let n=On(e,t);return NU(n,t)}function Joe(e,t={}){let{size:r}=t,n=e;if(typeof r<"u"&&(Uw(n,r),n=PU(n)),n.length>1||n[0]>1)throw new TU(n);return!!n[0]}function du(e,t={}){let{size:r}=t;typeof r<"u"&&Uw(e,r);let n=On(e,t);return eI(n,t)}function Qoe(e,t={}){let{size:r}=t,n=e;return typeof r<"u"&&(Uw(n,r),n=DFe(n)),NFe.decode(n)}function PU(e){return SU(e,{dir:"left"})}function DFe(e){return SU(e,{dir:"right"})}function Xoe(e){try{return OFe(e),!0}catch{return!1}}var NFe,RFe,TU,Mw,GS,s4,YS,C0=m(()=>{Bi();bs();joe();_U();i4();NFe=new TextDecoder,RFe=new TextEncoder;TU=class extends ze{constructor(t){super(`Bytes value \`${t}\` is not a valid boolean.`,{metaMessages:["The bytes array must contain a single byte of either a `0` or `1` value."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.InvalidBytesBooleanError"})}},Mw=class extends ze{constructor(t){super(`Value \`${typeof t=="object"?S0(t):t}\` of type \`${typeof t}\` is an invalid Bytes value.`,{metaMessages:["Bytes values must be of type `Bytes`."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.InvalidBytesTypeError"})}},GS=class extends ze{constructor({givenSize:t,maxSize:r}){super(`Size cannot exceed \`${r}\` bytes. Given size: \`${t}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeOverflowError"})}},s4=class extends ze{constructor({offset:t,position:r,size:n}){super(`Slice ${r==="start"?"starting":"ending"} at offset \`${t}\` is out-of-bounds (size: \`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SliceOffsetOutOfBoundsError"})}},YS=class extends ze{constructor({size:t,targetSize:r,type:n}){super(`${n.charAt(0).toUpperCase()}${n.slice(1).toLowerCase()} size (\`${t}\`) exceeds padding size (\`${r}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeExceedsPaddingSizeError"})}}});function MFe(e,t={}){let{strict:r=!1}=t;if(!e)throw new tI(e);if(typeof e!="string")throw new tI(e);if(r&&!/^0x[0-9a-fA-F]*$/.test(e))throw new rI(e);if(!e.startsWith("0x"))throw new rI(e)}function hn(...e){return`0x${e.reduce((t,r)=>t+r.replace("0x",""),"")}`}function $w(e){return e instanceof Uint8Array?On(e):Array.isArray(e)?On(new Uint8Array(e)):e}function nI(e,t={}){let r=`0x${Number(e)}`;return typeof t.size=="number"?(Lw(r,t.size),Tp(r,t.size)):r}function On(e,t={}){let r="";for(let s=0;s<e.length;s++)r+=LFe[e[s]];let n=`0x${r}`;return typeof t.size=="number"?(Lw(n,t.size),pu(n,t.size)):n}function nr(e,t={}){let{signed:r,size:n}=t,s=BigInt(e),o;n?r?o=(1n<<BigInt(n)*8n-1n)-1n:o=2n**(BigInt(n)*8n)-1n:typeof e=="number"&&(o=BigInt(Number.MAX_SAFE_INTEGER));let i=typeof o=="bigint"&&r?-o-1n:0;if(o&&s>o||s<i){let l=typeof e=="bigint"?"n":"";throw new a4({max:o?`${o}${l}`:void 0,min:`${i}${l}`,signed:r,size:n,value:`${e}${l}`})}let c=`0x${(r&&s<0?BigInt.asUintN(n*8,BigInt(s)):s).toString(16)}`;return n?Tp(c,n):c}function Fw(e,t={}){return On(UFe.encode(e),t)}function Tp(e,t){return IU(e,{dir:"left",size:t})}function pu(e,t){return IU(e,{dir:"right",size:t})}function tn(e,t,r,n={}){let{strict:s}=n;zoe(e,t);let o=`0x${e.replace("0x","").slice((t??0)*2,(r??e.length)*2)}`;return s&&Voe(o,t,r),o}function en(e){return Math.ceil((e.length-2)/2)}function RU(e){return qoe(e,{dir:"left"})}function NU(e,t={}){let{signed:r}=t;t.size&&Lw(e,t.size);let n=BigInt(e);if(!r)return n;let s=(e.length-2)/2,o=(1n<<BigInt(s)*8n)-1n,i=o>>1n;return n<=i?n:n-o-1n}function eI(e,t={}){let{signed:r,size:n}=t;return Number(!r&&!n?e:NU(e,t))}function c4(e,t={}){let{strict:r=!1}=t;try{return MFe(e,{strict:r}),!0}catch{return!1}}var UFe,LFe,a4,tI,rI,JS,o4,QS,bs=m(()=>{Bi();_U();i4();UFe=new TextEncoder,LFe=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));a4=class extends ze{constructor({max:t,min:r,signed:n,size:s,value:o}){super(`Number \`${o}\` is not in safe${s?` ${s*8}-bit`:""}${n?" signed":" unsigned"} integer range ${t?`(\`${r}\` to \`${t}\`)`:`(above \`${r}\`)`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.IntegerOutOfRangeError"})}},tI=class extends ze{constructor(t){super(`Value \`${typeof t=="object"?S0(t):t}\` of type \`${typeof t}\` is an invalid hex type.`,{metaMessages:['Hex types must be represented as `"0x${string}"`.']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexTypeError"})}},rI=class extends ze{constructor(t){super(`Value \`${t}\` is an invalid hex value.`,{metaMessages:['Hex values must start with `"0x"` and contain only hexadecimal characters (0-9, a-f, A-F).']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexValueError"})}},JS=class extends ze{constructor({givenSize:t,maxSize:r}){super(`Size cannot exceed \`${r}\` bytes. Given size: \`${t}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeOverflowError"})}},o4=class extends ze{constructor({offset:t,position:r,size:n}){super(`Slice ${r==="start"?"starting":"ending"} at offset \`${t}\` is out-of-bounds (size: \`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SliceOffsetOutOfBoundsError"})}},QS=class extends ze{constructor({size:t,targetSize:r,type:n}){super(`${n.charAt(0).toUpperCase()}${n.slice(1).toLowerCase()} size (\`${t}\`) exceeds padding size (\`${r}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeExceedsPaddingSizeError"})}}});function eie(e){return{address:e.address,amount:nr(e.amount),index:nr(e.index),validatorIndex:nr(e.validatorIndex)}}var tie=m(()=>{bs()});function sI(e){return{...typeof e.baseFeePerGas=="bigint"&&{baseFeePerGas:nr(e.baseFeePerGas)},...typeof e.blobBaseFee=="bigint"&&{blobBaseFee:nr(e.blobBaseFee)},...typeof e.feeRecipient=="string"&&{feeRecipient:e.feeRecipient},...typeof e.gasLimit=="bigint"&&{gasLimit:nr(e.gasLimit)},...typeof e.number=="bigint"&&{number:nr(e.number)},...typeof e.prevRandao=="bigint"&&{prevRandao:nr(e.prevRandao)},...typeof e.time=="bigint"&&{time:nr(e.time)},...e.withdrawals&&{withdrawals:e.withdrawals.map(eie)}}}var OU=m(()=>{bs();tie()});var sc,oI,nie,iI,sie,kU,BU,DU,jw,Z1,oie,iie,aie,cie,fu=m(()=>{sc=[{inputs:[{components:[{name:"target",type:"address"},{name:"allowFailure",type:"bool"},{name:"callData",type:"bytes"}],name:"calls",type:"tuple[]"}],name:"aggregate3",outputs:[{components:[{name:"success",type:"bool"},{name:"returnData",type:"bytes"}],name:"returnData",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[{name:"addr",type:"address"}],name:"getEthBalance",outputs:[{name:"balance",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getCurrentBlockTimestamp",outputs:[{internalType:"uint256",name:"timestamp",type:"uint256"}],stateMutability:"view",type:"function"}],oI=[{name:"query",type:"function",stateMutability:"view",inputs:[{type:"tuple[]",name:"queries",components:[{type:"address",name:"sender"},{type:"string[]",name:"urls"},{type:"bytes",name:"data"}]}],outputs:[{type:"bool[]",name:"failures"},{type:"bytes[]",name:"responses"}]},{name:"HttpError",type:"error",inputs:[{type:"uint16",name:"status"},{type:"string",name:"message"}]}],nie=[{inputs:[{name:"dns",type:"bytes"}],name:"DNSDecodingFailed",type:"error"},{inputs:[{name:"ens",type:"string"}],name:"DNSEncodingFailed",type:"error"},{inputs:[],name:"EmptyAddress",type:"error"},{inputs:[{name:"status",type:"uint16"},{name:"message",type:"string"}],name:"HttpError",type:"error"},{inputs:[],name:"InvalidBatchGatewayResponse",type:"error"},{inputs:[{name:"errorData",type:"bytes"}],name:"ResolverError",type:"error"},{inputs:[{name:"name",type:"bytes"},{name:"resolver",type:"address"}],name:"ResolverNotContract",type:"error"},{inputs:[{name:"name",type:"bytes"}],name:"ResolverNotFound",type:"error"},{inputs:[{name:"primary",type:"string"},{name:"primaryAddress",type:"bytes"}],name:"ReverseAddressMismatch",type:"error"},{inputs:[{internalType:"bytes4",name:"selector",type:"bytes4"}],name:"UnsupportedResolverProfile",type:"error"}],iI=[...nie,{name:"resolveWithGateways",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"},{name:"gateways",type:"string[]"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]}],sie=[...nie,{name:"reverseWithGateways",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"},{type:"uint256",name:"coinType"},{type:"string[]",name:"gateways"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolver"},{type:"address",name:"reverseResolver"}]}],kU=[{name:"text",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"key",type:"string"}],outputs:[{name:"",type:"string"}]}],BU=[{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"}],outputs:[{name:"",type:"address"}]},{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"coinType",type:"uint256"}],outputs:[{name:"",type:"bytes"}]}],DU=[{name:"isValidSignature",type:"function",stateMutability:"view",inputs:[{name:"hash",type:"bytes32"},{name:"signature",type:"bytes"}],outputs:[{name:"",type:"bytes4"}]}],jw=[{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],outputs:[{type:"bool"}],stateMutability:"nonpayable",type:"function",name:"isValidSig"}],Z1=[{type:"event",name:"Approval",inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"}]},{type:"event",name:"Transfer",inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}]},{type:"function",name:"allowance",stateMutability:"view",inputs:[{name:"owner",type:"address"},{name:"spender",type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"approve",stateMutability:"nonpayable",inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]},{type:"function",name:"balanceOf",stateMutability:"view",inputs:[{name:"account",type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"decimals",stateMutability:"view",inputs:[],outputs:[{type:"uint8"}]},{type:"function",name:"name",stateMutability:"view",inputs:[],outputs:[{type:"string"}]},{type:"function",name:"symbol",stateMutability:"view",inputs:[],outputs:[{type:"string"}]},{type:"function",name:"totalSupply",stateMutability:"view",inputs:[],outputs:[{type:"uint256"}]},{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]}],oie=[{type:"event",name:"Approval",inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"}]},{type:"event",name:"Transfer",inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}]},{type:"function",name:"allowance",stateMutability:"view",inputs:[{name:"owner",type:"address"},{name:"spender",type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"approve",stateMutability:"nonpayable",inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]},{type:"function",name:"balanceOf",stateMutability:"view",inputs:[{name:"account",type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"decimals",stateMutability:"view",inputs:[],outputs:[{type:"uint8"}]},{type:"function",name:"name",stateMutability:"view",inputs:[],outputs:[{type:"bytes32"}]},{type:"function",name:"symbol",stateMutability:"view",inputs:[],outputs:[{type:"bytes32"}]},{type:"function",name:"totalSupply",stateMutability:"view",inputs:[],outputs:[{type:"uint256"}]},{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]}],iie=[{inputs:[{internalType:"address",name:"sender",type:"address"},{internalType:"uint256",name:"balance",type:"uint256"},{internalType:"uint256",name:"needed",type:"uint256"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"ERC1155InsufficientBalance",type:"error"},{inputs:[{internalType:"address",name:"approver",type:"address"}],name:"ERC1155InvalidApprover",type:"error"},{inputs:[{internalType:"uint256",name:"idsLength",type:"uint256"},{internalType:"uint256",name:"valuesLength",type:"uint256"}],name:"ERC1155InvalidArrayLength",type:"error"},{inputs:[{internalType:"address",name:"operator",type:"address"}],name:"ERC1155InvalidOperator",type:"error"},{inputs:[{internalType:"address",name:"receiver",type:"address"}],name:"ERC1155InvalidReceiver",type:"error"},{inputs:[{internalType:"address",name:"sender",type:"address"}],name:"ERC1155InvalidSender",type:"error"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"address",name:"owner",type:"address"}],name:"ERC1155MissingApprovalForAll",type:"error"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256[]",name:"ids",type:"uint256[]"},{indexed:!1,internalType:"uint256[]",name:"values",type:"uint256[]"}],name:"TransferBatch",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"id",type:"uint256"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"TransferSingle",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"string",name:"value",type:"string"},{indexed:!0,internalType:"uint256",name:"id",type:"uint256"}],name:"URI",type:"event"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"uint256",name:"id",type:"uint256"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address[]",name:"accounts",type:"address[]"},{internalType:"uint256[]",name:"ids",type:"uint256[]"}],name:"balanceOfBatch",outputs:[{internalType:"uint256[]",name:"",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256[]",name:"ids",type:"uint256[]"},{internalType:"uint256[]",name:"values",type:"uint256[]"},{internalType:"bytes",name:"data",type:"bytes"}],name:"safeBatchTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"id",type:"uint256"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"bool",name:"approved",type:"bool"}],name:"setApprovalForAll",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"uri",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"}],aie=[{type:"event",name:"Approval",inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!0,name:"tokenId",type:"uint256"}]},{type:"event",name:"ApprovalForAll",inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"operator",type:"address"},{indexed:!1,name:"approved",type:"bool"}]},{type:"event",name:"Transfer",inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!0,name:"tokenId",type:"uint256"}]},{type:"function",name:"approve",stateMutability:"payable",inputs:[{name:"spender",type:"address"},{name:"tokenId",type:"uint256"}],outputs:[]},{type:"function",name:"balanceOf",stateMutability:"view",inputs:[{name:"account",type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"getApproved",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{type:"address"}]},{type:"function",name:"isApprovedForAll",stateMutability:"view",inputs:[{name:"owner",type:"address"},{name:"operator",type:"address"}],outputs:[{type:"bool"}]},{type:"function",name:"name",stateMutability:"view",inputs:[],outputs:[{type:"string"}]},{type:"function",name:"ownerOf",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"owner",type:"address"}]},{type:"function",name:"safeTransferFrom",stateMutability:"payable",inputs:[{name:"from",type:"address"},{name:"to",type:"address"},{name:"tokenId",type:"uint256"}],outputs:[]},{type:"function",name:"safeTransferFrom",stateMutability:"nonpayable",inputs:[{name:"from",type:"address"},{name:"to",type:"address"},{name:"id",type:"uint256"},{name:"data",type:"bytes"}],outputs:[]},{type:"function",name:"setApprovalForAll",stateMutability:"nonpayable",inputs:[{name:"operator",type:"address"},{name:"approved",type:"bool"}],outputs:[]},{type:"function",name:"symbol",stateMutability:"view",inputs:[],outputs:[{type:"string"}]},{type:"function",name:"tokenByIndex",stateMutability:"view",inputs:[{name:"index",type:"uint256"}],outputs:[{type:"uint256"}]},{type:"function",name:"tokenByIndex",stateMutability:"view",inputs:[{name:"owner",type:"address"},{name:"index",type:"uint256"}],outputs:[{name:"tokenId",type:"uint256"}]},{type:"function",name:"tokenURI",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{type:"string"}]},{type:"function",name:"totalSupply",stateMutability:"view",inputs:[],outputs:[{type:"uint256"}]},{type:"function",name:"transferFrom",stateMutability:"payable",inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"tokenId",type:"uint256"}],outputs:[]}],cie=[{anonymous:!1,inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"sender",type:"address"},{indexed:!0,name:"receiver",type:"address"},{indexed:!1,name:"assets",type:"uint256"},{indexed:!1,name:"shares",type:"uint256"}],name:"Deposit",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Transfer",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"sender",type:"address"},{indexed:!0,name:"receiver",type:"address"},{indexed:!0,name:"owner",type:"address"},{indexed:!1,name:"assets",type:"uint256"},{indexed:!1,name:"shares",type:"uint256"}],name:"Withdraw",type:"event"},{inputs:[{name:"owner",type:"address"},{name:"spender",type:"address"}],name:"allowance",outputs:[{type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],name:"approve",outputs:[{type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"asset",outputs:[{name:"assetTokenAddress",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{name:"account",type:"address"}],name:"balanceOf",outputs:[{type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"shares",type:"uint256"}],name:"convertToAssets",outputs:[{name:"assets",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"assets",type:"uint256"}],name:"convertToShares",outputs:[{name:"shares",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"assets",type:"uint256"},{name:"receiver",type:"address"}],name:"deposit",outputs:[{name:"shares",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"caller",type:"address"}],name:"maxDeposit",outputs:[{name:"maxAssets",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"caller",type:"address"}],name:"maxMint",outputs:[{name:"maxShares",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"owner",type:"address"}],name:"maxRedeem",outputs:[{name:"maxShares",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"owner",type:"address"}],name:"maxWithdraw",outputs:[{name:"maxAssets",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"shares",type:"uint256"},{name:"receiver",type:"address"}],name:"mint",outputs:[{name:"assets",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"assets",type:"uint256"}],name:"previewDeposit",outputs:[{name:"shares",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"shares",type:"uint256"}],name:"previewMint",outputs:[{name:"assets",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"shares",type:"uint256"}],name:"previewRedeem",outputs:[{name:"assets",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"assets",type:"uint256"}],name:"previewWithdraw",outputs:[{name:"shares",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"shares",type:"uint256"},{name:"receiver",type:"address"},{name:"owner",type:"address"}],name:"redeem",outputs:[{name:"assets",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"totalAssets",outputs:[{name:"totalManagedAssets",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{name:"to",type:"address"},{name:"amount",type:"uint256"}],name:"transfer",outputs:[{type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"from",type:"address"},{name:"to",type:"address"},{name:"amount",type:"uint256"}],name:"transferFrom",outputs:[{type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{name:"assets",type:"uint256"},{name:"receiver",type:"address"},{name:"owner",type:"address"}],name:"withdraw",outputs:[{name:"shares",type:"uint256"}],stateMutability:"nonpayable",type:"function"}]});var lie,uie=m(()=>{lie="0x82ad56cb"});var zw,aI,l4,Vw,qw=m(()=>{zw="0x608060405234801561001057600080fd5b5060405161018e38038061018e83398101604081905261002f91610124565b6000808351602085016000f59050803b61004857600080fd5b6000808351602085016000855af16040513d6000823e81610067573d81fd5b3d81f35b634e487b7160e01b600052604160045260246000fd5b600082601f83011261009257600080fd5b81516001600160401b038111156100ab576100ab61006b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156100d9576100d961006b565b6040528181528382016020018510156100f157600080fd5b60005b82811015610110576020818601810151838301820152016100f4565b506000918101602001919091529392505050565b6000806040838503121561013757600080fd5b82516001600160401b0381111561014d57600080fd5b61015985828601610081565b602085015190935090506001600160401b0381111561017757600080fd5b61018385828601610081565b915050925092905056fe",aI="0x608060405234801561001057600080fd5b506040516102c03803806102c083398101604081905261002f916101e6565b836001600160a01b03163b6000036100e457600080836001600160a01b03168360405161005c9190610270565b6000604051808303816000865af19150503d8060008114610099576040519150601f19603f3d011682016040523d82523d6000602084013e61009e565b606091505b50915091508115806100b857506001600160a01b0386163b155b156100e1578060405163101bb98d60e01b81526004016100d8919061028c565b60405180910390fd5b50505b6000808451602086016000885af16040513d6000823e81610103573d81fd5b3d81f35b80516001600160a01b038116811461011e57600080fd5b919050565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561015457818101518382015260200161013c565b50506000910152565b600082601f83011261016e57600080fd5b81516001600160401b0381111561018757610187610123565b604051601f8201601f19908116603f011681016001600160401b03811182821017156101b5576101b5610123565b6040528181528382016020018510156101cd57600080fd5b6101de826020830160208701610139565b949350505050565b600080600080608085870312156101fc57600080fd5b61020585610107565b60208601519094506001600160401b0381111561022157600080fd5b61022d8782880161015d565b93505061023c60408601610107565b60608601519092506001600160401b0381111561025857600080fd5b6102648782880161015d565b91505092959194509250565b60008251610282818460208701610139565b9190910192915050565b60208152600082518060208401526102ab816040850160208701610139565b601f01601f1916919091016040019291505056fe",l4="0x608060405234801561001057600080fd5b5060405161069438038061069483398101604081905261002f9161051e565b600061003c848484610048565b9050806000526001601ff35b60007f64926492649264926492649264926492649264926492649264926492649264926100748361040c565b036101e7576000606080848060200190518101906100929190610577565b60405192955090935091506000906001600160a01b038516906100b69085906105dd565b6000604051808303816000865af19150503d80600081146100f3576040519150601f19603f3d011682016040523d82523d6000602084013e6100f8565b606091505b50509050876001600160a01b03163b60000361016057806101605760405162461bcd60e51b815260206004820152601e60248201527f5369676e617475726556616c696461746f723a206465706c6f796d656e74000060448201526064015b60405180910390fd5b604051630b135d3f60e11b808252906001600160a01b038a1690631626ba7e90610190908b9087906004016105f9565b602060405180830381865afa1580156101ad573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906101d19190610633565b6001600160e01b03191614945050505050610405565b6001600160a01b0384163b1561027a57604051630b135d3f60e11b808252906001600160a01b03861690631626ba7e9061022790879087906004016105f9565b602060405180830381865afa158015610244573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906102689190610633565b6001600160e01b031916149050610405565b81516041146102df5760405162461bcd60e51b815260206004820152603a602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e6174757265206c656e6774680000000000006064820152608401610157565b6102e7610425565b5060208201516040808401518451859392600091859190811061030c5761030c61065d565b016020015160f81c9050601b811480159061032b57508060ff16601c14155b1561038c5760405162461bcd60e51b815260206004820152603b602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e617475726520762076616c756500000000006064820152608401610157565b60408051600081526020810180835289905260ff83169181019190915260608101849052608081018390526001600160a01b0389169060019060a0016020604051602081039080840390855afa1580156103ea573d6000803e3d6000fd5b505050602060405103516001600160a01b0316149450505050505b9392505050565b600060208251101561041d57600080fd5b508051015190565b60405180606001604052806003906020820280368337509192915050565b6001600160a01b038116811461045857600080fd5b50565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561048c578181015183820152602001610474565b50506000910152565b600082601f8301126104a657600080fd5b81516001600160401b038111156104bf576104bf61045b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156104ed576104ed61045b565b60405281815283820160200185101561050557600080fd5b610516826020830160208701610471565b949350505050565b60008060006060848603121561053357600080fd5b835161053e81610443565b6020850151604086015191945092506001600160401b0381111561056157600080fd5b61056d86828701610495565b9150509250925092565b60008060006060848603121561058c57600080fd5b835161059781610443565b60208501519093506001600160401b038111156105b357600080fd5b6105bf86828701610495565b604086015190935090506001600160401b0381111561056157600080fd5b600082516105ef818460208701610471565b9190910192915050565b828152604060208201526000825180604084015261061e816060850160208701610471565b601f01601f1916919091016060019392505050565b60006020828403121561064557600080fd5b81516001600160e01b03198116811461040557600080fd5b634e487b7160e01b600052603260045260246000fdfe5369676e617475726556616c696461746f72237265636f7665725369676e6572",Vw="0x608060405234801561001057600080fd5b506115b9806100206000396000f3fe6080604052600436106100f35760003560e01c80634d2301cc1161008a578063a8b0574e11610059578063a8b0574e14610325578063bce38bd714610350578063c3077fa914610380578063ee82ac5e146103b2576100f3565b80634d2301cc1461026257806372425d9d1461029f57806382ad56cb146102ca57806386d516e8146102fa576100f3565b80633408e470116100c65780633408e470146101af578063399542e9146101da5780633e64a6961461020c57806342cbb15c14610237576100f3565b80630f28c97d146100f8578063174dea7114610123578063252dba421461015357806327e86d6e14610184575b600080fd5b34801561010457600080fd5b5061010d6103ef565b60405161011a9190610c0a565b60405180910390f35b61013d60048036038101906101389190610c94565b6103f7565b60405161014a9190610e94565b60405180910390f35b61016d60048036038101906101689190610f0c565b610615565b60405161017b92919061101b565b60405180910390f35b34801561019057600080fd5b506101996107ab565b6040516101a69190611064565b60405180910390f35b3480156101bb57600080fd5b506101c46107b7565b6040516101d19190610c0a565b60405180910390f35b6101f460048036038101906101ef91906110ab565b6107bf565b6040516102039392919061110b565b60405180910390f35b34801561021857600080fd5b506102216107e1565b60405161022e9190610c0a565b60405180910390f35b34801561024357600080fd5b5061024c6107e9565b6040516102599190610c0a565b60405180910390f35b34801561026e57600080fd5b50610289600480360381019061028491906111a7565b6107f1565b6040516102969190610c0a565b60405180910390f35b3480156102ab57600080fd5b506102b4610812565b6040516102c19190610c0a565b60405180910390f35b6102e460048036038101906102df919061122a565b61081a565b6040516102f19190610e94565b60405180910390f35b34801561030657600080fd5b5061030f6109e4565b60405161031c9190610c0a565b60405180910390f35b34801561033157600080fd5b5061033a6109ec565b6040516103479190611286565b60405180910390f35b61036a600480360381019061036591906110ab565b6109f4565b6040516103779190610e94565b60405180910390f35b61039a60048036038101906103959190610f0c565b610ba6565b6040516103a99392919061110b565b60405180910390f35b3480156103be57600080fd5b506103d960048036038101906103d491906112cd565b610bca565b6040516103e69190611064565b60405180910390f35b600042905090565b60606000808484905090508067ffffffffffffffff81111561041c5761041b6112fa565b5b60405190808252806020026020018201604052801561045557816020015b610442610bd5565b81526020019060019003908161043a5790505b5092503660005b828110156105c957600085828151811061047957610478611329565b5b6020026020010151905087878381811061049657610495611329565b5b90506020028101906104a89190611367565b925060008360400135905080860195508360000160208101906104cb91906111a7565b73ffffffffffffffffffffffffffffffffffffffff16818580606001906104f2919061138f565b604051610500929190611431565b60006040518083038185875af1925050503d806000811461053d576040519150601f19603f3d011682016040523d82523d6000602084013e610542565b606091505b5083600001846020018290528215151515815250505081516020850135176105bc577f08c379a000000000000000000000000000000000000000000000000000000000600052602060045260176024527f4d756c746963616c6c333a2063616c6c206661696c656400000000000000000060445260846000fd5b826001019250505061045c565b5082341461060c576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610603906114a7565b60405180910390fd5b50505092915050565b6000606043915060008484905090508067ffffffffffffffff81111561063e5761063d6112fa565b5b60405190808252806020026020018201604052801561067157816020015b606081526020019060019003908161065c5790505b5091503660005b828110156107a157600087878381811061069557610694611329565b5b90506020028101906106a791906114c7565b92508260000160208101906106bc91906111a7565b73ffffffffffffffffffffffffffffffffffffffff168380602001906106e2919061138f565b6040516106f0929190611431565b6000604051808303816000865af19150503d806000811461072d576040519150601f19603f3d011682016040523d82523d6000602084013e610732565b606091505b5086848151811061074657610745611329565b5b60200260200101819052819250505080610795576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161078c9061153b565b60405180910390fd5b81600101915050610678565b5050509250929050565b60006001430340905090565b600046905090565b6000806060439250434091506107d68686866109f4565b905093509350939050565b600048905090565b600043905090565b60008173ffffffffffffffffffffffffffffffffffffffff16319050919050565b600044905090565b606060008383905090508067ffffffffffffffff81111561083e5761083d6112fa565b5b60405190808252806020026020018201604052801561087757816020015b610864610bd5565b81526020019060019003908161085c5790505b5091503660005b828110156109db57600084828151811061089b5761089a611329565b5b602002602001015190508686838181106108b8576108b7611329565b5b90506020028101906108ca919061155b565b92508260000160208101906108df91906111a7565b73ffffffffffffffffffffffffffffffffffffffff16838060400190610905919061138f565b604051610913929190611431565b6000604051808303816000865af19150503d8060008114610950576040519150601f19603f3d011682016040523d82523d6000602084013e610955565b606091505b5082600001836020018290528215151515815250505080516020840135176109cf577f08c379a000000000000000000000000000000000000000000000000000000000600052602060045260176024527f4d756c746963616c6c333a2063616c6c206661696c656400000000000000000060445260646000fd5b8160010191505061087e565b50505092915050565b600045905090565b600041905090565b606060008383905090508067ffffffffffffffff811115610a1857610a176112fa565b5b604051908082528060200260200182016040528015610a5157816020015b610a3e610bd5565b815260200190600190039081610a365790505b5091503660005b82811015610b9c576000848281518110610a7557610a74611329565b5b60200260200101519050868683818110610a9257610a91611329565b5b9050602002810190610aa491906114c7565b9250826000016020810190610ab991906111a7565b73ffffffffffffffffffffffffffffffffffffffff16838060200190610adf919061138f565b604051610aed929190611431565b6000604051808303816000865af19150503d8060008114610b2a576040519150601f19603f3d011682016040523d82523d6000602084013e610b2f565b606091505b508260000183602001829052821515151581525050508715610b90578060000151610b8f576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610b869061153b565b60405180910390fd5b5b81600101915050610a58565b5050509392505050565b6000806060610bb7600186866107bf565b8093508194508295505050509250925092565b600081409050919050565b6040518060400160405280600015158152602001606081525090565b6000819050919050565b610c0481610bf1565b82525050565b6000602082019050610c1f6000830184610bfb565b92915050565b600080fd5b600080fd5b600080fd5b600080fd5b600080fd5b60008083601f840112610c5457610c53610c2f565b5b8235905067ffffffffffffffff811115610c7157610c70610c34565b5b602083019150836020820283011115610c8d57610c8c610c39565b5b9250929050565b60008060208385031215610cab57610caa610c25565b5b600083013567ffffffffffffffff811115610cc957610cc8610c2a565b5b610cd585828601610c3e565b92509250509250929050565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b60008115159050919050565b610d2281610d0d565b82525050565b600081519050919050565b600082825260208201905092915050565b60005b83811015610d62578082015181840152602081019050610d47565b83811115610d71576000848401525b50505050565b6000601f19601f8301169050919050565b6000610d9382610d28565b610d9d8185610d33565b9350610dad818560208601610d44565b610db681610d77565b840191505092915050565b6000604083016000830151610dd96000860182610d19565b5060208301518482036020860152610df18282610d88565b9150508091505092915050565b6000610e0a8383610dc1565b905092915050565b6000602082019050919050565b6000610e2a82610ce1565b610e348185610cec565b935083602082028501610e4685610cfd565b8060005b85811015610e825784840389528151610e638582610dfe565b9450610e6e83610e12565b925060208a01995050600181019050610e4a565b50829750879550505050505092915050565b60006020820190508181036000830152610eae8184610e1f565b905092915050565b60008083601f840112610ecc57610ecb610c2f565b5b8235905067ffffffffffffffff811115610ee957610ee8610c34565b5b602083019150836020820283011115610f0557610f04610c39565b5b9250929050565b60008060208385031215610f2357610f22610c25565b5b600083013567ffffffffffffffff811115610f4157610f40610c2a565b5b610f4d85828601610eb6565b92509250509250929050565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b6000610f918383610d88565b905092915050565b6000602082019050919050565b6000610fb182610f59565b610fbb8185610f64565b935083602082028501610fcd85610f75565b8060005b858110156110095784840389528151610fea8582610f85565b9450610ff583610f99565b925060208a01995050600181019050610fd1565b50829750879550505050505092915050565b60006040820190506110306000830185610bfb565b81810360208301526110428184610fa6565b90509392505050565b6000819050919050565b61105e8161104b565b82525050565b60006020820190506110796000830184611055565b92915050565b61108881610d0d565b811461109357600080fd5b50565b6000813590506110a58161107f565b92915050565b6000806000604084860312156110c4576110c3610c25565b5b60006110d286828701611096565b935050602084013567ffffffffffffffff8111156110f3576110f2610c2a565b5b6110ff86828701610eb6565b92509250509250925092565b60006060820190506111206000830186610bfb565b61112d6020830185611055565b818103604083015261113f8184610e1f565b9050949350505050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b600061117482611149565b9050919050565b61118481611169565b811461118f57600080fd5b50565b6000813590506111a18161117b565b92915050565b6000602082840312156111bd576111bc610c25565b5b60006111cb84828501611192565b91505092915050565b60008083601f8401126111ea576111e9610c2f565b5b8235905067ffffffffffffffff81111561120757611206610c34565b5b60208301915083602082028301111561122357611222610c39565b5b9250929050565b6000806020838503121561124157611240610c25565b5b600083013567ffffffffffffffff81111561125f5761125e610c2a565b5b61126b858286016111d4565b92509250509250929050565b61128081611169565b82525050565b600060208201905061129b6000830184611277565b92915050565b6112aa81610bf1565b81146112b557600080fd5b50565b6000813590506112c7816112a1565b92915050565b6000602082840312156112e3576112e2610c25565b5b60006112f1848285016112b8565b91505092915050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b600080fd5b600080fd5b600080fd5b60008235600160800383360303811261138357611382611358565b5b80830191505092915050565b600080833560016020038436030381126113ac576113ab611358565b5b80840192508235915067ffffffffffffffff8211156113ce576113cd61135d565b5b6020830192506001820236038313156113ea576113e9611362565b5b509250929050565b600081905092915050565b82818337600083830152505050565b600061141883856113f2565b93506114258385846113fd565b82840190509392505050565b600061143e82848661140c565b91508190509392505050565b600082825260208201905092915050565b7f4d756c746963616c6c333a2076616c7565206d69736d61746368000000000000600082015250565b6000611491601a8361144a565b915061149c8261145b565b602082019050919050565b600060208201905081810360008301526114c081611484565b9050919050565b6000823560016040038336030381126114e3576114e2611358565b5b80830191505092915050565b7f4d756c746963616c6c333a2063616c6c206661696c6564000000000000000000600082015250565b600061152560178361144a565b9150611530826114ef565b602082019050919050565b6000602082019050818103600083015261155481611518565b9050919050565b60008235600160600383360303811261157757611576611358565b5b8083019150509291505056fea264697066735822122020c1bc9aacf8e4a6507193432a895a8e77094f45a1395583f07b24e860ef06cd64736f6c634300080c0033"});var Pp,Ww,Kw,G1,Np,Zw=m(()=>{yt();Pp=class extends Z{constructor({blockNumber:t,chain:r,contract:n}){super(`Chain "${r.name}" does not support contract "${n.name}".`,{metaMessages:["This could be due to any of the following:",...t&&n.blockCreated&&n.blockCreated>t?[`- The contract "${n.name}" was not deployed until block ${n.blockCreated} (current block ${t}).`]:[`- The chain does not have the contract "${n.name}" configured.`]],name:"ChainDoesNotSupportContract"})}},Ww=class extends Z{constructor({chain:t,currentChainId:r}){super(`The current chain of the wallet (id: ${r}) does not match the target chain for the transaction (id: ${t.id} \u2013 ${t.name}).`,{metaMessages:[`Current Chain ID:  ${r}`,`Expected Chain ID: ${t.id} \u2013 ${t.name}`],name:"ChainMismatchError"})}},Kw=class extends Z{constructor(){super(["No chain was provided to the request.","Please provide a chain with the `chain` argument on the Action, or by supplying a `chain` to WalletClient."].join(`
`),{name:"ChainNotFoundError"})}},G1=class extends Z{constructor(){super("No chain was provided to the Client.",{name:"ClientChainNotConfiguredError"})}},Np=class extends Z{constructor({chainId:t}){super(typeof t=="number"?`Chain ID "${t}" is invalid.`:"Chain ID is invalid.",{name:"InvalidChainIdError"})}}});function Rp(e){let{abi:t,args:r,bytecode:n}=e;if(!r||r.length===0)return n;let s=t.find(i=>"type"in i&&i.type==="constructor");if(!s)throw new hh({docsPath:UU});if(!("inputs"in s))throw new Gl({docsPath:UU});if(!s.inputs||s.inputs.length===0)throw new Gl({docsPath:UU});let o=ns(s.inputs,r);return pn([n,o])}var UU,u4=m(()=>{Xr();Fn();Yc();UU="/docs/contract/encodeDeployData"});function Di({blockNumber:e,chain:t,contract:r}){let n=t?.contracts?.[r];if(!n)throw new Pp({chain:t,contract:{name:r}});if(e&&n.blockCreated&&n.blockCreated>e)throw new Pp({blockNumber:e,chain:t,contract:{name:r,blockCreated:n.blockCreated}});return n.address}var I0=m(()=>{Zw()});function cI(e,{docsPath:t,...r}){let n=(()=>{let s=d0(e,r);return s instanceof Oi?e:s})();return new Nh(n,{docsPath:t,...r})}var LU=m(()=>{mp();au();Kx()});function Gw(){let e=()=>{},t=()=>{};return{promise:new Promise((n,s)=>{e=n,t=s}),resolve:e,reject:t}}var lI=m(()=>{});function Yw({fn:e,id:t,shouldSplitBatch:r,wait:n=0,sort:s}){let o=async()=>{let u=c();i();let d=u.map(({args:p})=>p);d.length!==0&&e(d).then(p=>{s&&Array.isArray(p)&&p.sort(s);for(let f=0;f<u.length;f++){let{resolve:h}=u[f];h?.([p[f],p])}}).catch(p=>{for(let f=0;f<u.length;f++){let{reject:h}=u[f];h?.(p)}})},i=()=>MU.delete(t),a=()=>c().map(({args:u})=>u),c=()=>MU.get(t)||[],l=u=>MU.set(t,[...c(),u]);return{flush:i,async schedule(u){let{promise:d,resolve:p,reject:f}=Gw();return r?.([...a(),u])&&o(),c().length>0?(l({args:u,resolve:p,reject:f}),d):(l({args:u,resolve:p,reject:f}),setTimeout(o,n),d)}}}var MU,uI=m(()=>{lI();MU=new Map});var dI,pI,fI,die=m(()=>{Bs();yt();ES();dI=class extends Z{constructor({callbackSelector:t,cause:r,data:n,extraData:s,sender:o,urls:i}){super(r.shortMessage||"An error occurred while fetching for an offchain result.",{cause:r,metaMessages:[...r.metaMessages||[],r.metaMessages?.length?"":[],"Offchain Gateway Call:",i&&["  Gateway URL(s):",...i.map(a=>`    ${fp(a)}`)],`  Sender: ${o}`,`  Data: ${n}`,`  Callback selector: ${t}`,`  Extra data: ${s}`].flat(),name:"OffchainLookupError"})}},pI=class extends Z{constructor({result:t,url:r}){super("Offchain gateway response is malformed. Response data must be a hex value.",{metaMessages:[`Gateway URL: ${fp(r)}`,`Response: ${Tt(t)}`],name:"OffchainLookupResponseMalformedError"})}},fI=class extends Z{constructor({sender:t,to:r}){super("Reverted sender address does not match target contract address (`to`).",{metaMessages:[`Contract address: ${r}`,`OffchainLookup sender address: ${t}`],name:"OffchainLookupSenderMismatchError"})}}});function hI(e){let{abi:t,data:r}=e,n=no(r,0,4),s=t.find(o=>o.type==="function"&&n===Ca(ts(o)));if(!s)throw new My(n,{docsPath:"/docs/contract/decodeFunctionData"});return{functionName:s.name,args:"inputs"in s&&s.inputs&&s.inputs.length>0?Vo(s.inputs,no(r,4)):void 0}}var HU=m(()=>{Xr();Qa();L1();Sh();ap()});function d4(e){let{abi:t,errorName:r,args:n}=e,s=t[0];if(r){let c=so({abi:t,args:n,name:r});if(!c)throw new O1(r,{docsPath:$U});s=c}if(s.type!=="error")throw new O1(void 0,{docsPath:$U});let o=ts(s),i=Ca(o),a="0x";if(n&&n.length>0){if(!s.inputs)throw new Dy(s.name,{docsPath:$U});a=ns(s.inputs,n)}return pn([i,a])}var $U,FU=m(()=>{Xr();Fn();L1();Yc();ap();pp();$U="/docs/contract/encodeErrorResult"});function mI(e){let{abi:t,functionName:r,result:n}=e,s=t[0];if(r){let i=so({abi:t,name:r});if(!i)throw new va(r,{docsPath:jU});s=i}if(s.type!=="function")throw new va(void 0,{docsPath:jU});if(!s.outputs)throw new wh(s.name,{docsPath:jU});let o=(()=>{if(s.outputs.length===0)return[];if(s.outputs.length===1)return[n];if(Array.isArray(n))return n;throw new xh(n)})();return ns(s.outputs,o)}var jU,zU=m(()=>{Xr();Yc();pp();jU="/docs/contract/encodeFunctionResult"});async function VU(e){let{data:t,ccipRequest:r}=e,{args:[n]}=hI({abi:oI,data:t}),s=[],o=[];return await Promise.all(n.map(async(i,a)=>{try{o[a]=i.urls.includes(Op)?await VU({data:i.data,ccipRequest:r}):await r(i),s[a]=!1}catch(c){s[a]=!0,o[a]=$Fe(c)}})),mI({abi:oI,functionName:"query",result:[s,o]})}function $Fe(e){return e.name==="HttpRequestError"&&e.status?d4({abi:oI,errorName:"HttpError",args:[e.status,e.shortMessage]}):d4({abi:[mS],errorName:"Error",args:["shortMessage"in e?e.shortMessage:e.message]})}var Op,p4=m(()=>{fu();gS();HU();FU();zU();Op="x-batch-gateway:true"});var pie={};Se(pie,{ccipRequest:()=>f4,offchainLookup:()=>WU,offchainLookupAbiItem:()=>gI,offchainLookupSignature:()=>qU});async function WU(e,{blockNumber:t,blockTag:r,data:n,to:s}){let{args:o}=ew({data:n,abi:[gI]}),[i,a,c,l,u]=o,{ccipRead:d}=e,p=d&&typeof d?.request=="function"?d.request:f4;try{if(!vn(s,i))throw new fI({sender:i,to:s});let f=a.includes(Op)?await VU({data:c,ccipRequest:p}):await p({data:c,sender:i,urls:a}),{data:h}=await oc(e,{blockNumber:t,blockTag:r,data:hr([l,ns([{type:"bytes"},{type:"bytes"}],[f,u])]),to:s});return h}catch(f){throw new dI({callbackSelector:l,cause:f,data:n,extraData:u,sender:i,urls:a})}}async function f4({data:e,sender:t,urls:r}){let n=new Error("An unknown error occurred.");for(let s=0;s<r.length;s++){let o=r[s],i=o.includes("{data}")?"GET":"POST",a=i==="POST"?{data:e,sender:t}:void 0,c=i==="POST"?{"Content-Type":"application/json"}:{};try{let l=await fetch(o.replace("{sender}",t.toLowerCase()).replace("{data}",e),{body:JSON.stringify(a),headers:c,method:i}),u;if(l.headers.get("Content-Type")?.startsWith("application/json")?u=(await l.json()).data:u=await l.text(),!l.ok){n=new _i({body:a,details:u?.error?Tt(u.error):l.statusText,headers:l.headers,status:l.status,url:o});continue}if(!je(u)){n=new pI({result:u,url:o});continue}return u}catch(l){n=new _i({body:a,details:l.message,url:o})}}throw n}var qU,gI,KU=m(()=>{Y1();die();Qc();wS();Yc();sl();Fn();$o();p4();Bs();qU="0x556f1830",gI={name:"OffchainLookup",type:"error",inputs:[{name:"sender",type:"address"},{name:"urls",type:"string[]"},{name:"callData",type:"bytes"},{name:"callbackFunction",type:"bytes4"},{name:"extraData",type:"bytes"}]}});async function oc(e,t){let{account:r=e.account,authorizationList:n,batch:s=!!e.batch?.multicall,blockNumber:o,blockTag:i=e.experimental_blockTag??"latest",accessList:a,blobs:c,blockOverrides:l,code:u,data:d,factory:p,factoryData:f,gas:h,gasPrice:g,maxFeePerBlobGas:y,maxFeePerGas:E,maxPriorityFeePerGas:A,nonce:b,to:w,value:C,stateOverride:_,...B}=t,U=r?mt(r):void 0;if(u&&(p||f))throw new Z("Cannot provide both `code` & `factory`/`factoryData` as parameters.");if(u&&w)throw new Z("Cannot provide both `code` & `to` as parameters.");let k=u&&d,$=p&&f&&w&&d,P=k||$,I=k?fie({code:u,data:d}):$?zFe({data:d,factory:p,factoryData:f,to:w}):d;try{zn(t);let O=(typeof o=="bigint"?J(o):void 0)||i,x=l?sI(l):void 0,v=Ew(_),N=e.chain?.formatters?.transactionRequest?.format,T=(N||Rn)({...ki(B,{format:N}),accessList:a,account:U,authorizationList:n,blobs:c,data:I,gas:h,gasPrice:g,maxFeePerBlobGas:y,maxFeePerGas:E,maxPriorityFeePerGas:A,nonce:b,to:P?void 0:w,value:C},"call");if(s&&FFe({request:T})&&!v&&!x)try{return await jFe(e,{...T,blockNumber:o,blockTag:i})}catch(q){if(!(q instanceof G1)&&!(q instanceof Pp))throw q}let L=(()=>{let q=[T,O];return v&&x?[...q,v,x]:v?[...q,v]:x?[...q,{},x]:q})(),j=await e.request({method:"eth_call",params:L});return j==="0x"?{data:void 0}:{data:j}}catch(S){let O=VFe(S),{offchainLookup:x,offchainLookupSignature:v}=await Promise.resolve().then(()=>(KU(),pie));if(e.ccipRead!==!1&&O?.slice(0,10)===v&&w)return{data:await x(e,{data:O,to:w})};throw P&&O?.slice(0,10)==="0x101bb98d"?new fw({factory:p}):cI(S,{...t,account:U,chain:e.chain})}}function FFe({request:e}){let{data:t,to:r,...n}=e;return!(!t||t.startsWith(lie)||!r||Object.values(n).filter(s=>typeof s<"u").length>0)}async function jFe(e,t){let{batchSize:r=1024,deployless:n=!1,wait:s=0}=typeof e.batch?.multicall=="object"?e.batch.multicall:{},{blockNumber:o,blockTag:i=e.experimental_blockTag??"latest",data:a,to:c}=t,l=(()=>{if(n)return null;if(t.multicallAddress)return t.multicallAddress;if(e.chain)return Di({blockNumber:o,chain:e.chain,contract:"multicall3"});throw new G1})(),d=(typeof o=="bigint"?J(o):void 0)||i,{schedule:p}=Yw({id:`${e.uid}.${d}`,wait:s,shouldSplitBatch(g){return g.reduce((E,{data:A})=>E+(A.length-2),0)>r*2},fn:async g=>{let y=g.map(b=>({allowFailure:!0,callData:b.data,target:b.to})),E=Ar({abi:sc,args:[y],functionName:"aggregate3"}),A=await e.request({method:"eth_call",params:[{...l===null?{data:fie({code:Vw,data:E})}:{to:l,data:E}},d]});return ws({abi:sc,args:[y],functionName:"aggregate3",data:A||"0x"})}}),[{returnData:f,success:h}]=await p({data:a,to:c});if(!h)throw new ec({data:f});return f==="0x"?{data:void 0}:{data:f}}function fie(e){let{code:t,data:r}=e;return Rp({abi:Ty(["constructor(bytes, bytes)"]),bytecode:zw,args:[t,r]})}function zFe(e){let{data:t,factory:r,factoryData:n,to:s}=e;return Rp({abi:Ty(["constructor(address, bytes, address, bytes)"]),bytecode:aI,args:[s,t,r,n]})}function VFe(e){if(!(e instanceof Z))return;let t=e.walk();return typeof t?.data=="object"?t.data?.data:t.data}var Y1=m(()=>{Ry();OU();fn();fu();uie();qw();yt();Zw();mp();uu();u4();zo();I0();De();LU();p0();rl();uI();NS();nl()});async function En(e,t){let{abi:r,address:n,args:s,functionName:o,...i}=t,a=Ar({abi:r,args:s,functionName:o});try{let{data:c}=await fe(e,oc,"call")({...i,data:a,to:n});return ws({abi:r,args:s,functionName:o,data:c||"0x"})}catch(c){throw Wo(c,{abi:r,address:n,args:s,docsPath:"/docs/contract/readContract",functionName:o})}}var ol=m(()=>{uu();zo();Jh();jt();Y1()});async function yI(e,t){let{abi:r,address:n,args:s,functionName:o,dataSuffix:i=typeof e.dataSuffix=="string"?e.dataSuffix:e.dataSuffix?.value,...a}=t,c=a.account?mt(a.account):e.account,l=Ar({abi:r,args:s,functionName:o});try{let{data:u}=await fe(e,oc,"call")({batch:!1,data:`${l}${i?i.replace("0x",""):""}`,to:n,...a,account:c}),d=ws({abi:r,args:s,functionName:o,data:u||"0x"}),p=r.filter(f=>"name"in f&&f.name===t.functionName);return{result:d,request:{abi:p,address:n,args:s,dataSuffix:i,functionName:o,...a,account:c}}}catch(u){throw Wo(u,{abi:r,address:n,args:s,docsPath:"/docs/contract/simulateContract",functionName:o,sender:c?.address})}}var ZU=m(()=>{fn();uu();zo();Jh();jt();Y1()});function ao(e,t,r){let n=++qFe,s=()=>GU.get(e)||[],o=()=>{let u=s();GU.set(e,u.filter(d=>d.id!==n))},i=()=>{let u=s();if(!u.some(p=>p.id===n))return;let d=hie.get(e);if(u.length===1&&d){let p=d();p instanceof Promise&&p.catch(()=>{})}o()},a=s();if(GU.set(e,[...a,{id:n,fns:t}]),a&&a.length>0)return i;let c={};for(let u in t)c[u]=((...d)=>{let p=s();if(p.length!==0)for(let f of p)f.fns[u]?.(...d)});let l=r(c);return typeof l=="function"&&hie.set(e,l),i}var GU,hie,qFe,_0=m(()=>{GU=new Map,hie=new Map,qFe=0});async function J1(e){return new Promise(t=>setTimeout(t,e))}var wI=m(()=>{});function ic(e,{emitOnBegin:t,initialWaitTime:r,interval:n}){let s=!0,o=()=>s=!1;return(async()=>{let a;t&&(a=await e({unpoll:o}));let c=await r?.(a)??n;await J1(c);let l=async()=>{s&&(await e({unpoll:o}),await J1(n),l())};l()})(),o}var Q1=m(()=>{wI()});function mie(e){let t=(s,o)=>({clear:()=>o.delete(s),get:()=>o.get(s),set:i=>o.set(s,i)}),r=t(e,WFe),n=t(e,KFe);return{clear:()=>{r.clear(),n.clear()},promise:r,response:n}}async function bI(e,{cacheKey:t,cacheTime:r=Number.POSITIVE_INFINITY}){let n=mie(t),s=n.response.get();if(s&&r>0&&Date.now()-s.created.getTime()<r)return s.data;let o=n.promise.get();o||(o=e(),n.promise.set(o));try{let i=await o;return n.response.set({created:new Date,data:i}),i}finally{n.promise.clear()}}var WFe,KFe,YU=m(()=>{WFe=new Map,KFe=new Map});async function hu(e,{cacheTime:t=e.cacheTime}={}){let r=await bI(()=>e.request({method:"eth_blockNumber"}),{cacheKey:ZFe(e.uid),cacheTime:t});return BigInt(r)}var ZFe,Jw=m(()=>{YU();ZFe=e=>`blockNumber.${e}`});async function T0(e,{filter:t}){let r="strict"in t&&t.strict,n=await t.request({method:"eth_getFilterChanges",params:[t.id]});if(typeof n[0]=="string")return n;let s=n.map(o=>ys(o));return!("abi"in t)||!t.abi?s:A0({abi:t.abi,logs:s,strict:r})}var h4=m(()=>{n4();Ip()});async function P0(e,{filter:t}){return t.request({method:"eth_uninstallFilter",params:[t.id]})}var m4=m(()=>{});function xI(e,t){let{abi:r,address:n,args:s,batch:o=!0,eventName:i,fromBlock:a,onError:c,onLogs:l,poll:u,pollingInterval:d=e.pollingInterval,strict:p}=t;return(typeof u<"u"?u:typeof a=="bigint"?!0:!(e.transport.type==="webSocket"||e.transport.type==="ipc"||e.transport.type==="fallback"&&(e.transport.transports[0].config.type==="webSocket"||e.transport.transports[0].config.type==="ipc")))?(()=>{let y=p??!1,E=Tt(["watchContractEvent",n,s,o,e.uid,i,d,y,a]);return ao(E,{onLogs:l,onError:c},A=>{let b;a!==void 0&&(b=a-1n);let w,C=!1,_=ic(async()=>{if(!C){try{w=await fe(e,Yy,"createContractEventFilter")({abi:r,address:n,args:s,eventName:i,strict:y,fromBlock:a})}catch{}C=!0;return}try{let B;if(w)B=await fe(e,T0,"getFilterChanges")({filter:w});else{let U=await fe(e,hu,"getBlockNumber")({});b&&b<U?B=await fe(e,Dw,"getContractEvents")({abi:r,address:n,args:s,eventName:i,fromBlock:b+1n,toBlock:U,strict:y}):B=[],b=U}if(B.length===0)return;if(o)A.onLogs(B);else for(let U of B)A.onLogs([U])}catch(B){w&&B instanceof Ti&&(C=!1),A.onError?.(B)}},{emitOnBegin:!0,interval:d});return async()=>{w&&await fe(e,P0,"uninstallFilter")({filter:w}),_()}})})():(()=>{let y=p??!1,E=Tt(["watchContractEvent",n,s,o,e.uid,i,d,y]),A=!0,b=()=>A=!1;return ao(E,{onLogs:l,onError:c},w=>((async()=>{try{let C=(()=>{if(e.transport.type==="fallback"){let U=e.transport.transports.find(k=>k.config.type==="webSocket"||k.config.type==="ipc");return U?U.value:e.transport}return e.transport})(),_=i?Xa({abi:r,eventName:i,args:s}):[],{unsubscribe:B}=await C.subscribe({params:["logs",{address:n,topics:_}],onData(U){if(!A)return;let k=U.result;try{let{eventName:$,args:P}=Sp({abi:r,data:k.data,topics:k.topics,strict:p}),I=ys(k,{args:P,eventName:$});w.onLogs([I])}catch($){let P,I;if($ instanceof Kc||$ instanceof Yl){if(p)return;P=$.abiItem.name,I=$.abiItem.inputs?.some(O=>!("name"in O&&O.name))}let S=ys(k,{args:I?[]:{},eventName:P});w.onLogs([S])}},onError(U){w.onError?.(U)}});b=B,A||b()}catch(C){c?.(C)}})(),()=>b()))})()}var JU=m(()=>{Xr();Yh();r4();M1();Ip();jt();_0();Q1();Bs();fS();Jw();ZS();h4();m4()});var xs,ac,kp=m(()=>{yt();xs=class extends Z{constructor({docsPath:t}={}){super(["Could not find an Account to execute with this Action.","Please provide an Account with the `account` argument on the Action, or by supplying an `account` to the Client."].join(`
`),{docsPath:t,docsSlug:"account",name:"AccountNotFoundError"})}},ac=class extends Z{constructor({docsPath:t,metaMessages:r,type:n}){super(`Account type "${n}" is not supported.`,{docsPath:t,metaMessages:r,name:"AccountTypeNotSupportedError"})}}});function N0({chain:e,currentChainId:t}){if(!e)throw new Kw;if(t!==e.id)throw new Ww({chain:e,currentChainId:t})}var g4=m(()=>{Zw()});async function Qw(e,{serializedTransaction:t}){return e.request({method:"eth_sendRawTransaction",params:[t]},{retryCount:0})}var vI=m(()=>{});async function R0(e,t){let{account:r=e.account,assertChainId:n=!0,chain:s=e.chain,accessList:o,authorizationList:i,blobs:a,data:c,dataSuffix:l=typeof e.dataSuffix=="string"?e.dataSuffix:e.dataSuffix?.value,gas:u,gasPrice:d,maxFeePerBlobGas:p,maxFeePerGas:f,maxPriorityFeePerGas:h,nonce:g,type:y,value:E,...A}=t;if(typeof r>"u")throw new xs({docsPath:"/docs/actions/wallet/sendTransaction"});let b=r?mt(r):null;try{zn(t);let w=await(async()=>{if(t.to)return t.to;if(t.to!==null&&i&&i.length>0)return await r0({authorization:i[0]}).catch(()=>{throw new Z("`to` is required. Could not infer from `authorizationList`.")})})();if(b?.type==="json-rpc"||b===null){let C;s!==null&&(C=await fe(e,io,"getChainId")({}),n&&N0({currentChainId:C,chain:s}));let _=e.chain?.formatters?.transactionRequest?.format,U=(_||Rn)({...ki(A,{format:_}),accessList:o,account:b,authorizationList:i,blobs:a,chainId:C,data:c&&hr([c,l??"0x"]),gas:u,gasPrice:d,maxFeePerBlobGas:p,maxFeePerGas:f,maxPriorityFeePerGas:h,nonce:g,to:w,type:y,value:E},"sendTransaction"),k=QU.get(e.uid),$=k?"wallet_sendTransaction":"eth_sendTransaction";try{return await e.request({method:$,params:[U]},{retryCount:0})}catch(P){if(k===!1)throw P;let I=P;if(I.name==="InvalidInputRpcError"||I.name==="InvalidParamsRpcError"||I.name==="MethodNotFoundRpcError"||I.name==="MethodNotSupportedRpcError")return await e.request({method:"wallet_sendTransaction",params:[U]},{retryCount:0}).then(S=>(QU.set(e.uid,!0),S)).catch(S=>{let O=S;throw O.name==="MethodNotFoundRpcError"||O.name==="MethodNotSupportedRpcError"?(QU.set(e.uid,!1),I):O});throw I}}if(b?.type==="local"){let C=await fe(e,lu,"prepareTransactionRequest")({account:b,accessList:o,authorizationList:i,blobs:a,chain:s,data:c&&hr([c,l??"0x"]),gas:u,gasPrice:d,maxFeePerBlobGas:p,maxFeePerGas:f,maxPriorityFeePerGas:h,nonce:g,nonceManager:b.nonceManager,parameters:[...t4,"sidecars"],type:y,value:E,...A,to:w}),_=s?.serializers?.transaction,B=await b.signTransaction(C,{serializer:_});return await fe(e,Qw,"sendRawTransaction")({serializedTransaction:B})}throw b?.type==="smart"?new ac({metaMessages:["Consider using the `sendUserOperation` Action instead."],docsPath:"/docs/actions/bundler/sendUserOperation",type:"smart"}):new ac({docsPath:"/docs/actions/wallet/sendTransaction",type:b?.type})}catch(w){throw w instanceof ac?w:E0(w,{...t,account:b,chain:t.chain||void 0})}}var QU,y4=m(()=>{fn();kp();yt();Wx();g4();Fn();e4();p0();rl();jt();Ah();nl();Cp();Ow();vI();QU=new ro(128)});async function Bp(e,t){return Bp.internal(e,R0,"sendTransaction",t)}var EI=m(()=>{fn();kp();zo();Jh();jt();y4();(function(e){async function t(r,n,s,o){let{abi:i,account:a=r.account,address:c,args:l,functionName:u,...d}=o;if(typeof a>"u")throw new xs({docsPath:"/docs/contract/writeContract"});let p=a?mt(a):null,f=Ar({abi:i,args:l,functionName:u});try{return await fe(r,n,s)({data:f,to:c,account:p,...d})}catch(h){throw Wo(h,{abi:i,address:c,args:l,docsPath:"/docs/contract/writeContract",functionName:u,sender:p?.address})}}e.internal=t})(Bp||(Bp={}))});function gie({abi:e,address:t,client:r}){let n=r,[s,o]=n?"public"in n&&"wallet"in n?[n.public,n.wallet]:"public"in n?[n.public,void 0]:"wallet"in n?[void 0,n.wallet]:[n,n]:[void 0,void 0],i=s!=null,a=o!=null,c={},l=!1,u=!1,d=!1;for(let p of e)if(p.type==="function"?p.stateMutability==="view"||p.stateMutability==="pure"?l=!0:u=!0:p.type==="event"&&(d=!0),l&&u&&d)break;return i&&(l&&(c.read=new Proxy({},{get(p,f){return(...h)=>{let{args:g,options:y}=AI(h);return fe(s,En,"readContract")({abi:e,address:t,functionName:f,args:g,...y})}}})),u&&(c.simulate=new Proxy({},{get(p,f){return(...h)=>{let{args:g,options:y}=AI(h);return fe(s,yI,"simulateContract")({abi:e,address:t,functionName:f,args:g,...y})}}})),d&&(c.createEventFilter=new Proxy({},{get(p,f){return(...h)=>{let g=e.find(A=>A.type==="event"&&A.name===f),{args:y,options:E}=XU(h,g);return fe(s,Yy,"createContractEventFilter")({abi:e,address:t,eventName:f,args:y,...E})}}}),c.getEvents=new Proxy({},{get(p,f){return(...h)=>{let g=e.find(A=>A.type==="event"&&A.name===f),{args:y,options:E}=XU(h,g);return fe(s,Dw,"getContractEvents")({abi:e,address:t,eventName:f,args:y,...E})}}}),c.watchEvent=new Proxy({},{get(p,f){return(...h)=>{let g=e.find(A=>A.type==="event"&&A.name===f),{args:y,options:E}=XU(h,g);return fe(s,xI,"watchContractEvent")({abi:e,address:t,eventName:f,args:y,...E})}}}))),a&&u&&(c.write=new Proxy({},{get(p,f){return(...h)=>{let{args:g,options:y}=AI(h);return fe(o,Bp,"writeContract")({abi:e,address:t,functionName:f,args:g,...y})}}})),(i||a)&&u&&(c.estimateGas=new Proxy({},{get(p,f){return(...h)=>{let{args:g,options:y}=AI(h);return fe(s??o,WS,"estimateContractGas")({abi:e,address:t,functionName:f,args:g,...y,account:y.account??o.account})}}})),c.address=t,c.abi=e,c}function AI(e){let t=e.length&&Array.isArray(e[0]),r=t?e[0]:[],n=(t?e[1]:e[0])??{};return{args:r,options:n}}function XU(e,t){let r=!1;Array.isArray(e[0])?r=!0:e.length===1?r=t.inputs.some(o=>o.indexed):e.length===2&&(r=!0);let n=r?e[0]:void 0,s=(r?e[1]:e[0])??{};return{args:n,options:s}}var yie=m(()=>{jt();fS();EU();ZS();ol();ZU();JU();EI()});var Xw,eL=m(()=>{yt();Xw=class extends Z{constructor(t){super(`Call bundle failed with status: ${t.statusCode}`,{name:"BundleFailedError"}),Object.defineProperty(this,"result",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.result=t}}});function Dp(e,{delay:t=100,retryCount:r=2,shouldRetry:n=()=>!0}={}){return new Promise((s,o)=>{let i=async({count:a=0}={})=>{let c=async({error:l})=>{let u=typeof t=="function"?t({count:a,error:l}):t;u&&await J1(u),i({count:a+1})};try{let l=await e();s(l)}catch(l){if(a<r&&await n({count:a,error:l}))return c({error:l});o(l)}};i()})}var w4=m(()=>{wI()});function X1(e,t){let r={...e,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,contractAddress:e.contractAddress?e.contractAddress:null,cumulativeGasUsed:e.cumulativeGasUsed?BigInt(e.cumulativeGasUsed):null,effectiveGasPrice:e.effectiveGasPrice?BigInt(e.effectiveGasPrice):null,gasUsed:e.gasUsed?BigInt(e.gasUsed):null,logs:e.logs?e.logs.map(n=>ys(n)):null,to:e.to?e.to:null,transactionIndex:e.transactionIndex?ft(e.transactionIndex):null,status:e.status?tL[e.status]:null,type:e.type?Gx[e.type]||e.type:null};return e.blobGasPrice&&(r.blobGasPrice=BigInt(e.blobGasPrice)),e.blobGasUsed&&(r.blobGasUsed=BigInt(e.blobGasUsed)),r}var tL,wie,b4=m(()=>{un();Zx();Ip();Sw();tL={"0x0":"reverted","0x1":"success"};wie=f0("transactionReceipt",X1)});async function CI(e,t){let{account:r=e.account,chain:n=e.chain,experimental_fallback:s,experimental_fallbackDelay:o=32,forceAtomic:i=!1,id:a,version:c="2.0.0"}=t,l=r?mt(r):null,u=t.capabilities;e.dataSuffix&&!t.capabilities?.dataSuffix&&(typeof e.dataSuffix=="string"?u={...t.capabilities,dataSuffix:{value:e.dataSuffix,optional:!0}}:u={...t.capabilities,dataSuffix:{value:e.dataSuffix.value,...e.dataSuffix.required?{}:{optional:!0}}});let d=t.calls.map(p=>{let f=p,h=f.abi?Ar({abi:f.abi,functionName:f.functionName,args:f.args}):f.data;return{data:f.dataSuffix&&h?hr([h,f.dataSuffix]):h,to:f.to,value:f.value?J(f.value):void 0}});try{let p=await e.request({method:"wallet_sendCalls",params:[{atomicRequired:i,calls:d,capabilities:u,chainId:J(n.id),from:l?.address,id:a,version:c}]},{retryCount:0});return typeof p=="string"?{id:p}:p}catch(p){let f=p;if(s&&(f.name==="MethodNotFoundRpcError"||f.name==="MethodNotSupportedRpcError"||f.name==="UnknownRpcError"||f.details.toLowerCase().includes("does not exist / is not available")||f.details.toLowerCase().includes("missing or invalid. request()")||f.details.toLowerCase().includes("did not match any variant of untagged enum")||f.details.toLowerCase().includes("account upgraded to unsupported contract")||f.details.toLowerCase().includes("eip-7702 not supported")||f.details.toLowerCase().includes("unsupported wc_ method")||f.details.toLowerCase().includes("feature toggled misconfigured")||f.details.toLowerCase().includes("jsonrpcengine: response has no error or result for request"))){if(u&&Object.values(u).some(A=>!A.optional)){let A="non-optional `capabilities` are not supported on fallback to `eth_sendTransaction`.";throw new su(new Z(A,{details:A}))}if(i&&d.length>1){let E="`forceAtomic` is not supported on fallback to `eth_sendTransaction`.";throw new ou(new Z(E,{details:E}))}let h=[];for(let E of d){let A=R0(e,{account:l,chain:n,data:E.data,to:E.to,value:E.value?lt(E.value):void 0});h.push(A),o>0&&await new Promise(b=>setTimeout(b,o))}let g=await Promise.allSettled(h);if(g.every(E=>E.status==="rejected"))throw g[0].reason;let y=g.map(E=>E.status==="fulfilled"?E.value:nL);return{id:hr([...y,J(n.id,{size:32}),rL])}}throw E0(p,{...t,account:l,chain:t.chain})}}var rL,nL,SI=m(()=>{fn();yt();Yh();zo();Fn();un();De();e4();y4();rL="0x5792579257925792579257925792579257925792579257925792579257925792",nL=J(0,{size:32})});async function II(e,t){async function r(u){if(u.endsWith(rL.slice(2))){let p=ln(Ql(u,-64,-32)),f=Ql(u,0,-64).slice(2).match(/.{1,64}/g),h=await Promise.all(f.map(y=>nL.slice(2)!==y?e.request({method:"eth_getTransactionReceipt",params:[`0x${y}`]},{dedupe:!0}):void 0)),g=h.some(y=>y===null)?100:h.every(y=>y?.status==="0x1")?200:h.every(y=>y?.status==="0x0")?500:600;return{atomic:!1,chainId:ft(p),receipts:h.filter(Boolean),status:g,version:"2.0.0"}}return e.request({method:"wallet_getCallsStatus",params:[u]})}let{atomic:n=!1,chainId:s,receipts:o,version:i="2.0.0",...a}=await r(t.id),[c,l]=(()=>{let u=a.status;return u>=100&&u<200?["pending",u]:u>=200&&u<300?["success",u]:u>=300&&u<700?["failure",u]:u==="CONFIRMED"?["success",200]:u==="PENDING"?["pending",100]:[void 0,u]})();return{...a,atomic:n,chainId:s?ft(s):void 0,receipts:o?.map(u=>({...u,blockNumber:lt(u.blockNumber),gasUsed:lt(u.gasUsed),status:tL[u.status]}))??[],statusCode:l,status:c,version:i}}var sL=m(()=>{Qa();cp();un();b4();SI()});async function _I(e,t){let{id:r,pollingInterval:n=e.pollingInterval,status:s=({statusCode:g})=>g===200||g>=300,retryCount:o=4,retryDelay:i=({count:g})=>~~(1<<g)*200,timeout:a=6e4,throwOnFailure:c=!1}=t,l=Tt(["waitForCallsStatus",e.uid,r]),{promise:u,resolve:d,reject:p}=Gw(),f,h=ao(l,{resolve:d,reject:p},g=>{let y=ic(async()=>{let E=A=>{clearTimeout(f),y(),A(),h()};try{let A=await Dp(async()=>{let b=await fe(e,II,"getCallsStatus")({id:r});if(c&&b.status==="failure")throw new Xw(b);return b},{retryCount:o,delay:i});if(!s(A))return;E(()=>g.resolve(A))}catch(A){E(()=>g.reject(A))}},{interval:n,emitOnBegin:!0});return y});return f=a?setTimeout(()=>{h(),clearTimeout(f),p(new x4({id:r}))},a):void 0,await u}var x4,TI=m(()=>{yt();eL();jt();_0();Q1();lI();w4();Bs();sL();x4=class extends Z{constructor({id:t}){super(`Timed out while waiting for call bundle with id "${t}" to be confirmed.`,{name:"WaitForCallsStatusTimeoutError"})}}});function RI(e=11){if(!NI||PI+e>256*2){NI="",PI=0;for(let t=0;t<256;t++)NI+=(256+Math.random()*256|0).toString(16).substring(1)}return NI.substring(PI,PI+++e)}var PI,NI,oL=m(()=>{PI=256});function O0(e){let{batch:t,chain:r,ccipRead:n,dataSuffix:s,key:o="base",name:i="Base Client",type:a="base"}=e,c=e.experimental_blockTag??(typeof r?.experimental_preconfirmationTime=="number"?"pending":void 0),l=r?.blockTime??12e3,u=Math.min(Math.max(Math.floor(l/2),500),4e3),d=e.pollingInterval??u,p=e.cacheTime??d,f=e.account?mt(e.account):void 0,{config:h,request:g,value:y}=e.transport({account:f,chain:r,pollingInterval:d}),E={...h,...y},A={account:f,batch:t,cacheTime:p,ccipRead:n,chain:r,dataSuffix:s,key:o,name:i,pollingInterval:d,request:g,transport:E,type:a,uid:RI(),...c?{experimental_blockTag:c}:{}};function b(w){return C=>{let _=C(w);for(let U in A)delete _[U];let B={...w,..._};return Object.assign(B,{extend:b(B)})}}return Object.assign(A,{extend:b(A)})}function bie(){return null}var v4=m(()=>{fn();oL()});function eb(e){if(!(e instanceof Z))return!1;let t=e.walk(r=>r instanceof hp);return t instanceof hp?t.data?.errorName==="HttpError"||t.data?.errorName==="ResolverError"||t.data?.errorName==="ResolverNotContract"||t.data?.errorName==="ResolverNotFound"||t.data?.errorName==="ReverseAddressMismatch"||t.data?.errorName==="UnsupportedResolverProfile":!1}var OI=m(()=>{yt();mp()});function kI(e){if(e.length!==66||e.indexOf("[")!==0||e.indexOf("]")!==65)return null;let t=`0x${e.slice(1,65)}`;return je(t)?t:null}var iL=m(()=>{$o()});function eg(e){let t=new Uint8Array(32).fill(0);if(!e)return ht(t);let r=e.split(".");for(let n=r.length-1;n>=0;n-=1){let s=kI(r[n]),o=s?dn(s):zt(Ea(r[n]),"bytes");t=zt(hr([t,o]),"bytes")}return ht(t)}var BI=m(()=>{Fn();Or();De();Si();iL()});function xie(e){return`[${e.slice(2)}]`}var vie=m(()=>{});function DI(e){let t=new Uint8Array(32).fill(0);return e?kI(e)||zt(Ea(e)):ht(t)}var aL=m(()=>{Or();De();Si();iL()});function tb(e){let t=e.replace(/^\.|\.$/gm,"");if(t.length===0)return new Uint8Array(1);let r=new Uint8Array(Ea(t).byteLength+2),n=0,s=t.split(".");for(let o=0;o<s.length;o++){let i=Ea(s[o]);i.byteLength>255&&(i=Ea(xie(DI(s[o])))),r[n]=i.length,r.set(i,n+1),n+=i.length+1}return r.byteLength!==n+1?r.slice(0,n+1):r}var UI=m(()=>{Or();vie();aL()});async function Eie(e,t){let{blockNumber:r,blockTag:n,coinType:s,name:o,gatewayUrls:i,strict:a}=t,{chain:c}=e,l=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!c)throw new Error("client chain not configured. universalResolverAddress is required.");return Di({blockNumber:r,chain:c,contract:"ensUniversalResolver"})})(),u=c?.ensTlds;if(u&&!u.some(p=>o.endsWith(p)))return null;let d=s!=null?[eg(o),BigInt(s)]:[eg(o)];try{let p=Ar({abi:BU,functionName:"addr",args:d}),f={address:l,abi:iI,functionName:"resolveWithGateways",args:[vr(tb(o)),p,i??[Op]],blockNumber:r,blockTag:n},g=await fe(e,En,"readContract")(f);if(g[0]==="0x")return null;let y=ws({abi:BU,args:d,functionName:"addr",data:g[0]});return y==="0x"||ln(y)==="0x00"?null:y}catch(p){if(a)throw p;if(eb(p))return null;throw p}}var Aie=m(()=>{fu();uu();zo();I0();cp();De();OI();p4();BI();UI();jt();ol()});var LI,mu,k0,rb,nb,MI=m(()=>{yt();LI=class extends Z{constructor({data:t}){super("Unable to extract image from metadata. The metadata may be malformed or invalid.",{metaMessages:["- Metadata must be a JSON object with at least an `image`, `image_url` or `image_data` property.","",`Provided data: ${JSON.stringify(t)}`],name:"EnsAvatarInvalidMetadataError"})}},mu=class extends Z{constructor({reason:t}){super(`ENS NFT avatar URI is invalid. ${t}`,{name:"EnsAvatarInvalidNftUriError"})}},k0=class extends Z{constructor({uri:t}){super(`Unable to resolve ENS avatar URI "${t}". The URI may be malformed, invalid, or does not respond with a valid image.`,{name:"EnsAvatarUriResolutionError"})}},rb=class extends Z{constructor({namespace:t}){super(`ENS NFT avatar namespace "${t}" is not supported. Must be "erc721" or "erc1155".`,{name:"EnsAvatarUnsupportedNamespaceError"})}},nb=class extends Z{constructor({chainId:t}){super(`Invalid ENSIP-11 chainId: ${t}. Must be between 0 and 0x7fffffff, or 1.`,{name:"EnsInvalidChainIdError"})}}});async function XFe(e){try{let t=await fetch(e,{method:"HEAD"});return t.status===200?t.headers.get("content-type")?.startsWith("image/"):!1}catch(t){return typeof t=="object"&&typeof t.response<"u"||!Object.hasOwn(globalThis,"Image")?!1:new Promise(r=>{let n=new Image;n.onload=()=>{r(!0)},n.onerror=()=>{r(!1)},n.src=e})}}function Cie(e,t){return e?e.endsWith("/")?e.slice(0,-1):e:t}function cL({uri:e,gatewayUrls:t}){let r=JFe.test(e);if(r)return{uri:e,isOnChain:!0,isEncoded:r};let n=Cie(t?.ipfs,"https://ipfs.io"),s=Cie(t?.arweave,"https://arweave.net"),o=e.match(GFe),{protocol:i,subpath:a,target:c,subtarget:l=""}=o?.groups||{},u=i==="ipns:/"||a==="ipns/",d=i==="ipfs:/"||a==="ipfs/"||YFe.test(e);if(e.startsWith("http")&&!u&&!d){let f=e;return t?.arweave&&(f=e.replace(/https:\/\/arweave.net/g,t?.arweave)),{uri:f,isOnChain:!1,isEncoded:!1}}if((u||d)&&c)return{uri:`${n}/${u?"ipns":"ipfs"}/${c}${l}`,isOnChain:!1,isEncoded:!1};if(i==="ar:/"&&c)return{uri:`${s}/${c}${l||""}`,isOnChain:!1,isEncoded:!1};let p=e.replace(QFe,"");if(p.startsWith("<svg")&&(p=`data:image/svg+xml;base64,${btoa(p)}`),p.startsWith("data:")||p.startsWith("{"))return{uri:p,isOnChain:!0,isEncoded:!1};throw new k0({uri:e})}function lL(e){if(typeof e!="object"||!("image"in e)&&!("image_url"in e)&&!("image_data"in e))throw new LI({data:e});return e.image||e.image_url||e.image_data}async function Sie({gatewayUrls:e,uri:t}){try{let r=await fetch(t).then(s=>s.json());return await HI({gatewayUrls:e,uri:lL(r)})}catch{throw new k0({uri:t})}}async function HI({gatewayUrls:e,uri:t}){let{uri:r,isOnChain:n}=cL({uri:t,gatewayUrls:e});if(n||await XFe(r))return r;throw new k0({uri:t})}function Iie(e){let t=e;t.startsWith("did:nft:")&&(t=t.replace("did:nft:","").replace(/_/g,"/"));let[r,n,s]=t.split("/"),[o,i]=r.split(":"),[a,c]=n.split(":");if(!o||o.toLowerCase()!=="eip155")throw new mu({reason:"Only EIP-155 supported"});if(!i)throw new mu({reason:"Chain ID not found"});if(!c)throw new mu({reason:"Contract address not found"});if(!s)throw new mu({reason:"Token ID not found"});if(!a)throw new mu({reason:"ERC namespace not found"});return{chainID:Number.parseInt(i,10),namespace:a.toLowerCase(),contractAddress:c,tokenID:s}}async function _ie(e,{nft:t}){if(t.namespace==="erc721")return En(e,{address:t.contractAddress,abi:[{name:"tokenURI",type:"function",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"tokenURI",args:[BigInt(t.tokenID)]});if(t.namespace==="erc1155")return En(e,{address:t.contractAddress,abi:[{name:"uri",type:"function",stateMutability:"view",inputs:[{name:"_id",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"uri",args:[BigInt(t.tokenID)]});throw new rb({namespace:t.namespace})}var GFe,YFe,JFe,QFe,Tie=m(()=>{ol();MI();GFe=/(?<protocol>https?:\/\/[^/]*|ipfs:\/|ipns:\/|ar:\/)?(?<root>\/)?(?<subpath>ipfs\/|ipns\/)?(?<target>[\w\-.]+)(?<subtarget>\/.*)?/,YFe=/^(Qm[1-9A-HJ-NP-Za-km-z]{44,}|b[A-Za-z2-7]{58,}|B[A-Z2-7]{58,}|z[1-9A-HJ-NP-Za-km-z]{48,}|F[0-9A-F]{50,})(\/(?<target>[\w\-.]+))?(?<subtarget>\/.*)?$/,JFe=/^data:([a-zA-Z\-/+]*);base64,([^"].*)/,QFe=/^data:([a-zA-Z\-/+]*)?(;[a-zA-Z0-9].*?)?(,)/});async function Pie(e,{gatewayUrls:t,record:r}){return/eip155:/i.test(r)?eje(e,{gatewayUrls:t,record:r}):HI({uri:r,gatewayUrls:t})}async function eje(e,{gatewayUrls:t,record:r}){let n=Iie(r),s=await _ie(e,{nft:n}),{uri:o,isOnChain:i,isEncoded:a}=cL({uri:s,gatewayUrls:t});if(i&&(o.includes("data:application/json;base64,")||o.startsWith("{"))){let l=a?atob(o.replace("data:application/json;base64,","")):o,u=JSON.parse(l);return HI({uri:lL(u),gatewayUrls:t})}let c=n.tokenID;return n.namespace==="erc1155"&&(c=c.replace("0x","").padStart(64,"0")),Sie({gatewayUrls:t,uri:o.replace(/(?:0x)?{id}/,c)})}var Nie=m(()=>{Tie()});async function $I(e,t){let{blockNumber:r,blockTag:n,key:s,name:o,gatewayUrls:i,strict:a}=t,{chain:c}=e,l=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!c)throw new Error("client chain not configured. universalResolverAddress is required.");return Di({blockNumber:r,chain:c,contract:"ensUniversalResolver"})})(),u=c?.ensTlds;if(u&&!u.some(d=>o.endsWith(d)))return null;try{let d={address:l,abi:iI,args:[vr(tb(o)),Ar({abi:kU,functionName:"text",args:[eg(o),s]}),i??[Op]],functionName:"resolveWithGateways",blockNumber:r,blockTag:n},f=await fe(e,En,"readContract")(d);if(f[0]==="0x")return null;let h=ws({abi:kU,functionName:"text",data:f[0]});return h===""?null:h}catch(d){if(a)throw d;if(eb(d))return null;throw d}}var uL=m(()=>{fu();uu();zo();I0();De();OI();p4();BI();UI();jt();ol()});async function Rie(e,{blockNumber:t,blockTag:r,assetGatewayUrls:n,name:s,gatewayUrls:o,strict:i,universalResolverAddress:a}){let c=await fe(e,$I,"getEnsText")({blockNumber:t,blockTag:r,key:"avatar",name:s,universalResolverAddress:a,gatewayUrls:o,strict:i});if(!c)return null;try{return await Pie(e,{record:c,gatewayUrls:n})}catch{return null}}var Oie=m(()=>{Nie();jt();uL()});async function kie(e,t){let{address:r,blockNumber:n,blockTag:s,coinType:o=60n,gatewayUrls:i,strict:a}=t,{chain:c}=e,l=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!c)throw new Error("client chain not configured. universalResolverAddress is required.");return Di({blockNumber:n,chain:c,contract:"ensUniversalResolver"})})();try{let u={address:l,abi:sie,args:[r,o,i??[Op]],functionName:"reverseWithGateways",blockNumber:n,blockTag:s},d=fe(e,En,"readContract"),[p]=await d(u);return p||null}catch(u){if(a)throw u;if(eb(u))return null;throw u}}var Bie=m(()=>{fu();I0();OI();p4();jt();ol()});async function Die(e,t){let{blockNumber:r,blockTag:n,name:s}=t,{chain:o}=e,i=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!o)throw new Error("client chain not configured. universalResolverAddress is required.");return Di({blockNumber:r,chain:o,contract:"ensUniversalResolver"})})(),a=o?.ensTlds;if(a&&!a.some(l=>s.endsWith(l)))throw new Error(`${s} is not a valid ENS TLD (${a?.join(", ")}) for chain "${o.name}" (id: ${o.id}).`);let[c]=await fe(e,En,"readContract")({address:i,abi:[{inputs:[{type:"bytes"}],name:"findResolver",outputs:[{type:"address"},{type:"bytes32"},{type:"uint256"}],stateMutability:"view",type:"function"}],functionName:"findResolver",args:[vr(tb(s))],blockNumber:r,blockTag:n});return c}var Uie=m(()=>{I0();De();UI();jt();ol()});async function FI(e,t){let{account:r=e.account,blockNumber:n,blockTag:s="latest",blobs:o,data:i,gas:a,gasPrice:c,maxFeePerBlobGas:l,maxFeePerGas:u,maxPriorityFeePerGas:d,to:p,value:f,...h}=t,g=r?mt(r):void 0;try{zn(t);let E=(typeof n=="bigint"?J(n):void 0)||s,A=e.chain?.formatters?.transactionRequest?.format,w=(A||Rn)({...ki(h,{format:A}),account:g,blobs:o,data:i,gas:a,gasPrice:c,maxFeePerBlobGas:l,maxFeePerGas:u,maxPriorityFeePerGas:d,to:p,value:f},"createAccessList"),C=await e.request({method:"eth_createAccessList",params:[w,E]});return{accessList:C.accessList,gasUsed:BigInt(C.gasUsed)}}catch(y){throw cI(y,{...t,account:g,chain:e.chain})}}var dL=m(()=>{fn();De();LU();p0();rl();nl()});async function Lie(e){let t=Ch(e,{method:"eth_newBlockFilter"}),r=await e.request({method:"eth_newBlockFilter"});return{id:r,request:t(r),type:"block"}}var Mie=m(()=>{Px()});async function jI(e,{address:t,args:r,event:n,events:s,fromBlock:o,strict:i,toBlock:a}={}){let c=s??(n?[n]:void 0),l=Ch(e,{method:"eth_newFilter"}),u=[];c&&(u=[c.flatMap(f=>Xa({abi:[f],eventName:f.name,args:r}))],n&&(u=u[0]));let d=await e.request({method:"eth_newFilter",params:[{address:t,fromBlock:typeof o=="bigint"?J(o):o,toBlock:typeof a=="bigint"?J(a):a,...u.length?{topics:u}:{}}]});return{abi:c,args:r,eventName:n?n.name:void 0,fromBlock:o,id:d,request:l(d),strict:!!i,toBlock:a,type:"event"}}var pL=m(()=>{M1();De();Px()});async function zI(e){let t=Ch(e,{method:"eth_newPendingTransactionFilter"}),r=await e.request({method:"eth_newPendingTransactionFilter"});return{id:r,request:t(r),type:"transaction"}}var fL=m(()=>{Px()});async function Hie(e,{address:t,blockNumber:r,blockTag:n=e.experimental_blockTag??"latest"}){if(e.batch?.multicall&&e.chain?.contracts?.multicall3){let i=e.chain.contracts.multicall3.address,a=Ar({abi:sc,functionName:"getEthBalance",args:[t]}),{data:c}=await fe(e,oc,"call")({to:i,data:a,blockNumber:r,blockTag:n});return ws({abi:sc,functionName:"getEthBalance",args:[t],data:c||"0x"})}let s=typeof r=="bigint"?J(r):void 0,o=await e.request({method:"eth_getBalance",params:[t,s||n]});return BigInt(o)}var $ie=m(()=>{fu();uu();zo();De();jt();Y1()});async function Fie(e){let t=await e.request({method:"eth_blobBaseFee"});return BigInt(t)}var jie=m(()=>{});async function zie(e,{blockHash:t,blockNumber:r,blockTag:n="latest"}={}){let s=r!==void 0?J(r):void 0,o;return t?o=await e.request({method:"eth_getBlockTransactionCountByHash",params:[t]},{dedupe:!0}):o=await e.request({method:"eth_getBlockTransactionCountByNumber",params:[s||n]},{dedupe:!!s}),ft(o)}var Vie=m(()=>{un();De()});async function E4(e,{address:t,blockNumber:r,blockTag:n="latest"}){let s=r!==void 0?J(r):void 0,o=await e.request({method:"eth_getCode",params:[t,s||n]},{dedupe:!!s});if(o!=="0x")return o}var hL=m(()=>{De()});var VI,qie=m(()=>{yt();VI=class extends Z{constructor({address:t}){super(`No EIP-712 domain found on contract "${t}".`,{metaMessages:["Ensure that:",`- The contract is deployed at the address "${t}".`,"- `eip712Domain()` function exists on the contract.","- `eip712Domain()` function matches signature to ERC-5267 specification."],name:"Eip712DomainNotFoundError"})}}});async function Wie(e,t){let{address:r,factory:n,factoryData:s}=t;try{let[o,i,a,c,l,u,d]=await fe(e,En,"readContract")({abi:tje,address:r,functionName:"eip712Domain",factory:n,factoryData:s});return{domain:{name:i,version:a,chainId:Number(c),verifyingContract:l,salt:u},extensions:d,fields:o}}catch(o){let i=o;throw i.name==="ContractFunctionExecutionError"&&i.cause.name==="ContractFunctionZeroDataError"?new VI({address:r}):i}}var tje,Kie=m(()=>{qie();jt();ol();tje=[{inputs:[],name:"eip712Domain",outputs:[{name:"fields",type:"bytes1"},{name:"name",type:"string"},{name:"version",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"},{name:"salt",type:"bytes32"},{name:"extensions",type:"uint256[]"}],stateMutability:"view",type:"function"}]});function Zie(e){return{baseFeePerGas:e.baseFeePerGas.map(t=>BigInt(t)),gasUsedRatio:e.gasUsedRatio,oldestBlock:BigInt(e.oldestBlock),reward:e.reward?.map(t=>t.map(r=>BigInt(r)))}}var Gie=m(()=>{});async function Yie(e,{blockCount:t,blockNumber:r,blockTag:n="latest",rewardPercentiles:s}){let o=typeof r=="bigint"?J(r):void 0,i=await e.request({method:"eth_feeHistory",params:[J(t),o||n,s]},{dedupe:!!o});return Zie(i)}var Jie=m(()=>{De();Gie()});async function Qie(e,{filter:t}){let r=t.strict??!1,s=(await t.request({method:"eth_getFilterLogs",params:[t.id]})).map(o=>ys(o));return t.abi?A0({abi:t.abi,logs:s,strict:r}):s}var Xie=m(()=>{n4();Ip()});function eae(e,t){if(e.length!==t.length)throw new gh({expectedLength:e.length,givenLength:t.length});let r=[];for(let n=0;n<e.length;n++){let s=e[n],o=t[n];r.push(tae(s,o))}return pn(r)}function tae(e,t,r=!1){if(e==="address"){let i=t;if(!Vt(i))throw new Er({address:i});return to(i.toLowerCase(),{size:r?32:null})}if(e==="string")return jo(t);if(e==="bytes")return t;if(e==="bool")return to(Eh(t),{size:r?32:1});let n=e.match(Gy);if(n){let[i,a,c="256"]=n,l=Number.parseInt(c,10)/8;return J(t,{size:r?32:l,signed:a==="int"})}let s=e.match(uS);if(s){let[i,a]=s;if(Number.parseInt(a,10)!==(t.length-2)/2)throw new bh({expectedSize:Number.parseInt(a,10),givenSize:(t.length-2)/2});return to(t,{dir:"right",size:r?32:null})}let o=e.match(Ore);if(o&&Array.isArray(t)){let[i,a]=o,c=[];for(let l=0;l<t.length;l++)c.push(tae(a,t[l],!0));return c.length===0?"0x":pn(c)}throw new Fy(e)}var rae=m(()=>{Xr();Ja();Ii();Fn();vh();De();dS()});function A4(e){return!e||typeof e!="object"||!("BYTES_PER_ELEMENT"in e)?!1:e.BYTES_PER_ELEMENT===1&&e.constructor.name==="Uint8Array"}var mL=m(()=>{});function nae(e){return e.opcode==="CREATE2"?yL(e):gL(e)}function gL(e){let t=dn(rs(e.from)),r=dn(e.nonce);return r[0]===0&&(r=new Uint8Array([])),rs(`0x${zt(Yo([t,r],"bytes")).slice(26)}`)}function yL(e){let t=dn(rs(e.from)),r=to(A4(e.salt)?e.salt:dn(e.salt),{size:32}),n="bytecodeHash"in e?A4(e.bytecodeHash)?e.bytecodeHash:dn(e.bytecodeHash):zt(e.bytecode,"bytes");return rs(no(zt(hr([dn("0xff"),t,r,n])),12))}var sae=m(()=>{Fn();mL();vh();Qa();Or();qx();Si();Aa()});function qI(e){let{authorizationList:t}=e;if(t)for(let r of t){let{chainId:n}=r,s=r.address;if(!Vt(s))throw new Er({address:s});if(n<0)throw new Np({chainId:n})}B0(e)}function WI(e){let{blobVersionedHashes:t}=e;if(t){if(t.length===0)throw new Pw;for(let r of t){let n=Ot(r),s=ft(no(r,0,1));if(n!==32)throw new $S({hash:r,size:n});if(s!==1)throw new FS({hash:r,version:s})}}B0(e)}function B0(e){let{chainId:t,maxPriorityFeePerGas:r,maxFeePerGas:n,to:s}=e;if(t<=0)throw new Np({chainId:t});if(s&&!Vt(s))throw new Er({address:s});if(n&&n>h0)throw new Ri({maxFeePerGas:n});if(r&&n&&r>n)throw new rc({maxFeePerGas:n,maxPriorityFeePerGas:r})}function sb(e){let{chainId:t,maxPriorityFeePerGas:r,gasPrice:n,maxFeePerGas:s,to:o}=e;if(t<=0)throw new Np({chainId:t});if(o&&!Vt(o))throw new Er({address:o});if(r||s)throw new Z("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid EIP-2930 Transaction attribute.");if(n&&n>h0)throw new Ri({maxFeePerGas:n})}function ob(e){let{chainId:t,maxPriorityFeePerGas:r,gasPrice:n,maxFeePerGas:s,to:o}=e;if(o&&!Vt(o))throw new Er({address:o});if(typeof t<"u"&&t<=0)throw new Np({chainId:t});if(r||s)throw new Z("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid Legacy Transaction attribute.");if(n&&n>h0)throw new Ri({maxFeePerGas:n})}var KI=m(()=>{RS();Ja();yt();bU();Zw();au();Ii();Ei();Qa();un()});function tg(e){if(!e||e.length===0)return[];let t=[];for(let r=0;r<e.length;r++){let{address:n,storageKeys:s}=e[r];for(let o=0;o<s.length;o++)if(s[o].length-2!==64)throw new cw({storageKey:s[o]});if(!Vt(n,{strict:!1}))throw new Er({address:n});t.push([n,s])}return t}var wL=m(()=>{Ja();qo();Ii()});function ZI(e,t){let r=Nw(e);return r==="eip1559"?sje(e,t):r==="eip2930"?oje(e,t):r==="eip4844"?nje(e,t):r==="eip7702"?rje(e,t):ije(e,t)}function rje(e,t){let{authorizationList:r,chainId:n,gas:s,nonce:o,to:i,value:a,maxFeePerGas:c,maxPriorityFeePerGas:l,accessList:u,data:d}=e;qI(e);let p=tg(u),f=oae(r);return pn(["0x04",Yo([J(n),o?J(o):"0x",l?J(l):"0x",c?J(c):"0x",s?J(s):"0x",i??"0x",a?J(a):"0x",d??"0x",p,f,...ib(e,t)])])}function nje(e,t){let{chainId:r,gas:n,nonce:s,to:o,value:i,maxFeePerBlobGas:a,maxFeePerGas:c,maxPriorityFeePerGas:l,accessList:u,data:d}=e;WI(e);let p=e.blobVersionedHashes,f=e.sidecars;if(e.blobs&&(typeof p>"u"||typeof f>"u")){let b=typeof e.blobs[0]=="string"?e.blobs:e.blobs.map(_=>ht(_)),w=e.kzg,C=b0({blobs:b,kzg:w});if(typeof p>"u"&&(p=Tw({commitments:C})),typeof f>"u"){let _=x0({blobs:b,commitments:C,kzg:w});f=v0({blobs:b,commitments:C,proofs:_})}}let h=tg(u),g=[J(r),s?J(s):"0x",l?J(l):"0x",c?J(c):"0x",n?J(n):"0x",o??"0x",i?J(i):"0x",d??"0x",h,a?J(a):"0x",p??[],...ib(e,t)],y=[],E=[],A=[];if(f)for(let b=0;b<f.length;b++){let{blob:w,commitment:C,proof:_}=f[b];y.push(w),E.push(C),A.push(_)}return pn(["0x03",f?Yo([g,y,E,A]):Yo(g)])}function sje(e,t){let{chainId:r,gas:n,nonce:s,to:o,value:i,maxFeePerGas:a,maxPriorityFeePerGas:c,accessList:l,data:u}=e;B0(e);let d=tg(l),p=[J(r),s?J(s):"0x",c?J(c):"0x",a?J(a):"0x",n?J(n):"0x",o??"0x",i?J(i):"0x",u??"0x",d,...ib(e,t)];return pn(["0x02",Yo(p)])}function oje(e,t){let{chainId:r,gas:n,data:s,nonce:o,to:i,value:a,accessList:c,gasPrice:l}=e;sb(e);let u=tg(c),d=[J(r),o?J(o):"0x",l?J(l):"0x",n?J(n):"0x",i??"0x",a?J(a):"0x",s??"0x",u,...ib(e,t)];return pn(["0x01",Yo(d)])}function ije(e,t){let{chainId:r=0,gas:n,data:s,nonce:o,to:i,value:a,gasPrice:c}=e;ob(e);let l=[o?J(o):"0x",c?J(c):"0x",n?J(n):"0x",i??"0x",a?J(a):"0x",s??"0x"];if(t){let u=(()=>{if(t.v>=35n)return(t.v-35n)/2n>0?t.v:27n+(t.v===35n?0n:1n);if(r>0)return BigInt(r*2)+BigInt(35n+t.v-27n);let f=27n+(t.v===27n?0n:1n);if(t.v!==f)throw new _h({v:t.v});return f})(),d=ln(t.r),p=ln(t.s);l=[...l,J(u),d==="0x00"?"0x":d,p==="0x00"?"0x":p]}else r>0&&(l=[...l,J(r),"0x","0x"]);return Yo(l)}function ib(e,t){let r=t??e,{v:n,yParity:s}=r;if(typeof r.r>"u")return[];if(typeof r.s>"u")return[];if(typeof n>"u"&&typeof s>"u")return[];let o=ln(r.r),i=ln(r.s);return[typeof s=="number"?s?J(1):"0x":n===0n?"0x":n===1n?J(1):n===27n?"0x":J(1),o==="0x00"?"0x":o,i==="0x00"?"0x":i]}var GI=m(()=>{qo();iae();Jx();Qx();MS();Xx();Fn();cp();De();qx();KI();zS();wL()});function oae(e){if(!e||e.length===0)return[];let t=[];for(let r of e){let{chainId:n,nonce:s,...o}=r,i=r.address;t.push([n?vr(n):"0x",i,s?vr(s):"0x",...ib({},o)])}return t}var iae=m(()=>{De();GI()});async function aae({address:e,authorization:t,signature:r}){return vn(rs(e),await r0({authorization:t,signature:r}))}var cae=m(()=>{Aa();sl();Wx()});function lae(e,{enabled:t=!0,id:r}){if(!t||!r)return e();if(YI.get(r))return YI.get(r);let n=e().finally(()=>YI.delete(r));return YI.set(r,n),n}var YI,uae=m(()=>{Ah();YI=new ro(8192)});function dae(e,t={}){return async(r,n={})=>{let{dedupe:s=!1,methods:o,retryDelay:i=150,retryCount:a=3,uid:c}={...t,...n},{method:l}=r;if(o?.exclude?.includes(l))throw new nu(new Error("method not supported"),{method:l});if(o?.include&&!o.include.includes(l))throw new nu(new Error("method not supported"),{method:l});let u=s?jo(`${c}.${Tt(r)}`):void 0;return lae(()=>Dp(async()=>{try{return await e(r)}catch(d){let p=d;switch(p.code){case Oh.code:throw new Oh(p);case kh.code:throw new kh(p);case Bh.code:throw new Bh(p,{method:r.method});case Dh.code:throw new Dh(p);case Xc.code:throw new Xc(p);case Ti.code:throw new Ti(p);case Uh.code:throw new Uh(p);case Lh.code:throw new Lh(p);case ru.code:throw new ru(p);case nu.code:throw new nu(p,{method:r.method});case yp.code:throw new yp(p);case Mh.code:throw new Mh(p);case el.code:throw new el(p);case Hh.code:throw new Hh(p);case $h.code:throw new $h(p);case Fh.code:throw new Fh(p);case jh.code:throw new jh(p);case zh.code:throw new zh(p);case su.code:throw new su(p);case Vh.code:throw new Vh(p);case qh.code:throw new qh(p);case Wh.code:throw new Wh(p);case Kh.code:throw new Kh(p);case Zh.code:throw new Zh(p);case ou.code:throw new ou(p);case 5e3:throw new el(p);case Gh.code:throw new Gh(p);default:throw d instanceof Z?d:new hw(p)}}},{delay:({count:d,error:p})=>{if(p&&p instanceof _i){let f=p?.headers?.get("Retry-After");if(f?.match(/\d/))return Number.parseInt(f,10)*1e3}return~~(1<<d)*i},retryCount:a,shouldRetry:({error:d})=>aje(d)}),{enabled:s,id:u})}}function aje(e){return"code"in e&&typeof e.code=="number"?e.code===-1||e.code===yp.code||e.code===Xc.code:e instanceof _i&&e.status?e.status===403||e.status===408||e.status===413||e.status===429||e.status===500||e.status===502||e.status===503||e.status===504:!0}var pae=m(()=>{yt();Qc();Yh();De();uae();w4();Bs()});function fae(e){let t={formatters:void 0,fees:void 0,serializers:void 0,...e};function r(n){return s=>{let o=typeof s=="function"?s(n):s,i={...n,...o};return Object.assign(i,{extend:r(i)})}}return Object.assign(t,{extend:r(t)})}function hae(){return{}}var mae=m(()=>{});function gae({chains:e,id:t}){return e.find(r=>r.id===t)}var yae=m(()=>{});function C4(e,t="hex"){let r=(()=>{if(typeof e=="string"){if(e.length>3&&e.length%2!==0)throw new qy(e);return Gt(e)}return e})(),n=Jc(r,{recursiveReadLimit:Number.POSITIVE_INFINITY});return bae(n,t)}function bae(e,t="hex"){if(e.bytes.length===0)return t==="hex"?ht(e.bytes):e.bytes;let r=e.readByte();if(r<128&&e.decrementPosition(1),r<192){let s=wae(e,r,128),o=e.readBytes(s);return t==="hex"?ht(o):o}let n=wae(e,r,192);return cje(e,n,t)}function wae(e,t,r){if(r===128&&t<128)return 1;if(t<=r+55)return t-r;if(t===r+55+1)return e.readUint8();if(t===r+55+2)return e.readUint16();if(t===r+55+3)return e.readUint24();if(t===r+55+4)return e.readUint32();throw new Z("Invalid RLP prefix")}function cje(e,t,r){let n=e.position,s=[];for(;e.position-n<t;)s.push(bae(e,r));return s}var bL=m(()=>{yt();U1();Qy();Or();De()});function JI(e){return je(e)&&Ot(e)===32}var xL=m(()=>{$o();Ei()});function xae(e,t){let r=t||"hex",n=AW(je(e,{strict:!1})?dn(e):e);return r==="bytes"?n:vr(n)}var vae=m(()=>{CW();$o();Or();De()});var Eae=m(()=>{_x()});var Aae=m(()=>{lS()});var Cae=m(()=>{_x()});var Sae=m(()=>{lS()});function vL(e){let{source:t}=e,r=new Map,n=new ro(8192),s=new Map,o=({address:i,chainId:a})=>`${i}.${a}`;return{async consume({address:i,chainId:a,client:c}){let l=o({address:i,chainId:a}),u=this.get({address:i,chainId:a,client:c});this.increment({address:i,chainId:a});let d=await u;return await t.set({address:i,chainId:a},d),n.set(l,d),d},async increment({address:i,chainId:a}){let c=o({address:i,chainId:a}),l=r.get(c)??0;r.set(c,l+1)},async get({address:i,chainId:a,client:c}){let l=o({address:i,chainId:a}),u=s.get(l);return u||(u=(async()=>{try{let p=await t.get({address:i,chainId:a,client:c}),f=n.get(l)??0;return f>0&&p<=f?f+1:(n.delete(l),p)}finally{this.reset({address:i,chainId:a})}})(),s.set(l,u)),(r.get(l)??0)+await u},reset({address:i,chainId:a}){let c=o({address:i,chainId:a});r.delete(c),s.delete(c)}}}function lje(){return{async get(e){let{address:t,client:r}=e;return w0(r,{address:t,blockTag:"pending"})},set(){}}}var Iae,_ae=m(()=>{Yx();Ah();Iae=vL({source:lje()})});function ab(e,{errorInstance:t=new Error("timed out"),timeout:r,signal:n}){return new Promise((s,o)=>{(async()=>{let i;try{let a=new AbortController;r>0&&(i=setTimeout(()=>{n?a.abort():o(t)},r)),s(await e({signal:a?.signal||null}))}catch(a){a?.name==="AbortError"&&o(t),o(a)}finally{clearTimeout(i)}})()})}var QI=m(()=>{});function uje(){return{current:0,take(){return this.current++},reset(){this.current=0}}}var S4,EL=m(()=>{S4=uje()});function Tae(e,t={}){let{url:r,headers:n}=dje(e);return{async request(s){let{body:o,fetchFn:i=t.fetchFn??fetch,onRequest:a=t.onRequest,onResponse:c=t.onResponse,timeout:l=t.timeout??1e4}=s,u={...t.fetchOptions??{},...s.fetchOptions??{}},{headers:d,method:p,signal:f}=u;try{let h=await ab(async({signal:y})=>{let E={...u,body:Array.isArray(o)?Tt(o.map(C=>({jsonrpc:"2.0",id:C.id??S4.take(),...C}))):Tt({jsonrpc:"2.0",id:o.id??S4.take(),...o}),headers:{...n,"Content-Type":"application/json",...d},method:p||"POST",signal:f||(l>0?y:null)},A=new Request(r,E),b=await a?.(A,E)??{...E,url:r};return await i(b.url??r,b)},{errorInstance:new gp({body:o,url:r}),timeout:l,signal:!0});c&&await c(h);let g;if(h.headers.get("Content-Type")?.startsWith("application/json"))g=await h.json();else{g=await h.text();try{g=JSON.parse(g||"{}")}catch(y){if(h.ok)throw y;g={error:g}}}if(!h.ok)throw new _i({body:o,details:Tt(g.error)||h.statusText,headers:h.headers,status:h.status,url:r});return g}catch(h){throw h instanceof _i||h instanceof gp?h:new _i({body:o,cause:h,url:r})}}}}function dje(e){try{let t=new URL(e),r=(()=>{if(t.username){let n=`${decodeURIComponent(t.username)}:${decodeURIComponent(t.password)}`;return t.username="",t.password="",{url:t.toString(),headers:{Authorization:`Basic ${btoa(n)}`}}}})();return{url:t.toString(),...r}}catch{return{url:e}}}var Pae=m(()=>{Qc();QI();Bs();EL()});async function Nae(e){let{getSocket:t,keepAlive:r=!0,key:n="socket",reconnect:s=!0,url:o}=e,{interval:i=3e4}=typeof r=="object"?r:{},{attempts:a=5,delay:c=2e3}=typeof s=="object"?s:{},l=JSON.stringify({keepAlive:r,key:n,url:o,reconnect:s}),u=AL.get(l);if(u)return u;let d=0,{schedule:p}=Yw({id:l,fn:async()=>{let g=new Map,y=new Map,E,A,b,w=!1;function C(){if(s&&d<a){if(w)return;w=!0,d++,A?.close(),setTimeout(async()=>{await _().catch(console.error),w=!1},c)}else g.clear(),y.clear()}async function _(){let B=await t({onClose(){for(let U of g.values())U.onError?.(new tu({url:o}));for(let U of y.values())U.onError?.(new tu({url:o}));C()},onError(U){E=U;for(let k of g.values())k.onError?.(E);for(let k of y.values())k.onError?.(E);C()},onOpen(){E=void 0,d=0},onResponse(U){let k=U.method==="eth_subscription",$=k?U.params.subscription:U.id,P=k?y:g,I=P.get($);I&&I.onResponse(U),k||P.delete($)}});if(A=B,r&&(b&&clearInterval(b),b=setInterval(()=>A.ping?.(),i)),s&&y.size>0){let U=y.entries();for(let[k,{onResponse:$,body:P,onError:I}]of U)P&&(y.delete(k),u?.request({body:P,onResponse:$,onError:I}))}return B}return await _(),E=void 0,u={close(){b&&clearInterval(b),A.close(),AL.delete(l)},get socket(){return A},request({body:B,onError:U,onResponse:k}){E&&U&&U(E);let $=B.id??S4.take(),P=I=>{typeof I.id=="number"&&$!==I.id||(B.method==="eth_subscribe"&&typeof I.result=="string"&&y.set(I.result,{onResponse:P,onError:U,body:B}),k(I))};B.method==="eth_unsubscribe"&&y.delete(B.params?.[0]),g.set($,{onResponse:P,onError:U});try{A.request({body:{jsonrpc:"2.0",id:$,...B}})}catch(I){U?.(I)}},requestAsync({body:B,timeout:U=1e4}){return ab(()=>new Promise((k,$)=>this.request({body:B,onError:$,onResponse:k})),{errorInstance:new gp({body:B,url:o}),timeout:U})},requests:g,subscriptions:y,url:o},AL.set(l,u),[u]}}),[f,[h]]=await p();return h}var AL,Rae=m(()=>{Qc();uI();QI();EL();AL=new Map});function Oae(){if(typeof WebSocket<"u")return WebSocket;if(typeof globalThis.WebSocket<"u")return globalThis.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}var kae=m(()=>{});var Bae={};Se(Bae,{WebSocket:()=>pje});var pje,Dae=m(()=>{kae();pje=Oae()});async function cb(e,t={}){let{keepAlive:r,reconnect:n}=t;return Nae({async getSocket({onClose:s,onError:o,onOpen:i,onResponse:a}){let c=await Promise.resolve().then(()=>(Dae(),Bae)).then(f=>f.WebSocket),l=new c(e);function u(){l.removeEventListener("close",u),l.removeEventListener("message",d),l.removeEventListener("error",o),l.removeEventListener("open",i),s()}function d({data:f}){if(!(typeof f=="string"&&f.trim().length===0))try{let h=JSON.parse(f);a(h)}catch(h){o(h)}}l.addEventListener("close",u),l.addEventListener("message",d),l.addEventListener("error",o),l.addEventListener("open",i),l.readyState===c.CONNECTING&&await new Promise((f,h)=>{l&&(l.onopen=f,l.onerror=h)});let{close:p}=l;return Object.assign(l,{close(){p.bind(l)(),u()},ping(){try{if(l.readyState===l.CLOSED||l.readyState===l.CLOSING)throw new F1({url:l.url,cause:new tu({url:l.url})});let f={jsonrpc:"2.0",id:null,method:"net_version",params:[]};l.send(JSON.stringify(f))}catch(f){o(f)}},request({body:f}){if(l.readyState===l.CLOSED||l.readyState===l.CLOSING)throw new F1({body:f,url:l.url,cause:new tu({url:l.url})});return l.send(JSON.stringify(f))}})},keepAlive:r,reconnect:n,url:e})}var CL=m(()=>{Qc();Rae()});async function Uae(e){let t=await cb(e);return Object.assign(t.socket,{requests:t.requests,subscriptions:t.subscriptions})}var Lae=m(()=>{CL()});var XI,SL=m(()=>{XI=`Ethereum Signed Message:
`});function e_(e){let t=typeof e=="string"?jo(e):typeof e.raw=="string"?e.raw:ht(e.raw),r=jo(`${XI}${Ot(t)}`);return hr([r,t])}var IL=m(()=>{SL();Fn();Ei();De()});function D0(e,t){return zt(e_(e),t)}var I4=m(()=>{Si();IL()});var lb,ub,db,_L=m(()=>{Bs();yt();lb=class extends Z{constructor({domain:t}){super(`Invalid domain "${Tt(t)}".`,{metaMessages:["Must be a valid EIP-712 domain."]})}},ub=class extends Z{constructor({primaryType:t,types:r}){super(`Invalid primary type \`${t}\` must be one of \`${JSON.stringify(Object.keys(r))}\`.`,{docsPath:"/api/glossary/Errors#typeddatainvalidprimarytypeerror",metaMessages:["Check that the primary type is a key in `types`."]})}},db=class extends Z{constructor({type:t}){super(`Struct type "${t}" is invalid.`,{metaMessages:["Struct type must not be a Solidity type."],name:"InvalidStructTypeError"})}}});function t_(e){let{domain:t,message:r,primaryType:n,types:s}=e,o=(c,l)=>{let u={...l};for(let d of c){let{name:p,type:f}=d;f==="address"&&(u[p]=u[p].toLowerCase())}return u},i=s.EIP712Domain?t?o(s.EIP712Domain,t):{}:{},a=(()=>{if(n!=="EIP712Domain")return o(s[n],r)})();return Tt({domain:i,message:a,primaryType:n,types:s})}function pb(e){let{domain:t,message:r,primaryType:n,types:s}=e,o=(i,a)=>{for(let c of i){let{name:l,type:u}=c,d=a[l],p=u.match(Gy);if(p&&(typeof d=="number"||typeof d=="bigint")){let[g,y,E]=p;J(d,{signed:y==="int",size:Number.parseInt(E,10)/8})}if(u==="address"&&typeof d=="string"&&!Vt(d))throw new Er({address:d});let f=u.match(uS);if(f){let[g,y]=f;if(y&&Ot(d)!==Number.parseInt(y,10))throw new bh({expectedSize:Number.parseInt(y,10),givenSize:Ot(d)})}let h=s[u];h&&(fje(u),o(h,d))}};if(s.EIP712Domain&&t){if(typeof t!="object")throw new lb({domain:t});o(s.EIP712Domain,t)}if(n!=="EIP712Domain")if(s[n])o(s[n],r);else throw new ub({primaryType:n,types:s})}function rg({domain:e}){return[typeof e?.name=="string"&&{name:"name",type:"string"},e?.version&&{name:"version",type:"string"},(typeof e?.chainId=="number"||typeof e?.chainId=="bigint")&&{name:"chainId",type:"uint256"},e?.verifyingContract&&{name:"verifyingContract",type:"address"},e?.salt&&{name:"salt",type:"bytes32"}].filter(Boolean)}function Mae({domain:e}){return _4({domain:e,types:{EIP712Domain:rg({domain:e})}})}function fje(e){if(e==="address"||e==="bool"||e==="string"||e.startsWith("bytes")||e.startsWith("uint")||e.startsWith("int"))throw new db({type:e})}var r_=m(()=>{Xr();Ja();_L();Ii();Ei();De();dS();T4();Bs()});function fb(e){let{domain:t={},message:r,primaryType:n}=e,s={EIP712Domain:rg({domain:t}),...e.types};pb({domain:t,message:r,primaryType:n,types:s});let o=["0x1901"];return t&&o.push(_4({domain:t,types:s})),n!=="EIP712Domain"&&o.push(n_({data:r,primaryType:n,types:s})),zt(hr(o))}function _4({domain:e,types:t}){return n_({data:e,primaryType:"EIP712Domain",types:t})}function n_({data:e,primaryType:t,types:r}){let n=Hae({data:e,primaryType:t,types:r});return zt(n)}function Hae({data:e,primaryType:t,types:r}){let n=[{type:"bytes32"}],s=[hje({primaryType:t,types:r})];for(let o of r[t]){let[i,a]=Fae({types:r,name:o.name,type:o.type,value:e[o.name]});n.push(i),s.push(a)}return ns(n,s)}function hje({primaryType:e,types:t}){let r=vr(mje({primaryType:e,types:t}));return zt(r)}function mje({primaryType:e,types:t}){let r="",n=$ae({primaryType:e,types:t});n.delete(e);let s=[e,...Array.from(n).sort()];for(let o of s)r+=`${o}(${t[o].map(({name:i,type:a})=>`${a} ${i}`).join(",")})`;return r}function $ae({primaryType:e,types:t},r=new Set){let s=e.match(/^\w*/u)?.[0];if(r.has(s)||t[s]===void 0)return r;r.add(s);for(let o of t[s])$ae({primaryType:o.type,types:t},r);return r}function Fae({types:e,name:t,type:r,value:n}){if(e[r]!==void 0)return[{type:"bytes32"},zt(Hae({data:n,primaryType:r,types:e}))];if(r==="bytes")return[{type:"bytes32"},zt(n)];if(r==="string")return[{type:"bytes32"},zt(vr(n))];if(r.lastIndexOf("]")===r.length-1){let s=r.slice(0,r.lastIndexOf("[")),o=n.map(i=>Fae({name:t,type:s,types:e,value:i}));return[{type:"bytes32"},zt(ns(o.map(([i])=>i),o.map(([,i])=>i)))]}return[{type:r},n]}var T4=m(()=>{Yc();Fn();De();Si();r_()});var s_,jae,o_=m(()=>{s_="0x6492649264926492649264926492649264926492649264926492649264926492",jae="0x0000000000000000000000000000000000000000000000000000000000000000"});function i_(e){return Ql(e,-32)===s_}var TL=m(()=>{o_();Qa()});var a_,zae=m(()=>{a_=class extends Map{constructor(t){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=t}get(t){let r=super.get(t);return super.has(t)&&r!==void 0&&(this.delete(t),super.set(t,r)),r}set(t,r){if(super.set(t,r),this.maxSize&&this.size>this.maxSize){let n=this.keys().next().value;n&&this.delete(n)}return this}}});var gje,c_,Vae=m(()=>{zae();gje={checksum:new a_(8192)},c_=gje.checksum});function ng(e,t={}){let{as:r=typeof e=="string"?"Hex":"Bytes"}=t,n=_f(Koe(e));return r==="Bytes"?n:On(n)}var l_=m(()=>{e8();C0();bs()});function qae(e,t={}){let{compressed:r}=t,{prefix:n,x:s,y:o}=e;if(r===!1||typeof s=="bigint"&&typeof o=="bigint"){if(n!==4)throw new u_({prefix:n,cause:new OL});return}if(r===!0||typeof s=="bigint"&&typeof o>"u"){if(n!==3&&n!==2)throw new u_({prefix:n,cause:new RL});return}throw new NL({publicKey:e})}function Wae(e){let t=(()=>{if(c4(e))return Kae(e);if(Xoe(e))return wje(e);let{prefix:r,x:n,y:s}=e;return typeof n=="bigint"&&typeof s=="bigint"?{prefix:r??4,x:n,y:s}:{prefix:r,x:n}})();return qae(t),t}function wje(e){return Kae(On(e))}function Kae(e){if(e.length!==132&&e.length!==130&&e.length!==68)throw new kL({publicKey:e});if(e.length===130){let n=BigInt(tn(e,0,32)),s=BigInt(tn(e,32,64));return{prefix:4,x:n,y:s}}if(e.length===132){let n=Number(tn(e,0,1)),s=BigInt(tn(e,1,33)),o=BigInt(tn(e,33,65));return{prefix:n,x:s,y:o}}let t=Number(tn(e,0,1)),r=BigInt(tn(e,1,33));return{prefix:t,x:r}}function BL(e,t={}){qae(e);let{prefix:r,x:n,y:s}=e,{includePrefix:o=!0}=t;return hn(o?nr(r,{size:1}):"0x",nr(n,{size:32}),typeof s=="bigint"?nr(s,{size:32}):"0x")}var NL,u_,RL,OL,kL,DL=m(()=>{C0();Bi();bs();i4();NL=class extends ze{constructor({publicKey:t}){super(`Value \`${S0(t)}\` is not a valid public key.`,{metaMessages:["Public key must contain:","- an `x` and `prefix` value (compressed)","- an `x`, `y`, and `prefix` value (uncompressed)"]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidError"})}},u_=class extends ze{constructor({prefix:t,cause:r}){super(`Prefix "${t}" is invalid.`,{cause:r}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidPrefixError"})}},RL=class extends ze{constructor(){super("Prefix must be 2 or 3 for compressed public keys."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidCompressedPrefixError"})}},OL=class extends ze{constructor(){super("Prefix must be 4 for uncompressed public keys."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidUncompressedPrefixError"})}},kL=class extends ze{constructor({publicKey:t}){super(`Value \`${t}\` is an invalid public key size.`,{metaMessages:["Expected: 33 bytes (compressed + prefix), 64 bytes (uncompressed) or 65 bytes (uncompressed + prefix).",`Received ${en($w(t))} bytes.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidSerializedSizeError"})}}});function sg(e,t={}){let{strict:r=!0}=t;if(!bje.test(e))throw new d_({address:e,cause:new UL});if(r){if(e.toLowerCase()===e)return;if(p_(e)!==e)throw new d_({address:e,cause:new LL})}}function p_(e){if(c_.has(e))return c_.get(e);sg(e,{strict:!1});let t=e.substring(2).toLowerCase(),r=ng(Zoe(t),{as:"Bytes"}),n=t.split("");for(let o=0;o<40;o+=2)r[o>>1]>>4>=8&&n[o]&&(n[o]=n[o].toUpperCase()),(r[o>>1]&15)>=8&&n[o+1]&&(n[o+1]=n[o+1].toUpperCase());let s=`0x${n.join("")}`;return c_.set(e,s),s}function xje(e,t={}){let{checksum:r=!1}=t;return sg(e),r?p_(e):e}function Gae(e,t={}){let r=ng(`0x${BL(e).slice(4)}`).substring(26);return xje(`0x${r}`,t)}function f_(e,t={}){let{strict:r=!0}=t??{};try{return sg(e,{strict:r}),!0}catch{return!1}}var bje,d_,UL,LL,P4=m(()=>{C0();Vae();Bi();l_();DL();bje=/^0x[a-fA-F0-9]{40}$/;d_=class extends ze{constructor({address:t,cause:r}){super(`Address "${t}" is invalid.`,{cause:r}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidAddressError"})}},UL=class extends ze{constructor(){super("Address is not a 20 byte (40 hexadecimal character) value."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidInputError"})}},LL=class extends ze{constructor(){super("Address does not match its checksum counterpart."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidChecksumError"})}}});var Yae,Jae,m_,xIt,vIt,EIt,AIt,CIt,SIt,IIt,_It,TIt,PIt,NIt,RIt,OIt,kIt,BIt,DIt,UIt,LIt,MIt,HIt,$It,FIt,jIt,zIt,VIt,qIt,WIt,KIt,ZIt,GIt,YIt,JIt,QIt,XIt,e_t,t_t,r_t,n_t,s_t,o_t,i_t,a_t,c_t,l_t,u_t,d_t,p_t,f_t,h_t,m_t,g_t,y_t,w_t,b_t,x_t,v_t,E_t,A_t,C_t,S_t,I_t,__t,T_t,P_t,N_t,R_t,O_t,k_t,B_t,D_t,U_t,L_t,M_t,H_t,$_t,F_t,j_t,z_t,V_t,q_t,W_t,K_t,Z_t,G_t,Y_t,J_t,Q_t,X_t,e9t,t9t,r9t,n9t,s9t,o9t,i9t,ML,g_=m(()=>{Yae=/^(.*)\[([0-9]*)\]$/,Jae=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,m_=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,xIt=2n**(8n-1n)-1n,vIt=2n**(16n-1n)-1n,EIt=2n**(24n-1n)-1n,AIt=2n**(32n-1n)-1n,CIt=2n**(40n-1n)-1n,SIt=2n**(48n-1n)-1n,IIt=2n**(56n-1n)-1n,_It=2n**(64n-1n)-1n,TIt=2n**(72n-1n)-1n,PIt=2n**(80n-1n)-1n,NIt=2n**(88n-1n)-1n,RIt=2n**(96n-1n)-1n,OIt=2n**(104n-1n)-1n,kIt=2n**(112n-1n)-1n,BIt=2n**(120n-1n)-1n,DIt=2n**(128n-1n)-1n,UIt=2n**(136n-1n)-1n,LIt=2n**(144n-1n)-1n,MIt=2n**(152n-1n)-1n,HIt=2n**(160n-1n)-1n,$It=2n**(168n-1n)-1n,FIt=2n**(176n-1n)-1n,jIt=2n**(184n-1n)-1n,zIt=2n**(192n-1n)-1n,VIt=2n**(200n-1n)-1n,qIt=2n**(208n-1n)-1n,WIt=2n**(216n-1n)-1n,KIt=2n**(224n-1n)-1n,ZIt=2n**(232n-1n)-1n,GIt=2n**(240n-1n)-1n,YIt=2n**(248n-1n)-1n,JIt=2n**(256n-1n)-1n,QIt=-(2n**(8n-1n)),XIt=-(2n**(16n-1n)),e_t=-(2n**(24n-1n)),t_t=-(2n**(32n-1n)),r_t=-(2n**(40n-1n)),n_t=-(2n**(48n-1n)),s_t=-(2n**(56n-1n)),o_t=-(2n**(64n-1n)),i_t=-(2n**(72n-1n)),a_t=-(2n**(80n-1n)),c_t=-(2n**(88n-1n)),l_t=-(2n**(96n-1n)),u_t=-(2n**(104n-1n)),d_t=-(2n**(112n-1n)),p_t=-(2n**(120n-1n)),f_t=-(2n**(128n-1n)),h_t=-(2n**(136n-1n)),m_t=-(2n**(144n-1n)),g_t=-(2n**(152n-1n)),y_t=-(2n**(160n-1n)),w_t=-(2n**(168n-1n)),b_t=-(2n**(176n-1n)),x_t=-(2n**(184n-1n)),v_t=-(2n**(192n-1n)),E_t=-(2n**(200n-1n)),A_t=-(2n**(208n-1n)),C_t=-(2n**(216n-1n)),S_t=-(2n**(224n-1n)),I_t=-(2n**(232n-1n)),__t=-(2n**(240n-1n)),T_t=-(2n**(248n-1n)),P_t=-(2n**(256n-1n)),N_t=2n**8n-1n,R_t=2n**16n-1n,O_t=2n**24n-1n,k_t=2n**32n-1n,B_t=2n**40n-1n,D_t=2n**48n-1n,U_t=2n**56n-1n,L_t=2n**64n-1n,M_t=2n**72n-1n,H_t=2n**80n-1n,$_t=2n**88n-1n,F_t=2n**96n-1n,j_t=2n**104n-1n,z_t=2n**112n-1n,V_t=2n**120n-1n,q_t=2n**128n-1n,W_t=2n**136n-1n,K_t=2n**144n-1n,Z_t=2n**152n-1n,G_t=2n**160n-1n,Y_t=2n**168n-1n,J_t=2n**176n-1n,Q_t=2n**184n-1n,X_t=2n**192n-1n,e9t=2n**200n-1n,t9t=2n**208n-1n,r9t=2n**216n-1n,n9t=2n**224n-1n,s9t=2n**232n-1n,o9t=2n**240n-1n,i9t=2n**248n-1n,ML=2n**256n-1n});function og(e,t,r){let{checksumAddress:n,staticPosition:s}=r,o=FL(t.type);if(o){let[i,a]=o;return Eje(e,{...t,type:a},{checksumAddress:n,length:i,staticPosition:s})}if(t.type==="tuple")return Ije(e,t,{checksumAddress:n,staticPosition:s});if(t.type==="address")return vje(e,{checksum:n});if(t.type==="bool")return Aje(e);if(t.type.startsWith("bytes"))return Cje(e,t,{staticPosition:s});if(t.type.startsWith("uint")||t.type.startsWith("int"))return Sje(e,t);if(t.type==="string")return _je(e,{staticPosition:s});throw new hb(t.type)}function vje(e,t={}){let{checksum:r=!1}=t,n=e.readBytes(32);return[(o=>r?p_(o):o)(On(Goe(n,-20))),32]}function Eje(e,t,r){let{checksumAddress:n,length:s,staticPosition:o}=r;if(!s){let c=du(e.readBytes(HL)),l=o+c,u=l+Xae;e.setPosition(l);let d=du(e.readBytes(Xae)),p=N4(t),f=0,h=[];for(let g=0;g<d;++g){e.setPosition(u+(p?g*32:f));let[y,E]=og(e,t,{checksumAddress:n,staticPosition:u});f+=E,h.push(y)}return e.setPosition(o+32),[h,32]}if(N4(t)){let c=du(e.readBytes(HL)),l=o+c,u=[];for(let d=0;d<s;++d){e.setPosition(l+d*32);let[p]=og(e,t,{checksumAddress:n,staticPosition:l});u.push(p)}return e.setPosition(o+32),[u,32]}let i=0,a=[];for(let c=0;c<s;++c){let[l,u]=og(e,t,{checksumAddress:n,staticPosition:o+i});i+=u,a.push(l)}return[a,i]}function Aje(e){return[Joe(e.readBytes(32),{size:32}),32]}function Cje(e,t,{staticPosition:r}){let[n,s]=t.type.split("bytes");if(!s){let i=du(e.readBytes(32));e.setPosition(r+i);let a=du(e.readBytes(32));if(a===0)return e.setPosition(r+32),["0x",32];let c=e.readBytes(a);return e.setPosition(r+32),[On(c),32]}return[On(e.readBytes(Number.parseInt(s,10),32)),32]}function Sje(e,t){let r=t.type.startsWith("int"),n=Number.parseInt(t.type.split("int")[1]||"256",10),s=e.readBytes(32);return[n>48?Yoe(s,{signed:r}):du(s,{signed:r}),32]}function Ije(e,t,r){let{checksumAddress:n,staticPosition:s}=r,o=t.components.length===0||t.components.some(({name:c})=>!c),i=o?[]:{},a=0;if(N4(t)){let c=du(e.readBytes(HL)),l=s+c;for(let u=0;u<t.components.length;++u){let d=t.components[u];e.setPosition(l+a);let[p,f]=og(e,d,{checksumAddress:n,staticPosition:l});a+=f,i[o?u:d?.name]=p}return e.setPosition(s+32),[i,32]}for(let c=0;c<t.components.length;++c){let l=t.components[c],[u,d]=og(e,l,{checksumAddress:n,staticPosition:s});i[o?c:l?.name]=u,a+=d}return[i,a]}function _je(e,{staticPosition:t}){let r=du(e.readBytes(32)),n=t+r;e.setPosition(n);let s=du(e.readBytes(32));if(s===0)return e.setPosition(t+32),["",32];let o=e.readBytes(s,32),i=Qoe(PU(o));return e.setPosition(t+32),[i,32]}function ece({checksumAddress:e,parameters:t,values:r}){let n=[];for(let s=0;s<t.length;s++)n.push($L({checksumAddress:e,parameter:t[s],value:r[s]}));return n}function $L({checksumAddress:e=!1,parameter:t,value:r}){let n=t,s=FL(n.type);if(s){let[o,i]=s;return Pje(r,{checksumAddress:e,length:o,parameter:{...n,type:i}})}if(n.type==="tuple")return Bje(r,{checksumAddress:e,parameter:n});if(n.type==="address")return Tje(r,{checksum:e});if(n.type==="bool")return Rje(r);if(n.type.startsWith("uint")||n.type.startsWith("int")){let o=n.type.startsWith("int"),[,,i="256"]=m_.exec(n.type)??[];return Oje(r,{signed:o,size:Number(i)})}if(n.type.startsWith("bytes"))return Nje(r,{type:n.type});if(n.type==="string")return kje(r);throw new hb(n.type)}function y_(e){let t=0;for(let o=0;o<e.length;o++){let{dynamic:i,encoded:a}=e[o];i?t+=32:t+=en(a)}let r=[],n=[],s=0;for(let o=0;o<e.length;o++){let{dynamic:i,encoded:a}=e[o];i?(r.push(nr(t+s,{size:32})),n.push(a),s+=en(a)):r.push(a)}return hn(...r,...n)}function Tje(e,t){let{checksum:r=!1}=t;return sg(e,{strict:r}),{dynamic:!1,encoded:Tp(e.toLowerCase())}}function Pje(e,t){let{checksumAddress:r,length:n,parameter:s}=t,o=n===null;if(!Array.isArray(e))throw new b_(e);if(!o&&e.length!==n)throw new w_({expectedLength:n,givenLength:e.length,type:`${s.type}[${n}]`});let i=!1,a=[];for(let c=0;c<e.length;c++){let l=$L({checksumAddress:r,parameter:s,value:e[c]});l.dynamic&&(i=!0),a.push(l)}if(o||i){let c=y_(a);if(o){let l=nr(a.length,{size:32});return{dynamic:!0,encoded:a.length>0?hn(l,c):l}}if(i)return{dynamic:!0,encoded:c}}return{dynamic:!1,encoded:hn(...a.map(({encoded:c})=>c))}}function Nje(e,{type:t}){let[,r]=t.split("bytes"),n=en(e);if(!r){let s=e;return n%32!==0&&(s=pu(s,Math.ceil((e.length-2)/2/32)*32)),{dynamic:!0,encoded:hn(Tp(nr(n,{size:32})),s)}}if(n!==Number.parseInt(r,10))throw new R4({expectedSize:Number.parseInt(r,10),value:e});return{dynamic:!1,encoded:pu(e)}}function Rje(e){if(typeof e!="boolean")throw new ze(`Invalid boolean value: "${e}" (type: ${typeof e}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:Tp(nI(e))}}function Oje(e,{signed:t,size:r}){if(typeof r=="number"){let n=2n**(BigInt(r)-(t?1n:0n))-1n,s=t?-n-1n:0n;if(e>n||e<s)throw new a4({max:n.toString(),min:s.toString(),signed:t,size:r/8,value:e.toString()})}return{dynamic:!1,encoded:nr(e,{size:32,signed:t})}}function kje(e){let t=Fw(e),r=Math.ceil(en(t)/32),n=[];for(let s=0;s<r;s++)n.push(pu(tn(t,s*32,(s+1)*32)));return{dynamic:!0,encoded:hn(pu(nr(en(t),{size:32})),...n)}}function Bje(e,t){let{checksumAddress:r,parameter:n}=t,s=!1,o=[];for(let i=0;i<n.components.length;i++){let a=n.components[i],c=Array.isArray(e)?i:a.name,l=$L({checksumAddress:r,parameter:a,value:e[c]});o.push(l),l.dynamic&&(s=!0)}return{dynamic:s,encoded:s?y_(o):hn(...o.map(({encoded:i})=>i))}}function FL(e){let t=e.match(/^(.*)\[(\d+)?\]$/);return t?[t[2]?Number(t[2]):null,t[1]]:void 0}function N4(e){let{type:t}=e;if(t==="string"||t==="bytes"||t.endsWith("[]"))return!0;if(t==="tuple")return e.components?.some(N4);let r=FL(e.type);return!!(r&&N4({...e,type:r[1]}))}var Xae,HL,tce=m(()=>{mb();P4();C0();Bi();bs();g_();Xae=32,HL=32});function v_(e,{recursiveReadLimit:t=8192}={}){let r=Object.create(Uje);return r.bytes=e,r.dataView=new DataView(e.buffer,e.byteOffset,e.byteLength),r.positionReadCount=new Map,r.recursiveReadLimit=t,r}var Uje,x_,jL,zL,VL=m(()=>{Bi();Uje={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new zL({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(e){if(e<0||e>this.bytes.length-1)throw new jL({length:this.bytes.length,position:e})},decrementPosition(e){if(e<0)throw new x_({offset:e});let t=this.position-e;this.assertPosition(t),this.position=t},getReadCount(e){return this.positionReadCount.get(e||this.position)||0},incrementPosition(e){if(e<0)throw new x_({offset:e});let t=this.position+e;this.assertPosition(t),this.position=t},inspectByte(e){let t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectBytes(e,t){let r=t??this.position;return this.assertPosition(r+e-1),this.bytes.subarray(r,r+e)},inspectUint8(e){let t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectUint16(e){let t=e??this.position;return this.assertPosition(t+1),this.dataView.getUint16(t)},inspectUint24(e){let t=e??this.position;return this.assertPosition(t+2),(this.dataView.getUint16(t)<<8)+this.dataView.getUint8(t+2)},inspectUint32(e){let t=e??this.position;return this.assertPosition(t+3),this.dataView.getUint32(t)},pushByte(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushBytes(e){this.assertPosition(this.position+e.length-1),this.bytes.set(e,this.position),this.position+=e.length},pushUint8(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushUint16(e){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,e),this.position+=2},pushUint24(e){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,e>>8),this.dataView.setUint8(this.position+2,e&255),this.position+=3},pushUint32(e){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,e),this.position+=4},readByte(){this.assertReadLimit(),this._touch();let e=this.inspectByte();return this.position++,e},readBytes(e,t){this.assertReadLimit(),this._touch();let r=this.inspectBytes(e);return this.position+=t??e,r},readUint8(){this.assertReadLimit(),this._touch();let e=this.inspectUint8();return this.position+=1,e},readUint16(){this.assertReadLimit(),this._touch();let e=this.inspectUint16();return this.position+=2,e},readUint24(){this.assertReadLimit(),this._touch();let e=this.inspectUint24();return this.position+=3,e},readUint32(){this.assertReadLimit(),this._touch();let e=this.inspectUint32();return this.position+=4,e},get remaining(){return this.bytes.length-this.position},setPosition(e){let t=this.position;return this.assertPosition(e),this.position=e,()=>this.position=t},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;let e=this.getReadCount();this.positionReadCount.set(this.position,e+1),e>0&&this.recursiveReadCount++}};x_=class extends ze{constructor({offset:t}){super(`Offset \`${t}\` cannot be negative.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.NegativeOffsetError"})}},jL=class extends ze{constructor({length:t,position:r}){super(`Position \`${r}\` is out of bounds (\`0 < position < ${t}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.PositionOutOfBoundsError"})}},zL=class extends ze{constructor({count:t,limit:r}){super(`Recursive read limit of \`${r}\` exceeded (recursive read count: \`${t}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.RecursiveReadLimitExceededError"})}}});function gb(e,t,r={}){let{as:n="Array",checksumAddress:s=!1}=r,o=typeof t=="string"?Hw(t):t,i=v_(o);if(nc(o)===0&&e.length>0)throw new KL;if(nc(o)&&nc(o)<32)throw new WL({data:typeof t=="string"?t:On(t),parameters:e,size:nc(o)});let a=0,c=n==="Array"?[]:{};for(let l=0;l<e.length;++l){let u=e[l];i.setPosition(a);let[d,p]=og(i,u,{checksumAddress:s,staticPosition:0});a+=p,n==="Array"?c.push(d):c[u.name??l]=d}return c}function U0(e,t,r){let{checksumAddress:n=!1}=r??{};if(e.length!==t.length)throw new E_({expectedLength:e.length,givenLength:t.length});let s=ece({checksumAddress:n,parameters:e,values:t}),o=y_(s);return o.length===0?"0x":o}function qL(e,t){if(e.length!==t.length)throw new E_({expectedLength:e.length,givenLength:t.length});let r=[];for(let n=0;n<e.length;n++){let s=e[n],o=t[n];r.push(qL.encode(s,o))}return hn(...r)}function k4(e){return Array.isArray(e)&&typeof e[0]=="string"?Ny(e):typeof e=="string"?Ny(e):e}var WL,KL,w_,R4,E_,b_,hb,mb=m(()=>{Ry();P4();C0();Bi();bs();tce();VL();g_();(function(e){function t(r,n,s=!1){if(r==="address"){let c=n;return sg(c),Tp(c.toLowerCase(),s?32:0)}if(r==="string")return Fw(n);if(r==="bytes")return n;if(r==="bool")return Tp(nI(n),s?32:1);let o=r.match(m_);if(o){let[c,l,u="256"]=o,d=Number.parseInt(u,10)/8;return nr(n,{size:s?32:d,signed:l==="int"})}let i=r.match(Jae);if(i){let[c,l]=i;if(Number.parseInt(l,10)!==(n.length-2)/2)throw new R4({expectedSize:Number.parseInt(l,10),value:n});return pu(n,s?32:0)}let a=r.match(Yae);if(a&&Array.isArray(n)){let[c,l]=a,u=[];for(let d=0;d<n.length;d++)u.push(t(l,n[d],!0));return u.length===0?"0x":hn(...u)}throw new hb(r)}e.encode=t})(qL||(qL={}));WL=class extends ze{constructor({data:t,parameters:r,size:n}){super(`Data size of ${n} bytes is too small for given parameters.`,{metaMessages:[`Params: (${ip(r)})`,`Data:   ${t} (${n} bytes)`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.DataSizeTooSmallError"})}},KL=class extends ze{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.'),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ZeroDataError"})}},w_=class extends ze{constructor({expectedLength:t,givenLength:r,type:n}){super(`Array length mismatch for type \`${n}\`. Expected: \`${t}\`. Given: \`${r}\`.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ArrayLengthMismatchError"})}},R4=class extends ze{constructor({expectedSize:t,value:r}){super(`Size of bytes "${r}" (bytes${en(r)}) does not match expected size (bytes${t}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.BytesSizeMismatchError"})}},E_=class extends ze{constructor({expectedLength:t,givenLength:r}){super(["ABI encoding parameters/values length mismatch.",`Expected length (parameters): ${t}`,`Given length (values): ${r}`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.LengthMismatchError"})}},b_=class extends ze{constructor(t){super(`Value \`${t}\` is not a valid array.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidArrayError"})}},hb=class extends ze{constructor(t){super(`Type \`${t}\` is not a valid ABI Type.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidTypeError"})}}});function Lje(e,t){let{as:r}=t,n=sce(e),s=v_(new Uint8Array(n.length));return n.encode(s),r==="Hex"?On(s.bytes):s.bytes}function nce(e,t={}){let{as:r="Hex"}=t;return Lje(e,{as:r})}function sce(e){return Array.isArray(e)?Mje(e.map(t=>sce(t))):Hje(e)}function Mje(e){let t=e.reduce((s,o)=>s+o.length,0),r=oce(t);return{length:t<=55?1+t:1+r+t,encode(s){t<=55?s.pushByte(192+t):(s.pushByte(247+r),r===1?s.pushUint8(t):r===2?s.pushUint16(t):r===3?s.pushUint24(t):s.pushUint32(t));for(let{encode:o}of e)o(s)}}}function Hje(e){let t=typeof e=="string"?Hw(e):e,r=oce(t.length);return{length:t.length===1&&t[0]<128?1:t.length<=55?1+t.length:1+r+t.length,encode(s){t.length===1&&t[0]<128?s.pushBytes(t):t.length<=55?(s.pushByte(128+t.length),s.pushBytes(t)):(s.pushByte(183+r),r===1?s.pushUint8(t.length):r===2?s.pushUint16(t.length):r===3?s.pushUint24(t.length):s.pushUint32(t.length),s.pushBytes(t))}}}function oce(e){if(e<=255)return 1;if(e<=65535)return 2;if(e<=16777215)return 3;if(e<=4294967295)return 4;throw new ze("Length is too large.")}var ice=m(()=>{C0();Bi();bs();VL()});function QL(e,t={}){let{recovered:r}=t;if(typeof e.r>"u")throw new B4({signature:e});if(typeof e.s>"u")throw new B4({signature:e});if(r&&typeof e.yParity>"u")throw new B4({signature:e});if(e.r<0n||e.r>ML)throw new GL({value:e.r});if(e.s<0n||e.s>ML)throw new YL({value:e.s});if(typeof e.yParity=="number"&&e.yParity!==0&&e.yParity!==1)throw new D4({value:e.yParity})}function Fje(e){return ace(On(e))}function ace(e){if(e.length!==130&&e.length!==132)throw new ZL({signature:e});let t=BigInt(tn(e,0,32)),r=BigInt(tn(e,32,64)),n=(()=>{let s=+`0x${e.slice(130)}`;if(!Number.isNaN(s))try{return tM(s)}catch{throw new D4({value:s})}})();return typeof n>"u"?{r:t,s:r}:{r:t,s:r,yParity:n}}function XL(e){if(!(typeof e.r>"u")&&!(typeof e.s>"u"))return eM(e)}function eM(e){let t=typeof e=="string"?ace(e):e instanceof Uint8Array?Fje(e):typeof e.r=="string"?zje(e):e.v?jje(e):{r:e.r,s:e.s,...typeof e.yParity<"u"?{yParity:e.yParity}:{}};return QL(t),t}function jje(e){return{r:e.r,s:e.s,yParity:tM(e.v)}}function zje(e){let t=(()=>{let r=e.v?Number(e.v):void 0,n=e.yParity?Number(e.yParity):void 0;if(typeof r=="number"&&typeof n!="number"&&(n=tM(r)),typeof n!="number")throw new D4({value:e.yParity});return n})();return{r:BigInt(e.r),s:BigInt(e.s),yParity:t}}function cce(e){let{r:t,s:r,yParity:n}=e;return[n?"0x01":"0x",t===0n?"0x":RU(nr(t)),r===0n?"0x":RU(nr(r))]}function tM(e){if(e===0||e===27)return 0;if(e===1||e===28)return 1;if(e>=35)return e%2===0?1:0;throw new JL({value:e})}var ZL,B4,GL,YL,D4,JL,rM=m(()=>{Bi();bs();i4();g_();ZL=class extends ze{constructor({signature:t}){super(`Value \`${t}\` is an invalid signature size.`,{metaMessages:["Expected: 64 bytes or 65 bytes.",`Received ${en($w(t))} bytes.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSerializedSizeError"})}},B4=class extends ze{constructor({signature:t}){super(`Signature \`${S0(t)}\` is missing either an \`r\`, \`s\`, or \`yParity\` property.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.MissingPropertiesError"})}},GL=class extends ze{constructor({value:t}){super(`Value \`${t}\` is an invalid r value. r must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidRError"})}},YL=class extends ze{constructor({value:t}){super(`Value \`${t}\` is an invalid s value. s must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSError"})}},D4=class extends ze{constructor({value:t}){super(`Value \`${t}\` is an invalid y-parity value. Y-parity must be 0 or 1.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidYParityError"})}},JL=class extends ze{constructor({value:t}){super(`Value \`${t}\` is an invalid v value. v must be 27, 28 or >=35.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidVError"})}}});function uce(e,t={}){return typeof e.chainId=="string"?Vje(e):{...e,...t.signature}}function Vje(e){let{address:t,chainId:r,nonce:n}=e,s=XL(e);return{address:t,chainId:Number(r),nonce:BigInt(n),...s}}function dce(e){return qje(e,{presign:!0})}function qje(e,t={}){let{presign:r}=t;return ng(hn("0x05",nce(Wje(r?{address:e.address,chainId:e.chainId,nonce:e.nonce}:e))))}function Wje(e){let{address:t,chainId:r,nonce:n}=e,s=XL(e);return[r?nr(r):"0x",t,n?nr(n):"0x",...s?cce(s):[]]}var pce=m(()=>{l_();bs();ice();rM()});function fce(e){return Gae(Zje(e))}function Zje(e){let{payload:t,signature:r}=e,{r:n,s,yParity:o}=r,a=new Go.Signature(BigInt(n),BigInt(s)).addRecoveryBit(o).recoverPublicKey($w(t).substring(2));return Wae(a)}var hce=m(()=>{q1();P4();bs();DL()});var il={};Se(il,{InvalidWrappedSignatureError:()=>A_,assert:()=>C_,from:()=>Yje,magicBytes:()=>nM,suffixParameters:()=>sM,unwrap:()=>mce,validate:()=>Qje,wrap:()=>Jje});function C_(e){if(typeof e=="string"){if(tn(e,-32)!==nM)throw new A_(e)}else QL(e.authorization)}function Yje(e){return typeof e=="string"?mce(e):e}function mce(e){C_(e);let t=eI(tn(e,-64,-32)),r=tn(e,-t-64,-64),n=tn(e,0,-t-64),[s,o,i]=gb(sM,r);return{authorization:uce({address:s.delegation,chainId:Number(s.chainId),nonce:s.nonce,yParity:s.yParity,r:s.r,s:s.s}),signature:n,...i&&i!=="0x"?{data:i,to:o}:{}}}function Jje(e){let{data:t,signature:r}=e;C_(e);let n=fce({payload:dce(e.authorization),signature:eM(e.authorization)}),s=U0(sM,[{...e.authorization,delegation:e.authorization.address,chainId:BigInt(e.authorization.chainId)},e.to??n,t??"0x"]),o=nr(en(s),{size:32});return hn(r,s,o,nM)}function Qje(e){try{return C_(e),!0}catch{return!1}}var nM,sM,A_,gce=m(()=>{mb();pce();Bi();bs();hce();rM();nM="0x8010801080108010801080108010801080108010801080108010801080108010",sM=k4("(uint256 chainId, address delegation, uint256 nonce, uint8 yParity, uint256 r, uint256 s), address to, bytes data");A_=class extends ze{constructor(t){super(`Value \`${t}\` is an invalid ERC-8010 wrapped signature.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SignatureErc8010.InvalidWrappedSignatureError"})}}});var U4=m(()=>{gce()});function S_(e){return il.validate(e)}var oM=m(()=>{U4()});function yce(e){if(!i_(e))return{signature:e};let[t,r,n]=Vo([{type:"address"},{type:"bytes"},{type:"bytes"}],e);return{address:t,data:r,signature:n}}var wce=m(()=>{Sh();TL()});function bce(e){if(!S_(e))return{signature:e};let{authorization:t,to:r,...n}=il.unwrap(e);return{authorization:{address:t.address,chainId:t.chainId,nonce:Number(t.nonce),r:J(t.r,{size:32}),s:J(t.s,{size:32}),yParity:t.yParity},...r?{address:r}:{},...n}}var xce=m(()=>{U4();De();oM()});async function I_({message:e,signature:t}){return Ni({hash:D0(e),signature:t})}var iM=m(()=>{I4();t0()});async function __(e){let{domain:t,message:r,primaryType:n,signature:s,types:o}=e;return Ni({hash:fb({domain:t,message:r,primaryType:n,types:o}),signature:s})}var aM=m(()=>{T4();t0()});function vce(e){let{address:t,data:r,signature:n,to:s="hex"}=e,o=pn([ns([{type:"address"},{type:"bytes"},{type:"bytes"}],[t,r,n]),s_]);return s==="hex"?o:Gt(o)}var Ece=m(()=>{o_();Yc();Fn();Or()});function Ace(e){let{address:t,data:r,signature:n,to:s="hex"}=e,o=il.wrap({authorization:{address:e.authorization.address,chainId:e.authorization.chainId,nonce:BigInt(e.authorization.nonce),r:BigInt(e.authorization.r),s:BigInt(e.authorization.s),yParity:e.authorization.yParity},data:r,signature:n,to:t});return s==="hex"?o:Gt(o)}var Cce=m(()=>{U4();Or()});async function Sce({address:e,hash:t,signature:r}){return vn(rs(e),await Ni({hash:t,signature:r}))}var Ice=m(()=>{Aa();sl();t0()});async function _ce({address:e,message:t,signature:r}){return vn(rs(e),await I_({message:t,signature:r}))}var Tce=m(()=>{Aa();sl();iM()});async function Pce(e){let{address:t,domain:r,message:n,primaryType:s,signature:o,types:i}=e;return vn(rs(t),await __({domain:r,message:n,primaryType:s,signature:o,types:i}))}var Nce=m(()=>{Aa();sl();aM()});function T_(e){let t=Ql(e,0,1);if(t==="0x04")return"eip7702";if(t==="0x03")return"eip4844";if(t==="0x02")return"eip1559";if(t==="0x01")return"eip2930";if(t!=="0x"&&ft(t)>=192)return"legacy";throw new aw({serializedType:t})}var cM=m(()=>{qo();Qa();un()});function P_(e){let t=T_(e);return t==="eip1559"?tze(e):t==="eip2930"?rze(e):t==="eip4844"?eze(e):t==="eip7702"?Xje(e):nze(e)}function Xje(e){let t=N_(e),[r,n,s,o,i,a,c,l,u,d,p,f,h]=t;if(t.length!==10&&t.length!==13)throw new eu({attributes:{chainId:r,nonce:n,maxPriorityFeePerGas:s,maxFeePerGas:o,gas:i,to:a,value:c,data:l,accessList:u,authorizationList:d,...t.length>9?{v:p,r:f,s:h}:{}},serializedTransaction:e,type:"eip7702"});let g={chainId:ft(r),type:"eip7702"};return je(a)&&a!=="0x"&&(g.to=a),je(i)&&i!=="0x"&&(g.gas=lt(i)),je(l)&&l!=="0x"&&(g.data=l),je(n)&&(g.nonce=n==="0x"?0:ft(n)),je(c)&&c!=="0x"&&(g.value=lt(c)),je(o)&&o!=="0x"&&(g.maxFeePerGas=lt(o)),je(s)&&s!=="0x"&&(g.maxPriorityFeePerGas=lt(s)),u.length!==0&&u!=="0x"&&(g.accessList=R_(u)),d.length!==0&&d!=="0x"&&(g.authorizationList=sze(d)),qI(g),{...t.length===13?L4(t):void 0,...g}}function eze(e){let t=N_(e),r=t.length===4,n=r?t[0]:t,s=r?t.slice(1):[],[o,i,a,c,l,u,d,p,f,h,g,y,E,A]=n,[b,w,C]=s;if(!(n.length===11||n.length===14))throw new eu({attributes:{chainId:o,nonce:i,maxPriorityFeePerGas:a,maxFeePerGas:c,gas:l,to:u,value:d,data:p,accessList:f,...n.length>9?{v:y,r:E,s:A}:{}},serializedTransaction:e,type:"eip4844"});let _={blobVersionedHashes:g,chainId:ft(o),to:u,type:"eip4844"};return je(l)&&l!=="0x"&&(_.gas=lt(l)),je(p)&&p!=="0x"&&(_.data=p),je(i)&&(_.nonce=i==="0x"?0:ft(i)),je(d)&&d!=="0x"&&(_.value=lt(d)),je(h)&&h!=="0x"&&(_.maxFeePerBlobGas=lt(h)),je(c)&&c!=="0x"&&(_.maxFeePerGas=lt(c)),je(a)&&a!=="0x"&&(_.maxPriorityFeePerGas=lt(a)),f.length!==0&&f!=="0x"&&(_.accessList=R_(f)),b&&w&&C&&(_.sidecars=v0({blobs:b,commitments:w,proofs:C})),WI(_),{...n.length===14?L4(n):void 0,..._}}function tze(e){let t=N_(e),[r,n,s,o,i,a,c,l,u,d,p,f]=t;if(!(t.length===9||t.length===12))throw new eu({attributes:{chainId:r,nonce:n,maxPriorityFeePerGas:s,maxFeePerGas:o,gas:i,to:a,value:c,data:l,accessList:u,...t.length>9?{v:d,r:p,s:f}:{}},serializedTransaction:e,type:"eip1559"});let h={chainId:ft(r),type:"eip1559"};return je(a)&&a!=="0x"&&(h.to=a),je(i)&&i!=="0x"&&(h.gas=lt(i)),je(l)&&l!=="0x"&&(h.data=l),je(n)&&(h.nonce=n==="0x"?0:ft(n)),je(c)&&c!=="0x"&&(h.value=lt(c)),je(o)&&o!=="0x"&&(h.maxFeePerGas=lt(o)),je(s)&&s!=="0x"&&(h.maxPriorityFeePerGas=lt(s)),u.length!==0&&u!=="0x"&&(h.accessList=R_(u)),B0(h),{...t.length===12?L4(t):void 0,...h}}function rze(e){let t=N_(e),[r,n,s,o,i,a,c,l,u,d,p]=t;if(!(t.length===8||t.length===11))throw new eu({attributes:{chainId:r,nonce:n,gasPrice:s,gas:o,to:i,value:a,data:c,accessList:l,...t.length>8?{v:u,r:d,s:p}:{}},serializedTransaction:e,type:"eip2930"});let f={chainId:ft(r),type:"eip2930"};return je(i)&&i!=="0x"&&(f.to=i),je(o)&&o!=="0x"&&(f.gas=lt(o)),je(c)&&c!=="0x"&&(f.data=c),je(n)&&(f.nonce=n==="0x"?0:ft(n)),je(a)&&a!=="0x"&&(f.value=lt(a)),je(s)&&s!=="0x"&&(f.gasPrice=lt(s)),l.length!==0&&l!=="0x"&&(f.accessList=R_(l)),sb(f),{...t.length===11?L4(t):void 0,...f}}function nze(e){let t=C4(e,"hex"),[r,n,s,o,i,a,c,l,u]=t;if(!(t.length===6||t.length===9))throw new eu({attributes:{nonce:r,gasPrice:n,gas:s,to:o,value:i,data:a,...t.length>6?{v:c,r:l,s:u}:{}},serializedTransaction:e,type:"legacy"});let d={type:"legacy"};if(je(o)&&o!=="0x"&&(d.to=o),je(s)&&s!=="0x"&&(d.gas=lt(s)),je(a)&&a!=="0x"&&(d.data=a),je(r)&&(d.nonce=r==="0x"?0:ft(r)),je(i)&&i!=="0x"&&(d.value=lt(i)),je(n)&&n!=="0x"&&(d.gasPrice=lt(n)),ob(d),t.length===6)return d;let p=je(c)&&c!=="0x"?lt(c):0n;if(u==="0x"&&l==="0x")return p>0&&(d.chainId=Number(p)),d;let f=p,h=Number((f-35n)/2n);if(h>0)d.chainId=h;else if(f!==27n&&f!==28n)throw new _h({v:f});return d.v=f,d.s=u,d.r=l,d.yParity=f%2n===0n?1:0,d}function N_(e){return C4(`0x${e.slice(4)}`,"hex")}function R_(e){let t=[];for(let r=0;r<e.length;r++){let[n,s]=e[r];if(!Vt(n,{strict:!1}))throw new Er({address:n});t.push({address:n,storageKeys:s.map(o=>JI(o)?o:ln(o))})}return t}function sze(e){let t=[];for(let r=0;r<e.length;r++){let[n,s,o,i,a,c]=e[r];t.push({address:s,chainId:n==="0x"?0:ft(n),nonce:o==="0x"?0:ft(o),...L4([i,a,c])})}return t}function L4(e){let t=e.slice(-3),r=t[0]==="0x"||lt(t[0])===0n?27n:28n;return{r:Ci(t[1],{size:32}),s:Ci(t[2],{size:32}),v:r,yParity:r===27n?0:1}}var lM=m(()=>{Ja();qo();Ii();Xx();$o();vh();cp();un();bL();xL();KI();cM()});var yb,uM=m(()=>{yt();yb=class extends Z{constructor({value:t}){super(`Number \`${t}\` is not a valid decimal number.`,{name:"InvalidDecimalNumberError"})}}});function wb(e,t){if(!/^(-?)([0-9]*)\.?([0-9]*)$/.test(e))throw new yb({value:e});let[r,n="0"]=e.split("."),s=r.startsWith("-");if(s&&(r=r.slice(1)),n=n.replace(/(0+)$/,""),t===0)Math.round(+`.${n}`)===1&&(r=`${BigInt(r)+1n}`),n="";else if(n.length>t){let[o,i,a]=[n.slice(0,t-1),n.slice(t-1,t),n.slice(t)],c=Math.round(+`${i}.${a}`);c>9?n=`${BigInt(o)+BigInt(1)}0`.padStart(o.length+1,"0"):n=`${o}${c}`,n.length>t&&(n=n.slice(1),r=`${BigInt(r)+1n}`),n=n.slice(0,t)}else n=n.padEnd(t,"0");return BigInt(`${s?"-":""}${r}${n}`)}var O_=m(()=>{uM()});function Rce(e,t="wei"){return wb(e,tw[t])}var Oce=m(()=>{nw();O_()});function kce(e,t="wei"){return wb(e,rw[t])}var Bce=m(()=>{nw();O_()});var k_=m(()=>{un();De()});function oze(e){return e.map(t=>({...t,value:BigInt(t.value)}))}function Dce(e){return{...e,balance:e.balance?BigInt(e.balance):void 0,nonce:e.nonce?ft(e.nonce):void 0,storageProof:e.storageProof?oze(e.storageProof):void 0}}var Uce=m(()=>{k_()});async function Lce(e,{address:t,blockNumber:r,blockTag:n,storageKeys:s}){let o=n??"latest",i=r!==void 0?J(r):void 0,a=await e.request({method:"eth_getProof",params:[t,s,i||o]});return Dce(a)}var Mce=m(()=>{De();Uce()});async function Hce(e,{address:t,blockNumber:r,blockTag:n="latest",slot:s}){let o=r!==void 0?J(r):void 0;return await e.request({method:"eth_getStorageAt",params:[t,s,o||n]})}var $ce=m(()=>{De()});async function bb(e,{blockHash:t,blockNumber:r,blockTag:n,hash:s,index:o,sender:i,nonce:a}){let c=n||"latest",l=r!==void 0?J(r):void 0,u=null;if(s?u=await e.request({method:"eth_getTransactionByHash",params:[s]},{dedupe:!0}):t?u=await e.request({method:"eth_getTransactionByBlockHashAndIndex",params:[t,J(o)]},{dedupe:!0}):(l||c)&&typeof o=="number"?u=await e.request({method:"eth_getTransactionByBlockNumberAndIndex",params:[l||c,J(o)]},{dedupe:!!l}):i&&typeof a=="number"&&(u=await e.request({method:"eth_getTransactionBySenderAndNonce",params:[i,J(a)]},{dedupe:!0})),!u)throw new Th({blockHash:t,blockNumber:r,blockTag:c,hash:s,index:o});return(e.chain?.formatters?.transaction?.format||Ap)(u,"getTransaction")}var B_=m(()=>{qo();De();Sw()});async function Fce(e,{hash:t,transactionReceipt:r}){let[n,s]=await Promise.all([fe(e,hu,"getBlockNumber")({}),t?fe(e,bb,"getTransaction")({hash:t}):void 0]),o=r?.blockNumber||s?.blockNumber;return o?n-o+1n:0n}var jce=m(()=>{jt();Jw();B_()});async function xb(e,{hash:t}){let r=await e.request({method:"eth_getTransactionReceipt",params:[t]},{dedupe:!0});if(!r)throw new Ph({hash:t});return(e.chain?.formatters?.transactionReceipt?.format||X1)(r,"getTransactionReceipt")}var dM=m(()=>{qo();b4()});async function zce(e,t){let{account:r,authorizationList:n,allowFailure:s=!0,blockNumber:o,blockOverrides:i,blockTag:a,stateOverride:c}=t,l=t.contracts,{batchSize:u=t.batchSize??1024,deployless:d=t.deployless??!1}=typeof e.batch?.multicall=="object"?e.batch.multicall:{},p=(()=>{if(t.multicallAddress)return t.multicallAddress;if(d)return null;if(e.chain)return Di({blockNumber:o,chain:e.chain,contract:"multicall3"});throw new Error("client chain not configured. multicallAddress is required.")})(),f=[[]],h=0,g=0;for(let A=0;A<l.length;A++){let{abi:b,address:w,args:C,functionName:_}=l[A];try{let B=Ar({abi:b,args:C,functionName:_});g+=(B.length-2)/2,u>0&&g>u&&f[h].length>0&&(h++,g=(B.length-2)/2,f[h]=[]),f[h]=[...f[h],{allowFailure:!0,callData:B,target:w}]}catch(B){let U=Wo(B,{abi:b,address:w,args:C,docsPath:"/docs/contract/multicall",functionName:_,sender:r});if(!s)throw U;f[h]=[...f[h],{allowFailure:!0,callData:"0x",target:w}]}}let y=await Promise.allSettled(f.map(A=>fe(e,En,"readContract")({...p===null?{code:Vw}:{address:p},abi:sc,account:r,args:[A],authorizationList:n,blockNumber:o,blockOverrides:i,blockTag:a,functionName:"aggregate3",stateOverride:c}))),E=[];for(let A=0;A<y.length;A++){let b=y[A];if(b.status==="rejected"){if(!s)throw b.reason;for(let C=0;C<f[A].length;C++)E.push({status:"failure",error:b.reason,result:void 0});continue}let w=b.value;for(let C=0;C<w.length;C++){let{returnData:_,success:B}=w[C],{callData:U}=f[A][C],{abi:k,address:$,functionName:P,args:I}=l[E.length];try{if(U==="0x")throw new Ai;if(!B)throw new ec({data:_});let S=ws({abi:k,args:I,data:_,functionName:P});E.push(s?{result:S,status:"success"}:S)}catch(S){let O=Wo(S,{abi:k,address:$,args:I,docsPath:"/docs/contract/multicall",functionName:P});if(!s)throw O;E.push({error:O,result:void 0,status:"failure"})}}}if(E.length!==l.length)throw new Z("multicall results mismatch");return E}var Vce=m(()=>{fu();qw();Xr();yt();mp();uu();zo();I0();Jh();jt();ol()});async function M4(e,t){let{blockNumber:r,blockTag:n=e.experimental_blockTag??"latest",blocks:s,returnFullTransactions:o,traceTransfers:i,validation:a}=t;try{let c=[];for(let p of s){let f=p.blockOverrides?sI(p.blockOverrides):void 0,h=p.calls.map(y=>{let E=y,A=E.account?mt(E.account):void 0,b=E.abi?Ar(E):E.data,w={...E,account:A,data:E.dataSuffix?hr([b||"0x",E.dataSuffix]):b,from:E.from??A?.address};return zn(w),Rn(w)}),g=p.stateOverrides?Ew(p.stateOverrides):void 0;c.push({blockOverrides:f,calls:h,stateOverrides:g})}let u=(typeof r=="bigint"?J(r):void 0)||n;return(await e.request({method:"eth_simulateV1",params:[{blockStateCalls:c,returnFullTransactions:o,traceTransfers:i,validation:a},u]})).map((p,f)=>({...W1(p),calls:p.calls.map((h,g)=>{let{abi:y,args:E,functionName:A,to:b}=s[f].calls[g],w=h.error?.data??h.returnData,C=BigInt(h.gasUsed),_=h.logs?.map($=>ys($)),B=h.status==="0x1"?"success":"failure",U=y&&B==="success"&&w!=="0x"?ws({abi:y,data:w,functionName:A}):null,k=(()=>{if(B==="success")return;let $;if(w==="0x"?$=new Ai:w&&($=new ec({data:w})),!!$)return Wo($,{abi:y??[],address:b??"0x",args:E,functionName:A??"<unknown>"})})();return{data:w,gasUsed:C,logs:_,status:B,...B==="success"?{result:U}:{error:k}}})}))}catch(c){let l=c,u=d0(l,{});throw u instanceof Oi?l:u}}var pM=m(()=>{OU();fn();Xr();mp();au();uu();zo();Fn();De();Jh();Kx();kS();Ip();rl();NS();nl()});function U_(e){let t=!0,r="",n=0,s="",o=!1;for(let i=0;i<e.length;i++){let a=e[i];if(["(",")",","].includes(a)&&(t=!0),a==="("&&n++,a===")"&&n--,!!t){if(n===0){if(a===" "&&["event","function","error",""].includes(s))s="";else if(s+=a,a===")"){o=!0;break}continue}if(a===" "){e[i-1]!==","&&r!==","&&r!==",("&&(r="",t=!1);continue}s+=a,r+=a}}if(!o)throw new ze("Unable to normalize signature.");return s}function D_(e,t){let r=typeof e,n=t.type;switch(n){case"address":return f_(e,{strict:!1});case"bool":return r==="boolean";case"function":return r==="string";case"string":return r==="string";default:return n==="tuple"&&"components"in t?Object.values(t.components).every((s,o)=>D_(Object.values(e)[o],s)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(n)?r==="number"||r==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(n)?r==="string"||e instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(n)?Array.isArray(e)&&e.every(s=>D_(s,{...t,type:n.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function fM(e,t,r){for(let n in e){let s=e[n],o=t[n];if(s.type==="tuple"&&o.type==="tuple"&&"components"in s&&"components"in o)return fM(s.components,o.components,r[n]);let i=[s.type,o.type];if(i.includes("address")&&i.includes("bytes20")?!0:i.includes("address")&&i.includes("string")?f_(r[n],{strict:!1}):i.includes("address")&&i.includes("bytes")?f_(r[n],{strict:!1}):!1)return i}}var qce=m(()=>{P4();Bi()});function L_(e,t={}){let{prepare:r=!0}=t,n=Array.isArray(e)?Py(e):typeof e=="string"?Py(e):e;return{...n,...r?{hash:vb(n)}:{}}}function H4(e,t,r){let{args:n=[],prepare:s=!0}=r??{},o=c4(t,{strict:!1}),i=e.filter(l=>o?l.type==="function"||l.type==="error"?mM(l)===tn(t,0,4):l.type==="event"?vb(l)===t:!1:"name"in l&&l.name===t);if(i.length===0)throw new L0({name:t});if(i.length===1)return{...i[0],...s?{hash:vb(i[0])}:{}};let a;for(let l of i){if(!("inputs"in l))continue;if(!n||n.length===0){if(!l.inputs||l.inputs.length===0)return{...l,...s?{hash:vb(l)}:{}};continue}if(!l.inputs||l.inputs.length===0||l.inputs.length!==n.length)continue;if(n.every((d,p)=>{let f="inputs"in l&&l.inputs[p];return f?D_(d,f):!1})){if(a&&"inputs"in a&&a.inputs){let d=fM(l.inputs,a.inputs,n);if(d)throw new hM({abiItem:l,type:d[0]},{abiItem:a,type:d[1]})}a=l}}let c=(()=>{if(a)return a;let[l,...u]=i;return{...l,overloads:u}})();if(!c)throw new L0({name:t});return{...c,...s?{hash:vb(c)}:{}}}function mM(...e){let t=(()=>{if(Array.isArray(e[0])){let[r,n]=e;return H4(r,n)}return e[0]})();return tn(vb(t),0,4)}function aze(...e){let t=(()=>{if(Array.isArray(e[0])){let[n,s]=e;return H4(n,s)}return e[0]})(),r=typeof t=="string"?t:g1(t);return U_(r)}function vb(...e){let t=(()=>{if(Array.isArray(e[0])){let[r,n]=e;return H4(r,n)}return e[0]})();return typeof t!="string"&&"hash"in t&&t.hash?t.hash:ng(Fw(aze(t)))}var hM,L0,gM=m(()=>{Ry();Bi();l_();bs();qce();hM=class extends ze{constructor(t,r){super("Found ambiguous types in overloaded ABI Items.",{metaMessages:[`\`${t.type}\` in \`${U_(g1(t.abiItem))}\`, and`,`\`${r.type}\` in \`${U_(g1(r.abiItem))}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.AmbiguityError"})}},L0=class extends ze{constructor({name:t,data:r,type:n="item"}){let s=t?` with name "${t}"`:r?` with data "${r}"`:"";super(`ABI ${n}${s} not found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.NotFoundError"})}}});function Kce(...e){let[t,r]=(()=>{if(Array.isArray(e[0])){let[o,i]=e;return[cze(o),i]}return e})(),{bytecode:n,args:s}=r;return hn(n,t.inputs?.length&&s?.length?U0(t.inputs,s):"0x")}function Zce(e){return L_(e)}function cze(e){let t=e.find(r=>r.type==="constructor");if(!t)throw new L0({name:"constructor"});return t}var Gce=m(()=>{gM();mb();bs()});function Jce(...e){let[t,r=[]]=(()=>{if(Array.isArray(e[0])){let[l,u,d]=e;return[Yce(l,u,{args:d}),d]}let[a,c]=e;return[a,c]})(),{overloads:n}=t,s=n?Yce([t,...n],t.name,{args:r}):t,o=uze(s),i=r.length>0?U0(s.inputs,r):void 0;return i?hn(o,i):o}function ig(e,t={}){return L_(e,t)}function Yce(e,t,r){let n=H4(e,t,r);if(n.type!=="function")throw new L0({name:t,type:"function"});return n}function uze(e){return mM(e)}var Qce=m(()=>{gM();mb();bs()});var M_,Pa,yM=m(()=>{M_="0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",Pa="0x0000000000000000000000000000000000000000"});async function Xce(e,t){let{blockNumber:r,blockTag:n,calls:s,stateOverrides:o,traceAssetChanges:i,traceTransfers:a,validation:c}=t,l=t.account?mt(t.account):void 0;if(i&&!l)throw new Z("`account` is required when `traceAssetChanges` is true");let u=l?Kce(Zce("constructor(bytes, bytes)"),{bytecode:zw,args:[pze,Jce(ig("function getBalance(address)"),[l.address])]}):void 0,d=i?await Promise.all(t.calls.map(async D=>{if(!D.data&&!D.abi)return;let{accessList:T}=await FI(e,{account:l.address,...D,data:D.abi?Ar(D):D.data});return T.map(({address:L,storageKeys:j})=>j.length>0?L:null)})).then(D=>D.flat().filter(Boolean)):[],p=await M4(e,{blockNumber:r,blockTag:n,blocks:[...i?[{calls:[{data:u}],stateOverrides:o},{calls:d.map((D,T)=>({abi:[ig("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[l.address],to:D,from:Pa,nonce:T})),stateOverrides:[{address:Pa,nonce:0}]}]:[],{calls:[...s,{}].map(D=>({...D,from:l?.address})),stateOverrides:o},...i?[{calls:[{data:u}]},{calls:d.map((D,T)=>({abi:[ig("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[l.address],to:D,from:Pa,nonce:T})),stateOverrides:[{address:Pa,nonce:0}]},{calls:d.map((D,T)=>({to:D,abi:[ig("function decimals() returns (uint256)")],functionName:"decimals",from:Pa,nonce:T})),stateOverrides:[{address:Pa,nonce:0}]},{calls:d.map((D,T)=>({to:D,abi:[ig("function tokenURI(uint256) returns (string)")],functionName:"tokenURI",args:[0n],from:Pa,nonce:T})),stateOverrides:[{address:Pa,nonce:0}]},{calls:d.map((D,T)=>({to:D,abi:[ig("function symbol() returns (string)")],functionName:"symbol",from:Pa,nonce:T})),stateOverrides:[{address:Pa,nonce:0}]}]:[]],traceTransfers:a,validation:c}),f=i?p[2]:p[0],[h,g,,y,E,A,b,w]=i?p:[],{calls:C,..._}=f,B=C.slice(0,-1)??[],U=h?.calls??[],k=g?.calls??[],$=[...U,...k].map(D=>D.status==="success"?lt(D.data):null),P=y?.calls??[],I=E?.calls??[],S=[...P,...I].map(D=>D.status==="success"?lt(D.data):null),O=(A?.calls??[]).map(D=>D.status==="success"?D.result:null),x=(w?.calls??[]).map(D=>D.status==="success"?D.result:null),v=(b?.calls??[]).map(D=>D.status==="success"?D.result:null),N=[];for(let[D,T]of S.entries()){let L=$[D];if(typeof T!="bigint"||typeof L!="bigint")continue;let j=O[D-1],q=x[D-1],ie=v[D-1],ne=D===0?{address:M_,decimals:18,symbol:"ETH"}:{address:d[D-1],decimals:ie||j?Number(j??1):void 0,symbol:q??void 0};N.some(Y=>Y.token.address===ne.address)||N.push({token:ne,value:{pre:L,post:T,diff:T-L}})}return{assetChanges:N,block:_,results:B}}var pze,ele=m(()=>{Gce();Qce();fn();yM();qw();yt();zo();k_();dL();pM();pze="0x6080604052348015600e575f80fd5b5061016d8061001c5f395ff3fe608060405234801561000f575f80fd5b5060043610610029575f3560e01c8063f8b2cb4f1461002d575b5f80fd5b610047600480360381019061004291906100db565b61005d565b604051610054919061011e565b60405180910390f35b5f8173ffffffffffffffffffffffffffffffffffffffff16319050919050565b5f80fd5b5f73ffffffffffffffffffffffffffffffffffffffff82169050919050565b5f6100aa82610081565b9050919050565b6100ba816100a0565b81146100c4575f80fd5b50565b5f813590506100d5816100b1565b92915050565b5f602082840312156100f0576100ef61007d565b5b5f6100fd848285016100c7565b91505092915050565b5f819050919050565b61011881610106565b82525050565b5f6020820190506101315f83018461010f565b9291505056fea26469706673582212203b9fe929fe995c7cf9887f0bdba8a36dd78e8b73f149b17d2d9ad7cd09d2dc6264736f6c634300081a0033"});var $4={};Se($4,{InvalidWrappedSignatureError:()=>H_,assert:()=>bM,from:()=>mze,magicBytes:()=>wM,universalSignatureValidatorAbi:()=>hze,universalSignatureValidatorBytecode:()=>fze,unwrap:()=>tle,validate:()=>yze,wrap:()=>gze});function bM(e){if(tn(e,-32)!==wM)throw new H_(e)}function mze(e){return typeof e=="string"?tle(e):e}function tle(e){bM(e);let[t,r,n]=gb(k4("address, bytes, bytes"),e);return{data:r,signature:n,to:t}}function gze(e){let{data:t,signature:r,to:n}=e;return hn(U0(k4("address, bytes, bytes"),[n,t,r]),wM)}function yze(e){try{return bM(e),!0}catch{return!1}}var wM,fze,hze,H_,rle=m(()=>{mb();Bi();bs();wM="0x6492649264926492649264926492649264926492649264926492649264926492",fze="0x608060405234801561001057600080fd5b5060405161069438038061069483398101604081905261002f9161051e565b600061003c848484610048565b9050806000526001601ff35b60007f64926492649264926492649264926492649264926492649264926492649264926100748361040c565b036101e7576000606080848060200190518101906100929190610577565b60405192955090935091506000906001600160a01b038516906100b69085906105dd565b6000604051808303816000865af19150503d80600081146100f3576040519150601f19603f3d011682016040523d82523d6000602084013e6100f8565b606091505b50509050876001600160a01b03163b60000361016057806101605760405162461bcd60e51b815260206004820152601e60248201527f5369676e617475726556616c696461746f723a206465706c6f796d656e74000060448201526064015b60405180910390fd5b604051630b135d3f60e11b808252906001600160a01b038a1690631626ba7e90610190908b9087906004016105f9565b602060405180830381865afa1580156101ad573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906101d19190610633565b6001600160e01b03191614945050505050610405565b6001600160a01b0384163b1561027a57604051630b135d3f60e11b808252906001600160a01b03861690631626ba7e9061022790879087906004016105f9565b602060405180830381865afa158015610244573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906102689190610633565b6001600160e01b031916149050610405565b81516041146102df5760405162461bcd60e51b815260206004820152603a602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e6174757265206c656e6774680000000000006064820152608401610157565b6102e7610425565b5060208201516040808401518451859392600091859190811061030c5761030c61065d565b016020015160f81c9050601b811480159061032b57508060ff16601c14155b1561038c5760405162461bcd60e51b815260206004820152603b602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e617475726520762076616c756500000000006064820152608401610157565b60408051600081526020810180835289905260ff83169181019190915260608101849052608081018390526001600160a01b0389169060019060a0016020604051602081039080840390855afa1580156103ea573d6000803e3d6000fd5b505050602060405103516001600160a01b0316149450505050505b9392505050565b600060208251101561041d57600080fd5b508051015190565b60405180606001604052806003906020820280368337509192915050565b6001600160a01b038116811461045857600080fd5b50565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561048c578181015183820152602001610474565b50506000910152565b600082601f8301126104a657600080fd5b81516001600160401b038111156104bf576104bf61045b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156104ed576104ed61045b565b60405281815283820160200185101561050557600080fd5b610516826020830160208701610471565b949350505050565b60008060006060848603121561053357600080fd5b835161053e81610443565b6020850151604086015191945092506001600160401b0381111561056157600080fd5b61056d86828701610495565b9150509250925092565b60008060006060848603121561058c57600080fd5b835161059781610443565b60208501519093506001600160401b038111156105b357600080fd5b6105bf86828701610495565b604086015190935090506001600160401b0381111561056157600080fd5b600082516105ef818460208701610471565b9190910192915050565b828152604060208201526000825180604084015261061e816060850160208701610471565b601f01601f1916919091016060019392505050565b60006020828403121561064557600080fd5b81516001600160e01b03198116811461040557600080fd5b634e487b7160e01b600052603260045260246000fdfe5369676e617475726556616c696461746f72237265636f7665725369676e6572",hze=[{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],outputs:[{type:"bool"}],stateMutability:"nonpayable",type:"function",name:"isValidSig"}];H_=class extends ze{constructor(t){super(`Value \`${t}\` is an invalid ERC-6492 wrapped signature.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SignatureErc6492.InvalidWrappedSignatureError"})}}});var nle=m(()=>{rle()});function F4({r:e,s:t,to:r="hex",v:n,yParity:s}){let o=(()=>{if(s===0||s===1)return s;if(n&&(n===27n||n===28n||n>=35n))return n%2n===0n?1:0;throw new Error("Invalid `v` or `yParity` value")})(),i=`0x${new Go.Signature(lt(e),lt(t)).toCompactHex()}${o===0?"1b":"1c"}`;return r==="hex"?i:Gt(i)}var xM=m(()=>{q1();un();Or()});async function M0(e,t){let{address:r,chain:n=e.chain,hash:s,erc6492VerifierAddress:o=t.universalSignatureVerifierAddress??n?.contracts?.erc6492Verifier?.address,multicallAddress:i=t.multicallAddress??n?.contracts?.multicall3?.address}=t;if(n?.verifyHash)return await n.verifyHash(e,t);let a=(()=>{let c=t.signature;return je(c)?c:typeof c=="object"&&"r"in c&&"s"in c?F4(c):ht(c)})();try{return il.validate(a)?await wze(e,{...t,multicallAddress:i,signature:a}):await bze(e,{...t,verifierAddress:o,signature:a})}catch(c){try{if(vn(rs(r),await Ni({hash:s,signature:a})))return!0}catch{}if(c instanceof Up)return!1;throw c}}async function wze(e,t){let{address:r,blockNumber:n,blockTag:s,hash:o,multicallAddress:i}=t,{authorization:a,data:c,signature:l,to:u}=il.unwrap(t.signature);if(await E4(e,{address:r,blockNumber:n,blockTag:s})===pn(["0xef0100",a.address]))return await xze(e,{address:r,blockNumber:n,blockTag:s,hash:o,signature:l});let p={address:a.address,chainId:Number(a.chainId),nonce:Number(a.nonce),r:J(a.r,{size:32}),s:J(a.s,{size:32}),yParity:a.yParity};if(!await aae({address:r,authorization:p}))throw new Up;let h=await fe(e,En,"readContract")({...i?{address:i}:{code:Vw},authorizationList:[p],abi:sc,blockNumber:n,blockTag:"pending",functionName:"aggregate3",args:[[...c?[{allowFailure:!0,target:u??r,callData:c}]:[],{allowFailure:!0,target:r,callData:Ar({abi:DU,functionName:"isValidSignature",args:[o,l]})}]]});if(h[h.length-1]?.returnData?.startsWith("0x1626ba7e"))return!0;throw new Up}async function bze(e,t){let{address:r,factory:n,factoryData:s,hash:o,signature:i,verifierAddress:a,...c}=t,l=await(async()=>!n&&!s||$4.validate(i)?i:$4.wrap({data:s,signature:i,to:n}))(),u=a?{to:a,data:Ar({abi:jw,functionName:"isValidSig",args:[r,o,l]}),...c}:{data:Rp({abi:jw,args:[r,o,l],bytecode:l4}),...c},{data:d}=await fe(e,oc,"call")(u).catch(p=>{throw p instanceof Nh?new Up:p});if(Ky(d??"0x0"))return!0;throw new Up}async function xze(e,t){let{address:r,blockNumber:n,blockTag:s,hash:o,signature:i}=t;if((await fe(e,En,"readContract")({address:r,abi:DU,args:[o,i],blockNumber:n,blockTag:s,functionName:"isValidSignature"}).catch(c=>{throw c instanceof Rh?new Up:c})).startsWith("0x1626ba7e"))return!0;throw new Up}var Up,j4=m(()=>{nle();U4();fu();qw();mp();u4();zo();Aa();sl();cae();Fn();$o();un();De();jt();t0();xM();Y1();hL();ol();Up=class extends Error{}});async function sle(e,{address:t,message:r,factory:n,factoryData:s,signature:o,...i}){let a=D0(r);return fe(e,M0,"verifyHash")({address:t,factory:n,factoryData:s,hash:a,signature:o,...i})}var ole=m(()=>{jt();I4();j4()});async function ile(e,t){let{address:r,factory:n,factoryData:s,signature:o,message:i,primaryType:a,types:c,domain:l,...u}=t,d=fb({message:i,primaryType:a,types:c,domain:l});return fe(e,M0,"verifyHash")({address:r,factory:n,factoryData:s,hash:d,signature:o,...u})}var ale=m(()=>{jt();T4();j4()});function $_(e,{emitOnBegin:t=!1,emitMissed:r=!1,onBlockNumber:n,onError:s,poll:o,pollingInterval:i=e.pollingInterval}){let a=typeof o<"u"?o:!(e.transport.type==="webSocket"||e.transport.type==="ipc"||e.transport.type==="fallback"&&(e.transport.transports[0].config.type==="webSocket"||e.transport.transports[0].config.type==="ipc")),c;return a?(()=>{let d=Tt(["watchBlockNumber",e.uid,t,r,i]);return ao(d,{onBlockNumber:n,onError:s},p=>ic(async()=>{try{let f=await fe(e,hu,"getBlockNumber")({cacheTime:0});if(c!==void 0){if(f===c)return;if(f-c>1&&r)for(let h=c+1n;h<f;h++)p.onBlockNumber(h,c),c=h}(c===void 0||f>c)&&(p.onBlockNumber(f,c),c=f)}catch(f){p.onError?.(f)}},{emitOnBegin:t,interval:i}))})():(()=>{let d=Tt(["watchBlockNumber",e.uid,t,r]);return ao(d,{onBlockNumber:n,onError:s},p=>{let f=!0,h=()=>f=!1;return(async()=>{try{let g=(()=>{if(e.transport.type==="fallback"){let E=e.transport.transports.find(A=>A.config.type==="webSocket"||A.config.type==="ipc");return E?E.value:e.transport}return e.transport})(),{unsubscribe:y}=await g.subscribe({params:["newHeads"],onData(E){if(!f)return;let A=lt(E.result?.number);p.onBlockNumber(A,c),c=A},onError(E){p.onError?.(E)}});h=y,f||h()}catch(g){s?.(g)}})(),()=>h()})})()}var vM=m(()=>{un();jt();_0();Q1();Bs();Jw()});async function F_(e,t){let{checkReplacement:r=!0,confirmations:n=1,hash:s,onReplaced:o,retryCount:i=6,retryDelay:a=({count:C})=>~~(1<<C)*200,timeout:c=18e4}=t,l=Tt(["waitForTransactionReceipt",e.uid,s]),u=t.pollingInterval?t.pollingInterval:e.chain?.experimental_preconfirmationTime?e.chain.experimental_preconfirmationTime:e.pollingInterval,d,p,f,h=!1,g,y,{promise:E,resolve:A,reject:b}=Gw(),w=c?setTimeout(()=>{y?.(),g?.(),b(new dw({hash:s}))},c):void 0;return g=ao(l,{onReplaced:o,resolve:A,reject:b},async C=>{if(f=await fe(e,xb,"getTransactionReceipt")({hash:s}).catch(()=>{}),f&&n<=1){clearTimeout(w),C.resolve(f),g?.();return}y=fe(e,$_,"watchBlockNumber")({emitMissed:!0,emitOnBegin:!0,poll:!0,pollingInterval:u,async onBlockNumber(_){let B=k=>{clearTimeout(w),y?.(),k(),g?.()},U=_;if(!h)try{if(f){if(n>1&&(!f.blockNumber||U-f.blockNumber+1n<n))return;B(()=>C.resolve(f));return}if(r&&!d&&(h=!0,await Dp(async()=>{d=await fe(e,bb,"getTransaction")({hash:s}),d.blockNumber&&(U=d.blockNumber)},{delay:a,retryCount:i}),h=!1),f=await fe(e,xb,"getTransactionReceipt")({hash:s}),n>1&&(!f.blockNumber||U-f.blockNumber+1n<n))return;B(()=>C.resolve(f))}catch(k){if(k instanceof Th||k instanceof Ph){if(!d){h=!1;return}try{p=d,h=!0;let $=await Dp(()=>fe(e,gs,"getBlock")({blockNumber:U,includeTransactions:!0}),{delay:a,retryCount:i,shouldRetry:({error:S})=>S instanceof g0});h=!1;let P=$.transactions.find(({from:S,nonce:O})=>S===p.from&&O===p.nonce);if(!P||(f=await fe(e,xb,"getTransactionReceipt")({hash:P.hash}),n>1&&(!f.blockNumber||U-f.blockNumber+1n<n)))return;let I="replaced";P.to===p.to&&P.value===p.value&&P.input===p.input?I="repriced":P.from===P.to&&P.value===0n&&(I="cancelled"),B(()=>{C.onReplaced?.({reason:I,replacedTransaction:p,transaction:P,transactionReceipt:f}),C.resolve(f)})}catch($){B(()=>C.reject($))}}else B(()=>C.reject(k))}}})}),E}var EM=m(()=>{OS();qo();jt();_0();lI();w4();Bs();y0();B_();dM();vM()});function cle(e,{blockTag:t=e.experimental_blockTag??"latest",emitMissed:r=!1,emitOnBegin:n=!1,onBlock:s,onError:o,includeTransactions:i,poll:a,pollingInterval:c=e.pollingInterval}){let l=typeof a<"u"?a:!(e.transport.type==="webSocket"||e.transport.type==="ipc"||e.transport.type==="fallback"&&(e.transport.transports[0].config.type==="webSocket"||e.transport.transports[0].config.type==="ipc")),u=i??!1,d;return l?(()=>{let h=Tt(["watchBlocks",e.uid,t,r,n,u,c]);return ao(h,{onBlock:s,onError:o},g=>ic(async()=>{try{let y=await fe(e,gs,"getBlock")({blockTag:t,includeTransactions:u});if(y.number!==null&&d?.number!=null){if(y.number===d.number)return;if(y.number-d.number>1&&r)for(let E=d?.number+1n;E<y.number;E++){let A=await fe(e,gs,"getBlock")({blockNumber:E,includeTransactions:u});g.onBlock(A,d),d=A}}(d?.number==null||t==="pending"&&y?.number==null||y.number!==null&&y.number>d.number)&&(g.onBlock(y,d),d=y)}catch(y){g.onError?.(y)}},{emitOnBegin:n,interval:c}))})():(()=>{let h=!0,g=!0,y=()=>h=!1;return(async()=>{try{n&&fe(e,gs,"getBlock")({blockTag:t,includeTransactions:u}).then(b=>{h&&g&&(s(b,void 0),g=!1)}).catch(o);let E=(()=>{if(e.transport.type==="fallback"){let b=e.transport.transports.find(w=>w.config.type==="webSocket"||w.config.type==="ipc");return b?b.value:e.transport}return e.transport})(),{unsubscribe:A}=await E.subscribe({params:["newHeads"],async onData(b){if(!h)return;let w=await fe(e,gs,"getBlock")({blockNumber:b.result?.number,includeTransactions:u}).catch(()=>{});h&&(s(w,d),g=!1,d=w)},onError(b){o?.(b)}});y=A,h||y()}catch(E){o?.(E)}})(),()=>y()})()}var lle=m(()=>{jt();_0();Q1();Bs();y0()});function ule(e,{address:t,args:r,batch:n=!0,event:s,events:o,fromBlock:i,onError:a,onLogs:c,poll:l,pollingInterval:u=e.pollingInterval,strict:d}){let p=typeof l<"u"?l:typeof i=="bigint"?!0:!(e.transport.type==="webSocket"||e.transport.type==="ipc"||e.transport.type==="fallback"&&(e.transport.transports[0].config.type==="webSocket"||e.transport.transports[0].config.type==="ipc")),f=d??!1;return p?(()=>{let y=Tt(["watchEvent",t,r,n,e.uid,s,u,i]);return ao(y,{onLogs:c,onError:a},E=>{let A;i!==void 0&&(A=i-1n);let b,w=!1,C=ic(async()=>{if(!w){try{b=await fe(e,jI,"createEventFilter")({address:t,args:r,event:s,events:o,strict:f,fromBlock:i})}catch{}w=!0;return}try{let _;if(b)_=await fe(e,T0,"getFilterChanges")({filter:b});else{let B=await fe(e,hu,"getBlockNumber")({});A&&A!==B?_=await fe(e,Bw,"getLogs")({address:t,args:r,event:s,events:o,fromBlock:A+1n,toBlock:B}):_=[],A=B}if(_.length===0)return;if(n)E.onLogs(_);else for(let B of _)E.onLogs([B])}catch(_){b&&_ instanceof Ti&&(w=!1),E.onError?.(_)}},{emitOnBegin:!0,interval:u});return async()=>{b&&await fe(e,P0,"uninstallFilter")({filter:b}),C()}})})():(()=>{let y=!0,E=()=>y=!1;return(async()=>{try{let A=(()=>{if(e.transport.type==="fallback"){let _=e.transport.transports.find(B=>B.config.type==="webSocket"||B.config.type==="ipc");return _?_.value:e.transport}return e.transport})(),b=o??(s?[s]:void 0),w=[];b&&(w=[b.flatMap(B=>Xa({abi:[B],eventName:B.name,args:r}))],s&&(w=w[0]));let{unsubscribe:C}=await A.subscribe({params:["logs",{address:t,topics:w}],onData(_){if(!y)return;let B=_.result;try{let{eventName:U,args:k}=Sp({abi:b??[],data:B.data,topics:B.topics,strict:f}),$=ys(B,{args:k,eventName:U});c([$])}catch(U){let k,$;if(U instanceof Kc||U instanceof Yl){if(d)return;k=U.abiItem.name,$=U.abiItem.inputs?.some(I=>!("name"in I&&I.name))}let P=ys(B,{args:$?[]:{},eventName:k});c([P])}},onError(_){a?.(_)}});E=C,y||E()}catch(A){a?.(A)}})(),()=>E()})()}var dle=m(()=>{Xr();Yh();r4();M1();Ip();jt();_0();Q1();Bs();pL();Jw();h4();KS();m4()});function ple(e,{batch:t=!0,onError:r,onTransactions:n,poll:s,pollingInterval:o=e.pollingInterval}){return(typeof s<"u"?s:e.transport.type!=="webSocket"&&e.transport.type!=="ipc")?(()=>{let l=Tt(["watchPendingTransactions",e.uid,t,o]);return ao(l,{onTransactions:n,onError:r},u=>{let d,p=ic(async()=>{try{if(!d)try{d=await fe(e,zI,"createPendingTransactionFilter")({});return}catch(h){throw p(),h}let f=await fe(e,T0,"getFilterChanges")({filter:d});if(f.length===0)return;if(t)u.onTransactions(f);else for(let h of f)u.onTransactions([h])}catch(f){u.onError?.(f)}},{emitOnBegin:!0,interval:o});return async()=>{d&&await fe(e,P0,"uninstallFilter")({filter:d}),p()}})})():(()=>{let l=!0,u=()=>l=!1;return(async()=>{try{let{unsubscribe:d}=await e.transport.subscribe({params:["newPendingTransactions"],onData(p){if(!l)return;let f=p.result;n([f])},onError(p){r?.(p)}});u=d,l||u()}catch(d){r?.(d)}})(),()=>u()})()}var fle=m(()=>{jt();_0();Q1();Bs();fL();h4();m4()});function hle(e){let{scheme:t,statement:r,...n}=e.match(vze)?.groups??{},{chainId:s,expirationTime:o,issuedAt:i,notBefore:a,requestId:c,...l}=e.match(Eze)?.groups??{},u=e.split("Resources:")[1]?.split(`
- `).slice(1);return{...n,...l,...s?{chainId:Number(s)}:{},...o?{expirationTime:new Date(o)}:{},...i?{issuedAt:new Date(i)}:{},...a?{notBefore:new Date(a)}:{},...c?{requestId:c}:{},...u?{resources:u}:{},...t?{scheme:t}:{},...r?{statement:r}:{}}}var vze,Eze,mle=m(()=>{vze=/^(?:(?<scheme>[a-zA-Z][a-zA-Z0-9+-.]*):\/\/)?(?<domain>[a-zA-Z0-9+-.]*(?::[0-9]{1,5})?) (?:wants you to sign in with your Ethereum account:\n)(?<address>0x[a-fA-F0-9]{40})\n\n(?:(?<statement>.*)\n\n)?/,Eze=/(?:URI: (?<uri>.+))\n(?:Version: (?<version>.+))\n(?:Chain ID: (?<chainId>\d+))\n(?:Nonce: (?<nonce>[a-zA-Z0-9]+))\n(?:Issued At: (?<issuedAt>.+))(?:\nExpiration Time: (?<expirationTime>.+))?(?:\nNot Before: (?<notBefore>.+))?(?:\nRequest ID: (?<requestId>.+))?/});function gle(e){let{address:t,domain:r,message:n,nonce:s,scheme:o,time:i=new Date}=e;if(r&&n.domain!==r||s&&n.nonce!==s||o&&n.scheme!==o||n.expirationTime&&i>=n.expirationTime||n.notBefore&&i<n.notBefore)return!1;try{if(!n.address||!Vt(n.address,{strict:!1})||t&&!vn(n.address,t))return!1}catch{return!1}return!0}var yle=m(()=>{Ii();sl()});async function wle(e,t){let{address:r,domain:n,message:s,nonce:o,scheme:i,signature:a,time:c=new Date,...l}=t,u=hle(s);if(!u.address||!gle({address:r,domain:n,message:u,nonce:o,scheme:i,time:c}))return!1;let p=D0(s);return M0(e,{address:u.address,hash:p,signature:a,...l})}var ble=m(()=>{I4();mle();yle();j4()});async function Eb(e,{serializedTransaction:t,throwOnReceiptRevert:r,timeout:n}){let s=await e.request({method:"eth_sendRawTransactionSync",params:n?[t,J(n)]:[t]},{retryCount:0}),i=(e.chain?.formatters?.transactionReceipt?.format||X1)(s);if(i.status==="reverted"&&r)throw new uw({receipt:i});return i}var j_=m(()=>{qo();b4();k_()});function z_(e){return{call:t=>oc(e,t),createAccessList:t=>FI(e,t),createBlockFilter:()=>Lie(e),createContractEventFilter:t=>Yy(e,t),createEventFilter:t=>jI(e,t),createPendingTransactionFilter:()=>zI(e),estimateContractGas:t=>WS(e,t),estimateGas:t=>kw(e,t),getBalance:t=>Hie(e,t),getBlobBaseFee:()=>Fie(e),getBlock:t=>gs(e,t),getBlockNumber:t=>hu(e,t),getBlockTransactionCount:t=>zie(e,t),getBytecode:t=>E4(e,t),getChainId:()=>io(e),getCode:t=>E4(e,t),getContractEvents:t=>Dw(e,t),getEip712Domain:t=>Wie(e,t),getEnsAddress:t=>Eie(e,t),getEnsAvatar:t=>Rie(e,t),getEnsName:t=>kie(e,t),getEnsResolver:t=>Die(e,t),getEnsText:t=>$I(e,t),getFeeHistory:t=>Yie(e,t),estimateFeesPerGas:t=>Roe(e,t),getFilterChanges:t=>T0(e,t),getFilterLogs:t=>Qie(e,t),getGasPrice:()=>Iw(e),getLogs:t=>Bw(e,t),getProof:t=>Lce(e,t),estimateMaxPriorityFeePerGas:t=>Noe(e,t),fillTransaction:t=>Rw(e,t),getStorageAt:t=>Hce(e,t),getTransaction:t=>bb(e,t),getTransactionConfirmations:t=>Fce(e,t),getTransactionCount:t=>w0(e,t),getTransactionReceipt:t=>xb(e,t),multicall:t=>zce(e,t),prepareTransactionRequest:t=>lu(e,t),readContract:t=>En(e,t),sendRawTransaction:t=>Qw(e,t),sendRawTransactionSync:t=>Eb(e,t),simulate:t=>M4(e,t),simulateBlocks:t=>M4(e,t),simulateCalls:t=>Xce(e,t),simulateContract:t=>yI(e,t),verifyHash:t=>M0(e,t),verifyMessage:t=>sle(e,t),verifySiweMessage:t=>wle(e,t),verifyTypedData:t=>ile(e,t),uninstallFilter:t=>P0(e,t),waitForTransactionReceipt:t=>F_(e,t),watchBlocks:t=>cle(e,t),watchBlockNumber:t=>$_(e,t),watchContractEvent:t=>xI(e,t),watchEvent:t=>ule(e,t),watchPendingTransactions:t=>ple(e,t)}}var AM=m(()=>{Aie();Oie();Bie();Uie();uL();Y1();dL();Mie();fS();pL();fL();EU();yU();qS();gU();VS();$ie();jie();y0();Jw();Vie();Cp();hL();ZS();Kie();Jie();h4();Xie();BS();KS();Mce();$ce();B_();jce();Yx();dM();Vce();ol();pM();ele();ZU();m4();j4();ole();ale();EM();vM();lle();JU();dle();fle();ble();Ow();vI();j_()});function xle(e){let{key:t="public",name:r="Public Client"}=e;return O0({...e,key:t,name:r,type:"publicClient"}).extend(z_)}var vle=m(()=>{v4();AM()});async function Ele(e,{hash:t}){await e.request({method:`${e.mode}_dropTransaction`,params:[t]})}var Ale=m(()=>{});async function Cle(e){return e.request({method:`${e.mode}_dumpState`})}var Sle=m(()=>{});async function Ile(e){return e.mode==="ganache"?await e.request({method:"eth_mining"}):await e.request({method:`${e.mode}_getAutomine`})}var _le=m(()=>{});async function Tle(e){return await e.request({method:"txpool_content"})}var Ple=m(()=>{});async function Nle(e){let{pending:t,queued:r}=await e.request({method:"txpool_status"});return{pending:ft(t),queued:ft(r)}}var Rle=m(()=>{un()});async function Ole(e,{address:t}){await e.request({method:`${e.mode}_impersonateAccount`,params:[t]})}var kle=m(()=>{});async function Ble(e,{seconds:t}){return await e.request({method:"evm_increaseTime",params:[J(t)]})}var Dle=m(()=>{De()});async function Ule(e){return await e.request({method:"txpool_inspect"})}var Lle=m(()=>{});async function Mle(e,{state:t}){await e.request({method:`${e.mode}_loadState`,params:[t]})}var Hle=m(()=>{});async function $le(e,{blocks:t,interval:r}){e.mode==="ganache"?await e.request({method:"evm_mine",params:[{blocks:J(t)}]}):await e.request({method:`${e.mode}_mine`,params:[J(t),J(r||0)]})}var Fle=m(()=>{De()});async function jle(e){await e.request({method:`${e.mode}_removeBlockTimestampInterval`})}var zle=m(()=>{});async function Vle(e,{blockNumber:t,jsonRpcUrl:r}={}){await e.request({method:`${e.mode}_reset`,params:[{forking:{blockNumber:Number(t),jsonRpcUrl:r}}]})}var qle=m(()=>{});async function Wle(e,{id:t}){await e.request({method:"evm_revert",params:[t]})}var Kle=m(()=>{});async function Zle(e,t){let{accessList:r,data:n,from:s,gas:o,gasPrice:i,maxFeePerGas:a,maxPriorityFeePerGas:c,nonce:l,to:u,value:d,...p}=t,f=e.chain?.formatters?.transactionRequest?.format,g=(f||Rn)({...ki(p,{format:f}),accessList:r,data:n,from:s,gas:o,gasPrice:i,maxFeePerGas:a,maxPriorityFeePerGas:c,nonce:l,to:u,value:d},"sendUnsignedTransaction");return await e.request({method:"eth_sendUnsignedTransaction",params:[g]})}var Gle=m(()=>{p0();rl()});async function Yle(e,t){e.mode==="ganache"?t?await e.request({method:"miner_start"}):await e.request({method:"miner_stop"}):await e.request({method:"evm_setAutomine",params:[t]})}var Jle=m(()=>{});async function Qle(e,{address:t,value:r}){e.mode==="ganache"?await e.request({method:"evm_setAccountBalance",params:[t,J(r)]}):await e.request({method:`${e.mode}_setBalance`,params:[t,J(r)]})}var Xle=m(()=>{De()});async function eue(e,{gasLimit:t}){await e.request({method:"evm_setBlockGasLimit",params:[J(t)]})}var tue=m(()=>{De()});async function rue(e,{interval:t}){let r=e.mode==="hardhat"?t*1e3:t;await e.request({method:`${e.mode}_setBlockTimestampInterval`,params:[r]})}var nue=m(()=>{});async function sue(e,{address:t,bytecode:r}){e.mode==="ganache"?await e.request({method:"evm_setAccountCode",params:[t,r]}):await e.request({method:`${e.mode}_setCode`,params:[t,r]})}var oue=m(()=>{});async function iue(e,{address:t}){await e.request({method:`${e.mode}_setCoinbase`,params:[t]})}var aue=m(()=>{});async function cue(e,{interval:t}){let r=e.mode==="hardhat"?t*1e3:t;await e.request({method:"evm_setIntervalMining",params:[r]})}var lue=m(()=>{});async function uue(e,t){await e.request({method:`${e.mode}_setLoggingEnabled`,params:[t]})}var due=m(()=>{});async function pue(e,{gasPrice:t}){await e.request({method:`${e.mode}_setMinGasPrice`,params:[J(t)]})}var fue=m(()=>{De()});async function hue(e,{baseFeePerGas:t}){await e.request({method:`${e.mode}_setNextBlockBaseFeePerGas`,params:[J(t)]})}var mue=m(()=>{De()});async function gue(e,{timestamp:t}){await e.request({method:"evm_setNextBlockTimestamp",params:[J(t)]})}var yue=m(()=>{De()});async function wue(e,{address:t,nonce:r}){await e.request({method:`${e.mode}_setNonce`,params:[t,J(r)]})}var bue=m(()=>{De()});async function xue(e,t){await e.request({method:`${e.mode}_setRpcUrl`,params:[t]})}var vue=m(()=>{});async function Eue(e,{address:t,index:r,value:n}){await e.request({method:`${e.mode}_setStorageAt`,params:[t,typeof r=="number"?J(r):r,n]})}var Aue=m(()=>{De()});async function Cue(e){return await e.request({method:"evm_snapshot"})}var Sue=m(()=>{});async function Iue(e,{address:t}){await e.request({method:`${e.mode}_stopImpersonatingAccount`,params:[t]})}var _ue=m(()=>{});function V_({mode:e}){return t=>{let r=t.extend(()=>({mode:e}));return{dropTransaction:n=>Ele(r,n),dumpState:()=>Cle(r),getAutomine:()=>Ile(r),getTxpoolContent:()=>Tle(r),getTxpoolStatus:()=>Nle(r),impersonateAccount:n=>Ole(r,n),increaseTime:n=>Ble(r,n),inspectTxpool:()=>Ule(r),loadState:n=>Mle(r,n),mine:n=>$le(r,n),removeBlockTimestampInterval:()=>jle(r),reset:n=>Vle(r,n),revert:n=>Wle(r,n),sendUnsignedTransaction:n=>Zle(r,n),setAutomine:n=>Yle(r,n),setBalance:n=>Qle(r,n),setBlockGasLimit:n=>eue(r,n),setBlockTimestampInterval:n=>rue(r,n),setCode:n=>sue(r,n),setCoinbase:n=>iue(r,n),setIntervalMining:n=>cue(r,n),setLoggingEnabled:n=>uue(r,n),setMinGasPrice:n=>pue(r,n),setNextBlockBaseFeePerGas:n=>hue(r,n),setNextBlockTimestamp:n=>gue(r,n),setNonce:n=>wue(r,n),setRpcUrl:n=>xue(r,n),setStorageAt:n=>Eue(r,n),snapshot:()=>Cue(r),stopImpersonatingAccount:n=>Iue(r,n)}}}var CM=m(()=>{Ale();Sle();_le();Ple();Rle();kle();Dle();Lle();Hle();Fle();zle();qle();Kle();Gle();Jle();Xle();tue();nue();oue();aue();lue();due();fue();mue();yue();bue();vue();Aue();Sue();_ue()});function Tue(e){let{key:t="test",name:r="Test Client",mode:n}=e;return O0({...e,key:t,name:r,type:"testClient"}).extend(o=>({mode:n,...V_({mode:n})(o)}))}var Pue=m(()=>{v4();CM()});async function Nue(e,{chain:t}){let{id:r,name:n,nativeCurrency:s,rpcUrls:o,blockExplorers:i}=t;await e.request({method:"wallet_addEthereumChain",params:[{chainId:J(r),chainName:n,nativeCurrency:s,rpcUrls:o.default.http,blockExplorerUrls:i?Object.values(i).map(({url:a})=>a):void 0}]},{dedupe:!0,retryCount:0})}var Rue=m(()=>{De()});function Oue(e,t){let{abi:r,args:n,bytecode:s,...o}=t,i=Rp({abi:r,args:n,bytecode:s});return R0(e,{...o,...o.authorizationList?{to:null}:{},data:i})}var kue=m(()=>{u4();y4()});async function Bue(e){return e.account?.type==="local"?[e.account.address]:(await e.request({method:"eth_accounts"},{dedupe:!0})).map(r=>Gc(r))}var Due=m(()=>{Aa()});async function Uue(e,t={}){let{account:r=e.account,chainId:n}=t,s=r?mt(r):void 0,o=n?[s?.address,[J(n)]]:[s?.address],i=await e.request({method:"wallet_getCapabilities",params:o}),a={};for(let[c,l]of Object.entries(i)){a[Number(c)]={};for(let[u,d]of Object.entries(l))u==="addSubAccount"&&(u="unstable_addSubAccount"),a[Number(c)][u]=d}return typeof n=="number"?a[n]:a}var Lue=m(()=>{fn();De()});async function Mue(e){return await e.request({method:"wallet_getPermissions"},{dedupe:!0})}var Hue=m(()=>{});async function q_(e,t){let{account:r=e.account,chainId:n,nonce:s}=t;if(!r)throw new xs({docsPath:"/docs/eip7702/prepareAuthorization"});let o=mt(r),i=(()=>{if(t.executor)return t.executor==="self"?t.executor:mt(t.executor)})(),a={address:t.contractAddress??t.address,chainId:n,nonce:s};return typeof a.chainId>"u"&&(a.chainId=e.chain?.id??await fe(e,io,"getChainId")({})),typeof a.nonce>"u"&&(a.nonce=await fe(e,w0,"getTransactionCount")({address:o.address,blockTag:"pending"}),(i==="self"||i?.address&&vn(i.address,o.address))&&(a.nonce+=1)),a}var SM=m(()=>{fn();kp();sl();jt();Cp();Yx()});async function $ue(e){return(await e.request({method:"eth_requestAccounts"},{dedupe:!0,retryCount:0})).map(r=>rs(r))}var Fue=m(()=>{Aa()});async function jue(e,t){return e.request({method:"wallet_requestPermissions",params:[t]},{retryCount:0})}var zue=m(()=>{});async function Vue(e,t){let{chain:r=e.chain}=t,n=t.timeout??Math.max((r?.blockTime??0)*3,5e3),s=await fe(e,CI,"sendCalls")(t);return await fe(e,_I,"waitForCallsStatus")({...t,id:s.id,timeout:n})}var que=m(()=>{jt();SI();TI()});async function W_(e,t){let{account:r=e.account,assertChainId:n=!0,chain:s=e.chain,accessList:o,authorizationList:i,blobs:a,data:c,dataSuffix:l=typeof e.dataSuffix=="string"?e.dataSuffix:e.dataSuffix?.value,gas:u,gasPrice:d,maxFeePerBlobGas:p,maxFeePerGas:f,maxPriorityFeePerGas:h,nonce:g,pollingInterval:y,throwOnReceiptRevert:E,type:A,value:b,...w}=t,C=t.timeout??Math.max((s?.blockTime??0)*3,5e3);if(typeof r>"u")throw new xs({docsPath:"/docs/actions/wallet/sendTransactionSync"});let _=r?mt(r):null;try{zn(t);let B=await(async()=>{if(t.to)return t.to;if(t.to!==null&&i&&i.length>0)return await r0({authorization:i[0]}).catch(()=>{throw new Z("`to` is required. Could not infer from `authorizationList`.")})})();if(_?.type==="json-rpc"||_===null){let U;s!==null&&(U=await fe(e,io,"getChainId")({}),n&&N0({currentChainId:U,chain:s}));let k=e.chain?.formatters?.transactionRequest?.format,P=(k||Rn)({...ki(w,{format:k}),accessList:o,account:_,authorizationList:i,blobs:a,chainId:U,data:c&&hr([c,l??"0x"]),gas:u,gasPrice:d,maxFeePerBlobGas:p,maxFeePerGas:f,maxPriorityFeePerGas:h,nonce:g,to:B,type:A,value:b},"sendTransaction"),I=IM.get(e.uid),S=I?"wallet_sendTransaction":"eth_sendTransaction",O=await(async()=>{try{return await e.request({method:S,params:[P]},{retryCount:0})}catch(v){if(I===!1)throw v;let N=v;if(N.name==="InvalidInputRpcError"||N.name==="InvalidParamsRpcError"||N.name==="MethodNotFoundRpcError"||N.name==="MethodNotSupportedRpcError")return await e.request({method:"wallet_sendTransaction",params:[P]},{retryCount:0}).then(D=>(IM.set(e.uid,!0),D)).catch(D=>{let T=D;throw T.name==="MethodNotFoundRpcError"||T.name==="MethodNotSupportedRpcError"?(IM.set(e.uid,!1),N):T});throw N}})(),x=await fe(e,F_,"waitForTransactionReceipt")({checkReplacement:!1,hash:O,pollingInterval:y,timeout:C});if(E&&x.status==="reverted")throw new uw({receipt:x});return x}if(_?.type==="local"){let U=await fe(e,lu,"prepareTransactionRequest")({account:_,accessList:o,authorizationList:i,blobs:a,chain:s,data:c&&hr([c,l??"0x"]),gas:u,gasPrice:d,maxFeePerBlobGas:p,maxFeePerGas:f,maxPriorityFeePerGas:h,nonce:g,nonceManager:_.nonceManager,parameters:[...t4,"sidecars"],type:A,value:b,...w,to:B}),k=s?.serializers?.transaction,$=await _.signTransaction(U,{serializer:k});return await fe(e,Eb,"sendRawTransactionSync")({serializedTransaction:$,throwOnReceiptRevert:E,timeout:t.timeout})}throw _?.type==="smart"?new ac({metaMessages:["Consider using the `sendUserOperation` Action instead."],docsPath:"/docs/actions/bundler/sendUserOperation",type:"smart"}):new ac({docsPath:"/docs/actions/wallet/sendTransactionSync",type:_?.type})}catch(B){throw B instanceof ac?B:E0(B,{...t,account:_,chain:t.chain||void 0})}}var IM,_M=m(()=>{fn();kp();yt();qo();Wx();g4();Fn();e4();p0();rl();jt();Ah();nl();Cp();EM();Ow();j_();IM=new ro(128)});async function Wue(e,t){let{id:r}=t;await e.request({method:"wallet_showCallsStatus",params:[r]})}var Kue=m(()=>{});async function Zue(e,t){let{account:r=e.account}=t;if(!r)throw new xs({docsPath:"/docs/eip7702/signAuthorization"});let n=mt(r);if(!n.signAuthorization)throw new ac({docsPath:"/docs/eip7702/signAuthorization",metaMessages:["The `signAuthorization` Action does not support JSON-RPC Accounts."],type:n.type});let s=await q_(e,t);return n.signAuthorization(s)}var Gue=m(()=>{fn();kp();SM()});async function Yue(e,{account:t=e.account,message:r}){if(!t)throw new xs({docsPath:"/docs/actions/wallet/signMessage"});let n=mt(t);if(n.signMessage)return n.signMessage({message:r});let s=typeof r=="string"?jo(r):r.raw instanceof Uint8Array?vr(r.raw):r.raw;return e.request({method:"personal_sign",params:[s,n.address]},{retryCount:0})}var Jue=m(()=>{fn();kp();De()});async function Que(e,t){let{account:r=e.account,chain:n=e.chain,...s}=t;if(!r)throw new xs({docsPath:"/docs/actions/wallet/signTransaction"});let o=mt(r);zn({account:o,...t});let i=await fe(e,io,"getChainId")({});n!==null&&N0({currentChainId:i,chain:n});let c=(n?.formatters||e.chain?.formatters)?.transactionRequest?.format||Rn;return o.signTransaction?o.signTransaction({...s,chainId:i},{serializer:e.chain?.serializers?.transaction}):await e.request({method:"eth_signTransaction",params:[{...c({...s,account:o},"signTransaction"),chainId:J(i),from:o.address}]},{retryCount:0})}var Xue=m(()=>{fn();kp();g4();De();rl();jt();nl();Cp()});async function ede(e,t){let{account:r=e.account,domain:n,message:s,primaryType:o}=t;if(!r)throw new xs({docsPath:"/docs/actions/wallet/signTypedData"});let i=mt(r),a={EIP712Domain:rg({domain:n}),...t.types};if(pb({domain:n,message:s,primaryType:o,types:a}),i.signTypedData)return i.signTypedData({domain:n,message:s,primaryType:o,types:a});let c=t_({domain:n,message:s,primaryType:o,types:a});return e.request({method:"eth_signTypedData_v4",params:[i.address,c]},{retryCount:0})}var tde=m(()=>{fn();kp();r_()});async function rde(e,{id:t}){await e.request({method:"wallet_switchEthereumChain",params:[{chainId:J(t)}]},{retryCount:0})}var nde=m(()=>{De()});async function sde(e,t){return await e.request({method:"wallet_watchAsset",params:t},{retryCount:0})}var ode=m(()=>{});async function ide(e,t){return Bp.internal(e,W_,"sendTransactionSync",t)}var ade=m(()=>{_M();EI()});function K_(e){return{addChain:t=>Nue(e,t),deployContract:t=>Oue(e,t),fillTransaction:t=>Rw(e,t),getAddresses:()=>Bue(e),getCallsStatus:t=>II(e,t),getCapabilities:t=>Uue(e,t),getChainId:()=>io(e),getPermissions:()=>Mue(e),prepareAuthorization:t=>q_(e,t),prepareTransactionRequest:t=>lu(e,t),requestAddresses:()=>$ue(e),requestPermissions:t=>jue(e,t),sendCalls:t=>CI(e,t),sendCallsSync:t=>Vue(e,t),sendRawTransaction:t=>Qw(e,t),sendRawTransactionSync:t=>Eb(e,t),sendTransaction:t=>R0(e,t),sendTransactionSync:t=>W_(e,t),showCallsStatus:t=>Wue(e,t),signAuthorization:t=>Zue(e,t),signMessage:t=>Yue(e,t),signTransaction:t=>Que(e,t),signTypedData:t=>ede(e,t),switchChain:t=>rde(e,t),waitForCallsStatus:t=>_I(e,t),watchAsset:t=>sde(e,t),writeContract:t=>Bp(e,t),writeContractSync:t=>ide(e,t)}}var TM=m(()=>{VS();Cp();Rue();kue();Due();sL();Lue();Hue();SM();Ow();Fue();zue();SI();que();vI();j_();y4();_M();Kue();Gue();Jue();Xue();tde();nde();TI();ode();EI();ade()});function cde(e){let{key:t="wallet",name:r="Wallet Client",transport:n}=e;return O0({...e,key:t,name:r,transport:n,type:"walletClient"}).extend(K_)}var lde=m(()=>{v4();TM()});function gu({key:e,methods:t,name:r,request:n,retryCount:s=3,retryDelay:o=150,timeout:i,type:a},c){let l=RI();return{config:{key:e,methods:t,name:r,request:n,retryCount:s,retryDelay:o,timeout:i,type:a},request:dae(n,{methods:t,retryCount:s,retryDelay:o,uid:l}),value:c}}var Ab=m(()=>{pae();oL()});function ude(e,t={}){let{key:r="custom",methods:n,name:s="Custom Provider",retryDelay:o}=t;return({retryCount:i})=>gu({key:r,methods:n,name:s,request:e.request.bind(e),retryCount:t.retryCount??i,retryDelay:o,type:"custom"})}var dde=m(()=>{Ab()});function z4(e,t={}){let{key:r="fallback",name:n="Fallback",rank:s=!1,shouldThrow:o=PM,retryCount:i,retryDelay:a}=t;return(({chain:c,pollingInterval:l=4e3,timeout:u,...d})=>{let p=e,f=()=>{},h=gu({key:r,name:n,async request({method:g,params:y}){let E,A=async(b=0)=>{let w=p[b]({...d,chain:c,retryCount:0,timeout:u});try{let C=await w.request({method:g,params:y});return f({method:g,params:y,response:C,transport:w,status:"success"}),C}catch(C){if(f({error:C,method:g,params:y,transport:w,status:"error"}),o(C)||b===p.length-1||(E??(E=p.slice(b+1).some(_=>{let{include:B,exclude:U}=_({chain:c}).config.methods||{};return B?B.includes(g):U?!U.includes(g):!0})),!E))throw C;return A(b+1)}};return A()},retryCount:i,retryDelay:a,type:"fallback"},{onResponse:g=>f=g,transports:p.map(g=>g({chain:c,retryCount:0}))});if(s){let g=typeof s=="object"?s:{};Aze({chain:c,interval:g.interval??l,onTransports:y=>p=y,ping:g.ping,sampleCount:g.sampleCount,timeout:g.timeout,transports:p,weights:g.weights})}return h})}function PM(e){return!!("code"in e&&typeof e.code=="number"&&(e.code===ru.code||e.code===el.code||e.code===Gh.code||_a.nodeMessage.test(e.message)||e.code===5e3))}function Aze({chain:e,interval:t=4e3,onTransports:r,ping:n,sampleCount:s=10,timeout:o=1e3,transports:i,weights:a={}}){let{stability:c=.7,latency:l=.3}=a,u=[],d=async()=>{let p=await Promise.all(i.map(async g=>{let y=g({chain:e,retryCount:0,timeout:o}),E=Date.now(),A,b;try{await(n?n({transport:y}):y.request({method:"net_listening"})),b=1}catch{b=0}finally{A=Date.now()}return{latency:A-E,success:b}}));u.push(p),u.length>s&&u.shift();let f=Math.max(...u.map(g=>Math.max(...g.map(({latency:y})=>y)))),h=i.map((g,y)=>{let E=u.map(_=>_[y].latency),b=1-E.reduce((_,B)=>_+B,0)/E.length/f,w=u.map(_=>_[y].success),C=w.reduce((_,B)=>_+B,0)/w.length;return C===0?[0,y]:[l*b+c*C,y]}).sort((g,y)=>y[0]-g[0]);r(h.map(([,g])=>i[g])),await J1(t),d()};d()}var pde=m(()=>{au();Yh();wI();Ab()});var H0,Z_=m(()=>{yt();H0=class extends Z{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro",name:"UrlRequiredError"})}}});function ag(e,t={}){let{batch:r,fetchFn:n,fetchOptions:s,key:o="http",methods:i,name:a="HTTP JSON-RPC",onFetchRequest:c,onFetchResponse:l,retryDelay:u,raw:d}=t;return({chain:p,retryCount:f,timeout:h})=>{let{batchSize:g=1e3,wait:y=0}=typeof r=="object"?r:{},E=t.retryCount??f,A=h??t.timeout??1e4,b=e||p?.rpcUrls.default.http[0];if(!b)throw new H0;let w=Tae(b,{fetchFn:n,fetchOptions:s,onRequest:c,onResponse:l,timeout:A});return gu({key:o,methods:i,name:a,async request({method:C,params:_}){let B={method:C,params:_},{schedule:U}=Yw({id:b,wait:y,shouldSplitBatch(I){return I.length>g},fn:I=>w.request({body:I}),sort:(I,S)=>I.id-S.id}),k=async I=>r?U(I):[await w.request({body:I})],[{error:$,result:P}]=await k(B);if(d)return{error:$,result:P};if($)throw new tc({body:B,error:$,url:b});return P},retryCount:E,retryDelay:u,timeout:A,type:"http"},{fetchOptions:s,url:b})}}var fde=m(()=>{Qc();Z_();uI();Pae();Ab()});function hde(e,t={}){let{keepAlive:r,key:n="webSocket",methods:s,name:o="WebSocket JSON-RPC",reconnect:i,retryDelay:a}=t;return({chain:c,retryCount:l,timeout:u})=>{let d=t.retryCount??l,p=u??t.timeout??1e4,f=e||c?.rpcUrls.default.webSocket?.[0],h={keepAlive:r,reconnect:i};if(!f)throw new H0;return gu({key:n,methods:s,name:o,async request({method:g,params:y}){let E={method:g,params:y},A=await cb(f,h),{error:b,result:w}=await A.requestAsync({body:E,timeout:p});if(b)throw new tc({body:E,error:b,url:f});return w},retryCount:d,retryDelay:a,timeout:p,type:"webSocket"},{getSocket(){return Uae(f)},getRpcClient(){return cb(f,h)},async subscribe({params:g,onData:y,onError:E}){let A=await cb(f,h),{result:b}=await new Promise((w,C)=>A.request({body:{method:"eth_subscribe",params:g},onError(_){C(_),E?.(_)},onResponse(_){if(_.error){C(_.error),E?.(_.error);return}if(typeof _.id=="number"){w(_);return}_.method==="eth_subscription"&&y(_.params)}}));return{subscriptionId:b,async unsubscribe(){return new Promise(w=>A.request({body:{method:"eth_unsubscribe",params:[b]},onResponse:w}))}}}})}}var mde=m(()=>{Qc();Z_();Lae();CL();Ab()});var G_,gde=m(()=>{G_=class extends Error{constructor(t,r){super(r),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=t,this.details=r}}});function yde(e){let{abi:t,bytecode:r,data:n}=e;if(n===r)return{bytecode:r};let s=t.find(i=>"type"in i&&i.type==="constructor");if(!s)throw new hh({docsPath:NM});if(!("inputs"in s))throw new Gl({docsPath:NM});if(!s.inputs||s.inputs.length===0)throw new Gl({docsPath:NM});return{args:Vo(s.inputs,`0x${n.replace(r,"")}`),bytecode:r}}var NM,wde=m(()=>{Xr();Sh();NM="/docs/contract/decodeDeployData"});function bde(e){let t=e.to??(typeof e.blobs[0]=="string"?"hex":"bytes"),r=typeof e.blobs[0]=="string"?e.blobs.map(a=>Gt(a)):e.blobs,n=r.reduce((a,c)=>a+c.length,0),s=Jc(new Uint8Array(n)),o=!0;for(let a of r){let c=Jc(a);for(;o&&c.position<a.length;){c.incrementPosition(1);let l=31;a.length-c.position<31&&(l=a.length-c.position);for(let u in Array.from({length:l})){let d=c.readByte();if(d===128&&!c.inspectBytes(c.remaining).includes(128)){o=!1;break}s.pushByte(d)}}}let i=s.bytes.slice(0,s.position);return t==="hex"?ht(i):i}var xde=m(()=>{Qy();Or();De()});function vde(e){let{sidecars:t,version:r}=e,n=e.to??(typeof t[0].blob=="string"?"hex":"bytes"),s=[];for(let{commitment:o}of t)s.push(_w({commitment:o,to:n,version:r}));return s}var Ede=m(()=>{LS()});function Ade(e){if(e===1)return 60n;if(e>=Cze||e<0)throw new nb({chainId:e});return BigInt((2147483648|e)>>>0)}var Cze,Cde=m(()=>{MI();Cze=2147483648});function Y_({blobToKzgCommitment:e,computeBlobKzgProof:t}){return{blobToKzgCommitment:e,computeBlobKzgProof:t}}var RM=m(()=>{});function Sde(e,t){try{e.loadTrustedSetup(t)}catch(r){let n=r;if(!n.message.includes("trusted setup is already loaded"))throw n}return Y_(e)}var Ide=m(()=>{RM()});function _de({r:e,yParityAndS:t}){let r=Gt(t),n=r[0]&128?1:0,s=r;return n===1&&(s[0]&=127),{r:e,s:ht(s),yParity:n}}var Tde=m(()=>{Or();De()});function OM(e){let{r:t,s:r}=Go.Signature.fromCompact(e.slice(2,130));return{r:J(t,{size:32}),yParityAndS:J(r,{size:32})}}var Pde=m(()=>{q1();De()});function kM(e){let{r:t,s:r}=Go.Signature.fromCompact(e.slice(2,130)),n=+`0x${e.slice(130)}`,[s,o]=(()=>{if(n===0||n===1)return[void 0,n];if(n===27)return[BigInt(n),0];if(n===28)return[BigInt(n),1];throw new Error("Invalid yParityOrV value")})();return typeof s<"u"?{r:J(t,{size:32}),s:J(r,{size:32}),v:s,yParity:o}:{r:J(t,{size:32}),s:J(r,{size:32}),yParity:o}}var Nde=m(()=>{q1();De()});async function Rde(e){let{serializedTransaction:t,signature:r}=e,n=P_(t),s=r??{r:n.r,s:n.s,v:n.v,yParity:n.yParity},o=ZI({...n,r:void 0,s:void 0,v:void 0,yParity:void 0,sidecars:void 0});return await Ni({hash:zt(o),signature:s})}var Ode=m(()=>{Si();lM();GI();t0()});function BM({r:e,yParityAndS:t}){return`0x${new Go.Signature(lt(e),lt(t)).toCompactHex()}`}var kde=m(()=>{q1();un()});function Bde(e){let{r:t,s:r,v:n,yParity:s}=e,o=Number(s??n-27n),i=r;if(o===1){let a=Gt(r);a[0]|=128,i=ht(a)}return{r:t,yParityAndS:i}}var Dde=m(()=>{Or();De()});var Ude={};Se(Ude,{AbiConstructorNotFoundError:()=>hh,AbiConstructorParamsNotFoundError:()=>Gl,AbiDecodingDataSizeInvalidError:()=>iS,AbiDecodingDataSizeTooSmallError:()=>mh,AbiDecodingZeroDataError:()=>Ai,AbiEncodingArrayLengthMismatchError:()=>ky,AbiEncodingBytesSizeMismatchError:()=>By,AbiEncodingLengthMismatchError:()=>gh,AbiErrorInputsNotFoundError:()=>Dy,AbiErrorNotFoundError:()=>O1,AbiErrorSignatureNotFoundError:()=>yh,AbiEventNotFoundError:()=>k1,AbiEventSignatureEmptyTopicsError:()=>Uy,AbiEventSignatureNotFoundError:()=>Ly,AbiFunctionNotFoundError:()=>va,AbiFunctionOutputsNotFoundError:()=>wh,AbiFunctionSignatureNotFoundError:()=>My,AccountStateConflictError:()=>sw,AtomicReadyWalletRejectedUpgradeError:()=>Zh,AtomicityNotSupportedError:()=>ou,BaseError:()=>Z,BaseFeeScalarError:()=>m0,BlockNotFoundError:()=>g0,BundleFailedError:()=>Xw,BundleTooLargeError:()=>Kh,BytesSizeMismatchError:()=>bh,CallExecutionError:()=>Nh,ChainDisconnectedError:()=>jh,ChainDoesNotSupportContract:()=>Pp,ChainMismatchError:()=>Ww,ChainNotFoundError:()=>Kw,CircularReferenceError:()=>P1,ClientChainNotConfiguredError:()=>G1,ContractFunctionExecutionError:()=>Rh,ContractFunctionRevertedError:()=>hp,ContractFunctionZeroDataError:()=>pw,CounterfactualDeploymentFailedError:()=>fw,DecodeLogDataMismatch:()=>Kc,DecodeLogTopicsMismatch:()=>Yl,DuplicateIdError:()=>qh,EIP1193ProviderRpcError:()=>G_,Eip1559FeesNotSupportedError:()=>cu,EnsAvatarInvalidNftUriError:()=>mu,EnsAvatarUnsupportedNamespaceError:()=>rb,EnsAvatarUriResolutionError:()=>k0,EnsInvalidChainIdError:()=>nb,EstimateGasExecutionError:()=>vw,ExecutionRevertedError:()=>_a,FeeCapTooHighError:()=>Ri,FeeCapTooLowError:()=>n0,FeeConflictError:()=>vS,FilterTypeNotSupportedError:()=>jy,HttpRequestError:()=>_i,InsufficientFundsError:()=>a0,IntegerOutOfRangeError:()=>Jl,InternalRpcError:()=>Xc,IntrinsicGasTooHighError:()=>c0,IntrinsicGasTooLowError:()=>l0,InvalidAbiDecodingTypeError:()=>$y,InvalidAbiEncodingTypeError:()=>Hy,InvalidAbiItemError:()=>w1,InvalidAbiParameterError:()=>x1,InvalidAbiParametersError:()=>v1,InvalidAbiTypeParameterError:()=>I1,InvalidAddressError:()=>Er,InvalidArrayError:()=>xh,InvalidBytesBooleanError:()=>zy,InvalidChainIdError:()=>Np,InvalidDecimalNumberError:()=>yb,InvalidDefinitionTypeError:()=>Oy,InvalidDomainError:()=>lb,InvalidFunctionModifierError:()=>S1,InvalidHexBooleanError:()=>Vy,InvalidHexValueError:()=>qy,InvalidInputRpcError:()=>Ti,InvalidLegacyVError:()=>_h,InvalidModifierError:()=>C1,InvalidParameterError:()=>E1,InvalidParamsRpcError:()=>Dh,InvalidParenthesisError:()=>N1,InvalidPrimaryTypeError:()=>ub,InvalidRequestRpcError:()=>kh,InvalidSerializableTransactionError:()=>iw,InvalidSerializedTransactionError:()=>eu,InvalidSerializedTransactionTypeError:()=>aw,InvalidSignatureError:()=>xa,InvalidStorageKeySizeError:()=>cw,InvalidStructSignatureError:()=>T1,InvalidStructTypeError:()=>db,JsonRpcVersionUnsupportedError:()=>Mh,LimitExceededRpcError:()=>yp,MaxFeePerGasTooLowError:()=>Aw,MethodNotFoundRpcError:()=>Bh,MethodNotSupportedRpcError:()=>nu,NonceMaxValueError:()=>i0,NonceTooHighError:()=>s0,NonceTooLowError:()=>o0,ParseRpcError:()=>Oh,ProviderDisconnectedError:()=>Fh,ProviderRpcError:()=>ms,RawContractError:()=>ec,ResourceNotFoundRpcError:()=>Uh,ResourceUnavailableRpcError:()=>Lh,RpcError:()=>hs,RpcRequestError:()=>tc,SizeExceedsPaddingSizeError:()=>D1,SizeOverflowError:()=>Wy,SliceOffsetOutOfBoundsError:()=>B1,SocketClosedError:()=>tu,SolidityProtectedKeywordError:()=>A1,StateAssignmentConflictError:()=>ow,SwitchChainError:()=>zh,TimeoutError:()=>gp,TipAboveFeeCapError:()=>rc,TransactionExecutionError:()=>lw,TransactionNotFoundError:()=>Th,TransactionReceiptNotFoundError:()=>Ph,TransactionRejectedRpcError:()=>ru,TransactionTypeNotSupportedError:()=>u0,UnauthorizedProviderError:()=>Hh,UnknownBundleIdError:()=>Wh,UnknownNodeError:()=>Oi,UnknownRpcError:()=>hw,UnknownSignatureError:()=>_1,UnknownTypeError:()=>b1,UnsupportedChainIdError:()=>Vh,UnsupportedNonOptionalCapabilityError:()=>su,UnsupportedPackedAbiType:()=>Fy,UnsupportedProviderMethodError:()=>$h,UrlRequiredError:()=>H0,UserRejectedRequestError:()=>el,WaitForCallsStatusTimeoutError:()=>x4,WaitForTransactionReceiptTimeoutError:()=>dw,WebSocketRequestError:()=>F1,assertCurrentChain:()=>N0,assertRequest:()=>zn,assertTransactionEIP1559:()=>B0,assertTransactionEIP2930:()=>sb,assertTransactionLegacy:()=>ob,blobsToCommitments:()=>b0,blobsToProofs:()=>x0,boolToBytes:()=>_D,boolToHex:()=>Eh,bytesToBigInt:()=>Rx,bytesToBool:()=>Ox,bytesToHex:()=>ht,bytesToNumber:()=>Sa,bytesToRlp:()=>Rne,bytesToString:()=>kx,ccipFetch:()=>f4,ccipRequest:()=>f4,checksumAddress:()=>Gc,commitmentToVersionedHash:()=>_w,commitmentsToVersionedHashes:()=>Tw,compactSignatureToHex:()=>BM,compactSignatureToSignature:()=>_de,concat:()=>hr,concatBytes:()=>RD,concatHex:()=>pn,createClient:()=>O0,createNonceManager:()=>vL,createPublicClient:()=>xle,createTestClient:()=>Tue,createTransport:()=>gu,createWalletClient:()=>cde,custom:()=>ude,decodeAbiParameters:()=>Vo,decodeDeployData:()=>yde,decodeErrorResult:()=>ew,decodeEventLog:()=>Sp,decodeFunctionData:()=>hI,decodeFunctionResult:()=>ws,defineBlock:()=>Poe,defineChain:()=>fae,defineKzg:()=>Y_,defineTransaction:()=>Toe,defineTransactionReceipt:()=>wie,defineTransactionRequest:()=>Hne,deploylessCallViaBytecodeBytecode:()=>zw,deploylessCallViaFactoryBytecode:()=>aI,domainSeparator:()=>Mae,encodeAbiParameters:()=>ns,encodeDeployData:()=>Rp,encodeErrorResult:()=>d4,encodeEventTopics:()=>Xa,encodeFunctionData:()=>Ar,encodeFunctionResult:()=>mI,encodePacked:()=>eae,erc1155Abi:()=>iie,erc20Abi:()=>Z1,erc20Abi_bytes32:()=>oie,erc4626Abi:()=>cie,erc6492SignatureValidatorAbi:()=>jw,erc6492SignatureValidatorByteCode:()=>l4,erc721Abi:()=>aie,ethAddress:()=>M_,etherUnits:()=>tw,extendSchema:()=>hae,extractChain:()=>gae,fallback:()=>z4,formatBlock:()=>W1,formatEther:()=>Ih,formatGwei:()=>Pn,formatLog:()=>ys,formatTransaction:()=>Ap,formatTransactionReceipt:()=>X1,formatTransactionRequest:()=>Rn,formatUnits:()=>Xl,fromBlobs:()=>bde,fromBytes:()=>Hre,fromHex:()=>ID,fromRlp:()=>C4,getAbiItem:()=>so,getAddress:()=>rs,getChainContractAddress:()=>Di,getContract:()=>gie,getContractAddress:()=>nae,getContractError:()=>Wo,getCreate2Address:()=>yL,getCreateAddress:()=>gL,getEventSelector:()=>Zc,getEventSignature:()=>up,getFunctionSelector:()=>Ca,getFunctionSignature:()=>up,getSerializedTransactionType:()=>T_,getTransactionType:()=>Nw,getTypesForEIP712Domain:()=>rg,gweiUnits:()=>rw,hashDomain:()=>_4,hashMessage:()=>D0,hashStruct:()=>n_,hashTypedData:()=>fb,hexToBigInt:()=>lt,hexToBool:()=>Ky,hexToBytes:()=>Gt,hexToCompactSignature:()=>OM,hexToNumber:()=>ft,hexToRlp:()=>One,hexToSignature:()=>kM,hexToString:()=>cS,http:()=>ag,isAddress:()=>Vt,isAddressEqual:()=>vn,isBytes:()=>A4,isErc6492Signature:()=>i_,isErc8010Signature:()=>S_,isHash:()=>JI,isHex:()=>je,keccak256:()=>zt,labelhash:()=>DI,maxInt104:()=>Xne,maxInt112:()=>ese,maxInt120:()=>tse,maxInt128:()=>rse,maxInt136:()=>nse,maxInt144:()=>sse,maxInt152:()=>ose,maxInt16:()=>jne,maxInt160:()=>ise,maxInt168:()=>ase,maxInt176:()=>cse,maxInt184:()=>lse,maxInt192:()=>use,maxInt200:()=>dse,maxInt208:()=>pse,maxInt216:()=>fse,maxInt224:()=>hse,maxInt232:()=>mse,maxInt24:()=>zne,maxInt240:()=>gse,maxInt248:()=>yse,maxInt256:()=>wse,maxInt32:()=>Vne,maxInt40:()=>qne,maxInt48:()=>Wne,maxInt56:()=>Kne,maxInt64:()=>Zne,maxInt72:()=>Gne,maxInt8:()=>Fne,maxInt80:()=>Yne,maxInt88:()=>Jne,maxInt96:()=>Qne,maxUint104:()=>loe,maxUint112:()=>uoe,maxUint120:()=>doe,maxUint128:()=>poe,maxUint136:()=>foe,maxUint144:()=>hoe,maxUint152:()=>moe,maxUint16:()=>Qse,maxUint160:()=>goe,maxUint168:()=>yoe,maxUint176:()=>woe,maxUint184:()=>boe,maxUint192:()=>xoe,maxUint200:()=>voe,maxUint208:()=>Eoe,maxUint216:()=>Aoe,maxUint224:()=>Coe,maxUint232:()=>Soe,maxUint24:()=>Xse,maxUint240:()=>Ioe,maxUint248:()=>_oe,maxUint256:()=>h0,maxUint32:()=>eoe,maxUint40:()=>toe,maxUint48:()=>roe,maxUint56:()=>noe,maxUint64:()=>soe,maxUint72:()=>ooe,maxUint8:()=>Jse,maxUint80:()=>ioe,maxUint88:()=>aoe,maxUint96:()=>coe,minInt104:()=>Rse,minInt112:()=>Ose,minInt120:()=>kse,minInt128:()=>Bse,minInt136:()=>Dse,minInt144:()=>Use,minInt152:()=>Lse,minInt16:()=>xse,minInt160:()=>Mse,minInt168:()=>Hse,minInt176:()=>$se,minInt184:()=>Fse,minInt192:()=>jse,minInt200:()=>zse,minInt208:()=>Vse,minInt216:()=>qse,minInt224:()=>Wse,minInt232:()=>Kse,minInt24:()=>vse,minInt240:()=>Zse,minInt248:()=>Gse,minInt256:()=>Yse,minInt32:()=>Ese,minInt40:()=>Ase,minInt48:()=>Cse,minInt56:()=>Sse,minInt64:()=>Ise,minInt72:()=>_se,minInt8:()=>bse,minInt80:()=>Tse,minInt88:()=>Pse,minInt96:()=>Nse,multicall3Abi:()=>sc,namehash:()=>eg,nonceManager:()=>Iae,numberToBytes:()=>TD,numberToHex:()=>J,offchainLookup:()=>WU,offchainLookupAbiItem:()=>gI,offchainLookupSignature:()=>qU,pad:()=>to,padBytes:()=>SD,padHex:()=>Ci,parseAbi:()=>Ty,parseAbiItem:()=>Py,parseAbiParameter:()=>ED,parseAbiParameters:()=>Ny,parseCompactSignature:()=>OM,parseErc6492Signature:()=>yce,parseErc8010Signature:()=>bce,parseEther:()=>Rce,parseEventLogs:()=>A0,parseGwei:()=>kce,parseSignature:()=>kM,parseTransaction:()=>P_,parseUnits:()=>wb,prepareEncodeFunctionData:()=>hS,presignMessagePrefix:()=>XI,publicActions:()=>z_,recoverAddress:()=>Ni,recoverMessageAddress:()=>I_,recoverPublicKey:()=>PS,recoverTransactionAddress:()=>Rde,recoverTypedDataAddress:()=>__,ripemd160:()=>xae,rpcSchema:()=>bie,rpcTransactionType:()=>hU,serializeAccessList:()=>tg,serializeCompactSignature:()=>BM,serializeErc6492Signature:()=>vce,serializeErc8010Signature:()=>Ace,serializeSignature:()=>F4,serializeTransaction:()=>ZI,serializeTypedData:()=>t_,setErrorConfig:()=>Are,setupKzg:()=>Sde,sha256:()=>US,shouldThrow:()=>PM,sidecarsToVersionedHashes:()=>vde,signatureToCompactSignature:()=>Bde,signatureToHex:()=>F4,size:()=>Ot,slice:()=>no,sliceBytes:()=>Tx,sliceHex:()=>Ql,stringToBytes:()=>Ea,stringToHex:()=>jo,stringify:()=>Tt,testActions:()=>V_,toBlobSidecars:()=>v0,toBlobs:()=>jS,toBytes:()=>dn,toCoinType:()=>Ade,toEventHash:()=>dp,toEventSelector:()=>Zc,toEventSignature:()=>up,toFunctionHash:()=>dp,toFunctionSelector:()=>Ca,toFunctionSignature:()=>up,toHex:()=>vr,toPrefixedMessage:()=>e_,toRlp:()=>Yo,transactionType:()=>Gx,trim:()=>ln,universalSignatureValidatorAbi:()=>jw,universalSignatureValidatorByteCode:()=>l4,validateTypedData:()=>pb,verifyHash:()=>Sce,verifyMessage:()=>_ce,verifyTypedData:()=>Pce,walletActions:()=>K_,webSocket:()=>hde,weiUnits:()=>jre,withCache:()=>bI,withRetry:()=>Dp,withTimeout:()=>ab,zeroAddress:()=>Pa,zeroHash:()=>jae});var $0=m(()=>{Ry();yie();TI();v4();vle();Pue();lde();AM();CM();TM();Ab();dde();pde();fde();mde();fu();yM();o_();qw();RS();SL();nw();Xr();Ja();yt();OS();eL();Zw();mp();Ix();U1();MI();fU();Cw();CD();au();Qc();Yh();xS();qo();Z_();_L();uM();gde();Sh();wde();wS();r4();HU();uu();Yc();u4();FU();M1();zo();zU();rae();pp();n4();DD();Aa();sae();Ii();sl();Jx();Qx();MS();LS();xde();Ede();Xx();xU();KU();g4();mae();yae();I0();Fn();mL();$o();vh();Ei();Qa();cp();LD();un();bL();Or();De();qx();aL();BI();Cde();Jh();kS();Ip();Sw();b4();rl();xL();Si();vae();wU();Eae();Zy();Aae();Cae();L1();Sae();RM();Ide();_ae();YU();w4();QI();Tde();I4();T4();TL();oM();Pde();wce();xce();Nde();t0();iM();pU();Ode();aM();kde();Ece();Cce();xM();Dde();IL();Ice();Tce();Nce();Bs();nl();KI();cM();zS();lM();wL();GI();r_();Dx();H1();bS();Oce();Bce();O_()});async function V4(...e){let t=await fetch(...e);if(!t.ok)throw new Error(`HTTP status code: ${t.status}`,{cause:t});return t}var Ui,Cb=m(()=>{Ui=class{constructor({baseUrl:t,clientId:r}){this.baseUrl=t,this.clientId=r}async get({headers:t,signal:r,cache:n,...s}){let o=this.createUrl(s);return(await V4(o,{method:"GET",headers:t,signal:r,cache:n})).json()}async getBlob({headers:t,signal:r,...n}){let s=this.createUrl(n);return(await V4(s,{method:"GET",headers:t,signal:r})).blob()}async post({body:t,headers:r,signal:n,...s}){let o=this.createUrl(s);return(await V4(o,{method:"POST",headers:r,body:t?JSON.stringify(t):void 0,signal:n})).json()}async put({body:t,headers:r,signal:n,...s}){let o=this.createUrl(s);return(await V4(o,{method:"PUT",headers:r,body:t?JSON.stringify(t):void 0,signal:n})).json()}async delete({body:t,headers:r,signal:n,...s}){let o=this.createUrl(s);return(await V4(o,{method:"DELETE",headers:r,body:t?JSON.stringify(t):void 0,signal:n})).json()}createUrl({path:t,params:r}){let n=new URL(t,this.baseUrl);return r&&Object.entries(r).forEach(([s,o])=>{o&&n.searchParams.append(s,o)}),this.clientId&&n.searchParams.append("clientId",this.clientId),n}sendBeacon({body:t,...r}){let n=this.createUrl(r);return navigator.sendBeacon(n.toString(),t?JSON.stringify(t):void 0)}}});var q4,DM=m(()=>{kn();ya();$n();q4={getFeatureValue(e,t){let r=t?.[e];return r===void 0?Ke.DEFAULT_FEATURES[e]:r},filterSocialsByPlatform(e){if(!e||!e.length)return e;let t=e;return te.isTelegram()&&(te.isIos()&&(t=t.filter(r=>r!=="google")),te.isMac()&&(t=t.filter(r=>r!=="x")),te.isAndroid()&&(t=t.filter(r=>!["facebook","x"].includes(r)))),te.isMobile()&&(t=t.filter(r=>r!=="facebook")),t},isSocialsEnabled(){return Array.isArray(W.state.features?.socials)&&W.state.features?.socials.length>0||Array.isArray(W.state.remoteFeatures?.socials)&&W.state.remoteFeatures?.socials.length>0},isEmailEnabled(){return!!(W.state.features?.email||W.state.remoteFeatures?.email)}}});var qe,W,kn=m(()=>{Fr();Hn();ya();$n();DM();qe=Xe({features:Ke.DEFAULT_FEATURES,projectId:"",sdkType:"appkit",sdkVersion:"html-wagmi-undefined",defaultAccountTypes:Ke.DEFAULT_ACCOUNT_TYPES,enableNetworkSwitch:!0,experimental_preferUniversalLinks:!1,remoteFeatures:{},enableMobileFullScreen:!1,coinbasePreference:"all"}),W={state:qe,subscribeKey(e,t){return _t(qe,e,t)},setOptions(e){Object.assign(qe,e)},setRemoteFeatures(e){if(!e)return;let t={...qe.remoteFeatures,...e};qe.remoteFeatures=t,qe.remoteFeatures?.socials&&(qe.remoteFeatures.socials=q4.filterSocialsByPlatform(qe.remoteFeatures.socials)),qe.features?.pay&&(qe.remoteFeatures.email=!1,qe.remoteFeatures.socials=!1)},setFeatures(e){if(!e)return;qe.features||(qe.features=Ke.DEFAULT_FEATURES);let t={...qe.features,...e};qe.features=t,qe.features?.pay&&qe.remoteFeatures&&(qe.remoteFeatures.email=!1,qe.remoteFeatures.socials=!1)},setProjectId(e){qe.projectId=e},setCustomRpcUrls(e){qe.customRpcUrls=e},setAllWallets(e){qe.allWallets=e},setIncludeWalletIds(e){qe.includeWalletIds=e},setExcludeWalletIds(e){qe.excludeWalletIds=e},setFeaturedWalletIds(e){qe.featuredWalletIds=e},setTokens(e){qe.tokens=e},setTermsConditionsUrl(e){qe.termsConditionsUrl=e},setPrivacyPolicyUrl(e){qe.privacyPolicyUrl=e},setCustomWallets(e){qe.customWallets=e},setIsSiweEnabled(e){qe.isSiweEnabled=e},setIsUniversalProvider(e){qe.isUniversalProvider=e},setSdkVersion(e){qe.sdkVersion=e},setMetadata(e){qe.metadata=e},setDisableAppend(e){qe.disableAppend=e},setEIP6963Enabled(e){qe.enableEIP6963=e},setDebug(e){qe.debug=e},setEnableWalletGuide(e){qe.enableWalletGuide=e},setEnableAuthLogger(e){qe.enableAuthLogger=e},setEnableWallets(e){qe.enableWallets=e},setPreferUniversalLinks(e){qe.experimental_preferUniversalLinks=e},setSIWX(e){if(e)for(let[t,r]of Object.entries(Ke.SIWX_DEFAULTS))e[t]??(e[t]=r);qe.siwx=e},setConnectMethodsOrder(e){qe.features={...qe.features,connectMethodsOrder:e}},setWalletFeaturesOrder(e){qe.features={...qe.features,walletFeaturesOrder:e}},setSocialsOrder(e){qe.remoteFeatures={...qe.remoteFeatures,socials:e}},setCollapseWallets(e){qe.features={...qe.features,collapseWallets:e}},setEnableEmbedded(e){qe.enableEmbedded=e},setAllowUnsupportedChain(e){qe.allowUnsupportedChain=e},setManualWCControl(e){qe.manualWCControl=e},setEnableNetworkSwitch(e){qe.enableNetworkSwitch=e},setEnableMobileFullScreen(e){qe.enableMobileFullScreen=te.isMobile()&&e},setEnableReconnect(e){qe.enableReconnect=e},setCoinbasePreference(e){qe.coinbasePreference=e},setDefaultAccountTypes(e={}){Object.entries(e).forEach(([t,r])=>{r&&(qe.defaultAccountTypes[t]=r)})},setUniversalProviderConfigOverride(e){qe.universalProviderConfigOverride=e},getUniversalProviderConfigOverride(){return qe.universalProviderConfigOverride},getSnapshot(){return Kl(qe)}}});var cg,ss,Sze,Ze,F0=m(()=>{Fr();Hn();$n();cg=Object.freeze({message:"",variant:"success",svg:void 0,open:!1,autoClose:!0}),ss=Xe({...cg}),Sze={state:ss,subscribeKey(e,t){return _t(ss,e,t)},showLoading(e,t={}){this._showMessage({message:e,variant:"loading",...t})},showSuccess(e){this._showMessage({message:e,variant:"success"})},showSvg(e,t){this._showMessage({message:e,svg:t})},showError(e){let t=te.parseError(e);this._showMessage({message:t,variant:"error"})},hide(){ss.message=cg.message,ss.variant=cg.variant,ss.svg=cg.svg,ss.open=cg.open,ss.autoClose=cg.autoClose},_showMessage({message:e,svg:t,variant:r="success",autoClose:n=cg.autoClose}){ss.open?(ss.open=!1,setTimeout(()=>{ss.message=e,ss.variant=r,ss.svg=t,ss.open=!0,ss.autoClose=n},150)):(ss.message=e,ss.variant=r,ss.svg=t,ss.open=!0,ss.autoClose=n)}},Ze=Sze});var Ize,Lde,Jo,$e,Lp=m(()=>{Fr();ya();$n();Cb();wa();jr();kn();F0();Ize={purchaseCurrencies:[{id:"2b92315d-eab7-5bef-84fa-089a131333f5",name:"USD Coin",symbol:"USDC",networks:[{name:"ethereum-mainnet",display_name:"Ethereum",chain_id:"1",contract_address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"},{name:"polygon-mainnet",display_name:"Polygon",chain_id:"137",contract_address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"}]},{id:"2b92315d-eab7-5bef-84fa-089a131333f5",name:"Ether",symbol:"ETH",networks:[{name:"ethereum-mainnet",display_name:"Ethereum",chain_id:"1",contract_address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"},{name:"polygon-mainnet",display_name:"Polygon",chain_id:"137",contract_address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"}]}],paymentCurrencies:[{id:"USD",payment_method_limits:[{id:"card",min:"10.00",max:"7500.00"},{id:"ach_bank_account",min:"10.00",max:"25000.00"}]},{id:"EUR",payment_method_limits:[{id:"card",min:"10.00",max:"7500.00"},{id:"ach_bank_account",min:"10.00",max:"25000.00"}]}]},Lde=te.getBlockchainApiUrl(),Jo=Xe({clientId:null,api:new Ui({baseUrl:Lde,clientId:null}),supportedChains:{http:[],ws:[]}}),$e={state:Jo,async get(e){let{st:t,sv:r}=$e.getSdkProperties(),n=W.state.projectId,s={...e.params||{},st:t,sv:r,projectId:n};return Jo.api.get({...e,params:s})},getSdkProperties(){let{sdkType:e,sdkVersion:t}=W.state;return{st:e||"unknown",sv:t||"unknown"}},async isNetworkSupported(e){if(!e)return!1;try{Jo.supportedChains.http.length||await $e.getSupportedNetworks()}catch{return!1}return Jo.supportedChains.http.includes(e)},async getSupportedNetworks(){try{let e=await $e.get({path:"v1/supported-chains"});return Jo.supportedChains=e,e}catch{return Jo.supportedChains}},async fetchIdentity({address:e}){let t=ae.getIdentityFromCacheForAddress(e);if(t)return t;let r=await $e.get({path:`/v1/identity/${e}`,params:{sender:R.state.activeCaipAddress?te.getPlainAddress(R.state.activeCaipAddress):void 0}});return ae.updateIdentityCache({address:e,identity:r,timestamp:Date.now()}),r},async fetchTransactions({account:e,cursor:t,signal:r,cache:n,chainId:s}){if(!await $e.isNetworkSupported(R.state.activeCaipNetwork?.caipNetworkId))return{data:[],next:void 0};let i=ae.getTransactionsCacheForAddress({address:e,chainId:s});if(i)return i;let a=await $e.get({path:`/v1/account/${e}/history`,params:{cursor:t,chainId:s},signal:r,cache:n});return ae.updateTransactionsCache({address:e,chainId:s,timestamp:Date.now(),transactions:a}),a},async fetchSwapQuote({amount:e,userAddress:t,from:r,to:n,gasPrice:s}){return await $e.isNetworkSupported(R.state.activeCaipNetwork?.caipNetworkId)?$e.get({path:"/v1/convert/quotes",headers:{"Content-Type":"application/json"},params:{amount:e,userAddress:t,from:r,to:n,gasPrice:s}}):{quotes:[]}},async fetchSwapTokens({chainId:e}){return await $e.isNetworkSupported(R.state.activeCaipNetwork?.caipNetworkId)?$e.get({path:"/v1/convert/tokens",params:{chainId:e}}):{tokens:[]}},async getAddressBalance({caipNetworkId:e,address:t}){return Jo.api.post({path:`/v1?chainId=${e}&projectId=${W.state.projectId}`,body:{id:"1",jsonrpc:"2.0",method:"getAddressBalance",params:{address:t}}}).then(r=>r.result)},async fetchTokenPrice({addresses:e,caipNetworkId:t=R.state.activeCaipNetwork?.caipNetworkId}){if(!await $e.isNetworkSupported(t))return{fungibles:[]};let n=ae.getTokenPriceCacheForAddresses(e);if(n)return n;let s=await Jo.api.post({path:"/v1/fungible/price",body:{currency:"usd",addresses:e,projectId:W.state.projectId},headers:{"Content-Type":"application/json"}});return ae.updateTokenPriceCache({addresses:e,timestamp:Date.now(),tokenPrice:s}),s},async fetchSwapAllowance({tokenAddress:e,userAddress:t}){return await $e.isNetworkSupported(R.state.activeCaipNetwork?.caipNetworkId)?$e.get({path:"/v1/convert/allowance",params:{tokenAddress:e,userAddress:t},headers:{"Content-Type":"application/json"}}):{allowance:"0"}},async fetchGasPrice({chainId:e}){let{st:t,sv:r}=$e.getSdkProperties();if(!await $e.isNetworkSupported(R.state.activeCaipNetwork?.caipNetworkId))throw new Error("Network not supported for Gas Price");return $e.get({path:"/v1/convert/gas-price",headers:{"Content-Type":"application/json"},params:{chainId:e,st:t,sv:r}})},async generateSwapCalldata({amount:e,from:t,to:r,userAddress:n,disableEstimate:s}){if(!await $e.isNetworkSupported(R.state.activeCaipNetwork?.caipNetworkId))throw new Error("Network not supported for Swaps");return Jo.api.post({path:"/v1/convert/build-transaction",headers:{"Content-Type":"application/json"},body:{amount:e,eip155:{slippage:Ke.CONVERT_SLIPPAGE_TOLERANCE},projectId:W.state.projectId,from:t,to:r,userAddress:n,disableEstimate:s}})},async generateApproveCalldata({from:e,to:t,userAddress:r}){let{st:n,sv:s}=$e.getSdkProperties();if(!await $e.isNetworkSupported(R.state.activeCaipNetwork?.caipNetworkId))throw new Error("Network not supported for Swaps");return $e.get({path:"/v1/convert/build-approve",headers:{"Content-Type":"application/json"},params:{userAddress:r,from:e,to:t,st:n,sv:s}})},async getBalance(e,t,r){let{st:n,sv:s}=$e.getSdkProperties();if(!await $e.isNetworkSupported(R.state.activeCaipNetwork?.caipNetworkId))return Ze.showError("Token Balance Unavailable"),{balances:[]};let i=`${t}:${e}`,a=ae.getBalanceCacheForCaipAddress(i);if(a)return a;let c=await $e.get({path:`/v1/account/${e}/balance`,params:{currency:"usd",chainId:t,forceUpdate:r,st:n,sv:s}});return ae.updateBalanceCache({caipAddress:i,balance:c,timestamp:Date.now()}),c},async lookupEnsName(e){return await $e.isNetworkSupported(R.state.activeCaipNetwork?.caipNetworkId)?$e.get({path:`/v1/profile/account/${e}`,params:{apiVersion:"2"}}):{addresses:{},attributes:[]}},async reverseLookupEnsName({address:e}){if(!await $e.isNetworkSupported(R.state.activeCaipNetwork?.caipNetworkId))return[];let r=R.getAccountData()?.address;return $e.get({path:`/v1/profile/reverse/${e}`,params:{sender:r,apiVersion:"2"}})},async getEnsNameSuggestions(e){return await $e.isNetworkSupported(R.state.activeCaipNetwork?.caipNetworkId)?$e.get({path:`/v1/profile/suggestions/${e}`,params:{zone:"reown.id"}}):{suggestions:[]}},async registerEnsName({coinType:e,address:t,message:r,signature:n}){return await $e.isNetworkSupported(R.state.activeCaipNetwork?.caipNetworkId)?Jo.api.post({path:"/v1/profile/account",body:{coin_type:e,address:t,message:r,signature:n},headers:{"Content-Type":"application/json"}}):{success:!1}},async generateOnRampURL({destinationWallets:e,partnerUserId:t,defaultNetwork:r,purchaseAmount:n,paymentAmount:s}){return await $e.isNetworkSupported(R.state.activeCaipNetwork?.caipNetworkId)?(await Jo.api.post({path:"/v1/generators/onrampurl",params:{projectId:W.state.projectId},body:{destinationWallets:e,defaultNetwork:r,partnerUserId:t,defaultExperience:"buy",presetCryptoAmount:n,presetFiatAmount:s}})).url:""},async getOnrampOptions(){if(!await $e.isNetworkSupported(R.state.activeCaipNetwork?.caipNetworkId))return{paymentCurrencies:[],purchaseCurrencies:[]};try{return await $e.get({path:"/v1/onramp/options"})}catch{return Ize}},async getOnrampQuote({purchaseCurrency:e,paymentCurrency:t,amount:r,network:n}){try{return await $e.isNetworkSupported(R.state.activeCaipNetwork?.caipNetworkId)?await Jo.api.post({path:"/v1/onramp/quote",params:{projectId:W.state.projectId},body:{purchaseCurrency:e,paymentCurrency:t,amount:r,network:n}}):null}catch{return{networkFee:{amount:r,currency:t.id},paymentSubtotal:{amount:r,currency:t.id},paymentTotal:{amount:r,currency:t.id},purchaseAmount:{amount:r,currency:t.id},quoteId:"mocked-quote-id"}}},async getSmartSessions(e){return await $e.isNetworkSupported(R.state.activeCaipNetwork?.caipNetworkId)?$e.get({path:`/v1/sessions/${e}`}):[]},async revokeSmartSession(e,t,r){return await $e.isNetworkSupported(R.state.activeCaipNetwork?.caipNetworkId)?Jo.api.post({path:`/v1/sessions/${e}/revoke`,params:{projectId:W.state.projectId},body:{pci:t,signature:r}}):{success:!1}},setClientId(e){Jo.clientId=e,Jo.api=new Ui({baseUrl:Lde,clientId:e})}}});var j0=m(()=>{wx()});var _ze,Tze,Pze,Nze,z0,Mde,Hde=m(()=>{Fr();Hn();$n();Cb();kn();_ze=Object.freeze({enabled:!0,events:[]}),Tze=new Ui({baseUrl:te.getAnalyticsUrl(),clientId:null}),Pze=5,Nze=60*1e3,z0=Xe({..._ze}),Mde={state:z0,subscribeKey(e,t){return _t(z0,e,t)},async sendError(e,t){if(!z0.enabled)return;let r=Date.now();if(z0.events.filter(o=>{let i=new Date(o.properties.timestamp||"").getTime();return r-i<Nze}).length>=Pze)return;let s={type:"error",event:t,properties:{errorType:e.name,errorMessage:e.message,stackTrace:e.stack,timestamp:new Date().toISOString()}};z0.events.push(s);try{if(typeof window>"u")return;let{projectId:o,sdkType:i,sdkVersion:a}=W.state;await Tze.post({path:"/e",params:{projectId:o,st:i,sv:a||"html-wagmi-4.2.2"},body:{eventId:te.getUUID(),url:window.location.href,domain:window.location.hostname,timestamp:new Date().toISOString(),props:{type:"error",event:t,errorType:e.name,errorMessage:e.message,stackTrace:e.stack}}})}catch{}},enable(){z0.enabled=!0},disable(){z0.enabled=!1},clearEvents(){z0.events=[]}}});function $de(e,t){let r="";try{e instanceof Error?r=e.message:typeof e=="string"?r=e:typeof e=="object"&&e!==null?Object.keys(e).length===0?r="Unknown error":r=e?.message||JSON.stringify(e):r=String(e)}catch(s){r="Unknown error",console.error("Error parsing error message",s)}let n=e instanceof cc?e:new cc(r,t,e);throw Mde.sendError(n,n.category),n}function Cr(e,t="INTERNAL_SDK_ERROR"){let r={};return Object.keys(e).forEach(n=>{let s=e[n];if(typeof s=="function"){let o=s;s.constructor.name==="AsyncFunction"?o=async(...i)=>{try{return await s(...i)}catch(a){return $de(a,t)}}:o=(...i)=>{try{return s(...i)}catch(a){return $de(a,t)}},r[n]=o}else r[n]=s}),r}var cc,co=m(()=>{Hde();cc=class e extends Error{constructor(t,r,n){super(t),this.originalName="AppKitError",this.name="AppKitError",this.category=r,this.originalError=n,n&&n instanceof Error&&(this.originalName=n.name),Object.setPrototypeOf(this,e.prototype);let s=!1;if(n instanceof Error&&typeof n.stack=="string"&&n.stack){let o=n.stack,i=o.indexOf(`
`);if(i>-1){let a=o.substring(i+1);this.stack=`${this.name}: ${this.message}
${a}`,s=!0}}s||(Error.captureStackTrace?Error.captureStackTrace(this,e):this.stack||(this.stack=`${this.name}: ${this.message}`))}}});var Na,Rze,Vn,J_=m(()=>{Fr();Hn();co();Na=Xe({walletImages:{},networkImages:{},chainImages:{},connectorImages:{},tokenImages:{},currencyImages:{}}),Rze={state:Na,subscribeNetworkImages(e){return Ut(Na.networkImages,()=>e(Na.networkImages))},subscribeKey(e,t){return _t(Na,e,t)},subscribe(e){return Ut(Na,()=>e(Na))},setWalletImage(e,t){Na.walletImages[e]=t},setNetworkImage(e,t){Na.networkImages[e]=t},setChainImage(e,t){Na.chainImages[e]=t},setConnectorImage(e,t){Na.connectorImages={...Na.connectorImages,[e]:t}},setTokenImage(e,t){Na.tokenImages[e]=t},setCurrencyImage(e,t){Na.currencyImages[e]=t}},Vn=Cr(Rze)});var Fde,Sb,St,UM=m(()=>{Fr();at();yu();J_();kn();Fde={eip155:"ba0ba0cd-17c6-4806-ad93-f9d174f17900",solana:"a1b58899-f671-4276-6a5e-56ca5bd59700",polkadot:"",bip122:"0b4838db-0161-4ffe-022d-532bf03dba00",cosmos:"",sui:"",stacks:"",ton:"20f673c0-095e-49b2-07cf-eb5049dcf600"},Sb=Xe({networkImagePromises:{},tokenImagePromises:{}}),St={async fetchWalletImage(e){if(e)return await pe._fetchWalletImage(e),this.getWalletImageById(e)},async fetchNetworkImage(e){if(!e)return;let t=this.getNetworkImageById(e);return t||(Sb.networkImagePromises[e]||(Sb.networkImagePromises[e]=pe._fetchNetworkImage(e)),await Sb.networkImagePromises[e],this.getNetworkImageById(e))},async fetchTokenImage(e){if(e)return Sb.tokenImagePromises[e]||(Sb.tokenImagePromises[e]=pe._fetchTokenImage(e)),await Sb.tokenImagePromises[e],this.getTokenImage(e)},getWalletImageById(e){if(e)return Vn.state.walletImages[e]},getWalletImage(e){if(e?.image_url)return e?.image_url;if(e?.image_id)return Vn.state.walletImages[e.image_id]},getNetworkImage(e){if(e?.assets?.imageUrl)return e?.assets?.imageUrl;if(e?.assets?.imageId)return Vn.state.networkImages[e.assets.imageId]},getNetworkImageById(e){if(e)return Vn.state.networkImages[e]},getConnectorImage(e){if(e?.imageUrl)return e.imageUrl;if(e?.info?.icon)return e.info.icon;if(e?.imageId)return Vn.state.connectorImages[e.imageId]},getChainImage(e){return Vn.state.networkImages[Fde[e]]},getTokenImage(e){if(e)return Vn.state.tokenImages[e]},getWalletImageUrl(e){if(!e)return"";let{projectId:t,sdkType:r,sdkVersion:n}=W.state,s=new URL(`${V.W3M_API_URL}/getWalletImage/${e}`);return s.searchParams.set("projectId",t),s.searchParams.set("st",r),s.searchParams.set("sv",n),s.toString()},getAssetImageUrl(e){if(!e)return"";let{projectId:t,sdkType:r,sdkVersion:n}=W.state,s=new URL(`${V.W3M_API_URL}/public/getAssetImage/${e}`);return s.searchParams.set("projectId",t),s.searchParams.set("st",r),s.searchParams.set("sv",n),s.toString()},getChainNamespaceImageUrl(e){return this.getAssetImageUrl(Fde[e])},async getImageByToken(e,t){if(e==="native"){let n=V.NATIVE_IMAGE_IDS_BY_NAMESPACE[t]??null;return n?St.fetchNetworkImage(n):void 0}let[,r]=Object.entries(V.TOKEN_SYMBOLS_BY_ADDRESS).find(([n])=>n.toLowerCase()===e.toLowerCase())??[];if(r)return St.fetchTokenImage(r)}}});var Ra,jde,LM=m(()=>{at();jr();Ra={PHANTOM:{id:"a797aa35c0fadbfc1a53e7f675162ed5226968b44a19ee3d24385c64d1d3c393",url:"https://phantom.app"},SOLFLARE:{id:"1ca0bdd4747578705b1939af023d120677c64fe6ca76add81fda36e350605e79",url:"https://solflare.com"},COINBASE:{id:"fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa",url:"https://go.cb-w.com"},BINANCE:{id:"2fafea35bb471d22889ccb49c08d99dd0a18a37982602c33f696a5723934ba25",appId:"yFK5FCqYprrXDiVFbhyRx7",deeplink:"bnc://app.binance.com/mp/app",url:"https://app.binance.com/en/download"}},jde={handleMobileDeeplinkRedirect(e,t){let r=window.location.href,n=encodeURIComponent(r);if(e===Ra.PHANTOM.id&&!("phantom"in window)){let s=r.startsWith("https")?"https":"http",o=r.split("/")[2],i=encodeURIComponent(`${s}://${o}`);window.location.href=`${Ra.PHANTOM.url}/ul/browse/${n}?ref=${i}`}if(e===Ra.SOLFLARE.id&&!("solflare"in window)&&(window.location.href=`${Ra.SOLFLARE.url}/ul/v1/browse/${n}?ref=${n}`),t===V.CHAIN.SOLANA&&e===Ra.COINBASE.id&&!("coinbaseSolana"in window)&&(window.location.href=`${Ra.COINBASE.url}/dapp?cb_url=${n}`),t===V.CHAIN.BITCOIN&&e===Ra.BINANCE.id&&!("binancew3w"in window)){let s=R.state.activeCaipNetwork,o=window.btoa("/pages/browser/index"),i=window.btoa(`url=${n}&defaultChainId=${s?.id??1}`),a=new URL(Ra.BINANCE.deeplink);a.searchParams.set("appId",Ra.BINANCE.appId),a.searchParams.set("startPagePath",o),a.searchParams.set("startPageQuery",i);let c=new URL(Ra.BINANCE.url);c.searchParams.set("_dp",window.btoa(a.toString())),window.location.href=c.toString()}}}});var Oze,kze,Bze,Dze,zde,An,ve,lc=m(()=>{Fr();$n();Cb();jr();kn();Oze=te.getAnalyticsUrl(),kze=new Ui({baseUrl:Oze,clientId:null}),Bze=["MODAL_CREATED"],Dze=45,zde=1e3*10,An=Xe({timestamp:Date.now(),lastFlush:Date.now(),reportedErrors:{},data:{type:"track",event:"MODAL_CREATED"},pendingEvents:[],subscribedToVisibilityChange:!1,walletImpressions:[]}),ve={state:An,subscribe(e){return Ut(An,()=>e(An))},getSdkProperties(){let{projectId:e,sdkType:t,sdkVersion:r}=W.state;return{projectId:e,st:t,sv:r||"html-wagmi-4.2.2"}},shouldFlushEvents(){let e=JSON.stringify(An.pendingEvents).length/1024>Dze,t=An.lastFlush+zde<Date.now();return e||t},_setPendingEvent(e){try{let t=R.getAccountData()?.address;if("address"in e.data&&e.data.address&&(t=e.data.address),Bze.includes(e.data.event)||typeof window>"u")return;let r=R.getActiveCaipNetwork()?.caipNetworkId;this.state.pendingEvents.push({eventId:te.getUUID(),url:window.location.href,domain:window.location.hostname,timestamp:e.timestamp,props:{...e.data,address:t,properties:{..."properties"in e.data?e.data.properties:{},caipNetworkId:r}}}),An.reportedErrors.FORBIDDEN=!1,ve.shouldFlushEvents()&&ve._submitPendingEvents()}catch(t){console.warn("_setPendingEvent",t)}},sendEvent(e){An.timestamp=Date.now(),An.data=e;let t=["INITIALIZE","CONNECT_SUCCESS","SOCIAL_LOGIN_SUCCESS"];(W.state.features?.analytics||t.includes(e.event))&&ve._setPendingEvent(An),this.subscribeToFlushTriggers()},sendWalletImpressionEvent(e){An.walletImpressions.push(e)},_transformPendingEventsForBatch(e){try{return e.filter(t=>t.props.event!=="WALLET_IMPRESSION_V2")}catch{return e}},_submitPendingEvents(){if(An.lastFlush=Date.now(),!(An.pendingEvents.length===0&&An.walletImpressions.length===0))try{let e=ve._transformPendingEventsForBatch(An.pendingEvents);An.walletImpressions.length&&e.push({eventId:te.getUUID(),url:window.location.href,domain:window.location.hostname,timestamp:Date.now(),props:{type:"track",event:"WALLET_IMPRESSION_V2",items:[...An.walletImpressions]}}),kze.sendBeacon({path:"/batch",params:ve.getSdkProperties(),body:e}),An.reportedErrors.FORBIDDEN=!1,An.pendingEvents=[],An.walletImpressions=[]}catch{An.reportedErrors.FORBIDDEN=!0}},subscribeToFlushTriggers(){An.subscribedToVisibilityChange||typeof document>"u"||(An.subscribedToVisibilityChange=!0,document?.addEventListener?.("visibilitychange",()=>{document.visibilityState==="hidden"&&ve._submitPendingEvents()}),document?.addEventListener?.("freeze",()=>{ve._submitPendingEvents()}),window?.addEventListener?.("pagehide",()=>{ve._submitPendingEvents()}),setInterval(()=>{ve._submitPendingEvents()},zde))}}});var Uze,Qo,Lze,Vde,Mze,gt,pe,yu=m(()=>{Fr();Hn();at();UM();$n();Cb();LM();wa();J_();jr();vs();lc();kn();Uze=te.getApiUrl(),Qo=new Ui({baseUrl:Uze,clientId:null}),Lze=40,Vde=4,Mze=20,gt=Xe({promises:{},page:1,count:0,featured:[],allFeatured:[],recommended:[],allRecommended:[],wallets:[],filteredWallets:[],search:[],isAnalyticsEnabled:!1,excludedWallets:[],isFetchingRecommendedWallets:!1,explorerWallets:[],explorerFilteredWallets:[],plan:{tier:"none",hasExceededUsageLimit:!1,limits:{isAboveRpcLimit:!1,isAboveMauLimit:!1}}}),pe={state:gt,subscribeKey(e,t){return _t(gt,e,t)},_getSdkProperties(){let{projectId:e,sdkType:t,sdkVersion:r}=W.state;return{projectId:e,st:t||"appkit",sv:r||"html-wagmi-4.2.2"}},_filterOutExtensions(e){return W.state.isUniversalProvider?e.filter(t=>!!(t.mobile_link||t.desktop_link||t.webapp_link)):e},async _fetchWalletImage(e){let t=`${Qo.baseUrl}/getWalletImage/${e}`,r=await Qo.getBlob({path:t,params:pe._getSdkProperties()});Vn.setWalletImage(e,URL.createObjectURL(r))},async _fetchNetworkImage(e){let t=`${Qo.baseUrl}/public/getAssetImage/${e}`,r=await Qo.getBlob({path:t,params:pe._getSdkProperties()});Vn.setNetworkImage(e,URL.createObjectURL(r))},async _fetchConnectorImage(e){let t=`${Qo.baseUrl}/public/getAssetImage/${e}`,r=await Qo.getBlob({path:t,params:pe._getSdkProperties()});Vn.setConnectorImage(e,URL.createObjectURL(r))},async _fetchCurrencyImage(e){let t=`${Qo.baseUrl}/public/getCurrencyImage/${e}`,r=await Qo.getBlob({path:t,params:pe._getSdkProperties()});Vn.setCurrencyImage(e,URL.createObjectURL(r))},async _fetchTokenImage(e){let t=`${Qo.baseUrl}/public/getTokenImage/${e}`,r=await Qo.getBlob({path:t,params:pe._getSdkProperties()});Vn.setTokenImage(e,URL.createObjectURL(r))},_filterWalletsByPlatform(e){let t=e.length,r=te.isMobile()?e?.filter(s=>s.mobile_link||s.webapp_link?!0:Object.values(Ra).map(i=>i.id).includes(s.id)):e,n=t-r.length;return{filteredWallets:r,mobileFilteredOutWalletsLength:n}},async fetchProjectConfig(){return(await Qo.get({path:"/appkit/v1/config",params:pe._getSdkProperties()})).features},async fetchUsage(){try{let e=await Qo.get({path:"/appkit/v1/project-limits",params:pe._getSdkProperties()}),{tier:t,isAboveMauLimit:r,isAboveRpcLimit:n}=e.planLimits,s=t==="starter",o=r||n;pe.state.plan={tier:t,hasExceededUsageLimit:s&&o,limits:{isAboveRpcLimit:n,isAboveMauLimit:r}}}catch(e){console.warn("Failed to fetch usage",e)}},async fetchAllowedOrigins(){try{let{allowedOrigins:e}=await Qo.get({path:"/projects/v1/origins",params:pe._getSdkProperties()});return e}catch(e){if(e instanceof Error&&e.cause instanceof Response){let t=e.cause.status;if(t===V.HTTP_STATUS_CODES.TOO_MANY_REQUESTS)throw new Error("RATE_LIMITED",{cause:e});if(t>=V.HTTP_STATUS_CODES.SERVER_ERROR&&t<600)throw new Error("SERVER_ERROR",{cause:e});return[]}return[]}},async fetchNetworkImages(){let t=R.getAllRequestedCaipNetworks()?.map(({assets:r})=>r?.imageId).filter(Boolean).filter(r=>!St.getNetworkImageById(r));t&&await Promise.allSettled(t.map(r=>pe._fetchNetworkImage(r)))},async fetchConnectorImages(){let{connectors:e}=X.state,t=e.map(({imageId:r})=>r).filter(Boolean);await Promise.allSettled(t.map(r=>pe._fetchConnectorImage(r)))},async fetchCurrencyImages(e=[]){await Promise.allSettled(e.map(t=>pe._fetchCurrencyImage(t)))},async fetchTokenImages(e=[]){await Promise.allSettled(e.map(t=>pe._fetchTokenImage(t)))},async fetchWallets(e){let t=e.exclude??[];pe._getSdkProperties().sv.startsWith("html-core-")&&t.push(...Object.values(Ra).map(i=>i.id));let n=await Qo.get({path:"/getWallets",params:{...pe._getSdkProperties(),...e,page:String(e.page),entries:String(e.entries),include:e.include?.join(","),exclude:t.join(",")}}),{filteredWallets:s,mobileFilteredOutWalletsLength:o}=pe._filterWalletsByPlatform(n?.data);return{data:s||[],count:n?.count,mobileFilteredOutWalletsLength:o}},async prefetchWalletRanks(){let e=X.state.connectors;if(!e?.length)return;let t={page:1,entries:20,badge:"certified"};if(t.names=e.map(s=>s.name).join(","),R.state.activeChain===V.CHAIN.EVM){let s=[...e.flatMap(o=>o.connectors?.map(i=>i.info?.rdns)||[]),...e.map(o=>o.info?.rdns)].filter(o=>typeof o=="string"&&o.length>0);s.length&&(t.rdns=s.join(","))}let{data:r}=await pe.fetchWallets(t);gt.explorerWallets=r,X.extendConnectorsWithExplorerWallets(r);let n=R.getRequestedCaipNetworkIds().join(",");gt.explorerFilteredWallets=r.filter(s=>s.chains?.some(o=>n.includes(o)))},async fetchFeaturedWallets(){let{featuredWalletIds:e}=W.state;if(e?.length){let t={...pe._getSdkProperties(),page:1,entries:e?.length??Vde,include:e},{data:r}=await pe.fetchWallets(t),n=[...r].sort((o,i)=>e.indexOf(o.id)-e.indexOf(i.id)),s=n.map(o=>o.image_id).filter(Boolean);await Promise.allSettled(s.map(o=>pe._fetchWalletImage(o))),gt.featured=n,gt.allFeatured=n}},async fetchRecommendedWallets(){try{gt.isFetchingRecommendedWallets=!0;let{includeWalletIds:e,excludeWalletIds:t,featuredWalletIds:r}=W.state,n=[...t??[],...r??[]].filter(Boolean),s=R.getRequestedCaipNetworkIds().join(","),o={page:1,entries:Vde,include:e,exclude:n,chains:s},{data:i,count:a}=await pe.fetchWallets(o),c=ae.getRecentWallets(),l=i.map(d=>d.image_id).filter(Boolean),u=c.map(d=>d.image_id).filter(Boolean);await Promise.allSettled([...l,...u].map(d=>pe._fetchWalletImage(d))),gt.recommended=i,gt.allRecommended=i,gt.count=a??0}catch{}finally{gt.isFetchingRecommendedWallets=!1}},async fetchWalletsByPage({page:e}){let{includeWalletIds:t,excludeWalletIds:r,featuredWalletIds:n}=W.state,s=R.getRequestedCaipNetworkIds().join(","),o=[...gt.recommended.map(({id:d})=>d),...r??[],...n??[]].filter(Boolean),i={page:e,entries:Lze,include:t,exclude:o,chains:s},{data:a,count:c,mobileFilteredOutWalletsLength:l}=await pe.fetchWallets(i);gt.mobileFilteredOutWalletsLength=l+(gt.mobileFilteredOutWalletsLength??0);let u=a.slice(0,Mze).map(d=>d.image_id).filter(Boolean);await Promise.allSettled(u.map(d=>pe._fetchWalletImage(d))),gt.wallets=te.uniqueBy([...gt.wallets,...pe._filterOutExtensions(a)],"id").filter(d=>d.chains?.some(p=>s.includes(p))),gt.count=c>gt.count?c:gt.count,gt.page=e},async initializeExcludedWallets({ids:e}){let t={page:1,entries:e.length,include:e},{data:r}=await pe.fetchWallets(t);r&&r.forEach(n=>{gt.excludedWallets.push({rdns:n.rdns,name:n.name})})},async searchWallet({search:e,badge:t}){let{includeWalletIds:r,excludeWalletIds:n}=W.state,s=R.getRequestedCaipNetworkIds().join(",");gt.search=[];let o={page:1,entries:100,search:e?.trim(),badge_type:t,include:r,exclude:n,chains:s},{data:i}=await pe.fetchWallets(o);ve.sendEvent({type:"track",event:"SEARCH_WALLET",properties:{badge:t??"",search:e??""}});let a=i.map(c=>c.image_id).filter(Boolean);await Promise.allSettled([...a.map(c=>pe._fetchWalletImage(c)),te.wait(300)]),gt.search=pe._filterOutExtensions(i)},initPromise(e,t){let r=gt.promises[e];return r||(gt.promises[e]=t())},prefetch({fetchConnectorImages:e=!0,fetchFeaturedWallets:t=!0,fetchRecommendedWallets:r=!0,fetchNetworkImages:n=!0,fetchWalletRanks:s=!0}={}){let o=[e&&pe.initPromise("connectorImages",pe.fetchConnectorImages),t&&pe.initPromise("featuredWallets",pe.fetchFeaturedWallets),r&&pe.initPromise("recommendedWallets",pe.fetchRecommendedWallets),n&&pe.initPromise("networkImages",pe.fetchNetworkImages),s&&pe.initPromise("walletRanks",pe.prefetchWalletRanks)].filter(Boolean);return Promise.allSettled(o)},prefetchAnalyticsConfig(){W.state.features?.analytics&&pe.fetchAnalyticsConfig()},async fetchAnalyticsConfig(){try{let{isAnalyticsEnabled:e}=await Qo.get({path:"/getAnalyticsConfig",params:pe._getSdkProperties()});W.setFeatures({analytics:e})}catch{W.setFeatures({analytics:!1})}},filterByNamespaces(e){if(!e?.length){gt.featured=gt.allFeatured,gt.recommended=gt.allRecommended;return}let t=R.getRequestedCaipNetworkIds().join(",");gt.featured=gt.allFeatured.filter(r=>r.chains?.some(n=>t.includes(n))),gt.recommended=gt.allRecommended.filter(r=>r.chains?.some(n=>t.includes(n))),gt.filteredWallets=gt.wallets.filter(r=>r.chains?.some(n=>t.includes(n)))},clearFilterByNamespaces(){gt.filteredWallets=[]},setFilterByNamespace(e){if(!e){gt.featured=gt.allFeatured,gt.recommended=gt.allRecommended;return}let t=R.getRequestedCaipNetworkIds().join(",");gt.featured=gt.allFeatured.filter(r=>r.chains?.some(n=>t.includes(n))),gt.recommended=gt.allRecommended.filter(r=>r.chains?.some(n=>t.includes(n))),gt.filteredWallets=gt.wallets.filter(r=>r.chains?.some(n=>t.includes(n)))}}});var lo,MM=m(()=>{at();yu();Xo();vs();kn();Q_();ya();$n();wa();lo={filterOutDuplicatesByRDNS(e){let t=W.state.enableEIP6963?X.state.connectors:[],r=ae.getRecentWallets(),n=t.map(a=>a.info?.rdns).filter(Boolean),s=r.map(a=>a.rdns).filter(Boolean),o=n.concat(s);if(o.includes("io.metamask.mobile")&&te.isMobile()){let a=o.indexOf("io.metamask.mobile");o[a]="io.metamask"}return e.filter(a=>!(a?.rdns&&o.includes(String(a.rdns))||!a?.rdns&&t.some(l=>l.name===a.name)))},filterOutDuplicatesByIds(e){let t=X.state.connectors.filter(a=>a.type==="ANNOUNCED"||a.type==="INJECTED"||a.type==="MULTI_CHAIN"),r=ae.getRecentWallets(),n=t.map(a=>a.explorerId||a.explorerWallet?.id||a.id),s=r.map(a=>a.id),o=n.concat(s);return e.filter(a=>!o.includes(a?.id))},filterOutDuplicateWallets(e){let t=this.filterOutDuplicatesByRDNS(e);return this.filterOutDuplicatesByIds(t)},markWalletsAsInstalled(e){let{connectors:t}=X.state,{featuredWalletIds:r}=W.state,n=t.filter(i=>i.type==="ANNOUNCED").reduce((i,a)=>(a.info?.rdns&&(i[a.info.rdns]=!0),i),{});return e.map(i=>({...i,installed:!!i.rdns&&!!n[i.rdns??""]})).sort((i,a)=>{let c=Number(a.installed)-Number(i.installed);if(c!==0)return c;if(r?.length){let l=r.indexOf(i.id),u=r.indexOf(a.id);if(l!==-1&&u!==-1)return l-u;if(l!==-1)return-1;if(u!==-1)return 1}return 0})},getConnectOrderMethod(e,t){let r=e?.connectMethodsOrder||W.state.features?.connectMethodsOrder,n=t||X.state.connectors;if(r)return r;let{injected:s,announced:o}=Bn.getConnectorsByType(n,pe.state.recommended,pe.state.featured),i=s.filter(Bn.showConnector),a=o.filter(Bn.showConnector);return i.length||a.length?["wallet","email","social"]:Ke.DEFAULT_CONNECT_METHOD_ORDER},isExcluded(e){let t=!!e.rdns&&pe.state.excludedWallets.some(n=>n.rdns===e.rdns),r=!!e.name&&pe.state.excludedWallets.some(n=>dx.isLowerCaseMatch(n.name,e.name));return t||r},markWalletsWithDisplayIndex(e){return e.map((t,r)=>({...t,display_index:r}))},filterWalletsByWcSupport(e){return Q.state.wcBasic?e.filter(t=>t.supports_wc):te.isMobile()?e.filter(t=>t.supports_wc||Ke.MANDATORY_WALLET_IDS_ON_MOBILE.includes(t.id)):e},getWalletConnectWallets(e){let t=[...pe.state.featured,...pe.state.recommended];pe.state.filteredWallets?.length>0?t.push(...pe.state.filteredWallets):t.push(...e);let r=te.uniqueBy(t,"id"),n=lo.markWalletsAsInstalled(r),s=lo.filterWalletsByWcSupport(n);return lo.markWalletsWithDisplayIndex(s)}}});var Bn,Q_=m(()=>{at();yu();jr();Xo();vs();kn();$n();DM();wa();MM();Bn={getConnectorsByType(e,t,r){let{customWallets:n}=W.state,s=ae.getRecentWallets(),o=lo.filterOutDuplicateWallets(t),i=lo.filterOutDuplicateWallets(r),a=e.filter(d=>d.type==="MULTI_CHAIN"),c=e.filter(d=>d.type==="ANNOUNCED"),l=e.filter(d=>d.type==="INJECTED"),u=e.filter(d=>d.type==="EXTERNAL");return{custom:n,recent:s,external:u,multiChain:a,announced:c,injected:l,recommended:o,featured:i}},showConnector(e){let t=e.info?.rdns,r=!!t&&pe.state.excludedWallets.some(s=>!!s.rdns&&s.rdns===t),n=!!e.name&&pe.state.excludedWallets.some(s=>dx.isLowerCaseMatch(s.name,e.name));return!(e.type==="INJECTED"&&(e.name==="Browser Wallet"&&(!te.isMobile()||te.isMobile()&&!t&&!Q.checkInstalled())||r||n)||(e.type==="ANNOUNCED"||e.type==="EXTERNAL")&&(r||n))},getIsConnectedWithWC(){return Array.from(R.state.chains.values()).some(r=>X.getConnectorId(r.namespace)===V.CONNECTOR_ID.WALLET_CONNECT)},getConnectorTypeOrder({recommended:e,featured:t,custom:r,recent:n,announced:s,injected:o,multiChain:i,external:a,overriddenConnectors:c=W.state.features?.connectorTypeOrder??[]}){let u=[{type:"walletConnect",isEnabled:!0},{type:"recent",isEnabled:n.length>0},{type:"injected",isEnabled:[...o,...s,...i].length>0},{type:"featured",isEnabled:t.length>0},{type:"custom",isEnabled:r&&r.length>0},{type:"external",isEnabled:a.length>0},{type:"recommended",isEnabled:e.length>0}].filter(h=>h.isEnabled),d=new Set(u.map(h=>h.type)),p=c.filter(h=>d.has(h)).map(h=>({type:h,isEnabled:!0})),f=u.filter(({type:h})=>!p.some(({type:y})=>y===h));return Array.from(new Set([...p,...f].map(({type:h})=>h)))},sortConnectorsByExplorerWallet(e){return[...e].sort((t,r)=>t.explorerWallet&&r.explorerWallet?(t.explorerWallet.order??0)-(r.explorerWallet.order??0):t.explorerWallet?-1:r.explorerWallet?1:0)},getPriority(e){return e.id===V.CONNECTOR_ID.BASE_ACCOUNT?0:e.id===V.CONNECTOR_ID.COINBASE||e.id===V.CONNECTOR_ID.COINBASE_SDK?1:2},sortConnectorsByPriority(e){return[...e].sort((t,r)=>Bn.getPriority(t)-Bn.getPriority(r))},getAuthName({email:e,socialUsername:t,socialProvider:r}){return t?r&&r==="discord"&&t.endsWith("0")?t.slice(0,-1):t:e.length>30?`${e.slice(0,-3)}...`:e},async fetchProviderData(e){try{if(e.name==="Browser Wallet"&&!te.isMobile())return{accounts:[],chainId:void 0};if(e.id===V.CONNECTOR_ID.AUTH)return{accounts:[],chainId:void 0};let[t,r]=await Promise.all([e.provider?.request({method:"eth_accounts"}),e.provider?.request({method:"eth_chainId"}).then(n=>Number(n))]);return{accounts:t,chainId:r}}catch(t){return console.warn(`Failed to fetch provider data for ${e.name}`,t),{accounts:[],chainId:void 0}}},getFilteredCustomWallets(e){let t=ae.getRecentWallets(),r=X.state.connectors.map(i=>i.info?.rdns).filter(Boolean),n=t.map(i=>i.rdns).filter(Boolean),s=r.concat(n);if(s.includes("io.metamask.mobile")&&te.isMobile()){let i=s.indexOf("io.metamask.mobile");s[i]="io.metamask"}return e.filter(i=>!s.includes(String(i?.rdns)))},hasWalletConnector(e){return X.state.connectors.some(t=>t.id===e.id||t.name===e.name)},isWalletCompatibleWithCurrentChain(e){let t=R.state.activeChain;return t&&e.chains?e.chains.some(r=>{let n=r.split(":")[0];return t===n}):!0},getFilteredRecentWallets(){return ae.getRecentWallets().filter(r=>!lo.isExcluded(r)).filter(r=>!this.hasWalletConnector(r)).filter(r=>this.isWalletCompatibleWithCurrentChain(r))},getCappedRecommendedWallets(e){let{connectors:t}=X.state,{customWallets:r,featuredWalletIds:n}=W.state,s=t.find(A=>A.id==="walletConnect"),o=t.filter(A=>A.type==="INJECTED"||A.type==="ANNOUNCED"||A.type==="MULTI_CHAIN");if(!s&&!o.length&&!r?.length)return[];let i=q4.isEmailEnabled(),a=q4.isSocialsEnabled(),c=o.filter(A=>A.name!=="Browser Wallet"&&A.name!=="WalletConnect"),l=n?.length||0,u=r?.length||0,d=c.length||0,p=i?1:0,f=a?1:0,h=l+u+d+p+f,y=Math.max(0,4-h);return y<=0?[]:lo.filterOutDuplicateWallets(e).slice(0,y)},processConnectorsByType(e,t=!0){let r=Bn.sortConnectorsByExplorerWallet([...e]);return t?r.filter(Bn.showConnector):r},connectorList(){let e=Bn.getConnectorsByType(X.state.connectors,pe.state.recommended,pe.state.featured),t=this.processConnectorsByType(e.announced.filter(f=>f.id!=="walletConnect")),r=this.processConnectorsByType(e.injected),n=this.processConnectorsByType(e.multiChain.filter(f=>f.name!=="WalletConnect"),!1),s=e.custom,o=e.recent,i=this.processConnectorsByType(e.external.filter(f=>f.id!==V.CONNECTOR_ID.COINBASE_SDK&&f.id!==V.CONNECTOR_ID.BASE_ACCOUNT)),a=e.recommended,c=e.featured,l=Bn.getConnectorTypeOrder({custom:s,recent:o,announced:t,injected:r,multiChain:n,recommended:a,featured:c,external:i}),u=X.state.connectors.find(f=>f.id==="walletConnect"),d=te.isMobile(),p=[];for(let f of l)switch(f){case"walletConnect":{!d&&u&&p.push({kind:"connector",subtype:"walletConnect",connector:u});break}case"recent":{Bn.getFilteredRecentWallets().forEach(g=>p.push({kind:"wallet",subtype:"recent",wallet:g}));break}case"injected":{n.forEach(h=>p.push({kind:"connector",subtype:"multiChain",connector:h})),t.forEach(h=>p.push({kind:"connector",subtype:"announced",connector:h})),r.forEach(h=>p.push({kind:"connector",subtype:"injected",connector:h}));break}case"featured":{c.forEach(h=>p.push({kind:"wallet",subtype:"featured",wallet:h}));break}case"custom":{Bn.getFilteredCustomWallets(s??[]).forEach(g=>p.push({kind:"wallet",subtype:"custom",wallet:g}));break}case"external":{i.forEach(h=>p.push({kind:"connector",subtype:"external",connector:h}));break}case"recommended":{Bn.getCappedRecommendedWallets(a).forEach(g=>p.push({kind:"wallet",subtype:"recommended",wallet:g}));break}default:console.warn(`Unknown connector type: ${f}`)}return p},hasInjectedConnectors(){return X.state.connectors.filter(e=>(e.type==="INJECTED"||e.type==="ANNOUNCED"||e.type==="MULTI_CHAIN")&&e.name!=="Browser Wallet"&&e.name!=="WalletConnect").length}}});var Hze,mr,$ze,K,uc=m(()=>{Fr();Hn();co();yu();jr();vs();Mp();kn();Hze=["ConnectingExternal","ConnectingMultiChain","ConnectingSocial","ConnectingFarcaster"],mr=Xe({view:"Connect",history:["Connect"],transactionStack:[]}),$ze={state:mr,subscribeKey(e,t){return _t(mr,e,t)},pushTransactionStack(e){mr.transactionStack.push(e)},popTransactionStack(e){let t=mr.transactionStack.pop();if(!t)return;let{onSuccess:r,onError:n,onCancel:s}=t;switch(e){case"success":r?.();break;case"error":n?.(),K.goBack();break;case"cancel":s?.(),K.goBack();break;default:}},push(e,t){let r=e,n=t;pe.state.plan.hasExceededUsageLimit&&Hze.includes(e)&&(r="UsageExceeded",n=void 0),r!==mr.view&&(mr.view=r,mr.history.push(r),mr.data=n)},reset(e,t){mr.view=e,mr.history=[e],mr.data=t},replace(e,t){mr.history.at(-1)===e||(mr.view=e,mr.history[mr.history.length-1]=e,mr.data=t)},goBack(){let e=R.state.activeCaipAddress,t=K.state.view==="ConnectingFarcaster",r=!e&&t;if(mr.history.length>1){mr.history.pop();let[n]=mr.history.slice(-1);n&&(e&&n==="Connect"?mr.view="Account":mr.view=n)}else ke.close();mr.data?.wallet&&(mr.data.wallet=void 0),mr.data?.redirectView&&(mr.data.redirectView=void 0),setTimeout(()=>{if(r){R.setAccountProp("farcasterUrl",void 0,R.state.activeChain);let n=X.getAuthConnector();n?.provider?.reload();let s=Kl(W.state);n?.provider?.syncDappData?.({metadata:s.metadata,sdkVersion:s.sdkVersion,projectId:s.projectId,sdkType:s.sdkType})}},100)},goBackToIndex(e){if(mr.history.length>1){mr.history=mr.history.slice(0,e+1);let[t]=mr.history.slice(-1);t&&(mr.view=t)}},goBackOrCloseModal(){K.state.history.length>1?K.goBack():ke.close()}},K=Cr($ze)});var Hp,HM,rn,$M=m(()=>{Fr();at();co();vs();Hp=Xe({themeMode:"dark",themeVariables:{},w3mThemeVariables:void 0}),HM={state:Hp,subscribe(e){return Ut(Hp,()=>e(Hp))},setThemeMode(e){Hp.themeMode=e;try{let t=X.getAuthConnector();if(t){let r=HM.getSnapshot().themeVariables;t.provider.syncTheme({themeMode:e,themeVariables:r,w3mThemeVariables:m1(r,e)})}}catch{console.info("Unable to sync theme to auth connector")}},setThemeVariables(e){Hp.themeVariables={...Hp.themeVariables,...e};try{let t=X.getAuthConnector();if(t){let r=HM.getSnapshot().themeVariables;t.provider.syncTheme({themeVariables:r,w3mThemeVariables:m1(Hp.themeVariables,Hp.themeMode)})}}catch{console.info("Unable to sync theme to auth connector")}},getSnapshot(){return Kl(Hp)}},rn=Cr(HM)});var qde,Fze,Yt,jze,X,vs=m(()=>{Fr();Hn();at();j0();dc();Q_();LM();wa();co();yu();jr();Mp();kn();uc();$M();qde=Object.fromEntries(ZC.map(e=>[e,void 0])),Fze=Object.fromEntries(ZC.map(e=>[e,!0])),Yt=Xe({allConnectors:[],connectors:[],activeConnector:void 0,filterByNamespace:void 0,activeConnectorIds:qde,filterByNamespaceMap:Fze}),jze={state:Yt,subscribe(e){return Ut(Yt,()=>{e(Yt)})},subscribeKey(e,t){return _t(Yt,e,t)},initialize(e){e.forEach(t=>{let r=ae.getConnectedConnectorId(t);r&&X.setConnectorId(r,t)})},setActiveConnector(e){e&&(Yt.activeConnector=op(e))},setConnectors(e){e.filter(s=>!Yt.allConnectors.some(o=>o.id===s.id&&X.getConnectorName(o.name)===X.getConnectorName(s.name)&&o.chain===s.chain)).forEach(s=>{s.type!=="MULTI_CHAIN"&&Yt.allConnectors.push(op(s))});let r=X.getEnabledNamespaces(),n=X.getEnabledConnectors(r);Yt.connectors=X.mergeMultiChainConnectors(n)},filterByNamespaces(e){Object.keys(Yt.filterByNamespaceMap).forEach(t=>{Yt.filterByNamespaceMap[t]=!1}),e.forEach(t=>{Yt.filterByNamespaceMap[t]=!0}),X.updateConnectorsForEnabledNamespaces()},filterByNamespace(e,t){Yt.filterByNamespaceMap[e]=t,X.updateConnectorsForEnabledNamespaces()},updateConnectorsForEnabledNamespaces(){let e=X.getEnabledNamespaces(),t=X.getEnabledConnectors(e),r=X.areAllNamespacesEnabled();Yt.connectors=X.mergeMultiChainConnectors(t),r?pe.clearFilterByNamespaces():pe.filterByNamespaces(e)},getEnabledNamespaces(){return Object.entries(Yt.filterByNamespaceMap).filter(([e,t])=>t).map(([e])=>e)},getEnabledConnectors(e){return Yt.allConnectors.filter(t=>e.includes(t.chain))},areAllNamespacesEnabled(){return Object.values(Yt.filterByNamespaceMap).every(e=>e)},mergeMultiChainConnectors(e){let t=X.generateConnectorMapByName(e),r=[];return t.forEach(n=>{let s=n[0],o=s?.id===V.CONNECTOR_ID.AUTH;n.length>1&&s?r.push({name:s.name,imageUrl:s.imageUrl,imageId:s.imageId,connectors:[...n],type:o?"AUTH":"MULTI_CHAIN",chain:"eip155",id:s?.id||""}):s&&r.push(s)}),r},generateConnectorMapByName(e){let t=new Map;return e.forEach(r=>{let{name:n}=r,s=X.getConnectorName(n);if(!s)return;let o=t.get(s)||[];o.find(a=>a.chain===r.chain)||o.push(r),t.set(s,o)}),t},getConnectorName(e){return e&&({"Trust Wallet":"Trust"}[e]||e)},getUniqueConnectorsByName(e){let t=[];return e.forEach(r=>{t.find(n=>n.chain===r.chain)||t.push(r)}),t},addConnector(e){if(e.id===V.CONNECTOR_ID.AUTH){let t=e,r=Kl(W.state),n=rn.getSnapshot().themeMode,s=rn.getSnapshot().themeVariables;t?.provider?.syncDappData?.({metadata:r.metadata,sdkVersion:r.sdkVersion,projectId:r.projectId,sdkType:r.sdkType}),t?.provider?.syncTheme({themeMode:n,themeVariables:s,w3mThemeVariables:m1(s,n)}),X.setConnectors([e])}else X.setConnectors([e])},getAuthConnector(e){let t=e||R.state.activeChain,r=Yt.connectors.find(n=>n.id===V.CONNECTOR_ID.AUTH);if(r)return r?.connectors?.length?r.connectors.find(s=>s.chain===t):r},getAnnouncedConnectorRdns(){return Yt.connectors.filter(e=>e.type==="ANNOUNCED").map(e=>e.info?.rdns)},getConnectorById(e){return Bn.sortConnectorsByPriority(Yt.allConnectors).find(r=>r.id===e)},getConnector({id:e,namespace:t}){let r=t||R.state.activeChain,n=Yt.allConnectors.filter(i=>i.chain===r);return Bn.sortConnectorsByPriority(n).find(i=>i.id===e||i.explorerId===e)},syncIfAuthConnector(e){if(e.id!=="AUTH")return;let t=e,r=Kl(W.state),n=rn.getSnapshot().themeMode,s=rn.getSnapshot().themeVariables;t?.provider?.syncDappData?.({metadata:r.metadata,sdkVersion:r.sdkVersion,sdkType:r.sdkType,projectId:r.projectId}),t.provider.syncTheme({themeMode:n,themeVariables:s,w3mThemeVariables:m1(s,n)})},getConnectorsByNamespace(e){let t=Yt.allConnectors.filter(r=>r.chain===e);return X.mergeMultiChainConnectors(t)},canSwitchToSmartAccount(e){return R.checkIfSmartAccountEnabled()&&zr(e)===Gr.ACCOUNT_TYPES.EOA},selectWalletConnector(e){let t=K.state.data?.redirectView,r=R.state.activeChain,n=r?X.getConnector({id:e.id,namespace:r}):void 0;jde.handleMobileDeeplinkRedirect(n?.explorerId||e.id,R.state.activeChain),n?K.push("ConnectingExternal",{connector:n,wallet:e,redirectView:t}):K.push("ConnectingWalletConnect",{wallet:e,redirectView:t})},getConnectors(e){return e?X.getConnectorsByNamespace(e):X.mergeMultiChainConnectors(Yt.allConnectors)},setFilterByNamespace(e){Yt.filterByNamespace=e,Yt.connectors=X.getConnectors(e),pe.setFilterByNamespace(e)},setConnectorId(e,t){e&&(Yt.activeConnectorIds={...Yt.activeConnectorIds,[t]:e},ae.setConnectedConnectorId(t,e))},removeConnectorId(e){Yt.activeConnectorIds={...Yt.activeConnectorIds,[e]:void 0},ae.deleteConnectedConnectorId(e)},getConnectorId(e){if(e)return Yt.activeConnectorIds[e]},isConnected(e){return e?!!Yt.activeConnectorIds[e]:Object.values(Yt.activeConnectorIds).some(t=>!!t)},resetConnectorIds(){Yt.activeConnectorIds={...qde}},extendConnectorsWithExplorerWallets(e){Yt.allConnectors.forEach(n=>{let s=e.find(o=>o.id===n.id||o.rdns&&o.rdns===n.info?.rdns);s&&(n.explorerWallet=s)});let t=X.getEnabledNamespaces(),r=X.getEnabledConnectors(t);Yt.connectors=X.mergeMultiChainConnectors(r)},async connect(e={}){let{namespace:t}=e;return X.setFilterByNamespace(t),K.push("Connect",{addWalletForNamespace:t}),new Promise((r,n)=>{if(t){let s=R.subscribeChainProp("accountState",i=>{i?.caipAddress&&(r({caipAddress:i?.caipAddress}),s())},t),o=ke.subscribeKey("open",i=>{i||(n(new Error("Modal closed")),o())})}else{let s=R.subscribeKey("activeCaipAddress",i=>{i&&(r({caipAddress:i}),s())}),o=ke.subscribeKey("open",i=>{i||(n(new Error("Modal closed")),o())})}})}},X=Cr(jze)});var zze,Ib,Wde=m(()=>{at();at();j0();jr();Xo();vs();lc();Mp();uc();dc();ya();$n();wa();zze=1e3,Ib={checkNamespaceConnectorId(e,t){return X.getConnectorId(e)===t},isSocialProvider(e){return Ke.DEFAULT_REMOTE_FEATURES.socials.includes(e)},connectWalletConnect({walletConnect:e,connector:t,closeModalOnConnect:r=!0,redirectViewOnModalClose:n="Connect",onOpen:s,onConnect:o}){return new Promise((i,a)=>{if(e&&X.setActiveConnector(t),s?.(te.isMobile()&&e),n){let l=ke.subscribeKey("open",u=>{u||(K.state.view!==n&&K.replace(n),l(),a(new Error("Modal closed")))})}let c=R.subscribeKey("activeCaipAddress",l=>{l&&(o?.(),r&&ke.close(),c(),i(it.parseCaipAddress(l)))})})},connectExternal(e){return new Promise((t,r)=>{let n=R.subscribeKey("activeCaipAddress",s=>{s&&(ke.close(),n(),t(it.parseCaipAddress(s)))});Q.connectExternal(e,e.chain).catch(()=>{n(),r(new Error("Connection rejected"))})})},connectSocial({social:e,namespace:t,closeModalOnConnect:r=!0,onOpenFarcaster:n,onConnect:s}){let o,i=!1,a=null,c=t||R.state.activeChain,l=R.subscribeKey("activeCaipAddress",u=>{u&&(r&&ke.close(),l())});return new Promise((u,d)=>{async function p(h){if(h.data?.resultUri)if(h.origin===V.SECURE_SITE_SDK_ORIGIN){window.removeEventListener("message",p,!1);try{let g=X.getAuthConnector(c);if(g&&!i){o&&o.close(),i=!0;let y=h.data.resultUri;ve.sendEvent({type:"track",event:"SOCIAL_LOGIN_REQUEST_USER_DATA",properties:{provider:e}}),ae.setConnectedSocialProvider(e),await Q.connectExternal({id:g.id,type:g.type,socialUri:y},g.chain);let E=R.state.activeCaipAddress;if(!E){d(new Error("Failed to connect"));return}u(it.parseCaipAddress(E)),ve.sendEvent({type:"track",event:"SOCIAL_LOGIN_SUCCESS",properties:{provider:e}})}}catch(g){ve.sendEvent({type:"track",event:"SOCIAL_LOGIN_ERROR",properties:{provider:e,message:te.parseError(g)}}),d(new Error("Failed to connect"))}}else ve.sendEvent({type:"track",event:"SOCIAL_LOGIN_ERROR",properties:{provider:e,message:"Untrusted Origin"}})}async function f(){if(ve.sendEvent({type:"track",event:"SOCIAL_LOGIN_STARTED",properties:{provider:e}}),e==="farcaster"){n?.();let h=ke.subscribeKey("open",y=>{!y&&e==="farcaster"&&(d(new Error("Popup closed")),s?.(),h())}),g=X.getAuthConnector();if(g&&!R.getAccountData(c)?.farcasterUrl)try{let{url:E}=await g.provider.getFarcasterUri();R.setAccountProp("farcasterUrl",E,c)}catch{d(new Error("Failed to connect to farcaster"))}}else{let h=X.getAuthConnector();a=te.returnOpenHref(`${V.SECURE_SITE_SDK_ORIGIN}/loading`,"popupWindow","width=600,height=800,scrollbars=yes");try{if(h){let{uri:g}=await h.provider.getSocialRedirectUri({provider:e});if(a&&g){a.location.href=g,o=a;let y=setInterval(()=>{o?.closed&&!i&&(d(new Error("Popup closed")),clearInterval(y))},1e3);window.addEventListener("message",p,!1)}else a?.close(),d(new Error("Failed to initiate social connection"))}}catch{d(new Error("Failed to initiate social connection")),a?.close()}}}f()})},connectEmail({closeModalOnConnect:e=!0,redirectViewOnModalClose:t="Connect",onOpen:r,onConnect:n}){return new Promise((s,o)=>{if(r?.(),t){let a=ke.subscribeKey("open",c=>{c||(K.state.view!==t&&K.replace(t),a(),o(new Error("Modal closed")))})}let i=R.subscribeKey("activeCaipAddress",a=>{a&&(n?.(),e&&ke.close(),i(),s(it.parseCaipAddress(a)))})})},async updateEmail(){let e=ae.getConnectedConnectorId(R.state.activeChain),t=X.getAuthConnector();if(!t)throw new Error("No auth connector found");if(e!==V.CONNECTOR_ID.AUTH)throw new Error("Not connected to email or social");let r=t.provider.getEmail()??"";return await ke.open({view:"UpdateEmailWallet",data:{email:r,redirectView:void 0}}),new Promise((n,s)=>{let o=setInterval(()=>{let a=t.provider.getEmail()??"";a!==r&&(ke.close(),clearInterval(o),i(),n({email:a}))},zze),i=ke.subscribeKey("open",a=>{a||(K.state.view!=="Connect"&&K.push("Connect"),clearInterval(o),i(),s(new Error("Modal closed")))})})},canSwitchToSmartAccount(e){return R.checkIfSmartAccountEnabled()&&zr(e)===Gr.ACCOUNT_TYPES.EOA}}});function _b(){let e=R.state.activeCaipNetwork?.chainNamespace||"eip155",t=R.state.activeCaipNetwork?.id||1,r=Ke.NATIVE_TOKEN_ADDRESS[e];return`${e}:${t}:${r}`}function FM(e){return Ke.NATIVE_TOKEN_ADDRESS[e]}function zr(e){return R.getAccountData(e)?.preferredAccountType}function lg(e){return e?R.state.chains.get(e)?.networkState?.caipNetwork:R.state.activeCaipNetwork}var dc=m(()=>{jr();ya()});var $p,jM=m(()=>{Xo();vs();lc();kn();$n();$p={getConnectionStatus(e,t){let r=X.state.activeConnectorIds[t],n=Q.getConnections(t);return!!r&&e.connectorId===r?"connected":n.some(i=>i.connectorId.toLowerCase()===e.connectorId.toLowerCase())?"active":"disconnected"},excludeConnectorAddressFromConnections({connections:e,connectorId:t,addresses:r}){return e.map(n=>{if((t?n.connectorId.toLowerCase()===t.toLowerCase():!1)&&r){let o=n.accounts.filter(i=>!r.some(c=>c.toLowerCase()===i.address.toLowerCase()));return{...n,accounts:o}}return n})},excludeExistingConnections(e,t){let r=new Set(e);return t.filter(n=>!r.has(n.connectorId))},getConnectionsByConnectorId(e,t){return e.filter(r=>r.connectorId.toLowerCase()===t.toLowerCase())},getConnectionsData(e){let t=!!W.state.remoteFeatures?.multiWallet,r=X.state.activeConnectorIds[e],n=Q.getConnections(e),o=(Q.state.recentConnections.get(e)??[]).filter(a=>X.getConnectorById(a.connectorId)),i=$p.excludeExistingConnections([...n.map(a=>a.connectorId),...r?[r]:[]],o);return t?{connections:n,recentConnections:i}:{connections:n.filter(a=>a.connectorId.toLowerCase()===r?.toLowerCase()),recentConnections:[]}},onConnectMobile(e){let t=Q.state.wcUri;if(e?.mobile_link&&t)try{Q.setWcError(!1);let{mobile_link:r,link_mode:n,name:s}=e,{redirect:o,redirectUniversalLink:i,href:a}=te.formatNativeUrl(r,t,n),c=o,l=i,u=te.isIframe()?"_top":"_self";Q.setWcLinking({name:s,href:a}),Q.setRecentWallet(e),W.state.experimental_preferUniversalLinks&&l?te.openHref(l,u):te.openHref(c,u)}catch(r){ve.sendEvent({type:"track",event:"CONNECT_PROXY_ERROR",properties:{message:r instanceof Error?r.message:"Error parsing the deep link",uri:t,mobile_link:e.mobile_link,name:e.name}}),Q.setWcError(!0)}}}});var Tb,uo,W4=m(()=>{Fr();Hn();Tb=Xe({loading:!1,open:!1,selectedNetworkId:void 0,activeChain:void 0,initialized:!1,connectingWallet:void 0}),uo={state:Tb,subscribe(e){return Ut(Tb,()=>e(Tb))},subscribeOpen(e){return _t(Tb,"open",e)},set(e){Object.assign(Tb,{...Tb,...e})}}});var nn,Vze,K4,Kde=m(()=>{Fr();j0();dc();co();Lp();jr();lc();kn();F0();nn=Xe({transactions:[],transactionsByYear:{},lastNetworkInView:void 0,loading:!1,empty:!1,next:void 0}),Vze={state:nn,subscribe(e){return Ut(nn,()=>e(nn))},setLastNetworkInView(e){nn.lastNetworkInView=e},async fetchTransactions(e){if(!e)throw new Error("Transactions can't be fetched without an accountAddress");nn.loading=!0;try{let t=await $e.fetchTransactions({account:e,cursor:nn.next,chainId:R.state.activeCaipNetwork?.caipNetworkId}),r=K4.filterSpamTransactions(t.data),n=K4.filterByConnectedChain(r),s=[...nn.transactions,...n];nn.loading=!1,nn.transactions=s,nn.transactionsByYear=K4.groupTransactionsByYearAndMonth(nn.transactionsByYear,n),nn.empty=s.length===0,nn.next=t.next?t.next:void 0}catch{let r=R.state.activeChain;ve.sendEvent({type:"track",event:"ERROR_FETCH_TRANSACTIONS",properties:{address:e,projectId:W.state.projectId,cursor:nn.next,isSmartAccount:zr(r)===Gr.ACCOUNT_TYPES.SMART_ACCOUNT}}),Ze.showError("Failed to fetch transactions"),nn.loading=!1,nn.empty=!0,nn.next=void 0}},groupTransactionsByYearAndMonth(e={},t=[]){let r=e;return t.forEach(n=>{let s=new Date(n.metadata.minedAt).getFullYear(),o=new Date(n.metadata.minedAt).getMonth(),i=r[s]??{},c=(i[o]??[]).filter(l=>l.id!==n.id);r[s]={...i,[o]:[...c,n].sort((l,u)=>new Date(u.metadata.minedAt).getTime()-new Date(l.metadata.minedAt).getTime())}}),r},filterSpamTransactions(e){return e.filter(t=>!t.transfers?.every(n=>n.nft_info?.flags.is_spam===!0))},filterByConnectedChain(e){let t=R.state.activeCaipNetwork?.caipNetworkId;return e.filter(n=>n.metadata.chain===t)},clearCursor(){nn.next=void 0},resetTransactions(){nn.transactions=[],nn.transactionsByYear={},nn.lastNetworkInView=void 0,nn.loading=!1,nn.empty=!1,nn.next=void 0}},K4=Cr(Vze,"API_ERROR")});var Lt,ug,qze,Q,Xo=m(()=>{Fr();Hn();at();dc();jM();Wde();$n();wa();co();jr();vs();lc();Mp();W4();uc();Kde();Lt=Xe({connections:new Map,recentConnections:new Map,isSwitchingConnection:!1,wcError:!1,wcFetchingUri:!1,buffering:!1,status:"disconnected"}),qze={state:Lt,subscribe(e){return Ut(Lt,()=>e(Lt))},subscribeKey(e,t){return _t(Lt,e,t)},_getClient(){return Lt._client},setClient(e){Lt._client=op(e)},initialize(e){let t=e.filter(r=>!!r.namespace).map(r=>r.namespace);Q.syncStorageConnections(t)},syncStorageConnections(e){let t=ae.getConnections(),r=e??Array.from(R.state.chains.keys());for(let n of r){let s=t[n]??[],o=new Map(Lt.recentConnections);o.set(n,s),Lt.recentConnections=o}},getConnections(e){return e?Lt.connections.get(e)??[]:[]},hasAnyConnection(e){let t=Q.state.connections;return Array.from(t.values()).flatMap(r=>r).some(({connectorId:r})=>r===e)},async connectWalletConnect({cache:e="auto"}={}){Lt.wcFetchingUri=!0;let t=te.isTelegram()||te.isSafari()&&te.isIos();if(e==="always"||e==="auto"&&t){if(ug){await ug,ug=void 0;return}if(!te.isPairingExpired(Lt?.wcPairingExpiry)){let r=Lt.wcUri;Lt.wcUri=r;return}ug=Q._getClient()?.connectWalletConnect?.().catch(()=>{}),Q.state.status="connecting",await ug,ug=void 0,Lt.wcPairingExpiry=void 0,Q.state.status="connected"}else await Q._getClient()?.connectWalletConnect?.()},async connectExternal(e,t,r=!0){let n=await Q._getClient()?.connectExternal?.(e);r&&R.setActiveNamespace(t);let s=X.state.allConnectors.find(i=>i.id===e?.id),o=e.type==="AUTH"?"email":"browser";return ve.sendEvent({type:"track",event:"CONNECT_SUCCESS",properties:{method:o,name:s?.name||"Unknown",view:K.state.view,walletRank:s?.explorerWallet?.order}}),n},async reconnectExternal(e){await Q._getClient()?.reconnectExternal?.(e);let t=e.chain||R.state.activeChain;t&&X.setConnectorId(e.id,t)},async setPreferredAccountType(e,t){if(!t)return;ke.setLoading(!0,R.state.activeChain);let r=X.getAuthConnector();r&&(R.setAccountProp("preferredAccountType",e,t),await r.provider.setPreferredAccount(e),ae.setPreferredAccountTypes(Object.entries(R.state.chains).reduce((n,[s,o])=>{let i=s,a=zr(i);return a!==void 0&&(n[i]=a),n},{})),await Q.reconnectExternal(r),ke.setLoading(!1,R.state.activeChain),ve.sendEvent({type:"track",event:"SET_PREFERRED_ACCOUNT_TYPE",properties:{accountType:e,network:R.state.activeCaipNetwork?.caipNetworkId||""}}))},async signMessage(e){return Q._getClient()?.signMessage(e)},parseUnits(e,t){return Q._getClient()?.parseUnits(e,t)},formatUnits(e,t){return Q._getClient()?.formatUnits(e,t)},updateBalance(e){return Q._getClient()?.updateBalance(e)},async sendTransaction(e){return Q._getClient()?.sendTransaction(e)},async getCapabilities(e){return Q._getClient()?.getCapabilities(e)},async grantPermissions(e){return Q._getClient()?.grantPermissions(e)},async walletGetAssets(e){return Q._getClient()?.walletGetAssets(e)??{}},async estimateGas(e){return Q._getClient()?.estimateGas(e)},async writeContract(e){return Q._getClient()?.writeContract(e)},async writeSolanaTransaction(e){return Q._getClient()?.writeSolanaTransaction(e)},async getEnsAddress(e){return Q._getClient()?.getEnsAddress(e)},async getEnsAvatar(e){return Q._getClient()?.getEnsAvatar(e)},checkInstalled(e){return Q._getClient()?.checkInstalled?.(e)||!1},resetWcConnection(){Lt.wcUri=void 0,Lt.wcPairingExpiry=void 0,Lt.wcLinking=void 0,Lt.recentWallet=void 0,Lt.wcFetchingUri=!1,Lt.status="disconnected",K4.resetTransactions(),ae.deleteWalletConnectDeepLink(),ae.deleteRecentWallet(),uo.set({connectingWallet:void 0})},resetUri(){Lt.wcUri=void 0,Lt.wcPairingExpiry=void 0,ug=void 0,Lt.wcFetchingUri=!1,uo.set({connectingWallet:void 0})},finalizeWcConnection(e){let{wcLinking:t,recentWallet:r}=Q.state;t&&ae.setWalletConnectDeepLink(t),r&&ae.setAppKitRecent(r),e&&ve.sendEvent({type:"track",event:"CONNECT_SUCCESS",address:e,properties:{method:t?"mobile":"qrcode",name:K.state.data?.wallet?.name||"Unknown",view:K.state.view,walletRank:r?.order}})},setWcBasic(e){Lt.wcBasic=e},setUri(e){Lt.wcUri=e,Lt.wcFetchingUri=!1,Lt.wcPairingExpiry=te.getPairingExpiry()},setWcLinking(e){Lt.wcLinking=e},setWcError(e){Lt.wcError=e,Lt.wcFetchingUri=!1,Lt.buffering=!1},setRecentWallet(e){Lt.recentWallet=e},setBuffering(e){Lt.buffering=e},setStatus(e){Lt.status=e},setIsSwitchingConnection(e){Lt.isSwitchingConnection=e},async disconnect({id:e,namespace:t,initialDisconnect:r}={}){try{await Q._getClient()?.disconnect({id:e,chainNamespace:t,initialDisconnect:r})}catch(n){throw new cc("Failed to disconnect","INTERNAL_SDK_ERROR",n)}},async disconnectConnector({id:e,namespace:t}){try{await Q._getClient()?.disconnectConnector({id:e,namespace:t})}catch(r){throw new cc("Failed to disconnect connector","INTERNAL_SDK_ERROR",r)}},setConnections(e,t){let r=new Map(Lt.connections);r.set(t,e),Lt.connections=r},async handleAuthAccountSwitch({address:e,namespace:t}){let n=R.getAccountData(t)?.user?.accounts?.find(o=>o.type==="smartAccount"),s=n&&n.address.toLowerCase()===e.toLowerCase()&&Ib.canSwitchToSmartAccount(t)?"smartAccount":"eoa";await Q.setPreferredAccountType(s,t)},async handleActiveConnection({connection:e,namespace:t,address:r}){let n=X.getConnectorById(e.connectorId),s=e.connectorId===V.CONNECTOR_ID.AUTH;if(!n)throw new Error(`No connector found for connection: ${e.connectorId}`);if(s)r&&await Q.handleAuthAccountSwitch({address:r,namespace:t});else return(await Q.connectExternal({id:n.id,type:n.type,provider:n.provider,address:r,chain:t},t))?.address;return r},async handleDisconnectedConnection({connection:e,namespace:t,address:r,closeModalOnConnect:n}){let s=X.getConnectorById(e.connectorId),o=e.auth?.name?.toLowerCase(),i=e.connectorId===V.CONNECTOR_ID.AUTH,a=e.connectorId===V.CONNECTOR_ID.WALLET_CONNECT;if(!s)throw new Error(`No connector found for connection: ${e.connectorId}`);let c;if(i)if(o&&Ib.isSocialProvider(o)){let{address:l}=await Ib.connectSocial({social:o,closeModalOnConnect:n,onOpenFarcaster(){ke.open({view:"ConnectingFarcaster"})},onConnect(){K.replace("ProfileWallets")}});c=l}else{let{address:l}=await Ib.connectEmail({closeModalOnConnect:n,onOpen(){ke.open({view:"EmailLogin"})},onConnect(){K.replace("ProfileWallets")}});c=l}else if(a){let{address:l}=await Ib.connectWalletConnect({walletConnect:!0,connector:s,closeModalOnConnect:n,onOpen(u){let d=u?"AllWallets":"ConnectingWalletConnect";ke.state.open?K.push(d):ke.open({view:d})},onConnect(){K.replace("ProfileWallets")}});c=l}else{let l=await Q.connectExternal({id:s.id,type:s.type,provider:s.provider,chain:t},t);l&&(c=l.address)}return i&&r&&await Q.handleAuthAccountSwitch({address:r,namespace:t}),c},async switchConnection({connection:e,address:t,namespace:r,closeModalOnConnect:n,onChange:s}){let o,i=R.getAccountData(r)?.caipAddress;if(i){let{address:c}=it.parseCaipAddress(i);o=c}let a=$p.getConnectionStatus(e,r);switch(a){case"connected":case"active":{let c=await Q.handleActiveConnection({connection:e,namespace:r,address:t});if(o&&c){let l=c.toLowerCase()!==o.toLowerCase();s?.({address:c,namespace:r,hasSwitchedAccount:l,hasSwitchedWallet:a==="active"})}break}case"disconnected":{let c=await Q.handleDisconnectedConnection({connection:e,namespace:r,address:t,closeModalOnConnect:n});c&&s?.({address:c,namespace:r,hasSwitchedAccount:!0,hasSwitchedWallet:!0});break}default:throw new Error(`Invalid connection status: ${a}`)}}},Q=Cr(qze)});var X_,Zde=m(()=>{$0();X_={createBalance(e,t){let r={name:e.metadata.name||"",symbol:e.metadata.symbol||"",decimals:e.metadata.decimals||0,value:e.metadata.value||0,price:e.metadata.price||0,iconUrl:e.metadata.iconUrl||""};return{name:r.name,symbol:r.symbol,chainId:t,address:e.address==="native"?void 0:this.convertAddressToCAIP10Address(e.address,t),value:r.value,price:r.price,quantity:{decimals:r.decimals.toString(),numeric:this.convertHexToBalance({hex:e.balance,decimals:r.decimals})},iconUrl:r.iconUrl}},convertHexToBalance({hex:e,decimals:t}){return Xl(BigInt(e),t)},convertAddressToCAIP10Address(e,t){return`${t}:${e}`},createCAIP2ChainId(e,t){return`${t}:${parseInt(e,16)}`},getChainIdHexFromCAIP2ChainId(e){let t=e.split(":");if(t.length<2||!t[1])return"0x0";let r=t[1],n=parseInt(r,10);return isNaN(n)?"0x0":`0x${n.toString(16)}`},isWalletGetAssetsResponse(e){return typeof e!="object"||e===null?!1:Object.values(e).every(t=>Array.isArray(t)&&t.every(r=>this.isValidAsset(r)))},isValidAsset(e){return typeof e=="object"&&e!==null&&typeof e.address=="string"&&typeof e.balance=="string"&&(e.type==="ERC20"||e.type==="NATIVE")&&typeof e.metadata=="object"&&e.metadata!==null&&typeof e.metadata.name=="string"&&typeof e.metadata.symbol=="string"&&typeof e.metadata.decimals=="number"&&typeof e.metadata.price=="number"&&typeof e.metadata.iconUrl=="string"}}});async function Gde(){if(!zM){let{createPublicClient:e,http:t,defineChain:r}=await Promise.resolve().then(()=>($0(),Ude));zM={createPublicClient:e,http:t,defineChain:r}}return zM}var zM,e9,Yde=m(()=>{at();kn();e9={getBlockchainApiRpcUrl(e,t){let r=new URL("https://rpc.walletconnect.org/v1/");return r.searchParams.set("chainId",e),r.searchParams.set("projectId",t),r.toString()},async getViemChain(e){let{defineChain:t}=await Gde(),{chainId:r}=it.parseCaipNetworkId(e.caipNetworkId);return t({...e,id:Number(r)})},async createViemPublicClient(e){let{createPublicClient:t,http:r}=await Gde(),n=W.state.projectId,s=await e9.getViemChain(e);if(!s)throw new Error(`Chain ${e.caipNetworkId} not found in viem/chains`);return t({chain:s,transport:r(e9.getBlockchainApiRpcUrl(e.caipNetworkId,n))})}}});var al,Pb=m(()=>{$0();at();Lp();jr();Xo();vs();Zde();wa();Yde();al={async getMyTokensWithBalance(e={forceUpdate:void 0,caipNetwork:R.state.activeCaipNetwork,address:R.getAccountData()?.address}){let{forceUpdate:t,caipNetwork:r,address:n}=e,s=X.getConnectorId("eip155")===V.CONNECTOR_ID.AUTH;if(!n)return[];let o=r?`${r.caipNetworkId}:${n}`:n,i=ae.getBalanceCacheForCaipAddress(o);if(i)return i.balances;if(r&&r.chainNamespace===V.CHAIN.EVM&&s){let c=await this.getEIP155Balances(n,r);if(c)return this.filterLowQualityTokens(c)}let a=await $e.getBalance(n,r?.caipNetworkId,t);return this.filterLowQualityTokens(a.balances)},async getEIP155Balances(e,t){try{let r=X_.getChainIdHexFromCAIP2ChainId(t.caipNetworkId);if(!(await Q.getCapabilities(e))?.[r]?.assetDiscovery?.supported)return null;let s=await Q.walletGetAssets({account:e,chainFilter:[r]});if(!X_.isWalletGetAssetsResponse(s))return null;let i=(s[r]||[]).map(a=>X_.createBalance(a,t.caipNetworkId));return ae.updateBalanceCache({caipAddress:`${t.caipNetworkId}:${e}`,balance:{balances:i},timestamp:Date.now()}),i}catch{return null}},filterLowQualityTokens(e){return e.filter(t=>t.quantity.decimals!=="0")},async fetchERC20Balance({caipAddress:e,assetAddress:t,caipNetwork:r}){let n=await e9.createViemPublicClient(r),{address:s}=it.parseCaipAddress(e),[{result:o},{result:i},{result:a},{result:c}]=await n.multicall({contracts:[{address:t,functionName:"name",args:[],abi:Z1},{address:t,functionName:"symbol",args:[],abi:Z1},{address:t,functionName:"balanceOf",args:[s],abi:Z1},{address:t,functionName:"decimals",args:[],abi:Z1}]});return{name:o,symbol:i,decimals:c,balance:a&&c?Xl(a,c):"0"}}}});var VM,dg,qM=m(()=>{VM={adapters:{}},dg={state:VM,initialize(e){VM.adapters={...e}},get(e){return VM.adapters[e]}}});var t9,Li,ur,r9=m(()=>{Fr();Hn();t9={eip155:void 0,solana:void 0,polkadot:void 0,bip122:void 0,cosmos:void 0,sui:void 0,stacks:void 0,ton:void 0},Li=Xe({providers:{...t9},providerIds:{...t9}}),ur={state:Li,subscribeKey(e,t){return _t(Li,e,t)},subscribe(e){return Ut(Li,()=>{e(Li)})},subscribeProviders(e){return Ut(Li.providers,()=>e(Li.providers))},setProvider(e,t){e&&t&&(Li.providers[e]=op(t))},getProvider(e){if(e)return Li.providers[e]},setProviderId(e,t){t&&(Li.providerIds[e]=t)},getProviderId(e){if(e)return Li.providerIds[e]},reset(){Li.providers={...t9},Li.providerIds={...t9}},resetChain(e){Li.providers[e]=void 0,Li.providerIds[e]=void 0}}});var V0,WM=m(()=>{Lp();jr();Xo();Pb();dc();V0={async getTokenList(e){return(await $e.fetchSwapTokens({chainId:e}))?.tokens?.map(n=>({...n,eip2612:!1,quantity:{decimals:"0",numeric:"0"},price:0,value:0}))||[]},async fetchGasPrice(){let e=R.state.activeCaipNetwork;if(!e)return null;try{if(e.chainNamespace==="solana"){let t=(await Q?.estimateGas({chainNamespace:"solana"}))?.toString();return{standard:t,fast:t,instant:t}}else return await $e.fetchGasPrice({chainId:e.caipNetworkId})}catch{return null}},async fetchSwapAllowance({tokenAddress:e,userAddress:t,sourceTokenAmount:r,sourceTokenDecimals:n}){let s=await $e.fetchSwapAllowance({tokenAddress:e,userAddress:t});if(s?.allowance&&r&&n){let o=Q.parseUnits(r,n)||0;return BigInt(s.allowance)>=o}return!1},async getMyTokensWithBalance(e){let t=await al.getMyTokensWithBalance({forceUpdate:e,caipNetwork:R.state.activeCaipNetwork,address:R.getAccountData()?.address});return R.setAccountProp("tokenBalance",t,R.state.activeChain),this.mapBalancesToSwapTokens(t)},mapBalancesToSwapTokens(e){return e?.map(t=>({...t,address:t?.address?t.address:_b(),decimals:parseInt(t.quantity.decimals,10),logoUri:t.iconUrl,eip2612:!1}))||[]},async handleSwapError(e){try{let t=e?.cause;return t?.json&&(await t.json())?.reasons?.[0]?.description?.includes("insufficient liquidity")?"Insufficient liquidity":void 0}catch{return}}}});var Jt,Wze,xt,KM=m(()=>{Fr();Hn();at();at();j0();Pb();dc();ya();$n();WM();co();jr();Xo();lc();uc();F0();Jt=Xe({tokenBalances:[],loading:!1}),Wze={state:Jt,subscribe(e){return Ut(Jt,()=>e(Jt))},subscribeKey(e,t){return _t(Jt,e,t)},setToken(e){e&&(Jt.token=op(e))},setTokenAmount(e){Jt.sendTokenAmount=e},setReceiverAddress(e){Jt.receiverAddress=e},setReceiverProfileImageUrl(e){Jt.receiverProfileImageUrl=e},setReceiverProfileName(e){Jt.receiverProfileName=e},setNetworkBalanceInUsd(e){Jt.networkBalanceInUSD=e},setLoading(e){Jt.loading=e},getSdkEventProperties(e){return{message:te.parseError(e),isSmartAccount:zr(R.state.activeChain)===Gr.ACCOUNT_TYPES.SMART_ACCOUNT,token:Jt.token?.symbol||"",amount:Jt.sendTokenAmount??0,network:R.state.activeCaipNetwork?.caipNetworkId||""}},async sendToken(){try{switch(xt.setLoading(!0),R.state.activeCaipNetwork?.chainNamespace){case"eip155":await xt.sendEvmToken();return;case"solana":await xt.sendSolanaToken();return;default:throw new Error("Unsupported chain")}}catch(e){throw Ho.isUserRejectedRequestError(e)?new f1(e):e}finally{xt.setLoading(!1)}},async sendEvmToken(){let e=R.state.activeChain;if(!e)throw new Error("SendController:sendEvmToken - activeChainNamespace is required");let t=zr(e);if(!xt.state.sendTokenAmount||!xt.state.receiverAddress)throw new Error("An amount and receiver address are required");if(!xt.state.token)throw new Error("A token is required");if(xt.state.token?.address){ve.sendEvent({type:"track",event:"SEND_INITIATED",properties:{isSmartAccount:t===Gr.ACCOUNT_TYPES.SMART_ACCOUNT,token:xt.state.token.address,amount:xt.state.sendTokenAmount,network:R.state.activeCaipNetwork?.caipNetworkId||""}});let{hash:r}=await xt.sendERC20Token({receiverAddress:xt.state.receiverAddress,tokenAddress:xt.state.token.address,sendTokenAmount:xt.state.sendTokenAmount,decimals:xt.state.token.quantity.decimals});r&&(Jt.hash=r)}else{ve.sendEvent({type:"track",event:"SEND_INITIATED",properties:{isSmartAccount:t===Gr.ACCOUNT_TYPES.SMART_ACCOUNT,token:xt.state.token.symbol||"",amount:xt.state.sendTokenAmount,network:R.state.activeCaipNetwork?.caipNetworkId||""}});let{hash:r}=await xt.sendNativeToken({receiverAddress:xt.state.receiverAddress,sendTokenAmount:xt.state.sendTokenAmount,decimals:xt.state.token.quantity.decimals});r&&(Jt.hash=r)}},async fetchTokenBalance(e){Jt.loading=!0;let t=R.state.activeChain,r=R.state.activeCaipNetwork?.caipNetworkId,n=R.state.activeCaipNetwork?.chainNamespace,s=R.getAccountData(t)?.caipAddress??R.state.activeCaipAddress,o=s?te.getPlainAddress(s):void 0;if(Jt.lastRetry&&!te.isAllowedRetry(Jt.lastRetry,30*Ke.ONE_SEC_MS))return Jt.loading=!1,[];try{if(o&&r&&n){let i=await al.getMyTokensWithBalance();return Jt.tokenBalances=i,Jt.lastRetry=void 0,i}}catch(i){Jt.lastRetry=Date.now(),e?.(i),Ze.showError("Token Balance Unavailable")}finally{Jt.loading=!1}return[]},fetchNetworkBalance(){if(Jt.tokenBalances.length===0)return;let e=V0.mapBalancesToSwapTokens(Jt.tokenBalances);if(!e)return;let t=e.find(r=>r.address===_b());t&&(Jt.networkBalanceInUSD=t?pt.multiply(t.quantity.numeric,t.price).toString():"0")},async sendNativeToken(e){K.pushTransactionStack({});let t=e.receiverAddress,r=R.getAccountData()?.address,n=Q.parseUnits(e.sendTokenAmount.toString(),Number(e.decimals)),o=await Q.sendTransaction({chainNamespace:V.CHAIN.EVM,to:t,address:r,data:"0x",value:n??BigInt(0)});return ve.sendEvent({type:"track",event:"SEND_SUCCESS",properties:{isSmartAccount:zr("eip155")===Gr.ACCOUNT_TYPES.SMART_ACCOUNT,token:xt.state.token?.symbol||"",amount:e.sendTokenAmount,network:R.state.activeCaipNetwork?.caipNetworkId||"",hash:o||""}}),Q._getClient()?.updateBalance("eip155"),xt.resetSend(),{hash:o}},async sendERC20Token(e){K.pushTransactionStack({onSuccess(){K.replace("Account")}});let t=Q.parseUnits(e.sendTokenAmount.toString(),Number(e.decimals)),r=R.getAccountData()?.address;if(r&&e.sendTokenAmount&&e.receiverAddress&&e.tokenAddress){let n=te.getPlainAddress(e.tokenAddress);if(!n)throw new Error("SendController:sendERC20Token - tokenAddress is required");let s=await Q.writeContract({fromAddress:r,tokenAddress:n,args:[e.receiverAddress,t??BigInt(0)],method:"transfer",abi:hx.getERC20Abi(n),chainNamespace:V.CHAIN.EVM});return ve.sendEvent({type:"track",event:"SEND_SUCCESS",properties:{isSmartAccount:zr("eip155")===Gr.ACCOUNT_TYPES.SMART_ACCOUNT,token:xt.state.token?.symbol||"",amount:e.sendTokenAmount,network:R.state.activeCaipNetwork?.caipNetworkId||"",hash:s||""}}),xt.resetSend(),{hash:s}}return{hash:void 0}},async sendSolanaToken(){if(!xt.state.sendTokenAmount||!xt.state.receiverAddress)throw new Error("An amount and receiver address are required");K.pushTransactionStack({onSuccess(){K.replace("Account")}});let e;xt.state.token&&xt.state.token.address!==Ke.SOLANA_NATIVE_TOKEN_ADDRESS&&(te.isCaipAddress(xt.state.token.address)?e=te.getPlainAddress(xt.state.token.address):e=xt.state.token.address);let t=await Q.sendTransaction({chainNamespace:"solana",tokenMint:e,to:xt.state.receiverAddress,value:xt.state.sendTokenAmount});t&&(Jt.hash=t),Q._getClient()?.updateBalance("solana"),ve.sendEvent({type:"track",event:"SEND_SUCCESS",properties:{isSmartAccount:!1,token:xt.state.token?.symbol||"",amount:xt.state.sendTokenAmount,network:R.state.activeCaipNetwork?.caipNetworkId||"",hash:t||""}}),xt.resetSend()},resetSend(){Jt.token=void 0,Jt.sendTokenAmount=void 0,Jt.receiverAddress=void 0,Jt.receiverProfileImageUrl=void 0,Jt.receiverProfileName=void 0,Jt.loading=!1,Jt.tokenBalances=[]}},xt=Cr(Wze)});var ZM,n9,_e,Jde,R,jr=m(()=>{Fr();Hn();at();zte();Pb();ya();$n();wa();co();qM();Xo();vs();lc();Mp();kn();r9();W4();KM();F0();ZM={currentTab:0,tokenBalance:[],smartAccountDeployed:!1,addressLabels:new Map,user:void 0,preferredAccountType:void 0},n9={caipNetwork:void 0,supportsAllNetworks:!0,smartAccountEnabledNetworks:[]},_e=Xe({chains:Hte(),activeCaipAddress:void 0,activeChain:void 0,activeCaipNetwork:void 0,noAdapters:!1,universalAdapter:{connectionControllerClient:void 0},isSwitchingNamespace:!1}),Jde={state:_e,subscribe(e){return Ut(_e,()=>{e(_e)})},subscribeKey(e,t){return _t(_e,e,t)},subscribeAccountStateProp(e,t,r){let n=r||_e.activeChain;return n?_t(_e.chains.get(n)?.accountState||{},e,t):()=>{}},subscribeChainProp(e,t,r){let n;return Ut(_e.chains,()=>{let s=r||_e.activeChain;if(s){let o=_e.chains.get(s)?.[e];n!==o&&(n=o,t(o))}})},initialize(e,t,r){let{chainId:n,namespace:s}=ae.getActiveNetworkProps(),o=t?.find(u=>u.id.toString()===n?.toString()),a=e.find(u=>u?.namespace===s)||e?.[0],c=e.map(u=>u.namespace).filter(u=>u!==void 0),l=W.state.enableEmbedded?new Set([...c]):new Set([...t?.map(u=>u.chainNamespace)??[]]);(e?.length===0||!a)&&(_e.noAdapters=!0),_e.noAdapters||(_e.activeChain=a?.namespace,_e.activeCaipNetwork=o,R.setChainNetworkData(a?.namespace,{caipNetwork:o}),_e.activeChain&&uo.set({activeChain:a?.namespace})),l.forEach(u=>{let d=t?.filter(h=>h.chainNamespace===u),p=ae.getPreferredAccountTypes()||{},f={...W.state.defaultAccountTypes,...p};R.state.chains.set(u,{namespace:u,networkState:Xe({...n9,caipNetwork:d?.[0]}),accountState:Xe({...ZM,preferredAccountType:f[u]}),caipNetworks:d??[],...r}),R.setRequestedCaipNetworks(d??[],u)})},removeAdapter(e){if(_e.activeChain===e){let t=Array.from(_e.chains.entries()).find(([r])=>r!==e);if(t){let r=t[1]?.caipNetworks?.[0];r&&R.setActiveCaipNetwork(r)}}_e.chains.delete(e)},addAdapter(e,{connectionControllerClient:t},r){if(!e.namespace)throw new Error("ChainController:addAdapter - adapter must have a namespace");_e.chains.set(e.namespace,{namespace:e.namespace,networkState:{...n9,caipNetwork:r[0]},accountState:{...ZM},caipNetworks:r,connectionControllerClient:t}),R.setRequestedCaipNetworks(r?.filter(n=>n.chainNamespace===e.namespace)??[],e.namespace)},addNetwork(e){let t=_e.chains.get(e.chainNamespace);if(t){let r=[...t.caipNetworks||[]];t.caipNetworks?.find(n=>n.id===e.id)||r.push(e),_e.chains.set(e.chainNamespace,{...t,caipNetworks:r}),R.setRequestedCaipNetworks(r,e.chainNamespace),X.filterByNamespace(e.chainNamespace,!0)}},removeNetwork(e,t){let r=_e.chains.get(e);if(r){let n=_e.activeCaipNetwork?.id===t,s=[...r.caipNetworks?.filter(o=>o.id!==t)||[]];n&&r?.caipNetworks?.[0]&&R.setActiveCaipNetwork(r.caipNetworks[0]),_e.chains.set(e,{...r,caipNetworks:s}),R.setRequestedCaipNetworks(s||[],e),s.length===0&&X.filterByNamespace(e,!1)}},setAdapterNetworkState(e,t){let r=_e.chains.get(e);r&&(r.networkState={...r.networkState||n9,...t},_e.chains.set(e,r))},setChainAccountData(e,t,r=!0){if(!e)throw new Error("Chain is required to update chain account data");let n=_e.chains.get(e);if(n){let s={...n.accountState||ZM,...t};_e.chains.set(e,{...n,accountState:s}),(_e.chains.size===1||_e.activeChain===e)&&t.caipAddress&&(_e.activeCaipAddress=t.caipAddress)}},setChainNetworkData(e,t){if(!e)return;let r=_e.chains.get(e);if(r){let n={...r.networkState||n9,...t};_e.chains.set(e,{...r,networkState:n})}},setAccountProp(e,t,r,n=!0){R.setChainAccountData(r,{[e]:t},n)},setActiveNamespace(e){_e.activeChain=e;let t=e?_e.chains.get(e):void 0,r=t?.networkState?.caipNetwork;r?.id&&e&&(_e.activeCaipAddress=t?.accountState?.caipAddress,_e.activeCaipNetwork=r,R.setChainNetworkData(e,{caipNetwork:r}),ae.setActiveCaipNetworkId(r?.caipNetworkId),uo.set({activeChain:e,selectedNetworkId:r?.caipNetworkId}))},setActiveCaipNetwork(e){if(!e)return;let t=_e.activeChain===e.chainNamespace;t||R.setIsSwitchingNamespace(!0);let r=_e.chains.get(e.chainNamespace);_e.activeChain=e.chainNamespace,_e.activeCaipNetwork=e,R.setChainNetworkData(e.chainNamespace,{caipNetwork:e});let n=r?.accountState?.address;if(n)_e.activeCaipAddress=`${e.chainNamespace}:${e.id}:${n}`;else if(t&&_e.activeCaipAddress){let{address:o}=it.parseCaipAddress(_e.activeCaipAddress);n=o,_e.activeCaipAddress=`${e.caipNetworkId}:${n}`}else _e.activeCaipAddress=void 0;R.setChainAccountData(e.chainNamespace,{address:n,caipAddress:_e.activeCaipAddress}),xt.resetSend(),uo.set({activeChain:_e.activeChain,selectedNetworkId:_e.activeCaipNetwork?.caipNetworkId}),ae.setActiveCaipNetworkId(e.caipNetworkId),!R.checkIfSupportedNetwork(e.chainNamespace)&&W.state.enableNetworkSwitch&&!W.state.allowUnsupportedChain&&!Q.state.wcBasic&&R.showUnsupportedChainUI()},addCaipNetwork(e){if(!e)return;let t=_e.chains.get(e.chainNamespace);t&&t?.caipNetworks?.push(e)},async switchActiveNamespace(e){if(!e)return;let t=e!==R.state.activeChain,r=R.getNetworkData(e)?.caipNetwork,n=R.getCaipNetworkByNamespace(e,r?.id);t&&n&&await R.switchActiveNetwork(n)},async switchActiveNetwork(e,{throwOnFailure:t=!1}={}){let r=R.state.activeChain;if(!r)throw new Error("ChainController:switchActiveNetwork - namespace is required");let n=ur.getProviderId(_e.activeChain)==="AUTH",s=R.getAccountData(r)?.address,o=V.AUTH_CONNECTOR_SUPPORTED_CHAINS.includes(e.chainNamespace);try{if(s&&e.chainNamespace===r||n&&o){let i=dg.get(e.chainNamespace);if(!i)throw new Error("Adapter not found");await i.switchNetwork({caipNetwork:e})}R.setActiveCaipNetwork(e)}catch(i){if(t)throw i}ve.sendEvent({type:"track",event:"SWITCH_NETWORK",properties:{network:e.caipNetworkId}})},getConnectionControllerClient(e){let t=e||_e.activeChain;if(!t)throw new Error("Chain is required to get connection controller client");let r=_e.chains.get(t);if(!r?.connectionControllerClient)throw new Error("ConnectionController client not set");return r.connectionControllerClient},getNetworkProp(e,t){let r=_e.chains.get(t)?.networkState;if(r)return r[e]},getRequestedCaipNetworks(e){let t=_e.chains.get(e),{approvedCaipNetworkIds:r=[],requestedCaipNetworks:n=[]}=t?.networkState||{};return te.sortRequestedNetworks(r,n).filter(i=>i?.id)},getAllRequestedCaipNetworks(){let e=[];return _e.chains.forEach(t=>{if(!t.namespace)throw new Error("ChainController:getAllRequestedCaipNetworks - chainAdapter must have a namespace");let r=R.getRequestedCaipNetworks(t.namespace);e.push(...r)}),e},setRequestedCaipNetworks(e,t){R.setAdapterNetworkState(t,{requestedCaipNetworks:e});let n=R.getAllRequestedCaipNetworks().map(o=>o.chainNamespace),s=Array.from(new Set(n));X.filterByNamespaces(s)},getAllApprovedCaipNetworkIds(){let e=[];return _e.chains.forEach(t=>{if(!t.namespace)throw new Error("ChainController:getAllApprovedCaipNetworkIds - chainAdapter must have a namespace");let r=R.getApprovedCaipNetworkIds(t.namespace);e.push(...r)}),e},getActiveCaipNetwork(e){return e?_e.chains.get(e)?.networkState?.caipNetwork:_e.activeCaipNetwork},getActiveCaipAddress(){return _e.activeCaipAddress},getApprovedCaipNetworkIds(e){return _e.chains.get(e)?.networkState?.approvedCaipNetworkIds||[]},setApprovedCaipNetworksData(e,t){R.setAdapterNetworkState(e,t)},checkIfSupportedNetwork(e,t){let r=t||_e.activeCaipNetwork?.caipNetworkId,n=R.getRequestedCaipNetworks(e);return n.length?n?.some(s=>s.caipNetworkId===r):!0},checkIfSupportedChainId(e){return _e.activeChain?R.getRequestedCaipNetworks(_e.activeChain)?.some(r=>r.id===e):!0},checkIfSmartAccountEnabled(){let e=c1.caipNetworkIdToNumber(_e.activeCaipNetwork?.caipNetworkId);return!_e.activeChain||!e?!1:!!(Cy.get(Ya.SMART_ACCOUNT_ENABLED_NETWORKS)?.split(",")||[])?.includes(e.toString())},showUnsupportedChainUI(){ke.open({view:"UnsupportedChain"})},checkIfNamesSupported(){let e=_e.activeCaipNetwork;return!!(e?.chainNamespace&&Ke.NAMES_SUPPORTED_CHAIN_NAMESPACES.includes(e.chainNamespace))},resetNetwork(e){R.setAdapterNetworkState(e,{approvedCaipNetworkIds:void 0,supportsAllNetworks:!0})},resetAccount(e){let t=e;if(!t)throw new Error("Chain is required to set account prop");let r=R.state.chains.get(t)?.accountState?.preferredAccountType,n=W.state.defaultAccountTypes[t];_e.activeCaipAddress=void 0,R.setChainAccountData(t,{smartAccountDeployed:!1,currentTab:0,caipAddress:void 0,address:void 0,balance:void 0,balanceSymbol:void 0,profileName:void 0,profileImage:void 0,addressExplorerUrl:void 0,tokenBalance:[],connectedWalletInfo:void 0,preferredAccountType:n||r,socialProvider:void 0,socialWindow:void 0,farcasterUrl:void 0,user:void 0,status:"disconnected"}),X.removeConnectorId(t)},setIsSwitchingNamespace(e){_e.isSwitchingNamespace=e},getFirstCaipNetworkSupportsAuthConnector(){let e=[],t;if(_e.chains.forEach(r=>{V.AUTH_CONNECTOR_SUPPORTED_CHAINS.find(n=>n===r.namespace)&&r.namespace&&e.push(r.namespace)}),e.length>0){let r=e[0];return t=r?_e.chains.get(r)?.caipNetworks?.[0]:void 0,t}},getAccountData(e){let t=e||_e.activeChain;if(t)return R.state.chains.get(t)?.accountState},getNetworkData(e){let t=e||_e.activeChain;if(t)return R.state.chains.get(t)?.networkState},getCaipNetworkByNamespace(e,t){if(!e)return;let r=R.state.chains.get(e),n=r?.caipNetworks?.find(s=>s.id.toString()===t?.toString());return n||r?.networkState?.caipNetwork||r?.caipNetworks?.[0]},getRequestedCaipNetworkIds(){let e=X.state.filterByNamespace;return(e?[_e.chains.get(e)]:Array.from(_e.chains.values())).flatMap(r=>r?.caipNetworks||[]).map(r=>r.caipNetworkId)},getCaipNetworks(e){return e?R.getRequestedCaipNetworks(e):R.getAllRequestedCaipNetworks()},getCaipNetworkById(e,t){return Jde.getCaipNetworks(t).find(r=>r.id.toString()===e.toString()||r.caipNetworkId.toString()===e.toString())},setLastConnectedSIWECaipNetwork(e){_e.lastConnectedSIWECaipNetwork=e},getLastConnectedSIWECaipNetwork(){return _e.lastConnectedSIWECaipNetwork},async fetchTokenBalance(e){let t=R.getAccountData();if(!t)return[];let r=R.state.activeCaipNetwork?.caipNetworkId,n=R.state.activeCaipNetwork?.chainNamespace,s=R.state.activeCaipAddress,o=s?te.getPlainAddress(s):void 0;if(R.setAccountProp("balanceLoading",!0,n),t.lastRetry&&!te.isAllowedRetry(t.lastRetry,30*Ke.ONE_SEC_MS))return R.setAccountProp("balanceLoading",!1,n),[];try{if(o&&r&&n){let i=await al.getMyTokensWithBalance();return R.setAccountProp("tokenBalance",i,n),R.setAccountProp("lastRetry",void 0,n),R.setAccountProp("balanceLoading",!1,n),i}}catch(i){R.setAccountProp("lastRetry",Date.now(),n),e?.(i),Ze.showError("Token Balance Unavailable")}finally{R.setAccountProp("balanceLoading",!1,n)}return[]},isCaipNetworkDisabled(e){let t=e.chainNamespace,r=!!R.getAccountData(t)?.caipAddress,n=R.getAllApprovedCaipNetworkIds(),s=R.getNetworkProp("supportsAllNetworks",t)!==!1,o=X.getConnectorId(t),i=X.getAuthConnector(),a=o===V.CONNECTOR_ID.AUTH&&i;return!r||s||a?!1:!n?.includes(e.caipNetworkId)}},R=Cr(Jde)});var Qde,Xde=m(()=>{at();jr();vs();uc();Qde={onSwitchNetwork({network:e,ignoreSwitchConfirmation:t=!1}){let r=R.state.activeCaipNetwork,n=R.state.activeChain,s=K.state.data;if(e.id===r?.id)return;let i=!!R.getAccountData(n)?.address,a=!!R.getAccountData(e.chainNamespace)?.address,c=e.chainNamespace!==n,u=X.getConnectorId(n)===V.CONNECTOR_ID.AUTH,d=V.AUTH_CONNECTOR_SUPPORTED_CHAINS.find(p=>p===e.chainNamespace);t||u&&d?K.push("SwitchNetwork",{...s,network:e}):i&&c&&!a?K.push("SwitchActiveChain",{switchToChain:e.chainNamespace,navigateTo:"Connect",navigateWithReplace:!0,network:e}):K.push("SwitchNetwork",{...s,network:e})}}});var Mi,Kze,ke,Mp=m(()=>{Fr();Hn();$n();Xde();co();yu();jr();Xo();vs();lc();kn();W4();uc();Mi=Xe({loading:!1,loadingNamespaceMap:new Map,open:!1,shake:!1,namespace:void 0}),Kze={state:Mi,subscribe(e){return Ut(Mi,()=>e(Mi))},subscribeKey(e,t){return _t(Mi,e,t)},async open(e){let t=e?.namespace,r=R.state.activeChain,n=t&&t!==r,s=R.getAccountData(e?.namespace)?.caipAddress,o=R.state.noAdapters;if(Q.state.wcBasic?pe.prefetch({fetchNetworkImages:!1,fetchConnectorImages:!1,fetchWalletRanks:!1}):await pe.prefetch(),X.setFilterByNamespace(e?.namespace),ke.setLoading(!0,t),t&&n){let i=R.getNetworkData(t)?.caipNetwork||R.getRequestedCaipNetworks(t)[0];i&&(o?(await R.switchActiveNetwork(i),K.push("ConnectingWalletConnectBasic")):Qde.onSwitchNetwork({network:i,ignoreSwitchConfirmation:!0}))}else W.state.manualWCControl||o&&!s?te.isMobile()?K.reset("AllWallets"):K.reset("ConnectingWalletConnectBasic"):e?.view?K.reset(e.view,e.data):s?K.reset("Account"):K.reset("Connect");Mi.open=!0,uo.set({open:!0}),ve.sendEvent({type:"track",event:"MODAL_OPEN",properties:{connected:!!s}})},close(){let e=W.state.enableEmbedded,t=!!R.state.activeCaipAddress;Mi.open&&ve.sendEvent({type:"track",event:"MODAL_CLOSE",properties:{connected:t}}),Mi.open=!1,K.reset("Connect"),ke.clearLoading(),e?t?K.replace("Account"):K.push("Connect"):uo.set({open:!1}),Q.resetUri()},setLoading(e,t){t&&Mi.loadingNamespaceMap.set(t,e),Mi.loading=e,uo.set({loading:e})},clearLoading(){Mi.loadingNamespaceMap.clear(),Mi.loading=!1,uo.set({loading:!1})},shake(){Mi.shake||(Mi.shake=!0,setTimeout(()=>{Mi.shake=!1},500))}},ke=Cr(Kze)});var Z4,GM,Zze,er,Gze,G4,epe=m(()=>{Fr();Hn();at();ya();co();yu();Lp();jr();kn();Z4={id:"2b92315d-eab7-5bef-84fa-089a131333f5",name:"USD Coin",symbol:"USDC",networks:[{name:"ethereum-mainnet",display_name:"Ethereum",chain_id:"1",contract_address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"},{name:"polygon-mainnet",display_name:"Polygon",chain_id:"137",contract_address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"}]},GM={id:"USD",payment_method_limits:[{id:"card",min:"10.00",max:"7500.00"},{id:"ach_bank_account",min:"10.00",max:"25000.00"}]},Zze={providers:fD,selectedProvider:null,error:null,purchaseCurrency:Z4,paymentCurrency:GM,purchaseCurrencies:[Z4],paymentCurrencies:[],quotesLoading:!1},er=Xe(Zze),Gze={state:er,subscribe(e){return Ut(er,()=>e(er))},subscribeKey(e,t){return _t(er,e,t)},setSelectedProvider(e){if(e&&e.name==="meld"){let t=R.state.activeChain,r=t===V.CHAIN.SOLANA?"SOL":"USDC",n=t?R.state.chains.get(t)?.accountState?.address??"":"",s=new URL(e.url);s.searchParams.append("publicKey",$te),s.searchParams.append("destinationCurrencyCode",r),s.searchParams.append("walletAddress",n),s.searchParams.append("externalCustomerId",W.state.projectId),er.selectedProvider={...e,url:s.toString()}}else er.selectedProvider=e},setOnrampProviders(e){if(Array.isArray(e)&&e.every(t=>typeof t=="string")){let t=e,r=fD.filter(n=>t.includes(n.name));er.providers=r}else er.providers=[]},setPurchaseCurrency(e){er.purchaseCurrency=e},setPaymentCurrency(e){er.paymentCurrency=e},setPurchaseAmount(e){G4.state.purchaseAmount=e},setPaymentAmount(e){G4.state.paymentAmount=e},async getAvailableCurrencies(){let e=await $e.getOnrampOptions();er.purchaseCurrencies=e.purchaseCurrencies,er.paymentCurrencies=e.paymentCurrencies,er.paymentCurrency=e.paymentCurrencies[0]||GM,er.purchaseCurrency=e.purchaseCurrencies[0]||Z4,await pe.fetchCurrencyImages(e.paymentCurrencies.map(t=>t.id)),await pe.fetchTokenImages(e.purchaseCurrencies.map(t=>t.symbol))},async getQuote(){er.quotesLoading=!0;try{let e=await $e.getOnrampQuote({purchaseCurrency:er.purchaseCurrency,paymentCurrency:er.paymentCurrency,amount:er.paymentAmount?.toString()||"0",network:er.purchaseCurrency?.symbol});return er.quotesLoading=!1,er.purchaseAmount=Number(e?.purchaseAmount.amount),e}catch(e){return er.error=e.message,er.quotesLoading=!1,null}finally{er.quotesLoading=!1}},resetState(){er.selectedProvider=null,er.error=null,er.purchaseCurrency=Z4,er.paymentCurrency=GM,er.purchaseCurrencies=[Z4],er.paymentCurrencies=[],er.paymentAmount=void 0,er.purchaseAmount=void 0,er.quotesLoading=!1}},G4=Cr(Gze)});function Yze(e){if(e.length>=255)throw new TypeError("Alphabet too long");let t=new Uint8Array(256);for(let l=0;l<t.length;l++)t[l]=255;for(let l=0;l<e.length;l++){let u=e.charAt(l),d=u.charCodeAt(0);if(t[d]!==255)throw new TypeError(u+" is ambiguous");t[d]=l}let r=e.length,n=e.charAt(0),s=Math.log(r)/Math.log(256),o=Math.log(256)/Math.log(r);function i(l){if(l instanceof Uint8Array||(ArrayBuffer.isView(l)?l=new Uint8Array(l.buffer,l.byteOffset,l.byteLength):Array.isArray(l)&&(l=Uint8Array.from(l))),!(l instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(l.length===0)return"";let u=0,d=0,p=0,f=l.length;for(;p!==f&&l[p]===0;)p++,u++;let h=(f-p)*o+1>>>0,g=new Uint8Array(h);for(;p!==f;){let A=l[p],b=0;for(let w=h-1;(A!==0||b<d)&&w!==-1;w--,b++)A+=256*g[w]>>>0,g[w]=A%r>>>0,A=A/r>>>0;if(A!==0)throw new Error("Non-zero carry");d=b,p++}let y=h-d;for(;y!==h&&g[y]===0;)y++;let E=n.repeat(u);for(;y<h;++y)E+=e.charAt(g[y]);return E}function a(l){if(typeof l!="string")throw new TypeError("Expected String");if(l.length===0)return new Uint8Array;let u=0,d=0,p=0;for(;l[u]===n;)d++,u++;let f=(l.length-u)*s+1>>>0,h=new Uint8Array(f);for(;u<l.length;){let A=l.charCodeAt(u);if(A>255)return;let b=t[A];if(b===255)return;let w=0;for(let C=f-1;(b!==0||w<p)&&C!==-1;C--,w++)b+=r*h[C]>>>0,h[C]=b%256>>>0,b=b/256>>>0;if(b!==0)throw new Error("Non-zero carry");p=w,u++}let g=f-p;for(;g!==f&&h[g]===0;)g++;let y=new Uint8Array(d+(f-g)),E=d;for(;g!==f;)y[E++]=h[g++];return y}function c(l){let u=a(l);if(u)return u;throw new Error("Non-base"+r+" character")}return{encode:i,decodeUnsafe:a,decode:c}}var tpe,rpe=m(()=>{tpe=Yze});var Jze,q0,YM=m(()=>{rpe();Jze="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",q0=tpe(Jze)});var Qze,Xze,eVe,Ozt,tVe,kzt,s9=m(()=>{jc();py();zC();Qze=Bt(Oo(),1),Xze="wc",eVe="universal_provider",Ozt=`${Xze}@2:${eVe}:`,tVe="https://rpc.walletconnect.org/v1/",kzt=`${tVe}bundler`});var npe,spe=m(()=>{npe={convertEVMChainIdToCoinType(e){if(e>=2147483648)throw new Error("Invalid chainId");return(2147483648|e)>>>0}}});var pc,rVe,W0,JM=m(()=>{Fr();Hn();spe();wa();co();Lp();jr();Xo();vs();uc();pc=Xe({suggestions:[],loading:!1}),rVe={state:pc,subscribe(e){return Ut(pc,()=>e(pc))},subscribeKey(e,t){return _t(pc,e,t)},async resolveName(e){try{return await $e.lookupEnsName(e)}catch(t){let r=t;throw new Error(r?.reasons?.[0]?.description||"Error resolving name")}},async isNameRegistered(e){try{return await $e.lookupEnsName(e),!0}catch{return!1}},async getSuggestions(e){try{pc.loading=!0,pc.suggestions=[];let t=await $e.getEnsNameSuggestions(e);return pc.suggestions=t.suggestions||[],pc.suggestions}catch(t){let r=W0.parseEnsApiError(t,"Error fetching name suggestions");throw new Error(r)}finally{pc.loading=!1}},async getNamesForAddress(e){try{if(!R.state.activeCaipNetwork)return[];let r=ae.getEnsFromCacheForAddress(e);if(r)return r;let n=await $e.reverseLookupEnsName({address:e});return ae.updateEnsCache({address:e,ens:n,timestamp:Date.now()}),n}catch(t){let r=W0.parseEnsApiError(t,"Error fetching names for address");throw new Error(r)}},async registerName(e){let t=R.state.activeCaipNetwork,r=R.getAccountData(t?.chainNamespace)?.address,n=X.getAuthConnector();if(!t)throw new Error("Network not found");if(!r||!n)throw new Error("Address or auth connector not found");pc.loading=!0;try{let s=JSON.stringify({name:e,attributes:{},timestamp:Math.floor(Date.now()/1e3)});K.pushTransactionStack({onCancel(){K.replace("RegisterAccountName")}});let o=await Q.signMessage(s);pc.loading=!1;let i=t.id;if(!i)throw new Error("Network not found");let a=npe.convertEVMChainIdToCoinType(Number(i));await $e.registerEnsName({coinType:a,address:r,signature:o,message:s}),R.setAccountProp("profileName",e,t.chainNamespace),ae.updateEnsCache({address:r,ens:[{name:e,registered_at:new Date().toISOString(),updated_at:void 0,addresses:{},attributes:[]}],timestamp:Date.now()}),K.replace("RegisterAccountNameSuccess")}catch(s){let o=W0.parseEnsApiError(s,`Error registering name ${e}`);throw K.replace("RegisterAccountName"),new Error(o)}finally{pc.loading=!1}},validateName(e){return/^[a-zA-Z0-9-]{4,}$/u.test(e)},parseEnsApiError(e,t){return e?.reasons?.[0]?.description||t}},W0=Cr(rVe)});function o9(e){try{return new URL(e)}catch{return null}}function nVe(e){let t=e.split("/"),r=t.length>0&&t[0]!==void 0?t[0]:"",n=r.lastIndexOf(":");return n===-1?{host:r}:{host:r.slice(0,n),port:r.slice(n+1)}}function sVe(e){let t=e.indexOf("://");if(t===-1)return null;let r=e.slice(0,t),n=t+3,s=e.indexOf("/",n);s===-1&&(s=e.length);let o=e.slice(n,s),i=o.lastIndexOf(":");return i===-1?{scheme:r,host:o}:{scheme:r,host:o.slice(0,i),port:o.slice(i+1)}}function ope(e,t){if(t.includes("://")){let i=o9(t);return i?i.origin===e:!1}let{host:r,port:n}=nVe(t),s=e.indexOf("://");if(s!==-1){let i=s+3,a=e.indexOf("/",i);a===-1&&(a=e.length);let c=e.slice(i,a);if(n!==void 0)return`${r}:${n}`===c;let l=c.split(":")[0];return r===l}let o=o9(e);return o?n!==void 0?r===o.hostname&&n===(o.port||void 0):r===o.hostname:!1}function ipe(e,t,r){let n=r,s,o=n.indexOf("://");o!==-1&&(s=n.slice(0,o),n=n.slice(o+3));let i=n.indexOf("/");i!==-1&&(n=n.slice(0,i));let a=n,c,l=a.lastIndexOf(":");l!==-1&&(c=a.slice(l+1),a=a.slice(0,l));let u=a.split(".");for(let g of u)if(g.includes("*")&&g!=="*")return!1;let d=e.protocol.replace(/:$/u,"");if(s&&s!==d||c!==void 0&&c!=="*"&&c!==e.port)return!1;let p=sVe(t),h=(p?p.host:e.hostname).split(".");if(u.length!==h.length)return!1;for(let g=u.length-1;g>=0;g-=1){let y=u[g],E=h[g];if(y!=="*"&&y!==E)return!1}return!0}var ape=m(()=>{});var oVe,cl,i9=m(()=>{at();JM();ape();oVe={ton:["ton_sendMessage","ton_signData"],solana:["solana_signMessage","solana_signTransaction","solana_requestAccounts","solana_getAccounts","solana_signAllTransactions","solana_signAndSendTransaction"],eip155:["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode","wallet_getCallsStatus","wallet_showCallsStatus","wallet_sendCalls","wallet_getCapabilities","wallet_grantPermissions","wallet_revokePermissions","wallet_getAssets"],bip122:["sendTransfer","signMessage","signPsbt","getAccountAddresses"]},cl={RPC_ERROR_CODE:{USER_REJECTED:5e3,USER_REJECTED_METHODS:5002},getMethodsByChainNamespace(e){return oVe[e]||[]},createDefaultNamespace(e){return{methods:this.getMethodsByChainNamespace(e),events:["accountsChanged","chainChanged"],chains:[],rpcMap:{}}},applyNamespaceOverrides(e,t){if(!t)return{...e};let r={...e},n=new Set;if(t.methods&&Object.keys(t.methods).forEach(s=>n.add(s)),t.chains&&Object.keys(t.chains).forEach(s=>n.add(s)),t.events&&Object.keys(t.events).forEach(s=>n.add(s)),t.rpcMap&&Object.keys(t.rpcMap).forEach(s=>{let[o]=s.split(":");o&&n.add(o)}),n.forEach(s=>{r[s]||(r[s]=this.createDefaultNamespace(s))}),t.methods&&Object.entries(t.methods).forEach(([s,o])=>{r[s]&&(r[s].methods=o)}),t.chains&&Object.entries(t.chains).forEach(([s,o])=>{r[s]&&(r[s].chains=o)}),t.events&&Object.entries(t.events).forEach(([s,o])=>{r[s]&&(r[s].events=o)}),t.rpcMap){let s=new Set;Object.entries(t.rpcMap).forEach(([o,i])=>{let[a,c]=o.split(":");!a||!c||!r[a]||(r[a].rpcMap||(r[a].rpcMap={}),s.has(a)||(r[a].rpcMap={},s.add(a)),r[a].rpcMap[c]=i)})}return r},createNamespaces(e,t){let r=e.reduce((n,s)=>{let{id:o,chainNamespace:i,rpcUrls:a}=s,c=a.default.http[0];n[i]||(n[i]=this.createDefaultNamespace(i));let l=`${i}:${o}`,u=n[i];switch(u.chains.push(l),l){case"solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp":u.chains.push("solana:4sGjMW1sUnHzSxGspuhpqLDx6wiyjNtZ");break;case"solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1":u.chains.push("solana:8E9rvCKLFQia2Y35HXjjpWzj8weVo44K");break;default:}return u?.rpcMap&&c&&(u.rpcMap[o]=c),n},{});return this.applyNamespaceOverrides(r,t)},resolveReownName:async e=>{let t=await W0.resolveName(e);return(t?.addresses?Object.values(t.addresses):[])[0]?.address||!1},getChainsFromNamespaces(e={}){return Object.values(e).flatMap(t=>{let r=t.chains||[],n=t.accounts.map(s=>{let[o,i]=s.split(":");return`${o}:${i}`});return Array.from(new Set([...r,...n]))})},isSessionEventData(e){return typeof e=="object"&&e!==null&&"id"in e&&"topic"in e&&"params"in e&&typeof e.params=="object"&&e.params!==null&&"chainId"in e.params&&"event"in e.params&&typeof e.params.event=="object"&&e.params.event!==null},isUserRejectedRequestError(e){try{if(typeof e=="object"&&e!==null){let t=e,r=typeof t.code=="number",n=r&&t.code===cl.RPC_ERROR_CODE.USER_REJECTED_METHODS,s=r&&t.code===cl.RPC_ERROR_CODE.USER_REJECTED;return n||s}return!1}catch{return!1}},isOriginAllowed(e,t,r){let n=[...t,...r];if(t.length===0)return!0;let s=o9(e);if(!s)return n.some(o=>!o.includes("*")&&o===e);if(s.hostname==="localhost"||s.hostname==="127.0.0.1")return!0;for(let o of n)if(o.includes("*")){if(ipe(s,e,o))return!0}else if(ope(e,o))return!0;return!1},listenWcProvider({universalProvider:e,namespace:t,onConnect:r,onDisconnect:n,onAccountsChanged:s,onChainChanged:o,onDisplayUri:i}){r&&e.on("connect",()=>{let a=cl.getWalletConnectAccounts(e,t);r(a)}),n&&e.on("disconnect",()=>{n()}),s&&e.on("accountsChanged",a=>{try{let c=e.session?.namespaces?.[t]?.accounts||[],l=e.rpcProviders?.[t]?.getDefaultChain(),u=a.map(d=>{let p=c.find(g=>g.includes(`${t}:${l}:${d}`));if(!p)return;let{chainId:f,chainNamespace:h}=it.parseCaipAddress(p);return{address:d,chainId:f,chainNamespace:h}}).filter(d=>d!==void 0);u.length>0&&s(u)}catch(c){console.warn("Failed to parse accounts for namespace on accountsChanged event",t,a,c)}}),o&&e.on("chainChanged",a=>{o(a)}),i&&e.on("display_uri",a=>{i(a)})},getWalletConnectAccounts(e,t){let r=new Set,n=e?.session?.namespaces?.[t]?.accounts?.map(s=>it.parseCaipAddress(s)).filter(({address:s})=>r.has(s.toLowerCase())?!1:(r.add(s.toLowerCase()),!0));return n&&n.length>0?n:[]}}});var iVe,Y4,cpe=m(()=>{s9();at();dc();$n();i9();jr();vs();r9();iVe=[V.CONNECTOR_ID.AUTH,V.CONNECTOR_ID.WALLET_CONNECT],Y4=class{constructor(t){this.availableConnectors=[],this.availableConnections=[],this.providerHandlers={},this.eventListeners=new Map,this.getCaipNetworks=r=>R.getCaipNetworks(r),this.getConnectorId=r=>X.getConnectorId(r),t&&this.construct(t)}construct(t){this.projectId=t.projectId,this.namespace=t.namespace,this.adapterType=t.adapterType}get connectors(){return this.availableConnectors}get connections(){return this.availableConnections}get networks(){return this.getCaipNetworks(this.namespace)}onAuthConnected({accounts:t,chainId:r}){let n=this.getCaipNetworks().filter(s=>s.chainNamespace===this.namespace).find(s=>s.id.toString()===r?.toString());t&&n&&this.addConnection({connectorId:V.CONNECTOR_ID.AUTH,accounts:t,caipNetwork:n})}setAuthProvider(t){t.onConnect(this.onAuthConnected.bind(this)),t.onSocialConnected(this.onAuthConnected.bind(this)),this.addConnector({id:V.CONNECTOR_ID.AUTH,type:"AUTH",name:V.CONNECTOR_NAMES.AUTH,provider:t,imageId:void 0,chain:this.namespace,chains:[]})}addConnector(...t){let r=new Set;this.availableConnectors=[...t,...this.availableConnectors].filter(n=>r.has(n.id)?!1:(r.add(n.id),!0)),this.emit("connectors",this.availableConnectors)}addConnection(...t){let r=new Set;this.availableConnections=[...t,...this.availableConnections].filter(n=>r.has(n.connectorId.toLowerCase())?!1:(r.add(n.connectorId.toLowerCase()),!0)),this.emit("connections",this.availableConnections)}deleteConnection(t){this.availableConnections=this.availableConnections.filter(r=>r.connectorId.toLowerCase()!==t.toLowerCase()),this.emit("connections",this.availableConnections)}clearConnections(t=!1){this.availableConnections=[],t&&this.emit("connections",this.availableConnections)}setStatus(t,r){R.setAccountProp("status",t,r)}on(t,r){this.eventListeners.has(t)||this.eventListeners.set(t,new Set),this.eventListeners.get(t)?.add(r)}off(t,r){let n=this.eventListeners.get(t);n&&n.delete(r)}removeAllEventListeners(){this.eventListeners.forEach(t=>{t.clear()})}emit(t,r){let n=this.eventListeners.get(t);n&&n.forEach(s=>s(r))}async connectWalletConnect(t){try{return{clientId:(await this.getWalletConnectConnector().connectWalletConnect()).clientId}}catch(r){throw cl.isUserRejectedRequestError(r)?new f1(r):r}}async switchNetwork(t){let{caipNetwork:r}=t,n=ur.getProviderId(r.chainNamespace),s=ur.getProvider(r.chainNamespace);if(!s)throw new Error("Provider not found");if(n==="WALLET_CONNECT"){s.setDefaultChain(r.caipNetworkId);return}if(n==="AUTH"){let o=X.getAuthConnector()?.provider;if(!o)throw new Error("Auth provider not found");let i=zr(r.chainNamespace);await o.switchNetwork({chainId:r.caipNetworkId});let a=await o.getUser({chainId:r.caipNetworkId,preferredAccountType:i});this.emit("switchNetwork",a)}}getWalletConnectConnector(){let t=this.connectors.find(r=>r.id==="walletConnect");if(!t)throw new Error("WalletConnectConnector not found");return t}onConnect(t,r){if(t.length>0){let{address:n,chainId:s}=te.getAccount(t[0]),o=this.getCaipNetworks().filter(a=>a.chainNamespace===this.namespace).find(a=>a.id.toString()===s?.toString()),i=this.connectors.find(a=>a.id===r);n&&(this.emit("accountChanged",{address:n,chainId:s,connector:i}),this.addConnection({connectorId:r,accounts:t.map(a=>{let{address:c}=te.getAccount(a);return{address:c}}),caipNetwork:o}))}}onAccountsChanged(t,r,n=!0){if(t.length>0){let{address:s}=te.getAccount(t[0]),o=this.getConnection({connectorId:r,connections:this.connections,connectors:this.connectors});s&&this.getConnectorId(V.CHAIN.EVM)?.toLowerCase()===r.toLowerCase()&&this.emit("accountChanged",{address:s,chainId:o?.caipNetwork?.id,connector:o?.connector}),this.addConnection({connectorId:r,accounts:t.map(i=>{let{address:a}=te.getAccount(i);return{address:a}}),caipNetwork:o?.caipNetwork})}else n&&this.onDisconnect(r)}onDisconnect(t){this.removeProviderListeners(t),this.deleteConnection(t),this.getConnectorId(V.CHAIN.EVM)?.toLowerCase()===t.toLowerCase()&&this.emitFirstAvailableConnection(),this.connections.length===0&&this.emit("disconnect")}onChainChanged(t,r){let n=typeof t=="string"&&t.startsWith("0x")?parseInt(t,16).toString():t.toString(),s=this.getConnection({connectorId:r,connections:this.connections,connectors:this.connectors}),o=this.getCaipNetworks().filter(i=>i.chainNamespace===this.namespace).find(i=>i.id.toString()===n);s&&this.addConnection({connectorId:r,accounts:s.accounts,caipNetwork:o}),this.getConnectorId(V.CHAIN.EVM)?.toLowerCase()===r.toLowerCase()&&this.emit("switchNetwork",{chainId:n})}listenProviderEvents(t,r){if(iVe.includes(t))return;let n=i=>this.onAccountsChanged(i,t),s=i=>this.onChainChanged(i,t),o=()=>this.onDisconnect(t);this.providerHandlers[t]||(r.on("disconnect",o),r.on("accountsChanged",n),r.on("chainChanged",s),this.providerHandlers[t]={provider:r,disconnect:o,accountsChanged:n,chainChanged:s})}removeProviderListeners(t){if(this.providerHandlers[t]){let{provider:r,disconnect:n,accountsChanged:s,chainChanged:o}=this.providerHandlers[t];r.removeListener("disconnect",n),r.removeListener("accountsChanged",s),r.removeListener("chainChanged",o),this.providerHandlers[t]=null}}emitFirstAvailableConnection(){let t=this.getConnection({connections:this.connections,connectors:this.connectors});if(t){let[r]=t.accounts;this.emit("accountChanged",{address:r?.address,chainId:t.caipNetwork?.id,connector:t.connector})}}getConnection({address:t,connectorId:r,connections:n,connectors:s}){if(r){let i=n.find(l=>l.connectorId.toLowerCase()===r.toLowerCase());if(!i)return null;let a=s.find(l=>l.id.toLowerCase()===i.connectorId.toLowerCase()),c=t?i.accounts.find(l=>l.address.toLowerCase()===t.toLowerCase()):i.accounts[0];return{...i,account:c,connector:a}}let o=n.find(i=>i.accounts.length>0&&s.some(a=>a.id.toLowerCase()===i.connectorId.toLowerCase()));if(o){let[i]=o.accounts,a=s.find(c=>c.id.toLowerCase()===o.connectorId.toLowerCase());return{...o,account:i,connector:a}}return null}}});var pg,Es,a9=m(()=>{s9();at();j0();jr();Xo();vs();lc();Mp();kn();uc();F0();dc();$n();pg=null,Es={getSIWX(){return W.state.siwx},async initializeIfEnabled(e=R.getActiveCaipAddress()){let t=W.state.siwx;if(!(t&&e))return;let[r,n,s]=e.split(":");if(R.checkIfSupportedNetwork(r,`${r}:${n}`))try{if(W.state.remoteFeatures?.emailCapture){let i=R.getAccountData(r)?.user;await ke.open({view:"DataCapture",data:{email:i?.email??void 0}});return}if(pg&&await pg,(await t.getSessions(`${r}:${n}`,s)).length)return;await ke.open({view:"SIWXSignMessage"})}catch(o){console.error("SIWXUtil:initializeIfEnabled",o),ve.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:this.getSIWXEventProperties(o)}),await Q._getClient()?.disconnect().catch(console.error),K.reset("Connect"),Ze.showError("A problem occurred while trying initialize authentication")}},async isAuthenticated(e=R.getActiveCaipAddress()){if(!W.state.siwx||!e)return!0;let{chainNamespace:r,chainId:n,address:s}=it.parseCaipAddress(e),o=`${r}:${n}`;return(await Es.getSessions({address:s,caipNetworkId:o})).length>0},async requestSignMessage(){let e=W.state.siwx,t=te.getPlainAddress(R.getActiveCaipAddress()),r=lg();if(!e)throw new Error("SIWX is not enabled");if(!t)throw new Error("No ActiveCaipAddress found");if(!r)throw new Error("No ActiveCaipNetwork or client found");try{let n=await e.createMessage({chainId:r.caipNetworkId,accountAddress:t}),s=n.toString(),o="";e.signMessage?o=await e.signMessage({message:s,chainId:r.caipNetworkId,accountAddress:t}):(X.getConnectorId(r.chainNamespace)===V.CONNECTOR_ID.AUTH&&K.pushTransactionStack({}),o=await Q.signMessage(s)||""),await e.addSession({data:n,message:s,signature:o}),R.setLastConnectedSIWECaipNetwork(r),ke.close(),ve.sendEvent({type:"track",event:"SIWX_AUTH_SUCCESS",properties:this.getSIWXEventProperties()})}catch(n){(!ke.state.open||K.state.view==="ApproveTransaction")&&await ke.open({view:"SIWXSignMessage"}),Ze.showError("Error signing message"),ve.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:this.getSIWXEventProperties(n)}),console.error("SWIXUtil:requestSignMessage",n)}},async cancelSignMessage(){try{let e=this.getSIWX();if(e?.getRequired?.()){let r=R.getLastConnectedSIWECaipNetwork();if(r){let n=await e?.getSessions(r?.caipNetworkId,te.getPlainAddress(R.getActiveCaipAddress())||"");n&&n.length>0?await R.switchActiveNetwork(r):await Q.disconnect()}else await Q.disconnect()}else ke.close();ke.close(),ve.sendEvent({event:"CLICK_CANCEL_SIWX",type:"track",properties:this.getSIWXEventProperties()})}catch(e){console.error("SIWXUtil:cancelSignMessage",e)}},async getAllSessions(){let e=this.getSIWX(),t=R.getAllRequestedCaipNetworks(),r=[];return await Promise.all(t.map(async n=>{let s=await e?.getSessions(n.caipNetworkId,te.getPlainAddress(R.getActiveCaipAddress())||"");s&&r.push(...s)})),r},async getSessions(e){let t=W.state.siwx,r=e?.address;if(!r){let s=R.getActiveCaipAddress();r=te.getPlainAddress(s)}let n=e?.caipNetworkId;return n||(n=R.getActiveCaipNetwork()?.caipNetworkId),t&&r&&n?t.getSessions(n,r):[]},async isSIWXCloseDisabled(){let e=this.getSIWX();if(e){let t=K.state.view==="ApproveTransaction",r=K.state.view==="SIWXSignMessage";if(t||r)return e.getRequired?.()&&(await this.getSessions()).length===0}return!1},async authConnectorAuthenticate({authConnector:e,chainId:t,socialUri:r,preferredAccountType:n,chainNamespace:s}){let o=Es.getSIWX(),i=lg();if(!o||!s.includes(V.CHAIN.EVM)||W.state.remoteFeatures?.emailCapture){let d=await e.connect({chainId:t,socialUri:r,preferredAccountType:n});return{address:d.address,chainId:d.chainId,accounts:d.accounts}}let a=`${s}:${t}`,c=await o.createMessage({chainId:a,accountAddress:"<<AccountAddress>>"}),l={accountAddress:c.accountAddress,chainId:c.chainId,domain:c.domain,uri:c.uri,version:c.version,nonce:c.nonce,notBefore:c.notBefore,statement:c.statement,resources:c.resources,requestId:c.requestId,issuedAt:c.issuedAt,expirationTime:c.expirationTime,serializedMessage:c.toString()},u=await e.connect({chainId:t,socialUri:r,siwxMessage:l,preferredAccountType:n});return l.accountAddress=u.address,l.serializedMessage=u.message||"",u.signature&&u.message&&await Es.addEmbeddedWalletSession(l,u.message,u.signature),R.setLastConnectedSIWECaipNetwork(i),{address:u.address,chainId:u.chainId,accounts:u.accounts}},async addEmbeddedWalletSession(e,t,r){if(pg)return pg;let n=Es.getSIWX();return n?(pg=n.addSession({data:e,message:t,signature:r}).finally(()=>{pg=null}),pg):Promise.resolve()},async universalProviderAuthenticate({universalProvider:e,chains:t,methods:r}){let n=Es.getSIWX(),s=lg(),o=new Set(t.map(l=>l.split(":")[0]));if(!n||o.size!==1||!o.has("eip155"))return!1;let i=await n.createMessage({chainId:lg()?.caipNetworkId||"",accountAddress:""}),a=await e.authenticate({nonce:i.nonce,domain:i.domain,uri:i.uri,exp:i.expirationTime,iat:i.issuedAt,nbf:i.notBefore,requestId:i.requestId,version:i.version,resources:i.resources,statement:i.statement,chainId:i.chainId,methods:r,chains:[i.chainId,...t.filter(l=>l!==i.chainId)]});Ze.showLoading("Authenticating...",{autoClose:!1});let c={...a.session.peer.metadata,name:a.session.peer.metadata.name,icon:a.session.peer.metadata.icons?.[0],type:"WALLET_CONNECT"};if(R.setAccountProp("connectedWalletInfo",c,Array.from(o)[0]),a?.auths?.length){let l=a.auths.map(u=>{let d=e.client.formatAuthMessage({request:u.p,iss:u.p.iss});return{data:{...u.p,accountAddress:u.p.iss.split(":").slice(-1).join(""),chainId:u.p.iss.split(":").slice(2,4).join(":"),uri:u.p.aud??"",version:u.p.version||i.version,expirationTime:u.p.exp,issuedAt:u.p.iat,notBefore:u.p.nbf},message:d,signature:u.s.s,cacao:u}});try{await n.setSessions(l),s&&R.setLastConnectedSIWECaipNetwork(s),ve.sendEvent({type:"track",event:"SIWX_AUTH_SUCCESS",properties:Es.getSIWXEventProperties()})}catch(u){throw console.error("SIWX:universalProviderAuth - failed to set sessions",u),ve.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:Es.getSIWXEventProperties(u)}),await e.disconnect().catch(console.error),u}finally{Ze.hide()}}return!0},getSIWXEventProperties(e){let t=R.state.activeChain;if(!t)throw new Error("SIWXUtil:getSIWXEventProperties - namespace is required");return{network:R.state.activeCaipNetwork?.caipNetworkId||"",isSmartAccount:zr(t)===Gr.ACCOUNT_TYPES.SMART_ACCOUNT,message:e?te.parseError(e):void 0}},async clearSessions(){let e=this.getSIWX();e&&await e.setSessions([])}}});var J4,aVe,lpe=m(()=>{s9();at();a9();i9();jr();kn();J4=class{constructor({provider:t,namespace:r}){this.id=V.CONNECTOR_ID.WALLET_CONNECT,this.name="WalletConnect",this.type="WALLET_CONNECT",this.imageId="ef1a1fcf-7fe8-4d69-bd6d-fda1345b4400",this.getCaipNetworks=R.getCaipNetworks.bind(R),this.caipNetworks=this.getCaipNetworks(),this.provider=t,this.chain=r}get chains(){return this.getCaipNetworks()}async connectWalletConnect(){if(!await this.authenticate()){let r=this.getCaipNetworks(),n=W.state.universalProviderConfigOverride,s=cl.createNamespaces(r,n);await this.provider.connect({optionalNamespaces:s})}return{clientId:await this.provider.client.core.crypto.getClientId(),session:this.provider.session}}async disconnect(){await this.provider.disconnect()}async authenticate(){let t=this.chains.map(r=>r.caipNetworkId);return Es.universalProviderAuthenticate({universalProvider:this.provider,chains:t,methods:aVe})}},aVe=["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode","wallet_getCallsStatus","wallet_sendCalls","wallet_getCapabilities","wallet_grantPermissions","wallet_revokePermissions","wallet_getAssets"]});var Fp,upe=m(()=>{at();Fp={getGasPriceInEther(e,t){let r=t*e;return Number(r)/1e18},getGasPriceInUSD(e,t,r){let n=Fp.getGasPriceInEther(t,r);return pt.bigNumber(e).times(n).toNumber()},getPriceImpact({sourceTokenAmount:e,sourceTokenPriceInUSD:t,toTokenPriceInUSD:r,toTokenAmount:n}){let s=pt.bigNumber(e).times(t),o=pt.bigNumber(n).times(r);return s.minus(o).div(s).times(100).toNumber()},getMaxSlippage(e,t){let r=pt.bigNumber(e).div(100);return pt.multiply(t,r).toNumber()},getProviderFee(e,t=.0085){return pt.bigNumber(e).times(t).toString()},isInsufficientNetworkTokenForGas(e,t){let r=t||"0";return pt.bigNumber(e).eq(0)?!0:pt.bigNumber(pt.bigNumber(r)).gt(e)},isInsufficientSourceTokenForSwap(e,t,r){let n=r?.find(o=>o.address===t)?.quantity?.numeric;return pt.bigNumber(n||"0").lt(e)}}});var ll,cVe,sn,QM=m(()=>{Fr();Hn();at();co();kn();ll=Xe({message:"",variant:"info",open:!1}),cVe={state:ll,subscribeKey(e,t){return _t(ll,e,t)},open(e,t){let{debug:r}=W.state,{code:n,displayMessage:s,debugMessage:o}=e;if(s&&r&&(ll.message=s,ll.variant=t,ll.open=!0),o){if(!V.IS_DEVELOPMENT)return;let i=typeof o=="function"?o():o,a=n?{code:n}:void 0;t==="error"?console.error(i,a):t==="warning"?console.warn(i,a):console.info(i,a)}},warn(e,t,r){ll.open=!0,ll.message=e,ll.variant="warning",t&&console.warn(t,r)},close(){ll.open=!1,ll.message="",ll.variant="info"}},sn=Cr(cVe)});var dpe,lVe,po,G,c9,et,ppe=m(()=>{Fr();Hn();at();at();j0();Pb();dc();ya();$n();WM();upe();co();QM();Lp();jr();Xo();vs();lc();uc();F0();dpe=15e4,lVe=6,po={initializing:!1,initialized:!1,loadingPrices:!1,loadingQuote:!1,loadingApprovalTransaction:!1,loadingBuildTransaction:!1,loadingTransaction:!1,switchingTokens:!1,fetchError:!1,approvalTransaction:void 0,swapTransaction:void 0,transactionError:void 0,sourceToken:void 0,sourceTokenAmount:"",sourceTokenPriceInUSD:0,toToken:void 0,toTokenAmount:"",toTokenPriceInUSD:0,networkPrice:"0",networkBalanceInUSD:"0",networkTokenSymbol:"",inputError:void 0,slippage:Ke.CONVERT_SLIPPAGE_TOLERANCE,tokens:void 0,popularTokens:void 0,suggestedTokens:void 0,foundTokens:void 0,myTokensWithBalance:void 0,tokensPriceMap:{},gasFee:"0",gasPriceInUSD:0,priceImpact:void 0,maxSlippage:void 0,providerFee:void 0},G=Xe({...po}),c9={state:G,subscribe(e){return Ut(G,()=>e(G))},subscribeKey(e,t){return _t(G,e,t)},getParams(){let e=R.state.activeChain,t=R.getAccountData(e)?.caipAddress??R.state.activeCaipAddress,r=te.getPlainAddress(t),n=_b(),s=X.getConnectorId(R.state.activeChain);if(!r)throw new Error("No address found to swap the tokens from.");let o=!G.toToken?.address||!G.toToken?.decimals,i=!G.sourceToken?.address||!G.sourceToken?.decimals||!pt.bigNumber(G.sourceTokenAmount).gt(0),a=!G.sourceTokenAmount;return{networkAddress:n,fromAddress:r,fromCaipAddress:t,sourceTokenAddress:G.sourceToken?.address,toTokenAddress:G.toToken?.address,toTokenAmount:G.toTokenAmount,toTokenDecimals:G.toToken?.decimals,sourceTokenAmount:G.sourceTokenAmount,sourceTokenDecimals:G.sourceToken?.decimals,invalidToToken:o,invalidSourceToken:i,invalidSourceTokenAmount:a,availableToSwap:t&&!o&&!i&&!a,isAuthConnector:s===V.CONNECTOR_ID.AUTH}},async setSourceToken(e){if(!e){G.sourceToken=e,G.sourceTokenAmount="",G.sourceTokenPriceInUSD=0;return}G.sourceToken=e,await et.setTokenPrice(e.address,"sourceToken")},setSourceTokenAmount(e){G.sourceTokenAmount=e},async setToToken(e){if(!e){G.toToken=e,G.toTokenAmount="",G.toTokenPriceInUSD=0;return}G.toToken=e,await et.setTokenPrice(e.address,"toToken")},setToTokenAmount(e){G.toTokenAmount=e?pt.toFixed(e,lVe):""},async setTokenPrice(e,t){let r=G.tokensPriceMap[e]||0;r||(G.loadingPrices=!0,r=await et.getAddressPrice(e)),t==="sourceToken"?G.sourceTokenPriceInUSD=r:t==="toToken"&&(G.toTokenPriceInUSD=r),G.loadingPrices&&(G.loadingPrices=!1),et.getParams().availableToSwap&&!G.switchingTokens&&et.swapTokens()},async switchTokens(){if(!(G.initializing||!G.initialized||G.switchingTokens)){G.switchingTokens=!0;try{let e=G.toToken?{...G.toToken}:void 0,t=G.sourceToken?{...G.sourceToken}:void 0,r=e&&G.toTokenAmount===""?"1":G.toTokenAmount;et.setSourceTokenAmount(r),et.setToTokenAmount(""),await et.setSourceToken(e),await et.setToToken(t),G.switchingTokens=!1,et.swapTokens()}catch(e){throw G.switchingTokens=!1,e}}},resetState(){G.myTokensWithBalance=po.myTokensWithBalance,G.tokensPriceMap=po.tokensPriceMap,G.initialized=po.initialized,G.initializing=po.initializing,G.switchingTokens=po.switchingTokens,G.sourceToken=po.sourceToken,G.sourceTokenAmount=po.sourceTokenAmount,G.sourceTokenPriceInUSD=po.sourceTokenPriceInUSD,G.toToken=po.toToken,G.toTokenAmount=po.toTokenAmount,G.toTokenPriceInUSD=po.toTokenPriceInUSD,G.networkPrice=po.networkPrice,G.networkTokenSymbol=po.networkTokenSymbol,G.networkBalanceInUSD=po.networkBalanceInUSD,G.inputError=po.inputError},resetValues(){let{networkAddress:e}=et.getParams(),t=G.tokens?.find(r=>r.address===e);et.setSourceToken(t),et.setToToken(void 0)},getApprovalLoadingState(){return G.loadingApprovalTransaction},clearError(){G.transactionError=void 0},async initializeState(){if(!G.initializing){if(G.initializing=!0,!G.initialized)try{await et.fetchTokens(),G.initialized=!0}catch{G.initialized=!1,Ze.showError("Failed to initialize swap"),K.goBack()}G.initializing=!1}},async fetchTokens(){let{networkAddress:e}=et.getParams();await et.getNetworkTokenPrice(),await et.getMyTokensWithBalance();let t=G.myTokensWithBalance?.find(r=>r.address===e);t&&(G.networkTokenSymbol=t.symbol,et.setSourceToken(t),et.setSourceTokenAmount("0"))},async getTokenList(){let e=R.state.activeCaipNetwork?.caipNetworkId;if(!(G.caipNetworkId===e&&G.tokens))try{G.tokensLoading=!0;let t=await V0.getTokenList(e);G.tokens=t,G.caipNetworkId=e,G.popularTokens=t.sort((i,a)=>i.symbol<a.symbol?-1:i.symbol>a.symbol?1:0);let n=(e&&Ke.SUGGESTED_TOKENS_BY_CHAIN?.[e]||[]).map(i=>t.find(a=>a.symbol===i)).filter(i=>!!i),o=(Ke.SWAP_SUGGESTED_TOKENS||[]).map(i=>t.find(a=>a.symbol===i)).filter(i=>!!i).filter(i=>!n.some(a=>a.address===i.address));G.suggestedTokens=[...n,...o]}catch{G.tokens=[],G.popularTokens=[],G.suggestedTokens=[]}finally{G.tokensLoading=!1}},async getAddressPrice(e){let t=G.tokensPriceMap[e];if(t)return t;let n=(await $e.fetchTokenPrice({addresses:[e]}))?.fungibles||[],o=[...G.tokens||[],...G.myTokensWithBalance||[]]?.find(c=>c.address===e)?.symbol,i=n.find(c=>c.symbol.toLowerCase()===o?.toLowerCase())?.price||0,a=parseFloat(i.toString());return G.tokensPriceMap[e]=a,a},async getNetworkTokenPrice(){let{networkAddress:e}=et.getParams(),r=(await $e.fetchTokenPrice({addresses:[e]}).catch(()=>(Ze.showError("Failed to fetch network token price"),{fungibles:[]}))).fungibles?.[0],n=r?.price.toString()||"0";G.tokensPriceMap[e]=parseFloat(n),G.networkTokenSymbol=r?.symbol||"",G.networkPrice=n},async getMyTokensWithBalance(e){let t=await al.getMyTokensWithBalance({forceUpdate:e,caipNetwork:R.state.activeCaipNetwork,address:R.getAccountData()?.address}),r=V0.mapBalancesToSwapTokens(t);r&&(await et.getInitialGasPrice(),et.setBalances(r))},setBalances(e){let{networkAddress:t}=et.getParams(),r=R.state.activeCaipNetwork;if(!r)return;let n=e.find(s=>s.address===t);e.forEach(s=>{G.tokensPriceMap[s.address]=s.price||0}),G.myTokensWithBalance=e.filter(s=>s.address.startsWith(r.caipNetworkId)),G.networkBalanceInUSD=n?pt.multiply(n.quantity.numeric,n.price).toString():"0"},async getInitialGasPrice(){let e=await V0.fetchGasPrice();if(!e)return{gasPrice:null,gasPriceInUSD:null};switch(R.state?.activeCaipNetwork?.chainNamespace){case V.CHAIN.SOLANA:return G.gasFee=e.standard??"0",G.gasPriceInUSD=pt.multiply(e.standard,G.networkPrice).div(1e9).toNumber(),{gasPrice:BigInt(G.gasFee),gasPriceInUSD:Number(G.gasPriceInUSD)};case V.CHAIN.EVM:default:let t=e.standard??"0",r=BigInt(t),n=BigInt(dpe),s=Fp.getGasPriceInUSD(G.networkPrice,n,r);return G.gasFee=t,G.gasPriceInUSD=s,{gasPrice:r,gasPriceInUSD:s}}},async swapTokens(){let e=R.getAccountData()?.address,t=G.sourceToken,r=G.toToken,n=pt.bigNumber(G.sourceTokenAmount).gt(0);if(n||et.setToTokenAmount(""),!r||!t||G.loadingPrices||!n||!e)return;G.loadingQuote=!0;let s=pt.bigNumber(G.sourceTokenAmount).times(10**t.decimals).round(0).toFixed(0);try{let o=await $e.fetchSwapQuote({userAddress:e,from:t.address,to:r.address,gasPrice:G.gasFee,amount:s.toString()});G.loadingQuote=!1;let i=o?.quotes?.[0]?.toAmount;if(!i){sn.open({displayMessage:"Incorrect amount",debugMessage:"Please enter a valid amount"},"error");return}let a=pt.bigNumber(i).div(10**r.decimals).toString();et.setToTokenAmount(a),et.hasInsufficientToken(G.sourceTokenAmount,t.address)?G.inputError="Insufficient balance":(G.inputError=void 0,et.setTransactionDetails())}catch(o){let i=await V0.handleSwapError(o);G.loadingQuote=!1,G.inputError=i||"Insufficient balance"}},async getTransaction(){let{fromCaipAddress:e,availableToSwap:t}=et.getParams(),r=G.sourceToken,n=G.toToken;if(!(!e||!t||!r||!n||G.loadingQuote))try{G.loadingBuildTransaction=!0;let s=await V0.fetchSwapAllowance({userAddress:e,tokenAddress:r.address,sourceTokenAmount:G.sourceTokenAmount,sourceTokenDecimals:r.decimals}),o;return s?o=await et.createSwapTransaction():o=await et.createAllowanceTransaction(),G.loadingBuildTransaction=!1,G.fetchError=!1,o}catch{K.goBack(),Ze.showError("Failed to check allowance"),G.loadingBuildTransaction=!1,G.approvalTransaction=void 0,G.swapTransaction=void 0,G.fetchError=!0;return}},async createAllowanceTransaction(){let{fromCaipAddress:e,sourceTokenAddress:t,toTokenAddress:r}=et.getParams();if(!(!e||!r)){if(!t)throw new Error("createAllowanceTransaction - No source token address found.");try{let n=await $e.generateApproveCalldata({from:t,to:r,userAddress:e}),s=te.getPlainAddress(n.tx.from);if(!s)throw new Error("SwapController:createAllowanceTransaction - address is required");let o={data:n.tx.data,to:s,gasPrice:BigInt(n.tx.eip155.gasPrice),value:BigInt(n.tx.value),toAmount:G.toTokenAmount};return G.swapTransaction=void 0,G.approvalTransaction={data:o.data,to:o.to,gasPrice:o.gasPrice,value:o.value,toAmount:o.toAmount},{data:o.data,to:o.to,gasPrice:o.gasPrice,value:o.value,toAmount:o.toAmount}}catch{K.goBack(),Ze.showError("Failed to create approval transaction"),G.approvalTransaction=void 0,G.swapTransaction=void 0,G.fetchError=!0;return}}},async createSwapTransaction(){let{networkAddress:e,fromCaipAddress:t,sourceTokenAmount:r}=et.getParams(),n=G.sourceToken,s=G.toToken;if(!t||!r||!n||!s)return;let o=Q.parseUnits(r,n.decimals)?.toString();try{let i=await $e.generateSwapCalldata({userAddress:t,from:n.address,to:s.address,amount:o,disableEstimate:!0}),a=n.address===e,c=BigInt(i.tx.eip155.gas),l=BigInt(i.tx.eip155.gasPrice),u=te.getPlainAddress(i.tx.to);if(!u)throw new Error("SwapController:createSwapTransaction - address is required");let d={data:i.tx.data,to:u,gas:c,gasPrice:l,value:BigInt(a?o??"0":"0"),toAmount:G.toTokenAmount};return G.gasPriceInUSD=Fp.getGasPriceInUSD(G.networkPrice,c,l),G.approvalTransaction=void 0,G.swapTransaction=d,d}catch{K.goBack(),Ze.showError("Failed to create transaction"),G.approvalTransaction=void 0,G.swapTransaction=void 0,G.fetchError=!0;return}},onEmbeddedWalletApprovalSuccess(){Ze.showLoading("Approve limit increase in your wallet"),K.replace("SwapPreview")},async sendTransactionForApproval(e){let{fromAddress:t,isAuthConnector:r}=et.getParams();G.loadingApprovalTransaction=!0,r?K.pushTransactionStack({onSuccess:et.onEmbeddedWalletApprovalSuccess}):Ze.showLoading("Approve limit increase in your wallet");try{await Q.sendTransaction({address:t,to:e.to,data:e.data,value:e.value,chainNamespace:V.CHAIN.EVM}),await et.swapTokens(),await et.getTransaction(),G.approvalTransaction=void 0,G.loadingApprovalTransaction=!1}catch(s){let o=s;G.transactionError=o?.displayMessage,G.loadingApprovalTransaction=!1,Ze.showError(o?.displayMessage||"Transaction error"),ve.sendEvent({type:"track",event:"SWAP_APPROVAL_ERROR",properties:{message:o?.displayMessage||o?.message||"Unknown",network:R.state.activeCaipNetwork?.caipNetworkId||"",swapFromToken:et.state.sourceToken?.symbol||"",swapToToken:et.state.toToken?.symbol||"",swapFromAmount:et.state.sourceTokenAmount||"",swapToAmount:et.state.toTokenAmount||"",isSmartAccount:zr(V.CHAIN.EVM)===Gr.ACCOUNT_TYPES.SMART_ACCOUNT}})}},async sendTransactionForSwap(e){if(!e)return;let{fromAddress:t,toTokenAmount:r,isAuthConnector:n}=et.getParams();G.loadingTransaction=!0;let s=`Swapping ${G.sourceToken?.symbol} to ${pt.formatNumberToLocalString(r,3)} ${G.toToken?.symbol}`,o=`Swapped ${G.sourceToken?.symbol} to ${pt.formatNumberToLocalString(r,3)} ${G.toToken?.symbol}`;n?K.pushTransactionStack({onSuccess(){K.replace("Account"),Ze.showLoading(s),c9.resetState()}}):Ze.showLoading("Confirm transaction in your wallet");try{let i=[G.sourceToken?.address,G.toToken?.address].join(","),a=await Q.sendTransaction({address:t,to:e.to,data:e.data,value:e.value,chainNamespace:V.CHAIN.EVM});return G.loadingTransaction=!1,Ze.showSuccess(o),ve.sendEvent({type:"track",event:"SWAP_SUCCESS",properties:{network:R.state.activeCaipNetwork?.caipNetworkId||"",swapFromToken:et.state.sourceToken?.symbol||"",swapToToken:et.state.toToken?.symbol||"",swapFromAmount:et.state.sourceTokenAmount||"",swapToAmount:et.state.toTokenAmount||"",isSmartAccount:zr(V.CHAIN.EVM)===Gr.ACCOUNT_TYPES.SMART_ACCOUNT}}),c9.resetState(),n||K.replace("Account"),c9.getMyTokensWithBalance(i),a}catch(i){let a=i;G.transactionError=a?.displayMessage,G.loadingTransaction=!1,Ze.showError(a?.displayMessage||"Transaction error"),ve.sendEvent({type:"track",event:"SWAP_ERROR",properties:{message:a?.displayMessage||a?.message||"Unknown",network:R.state.activeCaipNetwork?.caipNetworkId||"",swapFromToken:et.state.sourceToken?.symbol||"",swapToToken:et.state.toToken?.symbol||"",swapFromAmount:et.state.sourceTokenAmount||"",swapToAmount:et.state.toTokenAmount||"",isSmartAccount:zr(V.CHAIN.EVM)===Gr.ACCOUNT_TYPES.SMART_ACCOUNT}});return}},hasInsufficientToken(e,t){return Fp.isInsufficientSourceTokenForSwap(e,t,G.myTokensWithBalance)},setTransactionDetails(){let{toTokenAddress:e,toTokenDecimals:t}=et.getParams();!e||!t||(G.gasPriceInUSD=Fp.getGasPriceInUSD(G.networkPrice,BigInt(G.gasFee),BigInt(dpe)),G.priceImpact=Fp.getPriceImpact({sourceTokenAmount:G.sourceTokenAmount,sourceTokenPriceInUSD:G.sourceTokenPriceInUSD,toTokenPriceInUSD:G.toTokenPriceInUSD,toTokenAmount:G.toTokenAmount}),G.maxSlippage=Fp.getMaxSlippage(G.slippage,G.toTokenAmount),G.providerFee=Fp.getProviderFee(G.sourceTokenAmount))}},et=Cr(c9)});var ul,uVe,ei,fpe=m(()=>{Fr();Hn();co();ul=Xe({message:"",open:!1,triggerRect:{width:0,height:0,top:0,left:0},variant:"shade"}),uVe={state:ul,subscribe(e){return Ut(ul,()=>e(ul))},subscribeKey(e,t){return _t(ul,e,t)},showTooltip({message:e,triggerRect:t,variant:r}){ul.open=!0,ul.message=e,ul.triggerRect=t,ul.variant=r},hide(){ul.open=!1,ul.message="",ul.triggerRect={width:0,height:0,top:0,left:0}}},ei=Cr(uVe)});var XM,eH,hpe=m(()=>{XM={network:"eip155:8453",asset:"0x833589fcd6edb6e08f4c7c32d4f71b54bda02913",metadata:{name:"USD Coin",symbol:"USDC",decimals:6}},eH={network:"eip155:84532",asset:"0x036CbD53842c5426634e7929541eC2318f3dCF7e",metadata:{name:"USD Coin",symbol:"USDC",decimals:6}}});var Q4,mpe=m(()=>{Xo();Mp();uc();a9();Q4={isUnsupportedChainView(){return K.state.view==="UnsupportedChain"||K.state.view==="SwitchNetwork"&&K.state.history.includes("UnsupportedChain")},async safeClose(){if(this.isUnsupportedChainView()){ke.shake();return}if(await Es.isSIWXCloseDisabled()){ke.shake();return}(K.state.view==="DataCapture"||K.state.view==="DataCaptureOtpConfirm")&&Q.disconnect(),ke.close()}}});var st=m(()=>{Mp();uc();jr();r9();epe();qM();cpe();lpe();Xo();jM();vs();F0();yu();J_();$M();kn();Lp();W4();lc();ppe();KM();fpe();JM();QM();UM();ya();MM();$n();Q_();wa();a9();mpe();co();hpe();Cb();dc();i9()});var wpe,dVe,pVe,gpe,l9,fVe,hVe,mVe,u9,d9,p9,f9,h9,m9,g9,y9,w9,b9,gVe,yVe,ype,x9,v9,tH=m(()=>{aC();wpe=Bt(Oo()),dVe=Object.defineProperty,pVe=(e,t,r)=>t in e?dVe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,gpe=(e,t,r)=>pVe(e,typeof t!="symbol"?t+"":t,r),l9=class extends us{constructor(t){super(),this.opts=t,gpe(this,"protocol","wc"),gpe(this,"version",2)}},fVe=Object.defineProperty,hVe=(e,t,r)=>t in e?fVe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,mVe=(e,t,r)=>hVe(e,typeof t!="symbol"?t+"":t,r),u9=class extends us{constructor(t,r){super(),this.core=t,this.logger=r,mVe(this,"records",new Map)}},d9=class{constructor(t,r){this.logger=t,this.core=r}},p9=class extends us{constructor(t,r){super(),this.relayer=t,this.logger=r}},f9=class extends us{constructor(t){super()}},h9=class{constructor(t,r,n,s){this.core=t,this.logger=r,this.name=n}},m9=class extends us{constructor(t,r){super(),this.relayer=t,this.logger=r}},g9=class extends us{constructor(t,r){super(),this.core=t,this.logger=r}},y9=class{constructor(t,r,n){this.core=t,this.logger=r,this.store=n}},w9=class{constructor(t,r){this.projectId=t,this.logger=r}},b9=class{constructor(t,r,n){this.core=t,this.logger=r,this.telemetryEnabled=n}},gVe=Object.defineProperty,yVe=(e,t,r)=>t in e?gVe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,ype=(e,t,r)=>yVe(e,typeof t!="symbol"?t+"":t,r),x9=class{constructor(t){this.opts=t,ype(this,"protocol","wc"),ype(this,"version",2)}},v9=class{constructor(t){this.client=t}}});var bpe=m(()=>{});var xpe,vpe=m(()=>{xpe="0.1.1"});function Epe(){return xpe}var Ape=m(()=>{vpe()});function Cpe(e,t){return t?.(e)?e:e&&typeof e=="object"&&"cause"in e&&e.cause?Cpe(e.cause,t):t?null:e}var qt,K0=m(()=>{Ape();qt=class e extends Error{constructor(t,r={}){let n=(()=>{if(r.cause instanceof e){if(r.cause.details)return r.cause.details;if(r.cause.shortMessage)return r.cause.shortMessage}return r.cause&&"details"in r.cause&&typeof r.cause.details=="string"?r.cause.details:r.cause?.message?r.cause.message:r.details})(),s=r.cause instanceof e&&r.cause.docsPath||r.docsPath,i=`https://oxlib.sh${s??""}`,a=[t||"An error occurred.",...r.metaMessages?["",...r.metaMessages]:[],...n||s?["",n?`Details: ${n}`:void 0,s?`See: ${i}`:void 0]:[]].filter(c=>typeof c=="string").join(`
`);super(a,r.cause?{cause:r.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:`ox@${Epe()}`}),this.cause=r.cause,this.details=n,this.docs=i,this.docsPath=s,this.shortMessage=t}walk(t){return Cpe(this,t)}}});function Nb(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function iH(e){if(!Nb(e))throw new Error("Uint8Array expected")}function Rb(e,t){if(typeof t!="boolean")throw new Error(e+" boolean expected, got "+t)}function X4(e){let t=e.toString(16);return t.length&1?"0"+t:t}function _pe(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return e===""?oH:BigInt("0x"+e)}function Ob(e){if(iH(e),Tpe)return e.toHex();let t="";for(let r=0;r<e.length;r++)t+=bVe[e[r]];return t}function Spe(e){if(e>=jp._0&&e<=jp._9)return e-jp._0;if(e>=jp.A&&e<=jp.F)return e-(jp.A-10);if(e>=jp.a&&e<=jp.f)return e-(jp.a-10)}function ev(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);if(Tpe)return Uint8Array.fromHex(e);let t=e.length,r=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);let n=new Uint8Array(r);for(let s=0,o=0;s<r;s++,o+=2){let i=Spe(e.charCodeAt(o)),a=Spe(e.charCodeAt(o+1));if(i===void 0||a===void 0){let c=e[o]+e[o+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+o)}n[s]=i*16+a}return n}function zp(e){return _pe(Ob(e))}function aH(e){return iH(e),_pe(Ob(Uint8Array.from(e).reverse()))}function hg(e,t){return ev(e.toString(16).padStart(t*2,"0"))}function cH(e,t){return hg(e,t).reverse()}function Hi(e,t,r){let n;if(typeof t=="string")try{n=ev(t)}catch(o){throw new Error(e+" must be hex string or Uint8Array, cause: "+o)}else if(Nb(t))n=Uint8Array.from(t);else throw new Error(e+" must be hex string or Uint8Array");let s=n.length;if(typeof r=="number"&&s!==r)throw new Error(e+" of length "+r+" expected, got "+s);return n}function tv(...e){let t=0;for(let n=0;n<e.length;n++){let s=e[n];iH(s),t+=s.length}let r=new Uint8Array(t);for(let n=0,s=0;n<e.length;n++){let o=e[n];r.set(o,s),s+=o.length}return r}function E9(e,t,r){return rH(e)&&rH(t)&&rH(r)&&t<=e&&e<r}function mg(e,t,r,n){if(!E9(t,r,n))throw new Error("expected valid "+e+": "+r+" <= n < "+n+", got "+t)}function Ppe(e){let t;for(t=0;e>oH;e>>=sH,t+=1);return t}function Npe(e,t,r){if(typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof r!="function")throw new Error("hmacFn must be a function");let n=nH(e),s=nH(e),o=0,i=()=>{n.fill(1),s.fill(0),o=0},a=(...d)=>r(s,n,...d),c=(d=nH(0))=>{s=a(Ipe([0]),d),n=a(),d.length!==0&&(s=a(Ipe([1]),d),n=a())},l=()=>{if(o++>=1e3)throw new Error("drbg: tried 1000 values");let d=0,p=[];for(;d<t;){n=a();let f=n.slice();p.push(f),d+=n.length}return tv(...p)};return(d,p)=>{i(),c(d);let f;for(;!(f=p(l()));)c();return i(),f}}function yg(e,t,r={}){let n=(s,o,i)=>{let a=xVe[o];if(typeof a!="function")throw new Error("invalid validator function");let c=e[s];if(!(i&&c===void 0)&&!a(c,e))throw new Error("param "+String(s)+" is invalid. Expected "+o+", got "+c)};for(let[s,o]of Object.entries(t))n(s,o,!1);for(let[s,o]of Object.entries(r))n(s,o,!0);return e}function lH(e){let t=new WeakMap;return(r,...n)=>{let s=t.get(r);if(s!==void 0)return s;let o=e(r,...n);return t.set(r,o),o}}var oH,sH,Tpe,bVe,jp,rH,gg,nH,Ipe,xVe,A9=m(()=>{oH=BigInt(0),sH=BigInt(1);Tpe=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",bVe=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));jp={_0:48,_9:57,A:65,F:70,a:97,f:102};rH=e=>typeof e=="bigint"&&oH<=e;gg=e=>(sH<<BigInt(e))-sH,nH=e=>new Uint8Array(e),Ipe=e=>Uint8Array.from(e);xVe={bigint:e=>typeof e=="bigint",function:e=>typeof e=="function",boolean:e=>typeof e=="boolean",string:e=>typeof e=="string",stringOrUint8Array:e=>typeof e=="string"||Nb(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>typeof e=="function"&&Number.isSafeInteger(e.outputLen)}});function Rpe(e,t){if(uH(e)>t)throw new C9({givenSize:uH(e),maxSize:t})}function dH(e){if(e>=Vp.zero&&e<=Vp.nine)return e-Vp.zero;if(e>=Vp.A&&e<=Vp.F)return e-(Vp.A-10);if(e>=Vp.a&&e<=Vp.f)return e-(Vp.a-10)}function Ope(e,t={}){let{dir:r,size:n=32}=t;if(n===0)return e;if(e.length>n)throw new S9({size:e.length,targetSize:n,type:"Bytes"});let s=new Uint8Array(n);for(let o=0;o<n;o++){let i=r==="right";s[i?o:n-o-1]=e[i?o:e.length-o-1]}return s}var Vp,kpe=m(()=>{Z0();Vp={zero:48,nine:57,A:65,F:70,a:97,f:102}});function rv(e,t){if($i(e)>t)throw new I9({givenSize:$i(e),maxSize:t})}function Bpe(e,t){if(typeof t=="number"&&t>0&&t>$i(e)-1)throw new nv({offset:t,position:"start",size:$i(e)})}function Dpe(e,t,r){if(typeof t=="number"&&typeof r=="number"&&$i(e)!==r-t)throw new nv({offset:r,position:"end",size:$i(e)})}function pH(e,t={}){let{dir:r,size:n=32}=t;if(n===0)return e;let s=e.replace("0x","");if(s.length>n*2)throw new _9({size:Math.ceil(s.length/2),targetSize:n,type:"Hex"});return`0x${s[r==="right"?"padEnd":"padStart"](n*2,"0")}`}function Upe(e,t={}){let{dir:r="left"}=t,n=e.replace("0x",""),s=0;for(let o=0;o<n.length-1&&n[r==="left"?o:n.length-o-1].toString()==="0";o++)s++;return n=r==="left"?n.slice(s):n.slice(0,n.length-s),n==="0"?"0x":r==="right"&&n.length%2===1?`0x${n}0`:`0x${n}`}var fH=m(()=>{qp()});function Y0(e,t,r){return JSON.stringify(e,(n,s)=>typeof t=="function"?t(n,s):typeof s=="bigint"?s.toString()+EVe:s,r)}var EVe,kb=m(()=>{EVe="#__bigint"});function SVe(e,t={}){let{strict:r=!1}=t;if(!e)throw new T9(e);if(typeof e!="string")throw new T9(e);if(r&&!/^0x[0-9a-fA-F]*$/.test(e))throw new P9(e);if(!e.startsWith("0x"))throw new P9(e)}function bg(...e){return`0x${e.reduce((t,r)=>t+r.replace("0x",""),"")}`}function wu(e){return e instanceof Uint8Array?ti(e):Array.isArray(e)?ti(new Uint8Array(e)):e}function Mpe(e,t={}){let r=`0x${Number(e)}`;return typeof t.size=="number"?(rv(r,t.size),ov(r,t.size)):r}function ti(e,t={}){let r="";for(let s=0;s<e.length;s++)r+=CVe[e[s]];let n=`0x${r}`;return typeof t.size=="number"?(rv(n,t.size),iv(n,t.size)):n}function ri(e,t={}){let{signed:r,size:n}=t,s=BigInt(e),o;n?r?o=(1n<<BigInt(n)*8n-1n)-1n:o=2n**(BigInt(n)*8n)-1n:typeof e=="number"&&(o=BigInt(Number.MAX_SAFE_INTEGER));let i=typeof o=="bigint"&&r?-o-1n:0;if(o&&s>o||s<i){let l=typeof e=="bigint"?"n":"";throw new hH({max:o?`${o}${l}`:void 0,min:`${i}${l}`,signed:r,size:n,value:`${e}${l}`})}let c=`0x${(r&&s<0?(1n<<BigInt(n*8))+BigInt(s):s).toString(16)}`;return n?ov(c,n):c}function Hpe(e,t={}){return ti(AVe.encode(e),t)}function ov(e,t){return pH(e,{dir:"left",size:t})}function iv(e,t){return pH(e,{dir:"right",size:t})}function dl(e,t,r,n={}){let{strict:s}=n;Bpe(e,t);let o=`0x${e.replace("0x","").slice((t??0)*2,(r??e.length)*2)}`;return s&&Dpe(o,t,r),o}function $i(e){return Math.ceil((e.length-2)/2)}function mH(e){return Upe(e,{dir:"left"})}function gH(e,t={}){let{strict:r=!1}=t;try{return SVe(e,{strict:r}),!0}catch{return!1}}var AVe,CVe,hH,T9,P9,I9,nv,_9,qp=m(()=>{K0();fH();kb();AVe=new TextEncoder,CVe=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));hH=class extends qt{constructor({max:t,min:r,signed:n,size:s,value:o}){super(`Number \`${o}\` is not in safe${s?` ${s*8}-bit`:""}${n?" signed":" unsigned"} integer range ${t?`(\`${r}\` to \`${t}\`)`:`(above \`${r}\`)`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.IntegerOutOfRangeError"})}},T9=class extends qt{constructor(t){super(`Value \`${typeof t=="object"?Y0(t):t}\` of type \`${typeof t}\` is an invalid hex type.`,{metaMessages:['Hex types must be represented as `"0x${string}"`.']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexTypeError"})}},P9=class extends qt{constructor(t){super(`Value \`${t}\` is an invalid hex value.`,{metaMessages:['Hex values must start with `"0x"` and contain only hexadecimal characters (0-9, a-f, A-F).']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexValueError"})}},I9=class extends qt{constructor({givenSize:t,maxSize:r}){super(`Size cannot exceed \`${r}\` bytes. Given size: \`${t}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeOverflowError"})}},nv=class extends qt{constructor({offset:t,position:r,size:n}){super(`Slice ${r==="start"?"starting":"ending"} at offset \`${t}\` is out-of-bounds (size: \`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SliceOffsetOutOfBoundsError"})}},_9=class extends qt{constructor({size:t,targetSize:r,type:n}){super(`${n.charAt(0).toUpperCase()}${n.slice(1).toLowerCase()} size (\`${t}\`) exceeds padding size (\`${r}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeExceedsPaddingSizeError"})}}});function _Ve(e){if(!(e instanceof Uint8Array)){if(!e)throw new Bb(e);if(typeof e!="object")throw new Bb(e);if(!("BYTES_PER_ELEMENT"in e))throw new Bb(e);if(e.BYTES_PER_ELEMENT!==1||e.constructor.name!=="Uint8Array")throw new Bb(e)}}function Db(e){return e instanceof Uint8Array?e:typeof e=="string"?av(e):TVe(e)}function TVe(e){return e instanceof Uint8Array?e:new Uint8Array(e)}function av(e,t={}){let{size:r}=t,n=e;r&&(rv(e,r),n=iv(e,r));let s=n.slice(2);s.length%2&&(s=`0${s}`);let o=s.length/2,i=new Uint8Array(o);for(let a=0,c=0;a<o;a++){let l=dH(s.charCodeAt(c++)),u=dH(s.charCodeAt(c++));if(l===void 0||u===void 0)throw new qt(`Invalid byte sequence ("${s[c-2]}${s[c-1]}" in "${s}").`);i[a]=l*16+u}return i}function $pe(e,t={}){let{size:r}=t,n=IVe.encode(e);return typeof r=="number"?(Rpe(n,r),PVe(n,r)):n}function PVe(e,t){return Ope(e,{dir:"right",size:t})}function uH(e){return e.length}function Fpe(e){try{return _Ve(e),!0}catch{return!1}}var IVe,Bb,C9,S9,Z0=m(()=>{K0();qp();kpe();fH();kb();IVe=new TextEncoder;Bb=class extends qt{constructor(t){super(`Value \`${typeof t=="object"?Y0(t):t}\` of type \`${typeof t}\` is an invalid Bytes value.`,{metaMessages:["Bytes values must be of type `Bytes`."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.InvalidBytesTypeError"})}},C9=class extends qt{constructor({givenSize:t,maxSize:r}){super(`Size cannot exceed \`${r}\` bytes. Given size: \`${t}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeOverflowError"})}},S9=class extends qt{constructor({size:t,targetSize:r,type:n}){super(`${n.charAt(0).toUpperCase()}${n.slice(1).toLowerCase()} size (\`${t}\`) exceeds padding size (\`${r}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeExceedsPaddingSizeError"})}}});function yH(e,t={}){let{as:r=typeof e=="string"?"Hex":"Bytes"}=t,n=_f(Db(e));return r==="Bytes"?n:ti(n)}var wH=m(()=>{e8();Z0();qp()});var N9,zpe=m(()=>{N9=class extends Map{constructor(t){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=t}get(t){let r=super.get(t);return super.has(t)&&r!==void 0&&(this.delete(t),super.set(t,r)),r}set(t,r){if(super.set(t,r),this.maxSize&&this.size>this.maxSize){let n=this.keys().next().value;n&&this.delete(n)}return this}}});var NVe,R9,bH=m(()=>{zpe();NVe={checksum:new N9(8192)},R9=NVe.checksum});function qpe(e,t={}){let{compressed:r}=t,{prefix:n,x:s,y:o}=e;if(r===!1||typeof s=="bigint"&&typeof o=="bigint"){if(n!==4)throw new O9({prefix:n,cause:new EH});return}if(r===!0||typeof s=="bigint"&&typeof o>"u"){if(n!==3&&n!==2)throw new O9({prefix:n,cause:new vH});return}throw new xH({publicKey:e})}function CH(e){let t=(()=>{if(gH(e))return Wpe(e);if(Fpe(e))return RVe(e);let{prefix:r,x:n,y:s}=e;return typeof n=="bigint"&&typeof s=="bigint"?{prefix:r??4,x:n,y:s}:{prefix:r,x:n}})();return qpe(t),t}function RVe(e){return Wpe(ti(e))}function Wpe(e){if(e.length!==132&&e.length!==130&&e.length!==68)throw new AH({publicKey:e});if(e.length===130){let n=BigInt(dl(e,0,32)),s=BigInt(dl(e,32,64));return{prefix:4,x:n,y:s}}if(e.length===132){let n=Number(dl(e,0,1)),s=BigInt(dl(e,1,33)),o=BigInt(dl(e,33,65));return{prefix:n,x:s,y:o}}let t=Number(dl(e,0,1)),r=BigInt(dl(e,1,33));return{prefix:t,x:r}}function Kpe(e,t={}){return av(cv(e,t))}function cv(e,t={}){qpe(e);let{prefix:r,x:n,y:s}=e,{includePrefix:o=!0}=t;return bg(o?ri(r,{size:1}):"0x",ri(n,{size:32}),typeof s=="bigint"?ri(s,{size:32}):"0x")}var xH,O9,vH,EH,AH,k9=m(()=>{Z0();K0();qp();kb();xH=class extends qt{constructor({publicKey:t}){super(`Value \`${Y0(t)}\` is not a valid public key.`,{metaMessages:["Public key must contain:","- an `x` and `prefix` value (compressed)","- an `x`, `y`, and `prefix` value (uncompressed)"]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidError"})}},O9=class extends qt{constructor({prefix:t,cause:r}){super(`Prefix "${t}" is invalid.`,{cause:r}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidPrefixError"})}},vH=class extends qt{constructor(){super("Prefix must be 2 or 3 for compressed public keys."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidCompressedPrefixError"})}},EH=class extends qt{constructor(){super("Prefix must be 4 for uncompressed public keys."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidUncompressedPrefixError"})}},AH=class extends qt{constructor({publicKey:t}){super(`Value \`${t}\` is an invalid public key size.`,{metaMessages:["Expected: 33 bytes (compressed + prefix), 64 bytes (uncompressed) or 65 bytes (uncompressed + prefix).",`Received ${$i(wu(t))} bytes.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidSerializedSizeError"})}}});function Ub(e,t={}){let{strict:r=!0}=t;if(!OVe.test(e))throw new B9({address:e,cause:new IH});if(r){if(e.toLowerCase()===e)return;if(Zpe(e)!==e)throw new B9({address:e,cause:new _H})}}function Zpe(e){if(R9.has(e))return R9.get(e);Ub(e,{strict:!1});let t=e.substring(2).toLowerCase(),r=yH($pe(t),{as:"Bytes"}),n=t.split("");for(let o=0;o<40;o+=2)r[o>>1]>>4>=8&&n[o]&&(n[o]=n[o].toUpperCase()),(r[o>>1]&15)>=8&&n[o+1]&&(n[o+1]=n[o+1].toUpperCase());let s=`0x${n.join("")}`;return R9.set(e,s),s}function kVe(e,t={}){let{checksum:r=!1}=t;return Ub(e),r?Zpe(e):e}function Gpe(e,t={}){let r=yH(`0x${cv(e).slice(4)}`).substring(26);return kVe(`0x${r}`,t)}function Ype(e,t){return Ub(e,{strict:!1}),Ub(t,{strict:!1}),e.toLowerCase()===t.toLowerCase()}var OVe,B9,IH,_H,D9=m(()=>{Z0();bH();K0();wH();k9();OVe=/^0x[a-fA-F0-9]{40}$/;B9=class extends qt{constructor({address:t,cause:r}){super(`Address "${t}" is invalid.`,{cause:r}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidAddressError"})}},IH=class extends qt{constructor(){super("Address is not a 20 byte (40 hexadecimal character) value."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidInputError"})}},_H=class extends qt{constructor(){super("Address does not match its checksum counterpart."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidChecksumError"})}}});var Jpe=m(()=>{});var Qpe,Xpe,efe,xWt,vWt,EWt,AWt,CWt,SWt,IWt,_Wt,TWt,PWt,NWt,RWt,OWt,kWt,BWt,DWt,UWt,LWt,MWt,HWt,$Wt,FWt,jWt,zWt,VWt,qWt,WWt,KWt,ZWt,GWt,YWt,JWt,QWt,XWt,eKt,tKt,rKt,nKt,sKt,oKt,iKt,aKt,cKt,lKt,uKt,dKt,pKt,fKt,hKt,mKt,gKt,yKt,wKt,bKt,xKt,vKt,EKt,AKt,CKt,SKt,IKt,_Kt,TKt,PKt,NKt,RKt,OKt,kKt,BKt,DKt,UKt,LKt,MKt,HKt,$Kt,FKt,jKt,zKt,VKt,qKt,WKt,KKt,ZKt,GKt,YKt,JKt,QKt,XKt,eZt,tZt,rZt,nZt,sZt,oZt,iZt,PH,U9=m(()=>{Qpe=/^(.*)\[([0-9]*)\]$/,Xpe=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,efe=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,xWt=2n**(8n-1n)-1n,vWt=2n**(16n-1n)-1n,EWt=2n**(24n-1n)-1n,AWt=2n**(32n-1n)-1n,CWt=2n**(40n-1n)-1n,SWt=2n**(48n-1n)-1n,IWt=2n**(56n-1n)-1n,_Wt=2n**(64n-1n)-1n,TWt=2n**(72n-1n)-1n,PWt=2n**(80n-1n)-1n,NWt=2n**(88n-1n)-1n,RWt=2n**(96n-1n)-1n,OWt=2n**(104n-1n)-1n,kWt=2n**(112n-1n)-1n,BWt=2n**(120n-1n)-1n,DWt=2n**(128n-1n)-1n,UWt=2n**(136n-1n)-1n,LWt=2n**(144n-1n)-1n,MWt=2n**(152n-1n)-1n,HWt=2n**(160n-1n)-1n,$Wt=2n**(168n-1n)-1n,FWt=2n**(176n-1n)-1n,jWt=2n**(184n-1n)-1n,zWt=2n**(192n-1n)-1n,VWt=2n**(200n-1n)-1n,qWt=2n**(208n-1n)-1n,WWt=2n**(216n-1n)-1n,KWt=2n**(224n-1n)-1n,ZWt=2n**(232n-1n)-1n,GWt=2n**(240n-1n)-1n,YWt=2n**(248n-1n)-1n,JWt=2n**(256n-1n)-1n,QWt=-(2n**(8n-1n)),XWt=-(2n**(16n-1n)),eKt=-(2n**(24n-1n)),tKt=-(2n**(32n-1n)),rKt=-(2n**(40n-1n)),nKt=-(2n**(48n-1n)),sKt=-(2n**(56n-1n)),oKt=-(2n**(64n-1n)),iKt=-(2n**(72n-1n)),aKt=-(2n**(80n-1n)),cKt=-(2n**(88n-1n)),lKt=-(2n**(96n-1n)),uKt=-(2n**(104n-1n)),dKt=-(2n**(112n-1n)),pKt=-(2n**(120n-1n)),fKt=-(2n**(128n-1n)),hKt=-(2n**(136n-1n)),mKt=-(2n**(144n-1n)),gKt=-(2n**(152n-1n)),yKt=-(2n**(160n-1n)),wKt=-(2n**(168n-1n)),bKt=-(2n**(176n-1n)),xKt=-(2n**(184n-1n)),vKt=-(2n**(192n-1n)),EKt=-(2n**(200n-1n)),AKt=-(2n**(208n-1n)),CKt=-(2n**(216n-1n)),SKt=-(2n**(224n-1n)),IKt=-(2n**(232n-1n)),_Kt=-(2n**(240n-1n)),TKt=-(2n**(248n-1n)),PKt=-(2n**(256n-1n)),NKt=2n**8n-1n,RKt=2n**16n-1n,OKt=2n**24n-1n,kKt=2n**32n-1n,BKt=2n**40n-1n,DKt=2n**48n-1n,UKt=2n**56n-1n,LKt=2n**64n-1n,MKt=2n**72n-1n,HKt=2n**80n-1n,$Kt=2n**88n-1n,FKt=2n**96n-1n,jKt=2n**104n-1n,zKt=2n**112n-1n,VKt=2n**120n-1n,qKt=2n**128n-1n,WKt=2n**136n-1n,KKt=2n**144n-1n,ZKt=2n**152n-1n,GKt=2n**160n-1n,YKt=2n**168n-1n,JKt=2n**176n-1n,QKt=2n**184n-1n,XKt=2n**192n-1n,eZt=2n**200n-1n,tZt=2n**208n-1n,rZt=2n**216n-1n,nZt=2n**224n-1n,sZt=2n**232n-1n,oZt=2n**240n-1n,iZt=2n**248n-1n,PH=2n**256n-1n});function RH(e,t){if(e.length!==t.length)throw new kH({expectedLength:e.length,givenLength:t.length});let r=[];for(let n=0;n<e.length;n++){let s=e[n],o=t[n];r.push(RH.encode(s,o))}return bg(...r)}var OH,kH,BH,tfe=m(()=>{D9();K0();qp();U9();(function(e){function t(r,n,s=!1){if(r==="address"){let c=n;return Ub(c),ov(c.toLowerCase(),s?32:0)}if(r==="string")return Hpe(n);if(r==="bytes")return n;if(r==="bool")return ov(Mpe(n),s?32:1);let o=r.match(efe);if(o){let[c,l,u="256"]=o,d=Number.parseInt(u,10)/8;return ri(n,{size:s?32:d,signed:l==="int"})}let i=r.match(Xpe);if(i){let[c,l]=i;if(Number.parseInt(l,10)!==(n.length-2)/2)throw new OH({expectedSize:Number.parseInt(l,10),value:n});return iv(n,s?32:0)}let a=r.match(Qpe);if(a&&Array.isArray(n)){let[c,l]=a,u=[];for(let d=0;d<n.length;d++)u.push(t(l,n[d],!0));return u.length===0?"0x":bg(...u)}throw new BH(r)}e.encode=t})(RH||(RH={}));OH=class extends qt{constructor({expectedSize:t,value:r}){super(`Size of bytes "${r}" (bytes${$i(r)}) does not match expected size (bytes${t}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.BytesSizeMismatchError"})}},kH=class extends qt{constructor({expectedLength:t,givenLength:r}){super(["ABI encoding parameters/values length mismatch.",`Expected length (parameters): ${t}`,`Given length (values): ${r}`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.LengthMismatchError"})}},BH=class extends qt{constructor(t){super(`Type \`${t}\` is not a valid ABI Type.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidTypeError"})}}});var rfe=m(()=>{});var nfe=m(()=>{});var sfe=m(()=>{});var ofe=m(()=>{});var ife=m(()=>{});var afe=m(()=>{});var cfe=m(()=>{});var lfe=m(()=>{});function fo(e,t){let r=e%t;return r>=ni?r:t+r}function Oa(e,t,r){let n=e;for(;t-- >ni;)n*=n,n%=r;return n}function L9(e,t){if(e===ni)throw new Error("invert: expected non-zero number");if(t<=ni)throw new Error("invert: expected positive modulus, got "+t);let r=fo(e,t),n=t,s=ni,o=ho,i=ho,a=ni;for(;r!==ni;){let l=n/r,u=n%r,d=s-i*l,p=o-a*l;n=r,r=u,s=i,o=a,i=d,a=p}if(n!==ho)throw new Error("invert: does not exist");return fo(s,t)}function hfe(e,t){let r=(e.ORDER+ho)/dfe,n=e.pow(t,r);if(!e.eql(e.sqr(n),t))throw new Error("Cannot find square root");return n}function VVe(e,t){let r=(e.ORDER-pfe)/ffe,n=e.mul(t,xg),s=e.pow(n,r),o=e.mul(t,s),i=e.mul(e.mul(o,xg),s),a=e.mul(o,e.sub(i,e.ONE));if(!e.eql(e.sqr(a),t))throw new Error("Cannot find square root");return a}function qVe(e){if(e<BigInt(3))throw new Error("sqrt is not defined for small field");let t=e-ho,r=0;for(;t%xg===ni;)t/=xg,r++;let n=xg,s=lv(e);for(;ufe(s,n)===1;)if(n++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(r===1)return hfe;let o=s.pow(n,t),i=(t+ho)/xg;return function(c,l){if(c.is0(l))return l;if(ufe(c,l)!==1)throw new Error("Cannot find square root");let u=r,d=c.mul(c.ONE,o),p=c.pow(l,t),f=c.pow(l,i);for(;!c.eql(p,c.ONE);){if(c.is0(p))return c.ZERO;let h=1,g=c.sqr(p);for(;!c.eql(g,c.ONE);)if(h++,g=c.sqr(g),h===u)throw new Error("Cannot find square root");let y=ho<<BigInt(u-h-1),E=c.pow(d,y);u=h,d=c.sqr(E),p=c.mul(p,d),f=c.mul(f,E)}return f}}function WVe(e){return e%dfe===zVe?hfe:e%ffe===pfe?VVe:qVe(e)}function DH(e){let t={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},r=KVe.reduce((n,s)=>(n[s]="function",n),t);return yg(e,r)}function ZVe(e,t,r){if(r<ni)throw new Error("invalid exponent, negatives unsupported");if(r===ni)return e.ONE;if(r===ho)return t;let n=e.ONE,s=t;for(;r>ni;)r&ho&&(n=e.mul(n,s)),s=e.sqr(s),r>>=ho;return n}function UH(e,t,r=!1){let n=new Array(t.length).fill(r?e.ZERO:void 0),s=t.reduce((i,a,c)=>e.is0(a)?i:(n[c]=i,e.mul(i,a)),e.ONE),o=e.inv(s);return t.reduceRight((i,a,c)=>e.is0(a)?i:(n[c]=e.mul(i,n[c]),e.mul(i,a)),o),n}function ufe(e,t){let r=(e.ORDER-ho)/xg,n=e.pow(t,r),s=e.eql(n,e.ONE),o=e.eql(n,e.ZERO),i=e.eql(n,e.neg(e.ONE));if(!s&&!o&&!i)throw new Error("invalid Legendre symbol result");return s?1:o?0:-1}function LH(e,t){t!==void 0&&Sc(t);let r=t!==void 0?t:e.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}function lv(e,t,r=!1,n={}){if(e<=ni)throw new Error("invalid field: expected ORDER > 0, got "+e);let{nBitLength:s,nByteLength:o}=LH(e,t);if(o>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let i,a=Object.freeze({ORDER:e,isLE:r,BITS:s,BYTES:o,MASK:gg(s),ZERO:ni,ONE:ho,create:c=>fo(c,e),isValid:c=>{if(typeof c!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof c);return ni<=c&&c<e},is0:c=>c===ni,isOdd:c=>(c&ho)===ho,neg:c=>fo(-c,e),eql:(c,l)=>c===l,sqr:c=>fo(c*c,e),add:(c,l)=>fo(c+l,e),sub:(c,l)=>fo(c-l,e),mul:(c,l)=>fo(c*l,e),pow:(c,l)=>ZVe(a,c,l),div:(c,l)=>fo(c*L9(l,e),e),sqrN:c=>c*c,addN:(c,l)=>c+l,subN:(c,l)=>c-l,mulN:(c,l)=>c*l,inv:c=>L9(c,e),sqrt:n.sqrt||(c=>(i||(i=WVe(e)),i(a,c))),toBytes:c=>r?cH(c,o):hg(c,o),fromBytes:c=>{if(c.length!==o)throw new Error("Field.fromBytes: expected "+o+" bytes, got "+c.length);return r?aH(c):zp(c)},invertBatch:c=>UH(a,c),cmov:(c,l,u)=>u?l:c});return Object.freeze(a)}function mfe(e){if(typeof e!="bigint")throw new Error("field order must be bigint");let t=e.toString(2).length;return Math.ceil(t/8)}function MH(e){let t=mfe(e);return t+Math.ceil(t/2)}function gfe(e,t,r=!1){let n=e.length,s=mfe(t),o=MH(t);if(n<16||n<o||n>1024)throw new Error("expected "+o+"-1024 bytes of input, got "+n);let i=r?aH(e):zp(e),a=fo(i,t-ho)+ho;return r?cH(a,s):hg(a,s)}var ni,ho,xg,zVe,dfe,pfe,ffe,KVe,M9=m(()=>{ui();A9();ni=BigInt(0),ho=BigInt(1),xg=BigInt(2),zVe=BigInt(3),dfe=BigInt(4),pfe=BigInt(5),ffe=BigInt(8);KVe=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"]});function HH(e,t){let r=t.negate();return e?r:t}function bfe(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw new Error("invalid window size, expected [1.."+t+"], got W="+e)}function $H(e,t){bfe(e,t);let r=Math.ceil(t/e)+1,n=2**(e-1),s=2**e,o=gg(e),i=BigInt(e);return{windows:r,windowSize:n,mask:o,maxNumber:s,shiftBy:i}}function wfe(e,t,r){let{windowSize:n,mask:s,maxNumber:o,shiftBy:i}=r,a=Number(e&s),c=e>>i;a>n&&(a-=o,c+=zH);let l=t*n,u=l+Math.abs(a)-1,d=a===0,p=a<0,f=t%2!==0;return{nextN:c,offset:u,isZero:d,isNeg:p,isNegF:f,offsetF:l}}function GVe(e,t){if(!Array.isArray(e))throw new Error("array expected");e.forEach((r,n)=>{if(!(r instanceof t))throw new Error("invalid point at index "+n)})}function YVe(e,t){if(!Array.isArray(e))throw new Error("array of scalars expected");e.forEach((r,n)=>{if(!t.isValid(r))throw new Error("invalid scalar at index "+n)})}function jH(e){return xfe.get(e)||1}function vfe(e,t){return{constTimeNegate:HH,hasPrecomputes(r){return jH(r)!==1},unsafeLadder(r,n,s=e.ZERO){let o=r;for(;n>yfe;)n&zH&&(s=s.add(o)),o=o.double(),n>>=zH;return s},precomputeWindow(r,n){let{windows:s,windowSize:o}=$H(n,t),i=[],a=r,c=a;for(let l=0;l<s;l++){c=a,i.push(c);for(let u=1;u<o;u++)c=c.add(a),i.push(c);a=c.double()}return i},wNAF(r,n,s){let o=e.ZERO,i=e.BASE,a=$H(r,t);for(let c=0;c<a.windows;c++){let{nextN:l,offset:u,isZero:d,isNeg:p,isNegF:f,offsetF:h}=wfe(s,c,a);s=l,d?i=i.add(HH(f,n[h])):o=o.add(HH(p,n[u]))}return{p:o,f:i}},wNAFUnsafe(r,n,s,o=e.ZERO){let i=$H(r,t);for(let a=0;a<i.windows&&s!==yfe;a++){let{nextN:c,offset:l,isZero:u,isNeg:d}=wfe(s,a,i);if(s=c,!u){let p=n[l];o=o.add(d?p.negate():p)}}return o},getPrecomputes(r,n,s){let o=FH.get(n);return o||(o=this.precomputeWindow(n,r),r!==1&&FH.set(n,s(o))),o},wNAFCached(r,n,s){let o=jH(r);return this.wNAF(o,this.getPrecomputes(o,r,s),n)},wNAFCachedUnsafe(r,n,s,o){let i=jH(r);return i===1?this.unsafeLadder(r,n,o):this.wNAFUnsafe(i,this.getPrecomputes(i,r,s),n,o)},setWindowSize(r,n){bfe(n,t),xfe.set(r,n),FH.delete(r)}}}function Efe(e,t,r,n){GVe(r,e),YVe(n,t);let s=r.length,o=n.length;if(s!==o)throw new Error("arrays of points and scalars must have equal length");let i=e.ZERO,a=Ppe(BigInt(s)),c=1;a>12?c=a-3:a>4?c=a-2:a>0&&(c=2);let l=gg(c),u=new Array(Number(l)+1).fill(i),d=Math.floor((t.BITS-1)/c)*c,p=i;for(let f=d;f>=0;f-=c){u.fill(i);for(let g=0;g<o;g++){let y=n[g],E=Number(y>>BigInt(f)&l);u[E]=u[E].add(r[g])}let h=i;for(let g=u.length-1,y=i;g>0;g--)y=y.add(u[g]),h=h.add(y);if(p=p.add(h),f!==0)for(let g=0;g<c;g++)p=p.double()}return p}function VH(e){return DH(e.Fp),yg(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...LH(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}var yfe,zH,FH,xfe,Afe=m(()=>{M9();A9();yfe=BigInt(0),zH=BigInt(1);FH=new WeakMap,xfe=new WeakMap});function Cfe(e){e.lowS!==void 0&&Rb("lowS",e.lowS),e.prehash!==void 0&&Rb("prehash",e.prehash)}function JVe(e){let t=VH(e);yg(t,{a:"field",b:"field"},{allowInfinityPoint:"boolean",allowedPrivateKeyLengths:"array",clearCofactor:"function",fromBytes:"function",isTorsionFree:"function",toBytes:"function",wrapPrivateKey:"boolean"});let{endo:r,Fp:n,a:s}=t;if(r){if(!n.eql(s,n.ZERO))throw new Error("invalid endo: CURVE.a must be 0");if(typeof r!="object"||typeof r.beta!="bigint"||typeof r.splitScalar!="function")throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function')}return Object.freeze({...t})}function qH(e,t){return Ob(hg(e,t))}function XVe(e){let t=JVe(e),{Fp:r}=t,n=lv(t.n,t.nBitLength),s=t.toBytes||((b,w,C)=>{let _=w.toAffine();return tv(Uint8Array.from([4]),r.toBytes(_.x),r.toBytes(_.y))}),o=t.fromBytes||(b=>{let w=b.subarray(1),C=r.fromBytes(w.subarray(0,r.BYTES)),_=r.fromBytes(w.subarray(r.BYTES,2*r.BYTES));return{x:C,y:_}});function i(b){let{a:w,b:C}=t,_=r.sqr(b),B=r.mul(_,b);return r.add(r.add(B,r.mul(b,w)),C)}function a(b,w){let C=r.sqr(w),_=i(b);return r.eql(C,_)}if(!a(t.Gx,t.Gy))throw new Error("bad curve params: generator point");let c=r.mul(r.pow(t.a,WH),QVe),l=r.mul(r.sqr(t.b),BigInt(27));if(r.is0(r.add(c,l)))throw new Error("bad curve params: a or b");function u(b){return E9(b,As,t.n)}function d(b){let{allowedPrivateKeyLengths:w,nByteLength:C,wrapPrivateKey:_,n:B}=t;if(w&&typeof b!="bigint"){if(Nb(b)&&(b=Ob(b)),typeof b!="string"||!w.includes(b.length))throw new Error("invalid private key");b=b.padStart(C*2,"0")}let U;try{U=typeof b=="bigint"?b:zp(Hi("private key",b,C))}catch{throw new Error("invalid private key, expected hex or "+C+" bytes, got "+typeof b)}return _&&(U=fo(U,B)),mg("private key",U,As,B),U}function p(b){if(!(b instanceof g))throw new Error("ProjectivePoint expected")}let f=lH((b,w)=>{let{px:C,py:_,pz:B}=b;if(r.eql(B,r.ONE))return{x:C,y:_};let U=b.is0();w==null&&(w=U?r.ONE:r.inv(B));let k=r.mul(C,w),$=r.mul(_,w),P=r.mul(B,w);if(U)return{x:r.ZERO,y:r.ZERO};if(!r.eql(P,r.ONE))throw new Error("invZ was invalid");return{x:k,y:$}}),h=lH(b=>{if(b.is0()){if(t.allowInfinityPoint&&!r.is0(b.py))return;throw new Error("bad point: ZERO")}let{x:w,y:C}=b.toAffine();if(!r.isValid(w)||!r.isValid(C))throw new Error("bad point: x or y not FE");if(!a(w,C))throw new Error("bad point: equation left != right");if(!b.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class g{constructor(w,C,_){if(w==null||!r.isValid(w))throw new Error("x required");if(C==null||!r.isValid(C)||r.is0(C))throw new Error("y required");if(_==null||!r.isValid(_))throw new Error("z required");this.px=w,this.py=C,this.pz=_,Object.freeze(this)}static fromAffine(w){let{x:C,y:_}=w||{};if(!w||!r.isValid(C)||!r.isValid(_))throw new Error("invalid affine point");if(w instanceof g)throw new Error("projective point not allowed");let B=U=>r.eql(U,r.ZERO);return B(C)&&B(_)?g.ZERO:new g(C,_,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(w){let C=UH(r,w.map(_=>_.pz));return w.map((_,B)=>_.toAffine(C[B])).map(g.fromAffine)}static fromHex(w){let C=g.fromAffine(o(Hi("pointHex",w)));return C.assertValidity(),C}static fromPrivateKey(w){return g.BASE.multiply(d(w))}static msm(w,C){return Efe(g,n,w,C)}_setWindowSize(w){A.setWindowSize(this,w)}assertValidity(){h(this)}hasEvenY(){let{y:w}=this.toAffine();if(r.isOdd)return!r.isOdd(w);throw new Error("Field doesn't support isOdd")}equals(w){p(w);let{px:C,py:_,pz:B}=this,{px:U,py:k,pz:$}=w,P=r.eql(r.mul(C,$),r.mul(U,B)),I=r.eql(r.mul(_,$),r.mul(k,B));return P&&I}negate(){return new g(this.px,r.neg(this.py),this.pz)}double(){let{a:w,b:C}=t,_=r.mul(C,WH),{px:B,py:U,pz:k}=this,$=r.ZERO,P=r.ZERO,I=r.ZERO,S=r.mul(B,B),O=r.mul(U,U),x=r.mul(k,k),v=r.mul(B,U);return v=r.add(v,v),I=r.mul(B,k),I=r.add(I,I),$=r.mul(w,I),P=r.mul(_,x),P=r.add($,P),$=r.sub(O,P),P=r.add(O,P),P=r.mul($,P),$=r.mul(v,$),I=r.mul(_,I),x=r.mul(w,x),v=r.sub(S,x),v=r.mul(w,v),v=r.add(v,I),I=r.add(S,S),S=r.add(I,S),S=r.add(S,x),S=r.mul(S,v),P=r.add(P,S),x=r.mul(U,k),x=r.add(x,x),S=r.mul(x,v),$=r.sub($,S),I=r.mul(x,O),I=r.add(I,I),I=r.add(I,I),new g($,P,I)}add(w){p(w);let{px:C,py:_,pz:B}=this,{px:U,py:k,pz:$}=w,P=r.ZERO,I=r.ZERO,S=r.ZERO,O=t.a,x=r.mul(t.b,WH),v=r.mul(C,U),N=r.mul(_,k),D=r.mul(B,$),T=r.add(C,_),L=r.add(U,k);T=r.mul(T,L),L=r.add(v,N),T=r.sub(T,L),L=r.add(C,B);let j=r.add(U,$);return L=r.mul(L,j),j=r.add(v,D),L=r.sub(L,j),j=r.add(_,B),P=r.add(k,$),j=r.mul(j,P),P=r.add(N,D),j=r.sub(j,P),S=r.mul(O,L),P=r.mul(x,D),S=r.add(P,S),P=r.sub(N,S),S=r.add(N,S),I=r.mul(P,S),N=r.add(v,v),N=r.add(N,v),D=r.mul(O,D),L=r.mul(x,L),N=r.add(N,D),D=r.sub(v,D),D=r.mul(O,D),L=r.add(L,D),v=r.mul(N,L),I=r.add(I,v),v=r.mul(j,L),P=r.mul(T,P),P=r.sub(P,v),v=r.mul(T,N),S=r.mul(j,S),S=r.add(S,v),new g(P,I,S)}subtract(w){return this.add(w.negate())}is0(){return this.equals(g.ZERO)}wNAF(w){return A.wNAFCached(this,w,g.normalizeZ)}multiplyUnsafe(w){let{endo:C,n:_}=t;mg("scalar",w,Kp,_);let B=g.ZERO;if(w===Kp)return B;if(this.is0()||w===As)return this;if(!C||A.hasPrecomputes(this))return A.wNAFCachedUnsafe(this,w,g.normalizeZ);let{k1neg:U,k1:k,k2neg:$,k2:P}=C.splitScalar(w),I=B,S=B,O=this;for(;k>Kp||P>Kp;)k&As&&(I=I.add(O)),P&As&&(S=S.add(O)),O=O.double(),k>>=As,P>>=As;return U&&(I=I.negate()),$&&(S=S.negate()),S=new g(r.mul(S.px,C.beta),S.py,S.pz),I.add(S)}multiply(w){let{endo:C,n:_}=t;mg("scalar",w,As,_);let B,U;if(C){let{k1neg:k,k1:$,k2neg:P,k2:I}=C.splitScalar(w),{p:S,f:O}=this.wNAF($),{p:x,f:v}=this.wNAF(I);S=A.constTimeNegate(k,S),x=A.constTimeNegate(P,x),x=new g(r.mul(x.px,C.beta),x.py,x.pz),B=S.add(x),U=O.add(v)}else{let{p:k,f:$}=this.wNAF(w);B=k,U=$}return g.normalizeZ([B,U])[0]}multiplyAndAddUnsafe(w,C,_){let B=g.BASE,U=($,P)=>P===Kp||P===As||!$.equals(B)?$.multiplyUnsafe(P):$.multiply(P),k=U(this,C).add(U(w,_));return k.is0()?void 0:k}toAffine(w){return f(this,w)}isTorsionFree(){let{h:w,isTorsionFree:C}=t;if(w===As)return!0;if(C)return C(g,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){let{h:w,clearCofactor:C}=t;return w===As?this:C?C(g,this):this.multiplyUnsafe(t.h)}toRawBytes(w=!0){return Rb("isCompressed",w),this.assertValidity(),s(g,this,w)}toHex(w=!0){return Rb("isCompressed",w),Ob(this.toRawBytes(w))}}g.BASE=new g(t.Gx,t.Gy,r.ONE),g.ZERO=new g(r.ZERO,r.ONE,r.ZERO);let{endo:y,nBitLength:E}=t,A=vfe(g,y?Math.ceil(E/2):E);return{CURVE:t,ProjectivePoint:g,normPrivateKeyToScalar:d,weierstrassEquation:i,isWithinCurveOrder:u}}function eqe(e){let t=VH(e);return yg(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}function Sfe(e){let t=eqe(e),{Fp:r,n,nByteLength:s,nBitLength:o}=t,i=r.BYTES+1,a=2*r.BYTES+1;function c(x){return fo(x,n)}function l(x){return L9(x,n)}let{ProjectivePoint:u,normPrivateKeyToScalar:d,weierstrassEquation:p,isWithinCurveOrder:f}=XVe({...t,toBytes(x,v,N){let D=v.toAffine(),T=r.toBytes(D.x),L=tv;return Rb("isCompressed",N),N?L(Uint8Array.from([v.hasEvenY()?2:3]),T):L(Uint8Array.from([4]),T,r.toBytes(D.y))},fromBytes(x){let v=x.length,N=x[0],D=x.subarray(1);if(v===i&&(N===2||N===3)){let T=zp(D);if(!E9(T,As,r.ORDER))throw new Error("Point is not on curve");let L=p(T),j;try{j=r.sqrt(L)}catch(ne){let Y=ne instanceof Error?": "+ne.message:"";throw new Error("Point is not on curve"+Y)}let q=(j&As)===As;return(N&1)===1!==q&&(j=r.neg(j)),{x:T,y:j}}else if(v===a&&N===4){let T=r.fromBytes(D.subarray(0,r.BYTES)),L=r.fromBytes(D.subarray(r.BYTES,2*r.BYTES));return{x:T,y:L}}else{let T=i,L=a;throw new Error("invalid Point, expected length of "+T+", or uncompressed "+L+", got "+v)}}});function h(x){let v=n>>As;return x>v}function g(x){return h(x)?c(-x):x}let y=(x,v,N)=>zp(x.slice(v,N));class E{constructor(v,N,D){mg("r",v,As,n),mg("s",N,As,n),this.r=v,this.s=N,D!=null&&(this.recovery=D),Object.freeze(this)}static fromCompact(v){let N=s;return v=Hi("compactSignature",v,N*2),new E(y(v,0,N),y(v,N,2*N))}static fromDER(v){let{r:N,s:D}=Wp.toSig(Hi("DER",v));return new E(N,D)}assertValidity(){}addRecoveryBit(v){return new E(this.r,this.s,v)}recoverPublicKey(v){let{r:N,s:D,recovery:T}=this,L=B(Hi("msgHash",v));if(T==null||![0,1,2,3].includes(T))throw new Error("recovery id invalid");let j=T===2||T===3?N+t.n:N;if(j>=r.ORDER)throw new Error("recovery id 2 or 3 invalid");let q=(T&1)===0?"02":"03",ie=u.fromHex(q+qH(j,r.BYTES)),ne=l(j),Y=c(-L*ne),me=c(D*ne),ue=u.BASE.multiplyAndAddUnsafe(ie,Y,me);if(!ue)throw new Error("point at infinify");return ue.assertValidity(),ue}hasHighS(){return h(this.s)}normalizeS(){return this.hasHighS()?new E(this.r,c(-this.s),this.recovery):this}toDERRawBytes(){return ev(this.toDERHex())}toDERHex(){return Wp.hexFromSig(this)}toCompactRawBytes(){return ev(this.toCompactHex())}toCompactHex(){let v=s;return qH(this.r,v)+qH(this.s,v)}}let A={isValidPrivateKey(x){try{return d(x),!0}catch{return!1}},normPrivateKeyToScalar:d,randomPrivateKey:()=>{let x=MH(t.n);return gfe(t.randomBytes(x),t.n)},precompute(x=8,v=u.BASE){return v._setWindowSize(x),v.multiply(BigInt(3)),v}};function b(x,v=!0){return u.fromPrivateKey(x).toRawBytes(v)}function w(x){if(typeof x=="bigint")return!1;if(x instanceof u)return!0;let N=Hi("key",x).length,D=r.BYTES,T=D+1,L=2*D+1;if(!(t.allowedPrivateKeyLengths||s===T))return N===T||N===L}function C(x,v,N=!0){if(w(x)===!0)throw new Error("first arg must be private key");if(w(v)===!1)throw new Error("second arg must be public key");return u.fromHex(v).multiply(d(x)).toRawBytes(N)}let _=t.bits2int||function(x){if(x.length>8192)throw new Error("input is too large");let v=zp(x),N=x.length*8-o;return N>0?v>>BigInt(N):v},B=t.bits2int_modN||function(x){return c(_(x))},U=gg(o);function k(x){return mg("num < 2^"+o,x,Kp,U),hg(x,s)}function $(x,v,N=P){if(["recovered","canonical"].some(de=>de in N))throw new Error("sign() legacy options not supported");let{hash:D,randomBytes:T}=t,{lowS:L,prehash:j,extraEntropy:q}=N;L==null&&(L=!0),x=Hi("msgHash",x),Cfe(N),j&&(x=Hi("prehashed msgHash",D(x)));let ie=B(x),ne=d(v),Y=[k(ne),k(ie)];if(q!=null&&q!==!1){let de=q===!0?T(r.BYTES):q;Y.push(Hi("extraEntropy",de))}let me=tv(...Y),ue=ie;function Te(de){let Pe=_(de);if(!f(Pe))return;let bt=l(Pe),At=u.BASE.multiply(Pe).toAffine(),vt=c(At.x);if(vt===Kp)return;let Zt=c(bt*c(ue+vt*ne));if(Zt===Kp)return;let Lr=(At.x===vt?0:2)|Number(At.y&As),kl=Zt;return L&&h(Zt)&&(kl=g(Zt),Lr^=1),new E(vt,kl,Lr)}return{seed:me,k2sig:Te}}let P={lowS:t.lowS,prehash:!1},I={lowS:t.lowS,prehash:!1};function S(x,v,N=P){let{seed:D,k2sig:T}=$(x,v,N),L=t;return Npe(L.hash.outputLen,L.nByteLength,L.hmac)(D,T)}u.BASE._setWindowSize(8);function O(x,v,N,D=I){let T=x;v=Hi("msgHash",v),N=Hi("publicKey",N);let{lowS:L,prehash:j,format:q}=D;if(Cfe(D),"strict"in D)throw new Error("options.strict was renamed to lowS");if(q!==void 0&&q!=="compact"&&q!=="der")throw new Error("format must be compact or der");let ie=typeof T=="string"||Nb(T),ne=!ie&&!q&&typeof T=="object"&&T!==null&&typeof T.r=="bigint"&&typeof T.s=="bigint";if(!ie&&!ne)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let Y,me;try{if(ne&&(Y=new E(T.r,T.s)),ie){try{q!=="compact"&&(Y=E.fromDER(T))}catch(Lr){if(!(Lr instanceof Wp.Err))throw Lr}!Y&&q!=="der"&&(Y=E.fromCompact(T))}me=u.fromHex(N)}catch{return!1}if(!Y||L&&Y.hasHighS())return!1;j&&(v=t.hash(v));let{r:ue,s:Te}=Y,de=B(v),Pe=l(Te),bt=c(de*Pe),At=c(ue*Pe),vt=u.BASE.multiplyAndAddUnsafe(me,bt,At)?.toAffine();return vt?c(vt.x)===ue:!1}return{CURVE:t,getPublicKey:b,getSharedSecret:C,sign:S,verify:O,ProjectivePoint:u,Signature:E,utils:A}}var KH,Wp,Kp,As,gZt,WH,QVe,Ife=m(()=>{Afe();M9();A9();KH=class extends Error{constructor(t=""){super(t)}},Wp={Err:KH,_tlv:{encode:(e,t)=>{let{Err:r}=Wp;if(e<0||e>256)throw new r("tlv.encode: wrong tag");if(t.length&1)throw new r("tlv.encode: unpadded data");let n=t.length/2,s=X4(n);if(s.length/2&128)throw new r("tlv.encode: long form length too big");let o=n>127?X4(s.length/2|128):"";return X4(e)+o+s+t},decode(e,t){let{Err:r}=Wp,n=0;if(e<0||e>256)throw new r("tlv.encode: wrong tag");if(t.length<2||t[n++]!==e)throw new r("tlv.decode: wrong tlv");let s=t[n++],o=!!(s&128),i=0;if(!o)i=s;else{let c=s&127;if(!c)throw new r("tlv.decode(long): indefinite length not supported");if(c>4)throw new r("tlv.decode(long): byte length is too big");let l=t.subarray(n,n+c);if(l.length!==c)throw new r("tlv.decode: length bytes not complete");if(l[0]===0)throw new r("tlv.decode(long): zero leftmost byte");for(let u of l)i=i<<8|u;if(n+=c,i<128)throw new r("tlv.decode(long): not minimal encoding")}let a=t.subarray(n,n+i);if(a.length!==i)throw new r("tlv.decode: wrong value length");return{v:a,l:t.subarray(n+i)}}},_int:{encode(e){let{Err:t}=Wp;if(e<Kp)throw new t("integer: negative integers are not allowed");let r=X4(e);if(Number.parseInt(r[0],16)&8&&(r="00"+r),r.length&1)throw new t("unexpected DER parsing assertion: unpadded hex");return r},decode(e){let{Err:t}=Wp;if(e[0]&128)throw new t("invalid signature integer: negative");if(e[0]===0&&!(e[1]&128))throw new t("invalid signature integer: unnecessary leading zero");return zp(e)}},toSig(e){let{Err:t,_int:r,_tlv:n}=Wp,s=Hi("signature",e),{v:o,l:i}=n.decode(48,s);if(i.length)throw new t("invalid signature: left bytes after parsing");let{v:a,l:c}=n.decode(2,o),{v:l,l:u}=n.decode(2,c);if(u.length)throw new t("invalid signature: left bytes after parsing");return{r:r.decode(a),s:r.decode(l)}},hexFromSig(e){let{_tlv:t,_int:r}=Wp,n=t.encode(2,r.encode(e.r)),s=t.encode(2,r.encode(e.s)),o=n+s;return t.encode(48,o)}};Kp=BigInt(0),As=BigInt(1),gZt=BigInt(2),WH=BigInt(3),QVe=BigInt(4)});function tqe(e){return{hash:e,hmac:(t,...r)=>Fm(e,t,N2(...r)),randomBytes:If}}function _fe(e,t){let r=n=>Sfe({...e,...tqe(n)});return{...r(t),create:r}}var Tfe=m(()=>{HE();ui();Ife();});function sqe(e){let t=Rfe,r=BigInt(3),n=BigInt(6),s=BigInt(11),o=BigInt(22),i=BigInt(23),a=BigInt(44),c=BigInt(88),l=e*e*e%t,u=l*l*e%t,d=Oa(u,r,t)*u%t,p=Oa(d,r,t)*u%t,f=Oa(p,ZH,t)*l%t,h=Oa(f,s,t)*f%t,g=Oa(h,o,t)*h%t,y=Oa(g,a,t)*g%t,E=Oa(y,c,t)*y%t,A=Oa(E,a,t)*g%t,b=Oa(A,r,t)*u%t,w=Oa(b,i,t)*h%t,C=Oa(w,n,t)*l%t,_=Oa(C,ZH,t);if(!GH.eql(GH.sqr(_),e))throw new Error("Cannot find square root");return _}var Rfe,Pfe,rqe,nqe,ZH,Nfe,GH,ka,YH=m(()=>{t8();Tfe();M9();Rfe=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),Pfe=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),rqe=BigInt(0),nqe=BigInt(1),ZH=BigInt(2),Nfe=(e,t)=>(e+t/ZH)/t;GH=lv(Rfe,void 0,void 0,{sqrt:sqe}),ka=_fe({a:rqe,b:BigInt(7),Fp:GH,n:Pfe,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{let t=Pfe,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-nqe*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),s=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),o=r,i=BigInt("0x100000000000000000000000000000000"),a=Nfe(o*e,t),c=Nfe(-n*e,t),l=fo(e-a*r-c*s,t),u=fo(-a*n-c*o,t),d=l>i,p=u>i;if(d&&(l=t-l),p&&(u=t-u),l>i||u>i)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:d,k1:l,k2neg:p,k2:u}}}},Tc)});var q9={};Se(q9,{InvalidRError:()=>$9,InvalidSError:()=>F9,InvalidSerializedSizeError:()=>H9,InvalidVError:()=>j9,InvalidYParityError:()=>vg,MissingPropertiesError:()=>Lb,assert:()=>z9,extract:()=>oqe,from:()=>QH,fromBytes:()=>Ofe,fromDerBytes:()=>iqe,fromDerHex:()=>kfe,fromHex:()=>JH,fromLegacy:()=>Bfe,fromRpc:()=>Dfe,fromTuple:()=>aqe,toBytes:()=>cqe,toDerBytes:()=>lqe,toDerHex:()=>uqe,toHex:()=>Ufe,toLegacy:()=>dqe,toRpc:()=>pqe,toTuple:()=>fqe,vToYParity:()=>V9,validate:()=>hqe,yParityToV:()=>XH});function z9(e,t={}){let{recovered:r}=t;if(typeof e.r>"u")throw new Lb({signature:e});if(typeof e.s>"u")throw new Lb({signature:e});if(r&&typeof e.yParity>"u")throw new Lb({signature:e});if(e.r<0n||e.r>PH)throw new $9({value:e.r});if(e.s<0n||e.s>PH)throw new F9({value:e.s});if(typeof e.yParity=="number"&&e.yParity!==0&&e.yParity!==1)throw new vg({value:e.yParity})}function Ofe(e){return JH(ti(e))}function JH(e){if(e.length!==130&&e.length!==132)throw new H9({signature:e});let t=BigInt(dl(e,0,32)),r=BigInt(dl(e,32,64)),n=(()=>{let s=+`0x${e.slice(130)}`;if(!Number.isNaN(s))try{return V9(s)}catch{throw new vg({value:s})}})();return typeof n>"u"?{r:t,s:r}:{r:t,s:r,yParity:n}}function oqe(e){if(!(typeof e.r>"u")&&!(typeof e.s>"u"))return QH(e)}function QH(e){let t=typeof e=="string"?JH(e):e instanceof Uint8Array?Ofe(e):typeof e.r=="string"?Dfe(e):e.v?Bfe(e):{r:e.r,s:e.s,...typeof e.yParity<"u"?{yParity:e.yParity}:{}};return z9(t),t}function iqe(e){return kfe(ti(e))}function kfe(e){let{r:t,s:r}=ka.Signature.fromDER(wu(e).slice(2));return{r:t,s:r}}function Bfe(e){return{r:e.r,s:e.s,yParity:V9(e.v)}}function Dfe(e){let t=(()=>{let r=e.v?Number(e.v):void 0,n=e.yParity?Number(e.yParity):void 0;if(typeof r=="number"&&typeof n!="number"&&(n=V9(r)),typeof n!="number")throw new vg({value:e.yParity});return n})();return{r:BigInt(e.r),s:BigInt(e.s),yParity:t}}function aqe(e){let[t,r,n]=e;return QH({r:r==="0x"?0n:BigInt(r),s:n==="0x"?0n:BigInt(n),yParity:t==="0x"?0:Number(t)})}function cqe(e){return av(Ufe(e))}function Ufe(e){z9(e);let t=e.r,r=e.s;return bg(ri(t,{size:32}),ri(r,{size:32}),typeof e.yParity=="number"?ri(XH(e.yParity),{size:1}):"0x")}function lqe(e){return new ka.Signature(e.r,e.s).toDERRawBytes()}function uqe(e){return`0x${new ka.Signature(e.r,e.s).toDERHex()}`}function dqe(e){return{r:e.r,s:e.s,v:XH(e.yParity)}}function pqe(e){let{r:t,s:r,yParity:n}=e;return{r:ri(t,{size:32}),s:ri(r,{size:32}),yParity:n===0?"0x0":"0x1"}}function fqe(e){let{r:t,s:r,yParity:n}=e;return[n?"0x01":"0x",t===0n?"0x":mH(ri(t)),r===0n?"0x":mH(ri(r))]}function hqe(e,t={}){try{return z9(e,t),!0}catch{return!1}}function V9(e){if(e===0||e===27)return 0;if(e===1||e===28)return 1;if(e>=35)return e%2===0?1:0;throw new j9({value:e})}function XH(e){if(e===0)return 27;if(e===1)return 28;throw new vg({value:e})}var H9,Lb,$9,F9,vg,j9,Lfe=m(()=>{YH();Z0();K0();qp();kb();U9();H9=class extends qt{constructor({signature:t}){super(`Value \`${t}\` is an invalid signature size.`,{metaMessages:["Expected: 64 bytes or 65 bytes.",`Received ${$i(wu(t))} bytes.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSerializedSizeError"})}},Lb=class extends qt{constructor({signature:t}){super(`Signature \`${Y0(t)}\` is missing either an \`r\`, \`s\`, or \`yParity\` property.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.MissingPropertiesError"})}},$9=class extends qt{constructor({value:t}){super(`Value \`${t}\` is an invalid r value. r must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidRError"})}},F9=class extends qt{constructor({value:t}){super(`Value \`${t}\` is an invalid s value. s must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSError"})}},vg=class extends qt{constructor({value:t}){super(`Value \`${t}\` is an invalid y-parity value. Y-parity must be 0 or 1.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidYParityError"})}},j9=class extends qt{constructor({value:t}){super(`Value \`${t}\` is an invalid v value. v must be 27, 28 or >=35.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidVError"})}}});var Mfe=m(()=>{});var Hfe=m(()=>{});var _Zt,TZt,$fe=m(()=>{_Zt=Object.fromEntries(Array.from("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/").map((e,t)=>[t,e.charCodeAt(0)])),TZt={...Object.fromEntries(Array.from("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/").map((e,t)=>[e.charCodeAt(0),t])),61:0,45:62,95:63}});var Ffe=m(()=>{});var jfe=m(()=>{});var zfe,xqe,Vfe,vqe,PZt,qfe=m(()=>{zfe=6,xqe=32,Vfe=4096,vqe=xqe*Vfe,PZt=vqe*zfe-1-1*Vfe*zfe});var Wfe=m(()=>{});var Kfe=m(()=>{});var Zfe=m(()=>{});var Gfe=m(()=>{});var Yfe=m(()=>{});var Jfe=m(()=>{});var Qfe=m(()=>{});var Xfe=m(()=>{});var ehe=m(()=>{});var the=m(()=>{DK()});var rhe=m(()=>{});var nhe=m(()=>{});var she,ohe=m(()=>{she=!1});var W9={};Se(W9,{createKeyPair:()=>Uqe,getPublicKey:()=>ihe,getSharedSecret:()=>Lqe,noble:()=>Dqe,randomPrivateKey:()=>ahe,recoverAddress:()=>che,recoverPublicKey:()=>lhe,sign:()=>Mqe,verify:()=>Hqe});function Uqe(e={}){let{as:t="Hex"}=e,r=ahe({as:t}),n=ihe({privateKey:r});return{privateKey:r,publicKey:n}}function ihe(e){let{privateKey:t}=e,r=ka.ProjectivePoint.fromPrivateKey(wu(t).slice(2));return CH(r)}function Lqe(e){let{as:t="Hex",privateKey:r,publicKey:n}=e,i=ka.ProjectivePoint.fromHex(cv(n).slice(2)).multiply(ka.utils.normPrivateKeyToScalar(wu(r).slice(2))).toRawBytes(!0);return t==="Hex"?ti(i):i}function ahe(e={}){let{as:t="Hex"}=e,r=ka.utils.randomPrivateKey();return t==="Hex"?ti(r):r}function che(e){return Gpe(lhe(e))}function lhe(e){let{payload:t,signature:r}=e,{r:n,s,yParity:o}=r,a=new ka.Signature(BigInt(n),BigInt(s)).addRecoveryBit(o).recoverPublicKey(wu(t).substring(2));return CH(a)}function Mqe(e){let{extraEntropy:t=she,hash:r,payload:n,privateKey:s}=e,{r:o,s:i,recovery:a}=ka.sign(Db(n),Db(s),{extraEntropy:typeof t=="boolean"?t:wu(t).slice(2),lowS:!0,...r?{prehash:!0}:{}});return{r:o,s:i,yParity:a}}function Hqe(e){let{address:t,hash:r,payload:n,publicKey:s,signature:o}=e;return t?Ype(t,che({payload:n,signature:o})):ka.verify(o,Db(n),Kpe(s),...r?[{prehash:!0,lowS:!0}]:[])}var Dqe,uhe=m(()=>{YH();D9();Z0();qp();ohe();k9();Dqe=ka});var dhe=m(()=>{});var phe=m(()=>{});var fhe=m(()=>{});var hhe=m(()=>{YK()});var mhe=m(()=>{});var ghe=m(()=>{});var whe=Ve((LZt,e$)=>{"use strict";var Wqe=Object.prototype.hasOwnProperty,si="~";function uv(){}Object.create&&(uv.prototype=Object.create(null),new uv().__proto__||(si=!1));function Kqe(e,t,r){this.fn=e,this.context=t,this.once=r||!1}function yhe(e,t,r,n,s){if(typeof r!="function")throw new TypeError("The listener must be a function");var o=new Kqe(r,n||e,s),i=si?si+t:t;return e._events[i]?e._events[i].fn?e._events[i]=[e._events[i],o]:e._events[i].push(o):(e._events[i]=o,e._eventsCount++),e}function K9(e,t){--e._eventsCount===0?e._events=new uv:delete e._events[t]}function mo(){this._events=new uv,this._eventsCount=0}mo.prototype.eventNames=function(){var t=[],r,n;if(this._eventsCount===0)return t;for(n in r=this._events)Wqe.call(r,n)&&t.push(si?n.slice(1):n);return Object.getOwnPropertySymbols?t.concat(Object.getOwnPropertySymbols(r)):t};mo.prototype.listeners=function(t){var r=si?si+t:t,n=this._events[r];if(!n)return[];if(n.fn)return[n.fn];for(var s=0,o=n.length,i=new Array(o);s<o;s++)i[s]=n[s].fn;return i};mo.prototype.listenerCount=function(t){var r=si?si+t:t,n=this._events[r];return n?n.fn?1:n.length:0};mo.prototype.emit=function(t,r,n,s,o,i){var a=si?si+t:t;if(!this._events[a])return!1;var c=this._events[a],l=arguments.length,u,d;if(c.fn){switch(c.once&&this.removeListener(t,c.fn,void 0,!0),l){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,r),!0;case 3:return c.fn.call(c.context,r,n),!0;case 4:return c.fn.call(c.context,r,n,s),!0;case 5:return c.fn.call(c.context,r,n,s,o),!0;case 6:return c.fn.call(c.context,r,n,s,o,i),!0}for(d=1,u=new Array(l-1);d<l;d++)u[d-1]=arguments[d];c.fn.apply(c.context,u)}else{var p=c.length,f;for(d=0;d<p;d++)switch(c[d].once&&this.removeListener(t,c[d].fn,void 0,!0),l){case 1:c[d].fn.call(c[d].context);break;case 2:c[d].fn.call(c[d].context,r);break;case 3:c[d].fn.call(c[d].context,r,n);break;case 4:c[d].fn.call(c[d].context,r,n,s);break;default:if(!u)for(f=1,u=new Array(l-1);f<l;f++)u[f-1]=arguments[f];c[d].fn.apply(c[d].context,u)}}return!0};mo.prototype.on=function(t,r,n){return yhe(this,t,r,n,!1)};mo.prototype.once=function(t,r,n){return yhe(this,t,r,n,!0)};mo.prototype.removeListener=function(t,r,n,s){var o=si?si+t:t;if(!this._events[o])return this;if(!r)return K9(this,o),this;var i=this._events[o];if(i.fn)i.fn===r&&(!s||i.once)&&(!n||i.context===n)&&K9(this,o);else{for(var a=0,c=[],l=i.length;a<l;a++)(i[a].fn!==r||s&&!i[a].once||n&&i[a].context!==n)&&c.push(i[a]);c.length?this._events[o]=c.length===1?c[0]:c:K9(this,o)}return this};mo.prototype.removeAllListeners=function(t){var r;return t?(r=si?si+t:t,this._events[r]&&K9(this,r)):(this._events=new uv,this._eventsCount=0),this};mo.prototype.off=mo.prototype.removeListener;mo.prototype.addListener=mo.prototype.on;mo.prefixed=si;mo.EventEmitter=mo;typeof e$<"u"&&(e$.exports=mo)});var bhe,xhe=m(()=>{bhe=Bt(whe(),1)});var Fi,t$,r$,n$,s$,o$,i$,a$,c$,l$,u$,d$,p$,vhe=m(()=>{Fi=class extends Error{constructor(t){let{cause:r,code:n,message:s,data:o,stack:i}=t;super(s,{cause:r}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.BaseError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"stack",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=r,this.code=n,this.data=o,this.stack=i??""}},t$=class e extends Fi{constructor(t={}){super({code:e.code,data:t.data,message:t.message??"Missing or invalid parameters."}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.InvalidInputError"})}};Object.defineProperty(t$,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});r$=class e extends Fi{constructor(t={}){super({code:e.code,data:t.data,message:t.message??"Requested resource not found."}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.ResourceNotFoundError"})}};Object.defineProperty(r$,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});n$=class e extends Fi{constructor(t={}){super({code:e.code,data:t.data,message:t.message??"Requested resource not available."}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.ResourceUnavailableError"})}};Object.defineProperty(n$,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});s$=class e extends Fi{constructor(t={}){super({code:e.code,data:t.data,message:t.message??"Transaction creation failed."}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.TransactionRejectedError"})}};Object.defineProperty(s$,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});o$=class e extends Fi{constructor(t={}){super({code:e.code,data:t.data,message:t.message??"Method is not implemented."}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.MethodNotSupportedError"})}};Object.defineProperty(o$,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});i$=class e extends Fi{constructor(t={}){super({code:e.code,data:t.data,message:t.message??"Rate limit exceeded."}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.LimitExceededError"})}};Object.defineProperty(i$,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});a$=class e extends Fi{constructor(t={}){super({code:e.code,data:t.data,message:t.message??"JSON-RPC version not supported."}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.VersionNotSupportedError"})}};Object.defineProperty(a$,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});c$=class e extends Fi{constructor(t={}){super({code:e.code,data:t.data,message:t.message??"Input is not a valid JSON-RPC request."}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.InvalidRequestError"})}};Object.defineProperty(c$,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});l$=class e extends Fi{constructor(t={}){super({code:e.code,data:t.data,message:t.message??"Method does not exist."}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.MethodNotFoundError"})}};Object.defineProperty(l$,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});u$=class e extends Fi{constructor(t={}){super({code:e.code,data:t.data,message:t.message??"Invalid method parameters."}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.InvalidParamsError"})}};Object.defineProperty(u$,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});d$=class e extends Fi{constructor(t={}){super({cause:t.cause,code:e.code,data:t.data,message:t.message??"Internal JSON-RPC error.",stack:t.stack}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.InternalError"})}};Object.defineProperty(d$,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});p$=class e extends Fi{constructor(t={}){super({code:e.code,data:t.data,message:t.message??"Failed to parse JSON-RPC response."}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.ParseError"})}};Object.defineProperty(p$,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700})});var oi,f$,h$,m$,g$,y$,w$,b$,x$,v$,E$,A$,C$,S$,Ehe=m(()=>{xhe();oi=class extends Error{constructor(t,r){super(r),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ProviderRpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=t,this.details=r}},f$=class extends oi{constructor({message:t="The user rejected the request."}={}){super(4001,t),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Provider.UserRejectedRequestError"})}};Object.defineProperty(f$,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});h$=class extends oi{constructor({message:t="The requested method and/or account has not been authorized by the user."}={}){super(4100,t),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Provider.UnauthorizedError"})}};Object.defineProperty(h$,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});m$=class extends oi{constructor({message:t="The provider does not support the requested method."}={}){super(4200,t),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Provider.UnsupportedMethodError"})}};Object.defineProperty(m$,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});g$=class extends oi{constructor({message:t="The provider is disconnected from all chains."}={}){super(4900,t),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Provider.DisconnectedError"})}};Object.defineProperty(g$,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});y$=class extends oi{constructor({message:t="The provider is not connected to the requested chain."}={}){super(4901,t),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Provider.ChainDisconnectedError"})}};Object.defineProperty(y$,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});w$=class extends oi{constructor({message:t="An error occurred when attempting to switch chain."}={}){super(4902,t),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Provider.SwitchChainError"})}};Object.defineProperty(w$,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});b$=class extends oi{constructor({message:t="This Wallet does not support a capability that was not marked as optional."}={}){super(5700,t),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:5700}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Provider.UnsupportedNonOptionalCapabilityError"})}};Object.defineProperty(b$,"code",{enumerable:!0,configurable:!0,writable:!0,value:5700});x$=class extends oi{constructor({message:t="This Wallet does not support the requested chain ID."}={}){super(5710,t),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:5710}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Provider.UnsupportedChainIdError"})}};Object.defineProperty(x$,"code",{enumerable:!0,configurable:!0,writable:!0,value:5710});v$=class extends oi{constructor({message:t="There is already a bundle submitted with this ID."}={}){super(5720,t),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:5720}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Provider.DuplicateIdError"})}};Object.defineProperty(v$,"code",{enumerable:!0,configurable:!0,writable:!0,value:5720});E$=class extends oi{constructor({message:t="This bundle id is unknown / has not been submitted."}={}){super(5730,t),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:5730}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Provider.UnknownBundleIdError"})}};Object.defineProperty(E$,"code",{enumerable:!0,configurable:!0,writable:!0,value:5730});A$=class extends oi{constructor({message:t="The call bundle is too large for the Wallet to process."}={}){super(5740,t),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:5740}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Provider.BundleTooLargeError"})}};Object.defineProperty(A$,"code",{enumerable:!0,configurable:!0,writable:!0,value:5740});C$=class extends oi{constructor({message:t="The Wallet can support atomicity after an upgrade, but the user rejected the upgrade."}={}){super(5750,t),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:5750}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Provider.AtomicReadyWalletRejectedUpgradeError"})}};Object.defineProperty(C$,"code",{enumerable:!0,configurable:!0,writable:!0,value:5750});S$=class extends oi{constructor({message:t="The wallet does not support atomic execution but the request requires it."}={}){super(5760,t),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:5760}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Provider.AtomicityNotSupportedError"})}};Object.defineProperty(S$,"code",{enumerable:!0,configurable:!0,writable:!0,value:5760})});var Ahe=m(()=>{});var Che=m(()=>{});var She=m(()=>{});var Ihe=m(()=>{});var _he=m(()=>{});var The=m(()=>{});var Phe=m(()=>{});var Nhe=m(()=>{});var Rhe=m(()=>{});var Ohe=m(()=>{});var khe=m(()=>{});var Bhe=m(()=>{});var Dhe=m(()=>{});var Uhe=m(()=>{});var Lhe=m(()=>{});var Mhe=m(()=>{});var $Zt,Hhe=m(()=>{$Zt=Uint8Array.from([105,171,180,181,160,222,75,198,42,42,32,31,141,37,186,233])});var $he=m(()=>{});var Fhe=m(()=>{});var jhe=m(()=>{bpe();rfe();nfe();sfe();ofe();Jpe();tfe();ife();afe();D9();cfe();Mfe();Hfe();$fe();Ffe();qfe();Zfe();Gfe();Yfe();Jfe();Qfe();Z0();bH();Xfe();ehe();the();K0();rhe();nhe();wH();dhe();qp();kb();phe();jfe();fhe();hhe();mhe();ghe();Ehe();k9();lfe();Ahe();vhe();Che();She();uhe();Lfe();Ihe();U9();_he();Wfe();Phe();Nhe();Rhe();Ohe();khe();Bhe();Dhe();Uhe();Lhe();Mhe();The();Hhe();$he();Kfe();Fhe()});function zhe(e){let t=e.length,r=0,n=0;for(;n<t;){let s=e.charCodeAt(n++);if((s&4294967168)===0){r++;continue}else if((s&4294965248)===0)r+=2;else{if(s>=55296&&s<=56319&&n<t){let o=e.charCodeAt(n);(o&64512)===56320&&(++n,s=((s&1023)<<10)+(o&1023)+65536)}(s&4294901760)===0?r+=3:r+=4}}return r}function mWe(e,t,r){let n=e.length,s=r,o=0;for(;o<n;){let i=e.charCodeAt(o++);if((i&4294967168)===0){t[s++]=i;continue}else if((i&4294965248)===0)t[s++]=i>>6&31|192;else{if(i>=55296&&i<=56319&&o<n){let a=e.charCodeAt(o);(a&64512)===56320&&(++o,i=((i&1023)<<10)+(a&1023)+65536)}(i&4294901760)===0?(t[s++]=i>>12&15|224,t[s++]=i>>6&63|128):(t[s++]=i>>18&7|240,t[s++]=i>>12&63|128,t[s++]=i>>6&63|128)}t[s++]=i&63|128}}function wWe(e,t,r){gWe.encodeInto(e,t.subarray(r))}function Vhe(e,t,r){e.length>yWe?wWe(e,t,r):mWe(e,t,r)}function I$(e,t,r){let n=t,s=n+r,o=[],i="";for(;n<s;){let a=e[n++];if((a&128)===0)o.push(a);else if((a&224)===192){let c=e[n++]&63;o.push((a&31)<<6|c)}else if((a&240)===224){let c=e[n++]&63,l=e[n++]&63;o.push((a&31)<<12|c<<6|l)}else if((a&248)===240){let c=e[n++]&63,l=e[n++]&63,u=e[n++]&63,d=(a&7)<<18|c<<12|l<<6|u;d>65535&&(d-=65536,o.push(d>>>10&1023|55296),d=56320|d&1023),o.push(d)}else o.push(a);o.length>=bWe&&(i+=String.fromCharCode(...o),o.length=0)}return o.length>0&&(i+=String.fromCharCode(...o)),i}function EWe(e,t,r){let n=e.subarray(t,t+r);return xWe.decode(n)}function qhe(e,t,r){return r>vWe?EWe(e,t,r):I$(e,t,r)}var gWe,yWe,bWe,xWe,vWe,Z9=m(()=>{gWe=new TextEncoder,yWe=50;bWe=4096;xWe=new TextDecoder,vWe=200});var Eg,Whe=m(()=>{Eg=class{constructor(t,r){this.type=t,this.data=r}}});var ji,_$=m(()=>{ji=class e extends Error{constructor(t){super(t);let r=Object.create(e.prototype);Object.setPrototypeOf(this,r),Object.defineProperty(this,"name",{configurable:!0,enumerable:!1,value:e.name})}}});function Khe(e,t,r){let n=r/4294967296,s=r;e.setUint32(t,n),e.setUint32(t+4,s)}function G9(e,t,r){let n=Math.floor(r/4294967296),s=r;e.setUint32(t,n),e.setUint32(t+4,s)}function Y9(e,t){let r=e.getInt32(t),n=e.getUint32(t+4);return r*4294967296+n}function Zhe(e,t){let r=e.getUint32(t),n=e.getUint32(t+4);return r*4294967296+n}var J9=m(()=>{});function IWe({sec:e,nsec:t}){if(e>=0&&t>=0&&e<=SWe)if(t===0&&e<=CWe){let r=new Uint8Array(4);return new DataView(r.buffer).setUint32(0,e),r}else{let r=e/4294967296,n=e&4294967295,s=new Uint8Array(8),o=new DataView(s.buffer);return o.setUint32(0,t<<2|r&3),o.setUint32(4,n),s}else{let r=new Uint8Array(12),n=new DataView(r.buffer);return n.setUint32(0,t),G9(n,4,e),r}}function _We(e){let t=e.getTime(),r=Math.floor(t/1e3),n=(t-r*1e3)*1e6,s=Math.floor(n/1e9);return{sec:r+s,nsec:n-s*1e9}}function TWe(e){if(e instanceof Date){let t=_We(e);return IWe(t)}else return null}function PWe(e){let t=new DataView(e.buffer,e.byteOffset,e.byteLength);switch(e.byteLength){case 4:return{sec:t.getUint32(0),nsec:0};case 8:{let r=t.getUint32(0),n=t.getUint32(4),s=(r&3)*4294967296+n,o=r>>>2;return{sec:s,nsec:o}}case 12:{let r=Y9(t,4),n=t.getUint32(0);return{sec:r,nsec:n}}default:throw new ji(`Unrecognized data size for timestamp (expected 4, 8, or 12): ${e.length}`)}}function NWe(e){let t=PWe(e);return new Date(t.sec*1e3+t.nsec/1e6)}var AWe,CWe,SWe,Ghe,Yhe=m(()=>{_$();J9();AWe=-1,CWe=4294967296-1,SWe=17179869184-1;Ghe={type:AWe,encode:TWe,decode:NWe}});var J0,T$=m(()=>{Whe();Yhe();J0=class{constructor(){this.builtInEncoders=[],this.builtInDecoders=[],this.encoders=[],this.decoders=[],this.register(Ghe)}register({type:t,encode:r,decode:n}){if(t>=0)this.encoders[t]=r,this.decoders[t]=n;else{let s=-1-t;this.builtInEncoders[s]=r,this.builtInDecoders[s]=n}}tryToEncode(t,r){for(let n=0;n<this.builtInEncoders.length;n++){let s=this.builtInEncoders[n];if(s!=null){let o=s(t,r);if(o!=null){let i=-1-n;return new Eg(i,o)}}}for(let n=0;n<this.encoders.length;n++){let s=this.encoders[n];if(s!=null){let o=s(t,r);if(o!=null){let i=n;return new Eg(i,o)}}}return t instanceof Eg?t:null}decode(t,r,n){let s=r<0?this.builtInDecoders[-1-r]:this.decoders[r];return s?s(t,r,n):new Eg(r,t)}};J0.defaultCodec=new J0});function RWe(e){return e instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&e instanceof SharedArrayBuffer}function dv(e){return e instanceof Uint8Array?e:ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):RWe(e)?new Uint8Array(e):Uint8Array.from(e)}var P$=m(()=>{});var OWe,kWe,Q9,Jhe=m(()=>{Z9();T$();J9();P$();OWe=100,kWe=2048,Q9=class e{constructor(t){this.entered=!1,this.extensionCodec=t?.extensionCodec??J0.defaultCodec,this.context=t?.context,this.useBigInt64=t?.useBigInt64??!1,this.maxDepth=t?.maxDepth??OWe,this.initialBufferSize=t?.initialBufferSize??kWe,this.sortKeys=t?.sortKeys??!1,this.forceFloat32=t?.forceFloat32??!1,this.ignoreUndefined=t?.ignoreUndefined??!1,this.forceIntegerToFloat=t?.forceIntegerToFloat??!1,this.pos=0,this.view=new DataView(new ArrayBuffer(this.initialBufferSize)),this.bytes=new Uint8Array(this.view.buffer)}clone(){return new e({extensionCodec:this.extensionCodec,context:this.context,useBigInt64:this.useBigInt64,maxDepth:this.maxDepth,initialBufferSize:this.initialBufferSize,sortKeys:this.sortKeys,forceFloat32:this.forceFloat32,ignoreUndefined:this.ignoreUndefined,forceIntegerToFloat:this.forceIntegerToFloat})}reinitializeState(){this.pos=0}encodeSharedRef(t){if(this.entered)return this.clone().encodeSharedRef(t);try{return this.entered=!0,this.reinitializeState(),this.doEncode(t,1),this.bytes.subarray(0,this.pos)}finally{this.entered=!1}}encode(t){if(this.entered)return this.clone().encode(t);try{return this.entered=!0,this.reinitializeState(),this.doEncode(t,1),this.bytes.slice(0,this.pos)}finally{this.entered=!1}}doEncode(t,r){if(r>this.maxDepth)throw new Error(`Too deep objects in depth ${r}`);t==null?this.encodeNil():typeof t=="boolean"?this.encodeBoolean(t):typeof t=="number"?this.forceIntegerToFloat?this.encodeNumberAsFloat(t):this.encodeNumber(t):typeof t=="string"?this.encodeString(t):this.useBigInt64&&typeof t=="bigint"?this.encodeBigInt64(t):this.encodeObject(t,r)}ensureBufferSizeToWrite(t){let r=this.pos+t;this.view.byteLength<r&&this.resizeBuffer(r*2)}resizeBuffer(t){let r=new ArrayBuffer(t),n=new Uint8Array(r),s=new DataView(r);n.set(this.bytes),this.view=s,this.bytes=n}encodeNil(){this.writeU8(192)}encodeBoolean(t){t===!1?this.writeU8(194):this.writeU8(195)}encodeNumber(t){!this.forceIntegerToFloat&&Number.isSafeInteger(t)?t>=0?t<128?this.writeU8(t):t<256?(this.writeU8(204),this.writeU8(t)):t<65536?(this.writeU8(205),this.writeU16(t)):t<4294967296?(this.writeU8(206),this.writeU32(t)):this.useBigInt64?this.encodeNumberAsFloat(t):(this.writeU8(207),this.writeU64(t)):t>=-32?this.writeU8(224|t+32):t>=-128?(this.writeU8(208),this.writeI8(t)):t>=-32768?(this.writeU8(209),this.writeI16(t)):t>=-2147483648?(this.writeU8(210),this.writeI32(t)):this.useBigInt64?this.encodeNumberAsFloat(t):(this.writeU8(211),this.writeI64(t)):this.encodeNumberAsFloat(t)}encodeNumberAsFloat(t){this.forceFloat32?(this.writeU8(202),this.writeF32(t)):(this.writeU8(203),this.writeF64(t))}encodeBigInt64(t){t>=BigInt(0)?(this.writeU8(207),this.writeBigUint64(t)):(this.writeU8(211),this.writeBigInt64(t))}writeStringHeader(t){if(t<32)this.writeU8(160+t);else if(t<256)this.writeU8(217),this.writeU8(t);else if(t<65536)this.writeU8(218),this.writeU16(t);else if(t<4294967296)this.writeU8(219),this.writeU32(t);else throw new Error(`Too long string: ${t} bytes in UTF-8`)}encodeString(t){let n=zhe(t);this.ensureBufferSizeToWrite(5+n),this.writeStringHeader(n),Vhe(t,this.bytes,this.pos),this.pos+=n}encodeObject(t,r){let n=this.extensionCodec.tryToEncode(t,this.context);if(n!=null)this.encodeExtension(n);else if(Array.isArray(t))this.encodeArray(t,r);else if(ArrayBuffer.isView(t))this.encodeBinary(t);else if(typeof t=="object")this.encodeMap(t,r);else throw new Error(`Unrecognized object: ${Object.prototype.toString.apply(t)}`)}encodeBinary(t){let r=t.byteLength;if(r<256)this.writeU8(196),this.writeU8(r);else if(r<65536)this.writeU8(197),this.writeU16(r);else if(r<4294967296)this.writeU8(198),this.writeU32(r);else throw new Error(`Too large binary: ${r}`);let n=dv(t);this.writeU8a(n)}encodeArray(t,r){let n=t.length;if(n<16)this.writeU8(144+n);else if(n<65536)this.writeU8(220),this.writeU16(n);else if(n<4294967296)this.writeU8(221),this.writeU32(n);else throw new Error(`Too large array: ${n}`);for(let s of t)this.doEncode(s,r+1)}countWithoutUndefined(t,r){let n=0;for(let s of r)t[s]!==void 0&&n++;return n}encodeMap(t,r){let n=Object.keys(t);this.sortKeys&&n.sort();let s=this.ignoreUndefined?this.countWithoutUndefined(t,n):n.length;if(s<16)this.writeU8(128+s);else if(s<65536)this.writeU8(222),this.writeU16(s);else if(s<4294967296)this.writeU8(223),this.writeU32(s);else throw new Error(`Too large map object: ${s}`);for(let o of n){let i=t[o];this.ignoreUndefined&&i===void 0||(this.encodeString(o),this.doEncode(i,r+1))}}encodeExtension(t){if(typeof t.data=="function"){let n=t.data(this.pos+6),s=n.length;if(s>=4294967296)throw new Error(`Too large extension object: ${s}`);this.writeU8(201),this.writeU32(s),this.writeI8(t.type),this.writeU8a(n);return}let r=t.data.length;if(r===1)this.writeU8(212);else if(r===2)this.writeU8(213);else if(r===4)this.writeU8(214);else if(r===8)this.writeU8(215);else if(r===16)this.writeU8(216);else if(r<256)this.writeU8(199),this.writeU8(r);else if(r<65536)this.writeU8(200),this.writeU16(r);else if(r<4294967296)this.writeU8(201),this.writeU32(r);else throw new Error(`Too large extension object: ${r}`);this.writeI8(t.type),this.writeU8a(t.data)}writeU8(t){this.ensureBufferSizeToWrite(1),this.view.setUint8(this.pos,t),this.pos++}writeU8a(t){let r=t.length;this.ensureBufferSizeToWrite(r),this.bytes.set(t,this.pos),this.pos+=r}writeI8(t){this.ensureBufferSizeToWrite(1),this.view.setInt8(this.pos,t),this.pos++}writeU16(t){this.ensureBufferSizeToWrite(2),this.view.setUint16(this.pos,t),this.pos+=2}writeI16(t){this.ensureBufferSizeToWrite(2),this.view.setInt16(this.pos,t),this.pos+=2}writeU32(t){this.ensureBufferSizeToWrite(4),this.view.setUint32(this.pos,t),this.pos+=4}writeI32(t){this.ensureBufferSizeToWrite(4),this.view.setInt32(this.pos,t),this.pos+=4}writeF32(t){this.ensureBufferSizeToWrite(4),this.view.setFloat32(this.pos,t),this.pos+=4}writeF64(t){this.ensureBufferSizeToWrite(8),this.view.setFloat64(this.pos,t),this.pos+=8}writeU64(t){this.ensureBufferSizeToWrite(8),Khe(this.view,this.pos,t),this.pos+=8}writeI64(t){this.ensureBufferSizeToWrite(8),G9(this.view,this.pos,t),this.pos+=8}writeBigUint64(t){this.ensureBufferSizeToWrite(8),this.view.setBigUint64(this.pos,t),this.pos+=8}writeBigInt64(t){this.ensureBufferSizeToWrite(8),this.view.setBigInt64(this.pos,t),this.pos+=8}}});function N$(e,t){return new Q9(t).encodeSharedRef(e)}var Qhe=m(()=>{Jhe()});function X9(e){return`${e<0?"-":""}0x${Math.abs(e).toString(16).padStart(2,"0")}`}var Xhe=m(()=>{});var BWe,DWe,e7,e0e=m(()=>{Z9();BWe=16,DWe=16,e7=class{constructor(t=BWe,r=DWe){this.hit=0,this.miss=0,this.maxKeyLength=t,this.maxLengthPerKey=r,this.caches=[];for(let n=0;n<this.maxKeyLength;n++)this.caches.push([])}canBeCached(t){return t>0&&t<=this.maxKeyLength}find(t,r,n){let s=this.caches[n-1];e:for(let o of s){let i=o.bytes;for(let a=0;a<n;a++)if(i[a]!==t[r+a])continue e;return o.str}return null}store(t,r){let n=this.caches[t.length-1],s={bytes:t,str:r};n.length>=this.maxLengthPerKey?n[Math.random()*n.length|0]=s:n.push(s)}decode(t,r,n){let s=this.find(t,r,n);if(s!=null)return this.hit++,s;this.miss++;let o=I$(t,r,n),i=Uint8Array.prototype.slice.call(t,r,r+n);return this.store(i,o),o}}});var R$,hv,r0e,UWe,O$,fv,k$,LWe,t0e,MWe,t7,n0e=m(()=>{Xhe();T$();J9();Z9();P$();e0e();_$();R$="array",hv="map_key",r0e="map_value",UWe=e=>{if(typeof e=="string"||typeof e=="number")return e;throw new ji("The type of key must be string or number but "+typeof e)},O$=class{constructor(){this.stack=[],this.stackHeadPosition=-1}get length(){return this.stackHeadPosition+1}top(){return this.stack[this.stackHeadPosition]}pushArrayState(t){let r=this.getUninitializedStateFromPool();r.type=R$,r.position=0,r.size=t,r.array=new Array(t)}pushMapState(t){let r=this.getUninitializedStateFromPool();r.type=hv,r.readCount=0,r.size=t,r.map={}}getUninitializedStateFromPool(){if(this.stackHeadPosition++,this.stackHeadPosition===this.stack.length){let t={type:void 0,size:0,array:void 0,position:0,readCount:0,map:void 0,key:null};this.stack.push(t)}return this.stack[this.stackHeadPosition]}release(t){if(this.stack[this.stackHeadPosition]!==t)throw new Error("Invalid stack state. Released state is not on top of the stack.");if(t.type===R$){let n=t;n.size=0,n.array=void 0,n.position=0,n.type=void 0}if(t.type===hv||t.type===r0e){let n=t;n.size=0,n.map=void 0,n.readCount=0,n.type=void 0}this.stackHeadPosition--}reset(){this.stack.length=0,this.stackHeadPosition=-1}},fv=-1,k$=new DataView(new ArrayBuffer(0)),LWe=new Uint8Array(k$.buffer);try{k$.getInt8(0)}catch(e){if(!(e instanceof RangeError))throw new Error("This module is not supported in the current JavaScript engine because DataView does not throw RangeError on out-of-bounds access")}t0e=new RangeError("Insufficient data"),MWe=new e7,t7=class e{constructor(t){this.totalPos=0,this.pos=0,this.view=k$,this.bytes=LWe,this.headByte=fv,this.stack=new O$,this.entered=!1,this.extensionCodec=t?.extensionCodec??J0.defaultCodec,this.context=t?.context,this.useBigInt64=t?.useBigInt64??!1,this.rawStrings=t?.rawStrings??!1,this.maxStrLength=t?.maxStrLength??4294967295,this.maxBinLength=t?.maxBinLength??4294967295,this.maxArrayLength=t?.maxArrayLength??4294967295,this.maxMapLength=t?.maxMapLength??4294967295,this.maxExtLength=t?.maxExtLength??4294967295,this.keyDecoder=t?.keyDecoder!==void 0?t.keyDecoder:MWe,this.mapKeyConverter=t?.mapKeyConverter??UWe}clone(){return new e({extensionCodec:this.extensionCodec,context:this.context,useBigInt64:this.useBigInt64,rawStrings:this.rawStrings,maxStrLength:this.maxStrLength,maxBinLength:this.maxBinLength,maxArrayLength:this.maxArrayLength,maxMapLength:this.maxMapLength,maxExtLength:this.maxExtLength,keyDecoder:this.keyDecoder})}reinitializeState(){this.totalPos=0,this.headByte=fv,this.stack.reset()}setBuffer(t){let r=dv(t);this.bytes=r,this.view=new DataView(r.buffer,r.byteOffset,r.byteLength),this.pos=0}appendBuffer(t){if(this.headByte===fv&&!this.hasRemaining(1))this.setBuffer(t);else{let r=this.bytes.subarray(this.pos),n=dv(t),s=new Uint8Array(r.length+n.length);s.set(r),s.set(n,r.length),this.setBuffer(s)}}hasRemaining(t){return this.view.byteLength-this.pos>=t}createExtraByteError(t){let{view:r,pos:n}=this;return new RangeError(`Extra ${r.byteLength-n} of ${r.byteLength} byte(s) found at buffer[${t}]`)}decode(t){if(this.entered)return this.clone().decode(t);try{this.entered=!0,this.reinitializeState(),this.setBuffer(t);let r=this.doDecodeSync();if(this.hasRemaining(1))throw this.createExtraByteError(this.pos);return r}finally{this.entered=!1}}*decodeMulti(t){if(this.entered){yield*this.clone().decodeMulti(t);return}try{for(this.entered=!0,this.reinitializeState(),this.setBuffer(t);this.hasRemaining(1);)yield this.doDecodeSync()}finally{this.entered=!1}}async decodeAsync(t){if(this.entered)return this.clone().decodeAsync(t);try{this.entered=!0;let r=!1,n;for await(let a of t){if(r)throw this.entered=!1,this.createExtraByteError(this.totalPos);this.appendBuffer(a);try{n=this.doDecodeSync(),r=!0}catch(c){if(!(c instanceof RangeError))throw c}this.totalPos+=this.pos}if(r){if(this.hasRemaining(1))throw this.createExtraByteError(this.totalPos);return n}let{headByte:s,pos:o,totalPos:i}=this;throw new RangeError(`Insufficient data in parsing ${X9(s)} at ${i} (${o} in the current buffer)`)}finally{this.entered=!1}}decodeArrayStream(t){return this.decodeMultiAsync(t,!0)}decodeStream(t){return this.decodeMultiAsync(t,!1)}async*decodeMultiAsync(t,r){if(this.entered){yield*this.clone().decodeMultiAsync(t,r);return}try{this.entered=!0;let n=r,s=-1;for await(let o of t){if(r&&s===0)throw this.createExtraByteError(this.totalPos);this.appendBuffer(o),n&&(s=this.readArraySize(),n=!1,this.complete());try{for(;yield this.doDecodeSync(),--s!==0;);}catch(i){if(!(i instanceof RangeError))throw i}this.totalPos+=this.pos}}finally{this.entered=!1}}doDecodeSync(){e:for(;;){let t=this.readHeadByte(),r;if(t>=224)r=t-256;else if(t<192)if(t<128)r=t;else if(t<144){let s=t-128;if(s!==0){this.pushMapState(s),this.complete();continue e}else r={}}else if(t<160){let s=t-144;if(s!==0){this.pushArrayState(s),this.complete();continue e}else r=[]}else{let s=t-160;r=this.decodeString(s,0)}else if(t===192)r=null;else if(t===194)r=!1;else if(t===195)r=!0;else if(t===202)r=this.readF32();else if(t===203)r=this.readF64();else if(t===204)r=this.readU8();else if(t===205)r=this.readU16();else if(t===206)r=this.readU32();else if(t===207)this.useBigInt64?r=this.readU64AsBigInt():r=this.readU64();else if(t===208)r=this.readI8();else if(t===209)r=this.readI16();else if(t===210)r=this.readI32();else if(t===211)this.useBigInt64?r=this.readI64AsBigInt():r=this.readI64();else if(t===217){let s=this.lookU8();r=this.decodeString(s,1)}else if(t===218){let s=this.lookU16();r=this.decodeString(s,2)}else if(t===219){let s=this.lookU32();r=this.decodeString(s,4)}else if(t===220){let s=this.readU16();if(s!==0){this.pushArrayState(s),this.complete();continue e}else r=[]}else if(t===221){let s=this.readU32();if(s!==0){this.pushArrayState(s),this.complete();continue e}else r=[]}else if(t===222){let s=this.readU16();if(s!==0){this.pushMapState(s),this.complete();continue e}else r={}}else if(t===223){let s=this.readU32();if(s!==0){this.pushMapState(s),this.complete();continue e}else r={}}else if(t===196){let s=this.lookU8();r=this.decodeBinary(s,1)}else if(t===197){let s=this.lookU16();r=this.decodeBinary(s,2)}else if(t===198){let s=this.lookU32();r=this.decodeBinary(s,4)}else if(t===212)r=this.decodeExtension(1,0);else if(t===213)r=this.decodeExtension(2,0);else if(t===214)r=this.decodeExtension(4,0);else if(t===215)r=this.decodeExtension(8,0);else if(t===216)r=this.decodeExtension(16,0);else if(t===199){let s=this.lookU8();r=this.decodeExtension(s,1)}else if(t===200){let s=this.lookU16();r=this.decodeExtension(s,2)}else if(t===201){let s=this.lookU32();r=this.decodeExtension(s,4)}else throw new ji(`Unrecognized type byte: ${X9(t)}`);this.complete();let n=this.stack;for(;n.length>0;){let s=n.top();if(s.type===R$)if(s.array[s.position]=r,s.position++,s.position===s.size)r=s.array,n.release(s);else continue e;else if(s.type===hv){if(r==="__proto__")throw new ji("The key __proto__ is not allowed");s.key=this.mapKeyConverter(r),s.type=r0e;continue e}else if(s.map[s.key]=r,s.readCount++,s.readCount===s.size)r=s.map,n.release(s);else{s.key=null,s.type=hv;continue e}}return r}}readHeadByte(){return this.headByte===fv&&(this.headByte=this.readU8()),this.headByte}complete(){this.headByte=fv}readArraySize(){let t=this.readHeadByte();switch(t){case 220:return this.readU16();case 221:return this.readU32();default:{if(t<160)return t-144;throw new ji(`Unrecognized array type byte: ${X9(t)}`)}}}pushMapState(t){if(t>this.maxMapLength)throw new ji(`Max length exceeded: map length (${t}) > maxMapLengthLength (${this.maxMapLength})`);this.stack.pushMapState(t)}pushArrayState(t){if(t>this.maxArrayLength)throw new ji(`Max length exceeded: array length (${t}) > maxArrayLength (${this.maxArrayLength})`);this.stack.pushArrayState(t)}decodeString(t,r){return!this.rawStrings||this.stateIsMapKey()?this.decodeUtf8String(t,r):this.decodeBinary(t,r)}decodeUtf8String(t,r){if(t>this.maxStrLength)throw new ji(`Max length exceeded: UTF-8 byte length (${t}) > maxStrLength (${this.maxStrLength})`);if(this.bytes.byteLength<this.pos+r+t)throw t0e;let n=this.pos+r,s;return this.stateIsMapKey()&&this.keyDecoder?.canBeCached(t)?s=this.keyDecoder.decode(this.bytes,n,t):s=qhe(this.bytes,n,t),this.pos+=r+t,s}stateIsMapKey(){return this.stack.length>0?this.stack.top().type===hv:!1}decodeBinary(t,r){if(t>this.maxBinLength)throw new ji(`Max length exceeded: bin length (${t}) > maxBinLength (${this.maxBinLength})`);if(!this.hasRemaining(t+r))throw t0e;let n=this.pos+r,s=this.bytes.subarray(n,n+t);return this.pos+=r+t,s}decodeExtension(t,r){if(t>this.maxExtLength)throw new ji(`Max length exceeded: ext length (${t}) > maxExtLength (${this.maxExtLength})`);let n=this.view.getInt8(this.pos+r),s=this.decodeBinary(t,r+1);return this.extensionCodec.decode(s,n,this.context)}lookU8(){return this.view.getUint8(this.pos)}lookU16(){return this.view.getUint16(this.pos)}lookU32(){return this.view.getUint32(this.pos)}readU8(){let t=this.view.getUint8(this.pos);return this.pos++,t}readI8(){let t=this.view.getInt8(this.pos);return this.pos++,t}readU16(){let t=this.view.getUint16(this.pos);return this.pos+=2,t}readI16(){let t=this.view.getInt16(this.pos);return this.pos+=2,t}readU32(){let t=this.view.getUint32(this.pos);return this.pos+=4,t}readI32(){let t=this.view.getInt32(this.pos);return this.pos+=4,t}readU64(){let t=Zhe(this.view,this.pos);return this.pos+=8,t}readI64(){let t=Y9(this.view,this.pos);return this.pos+=8,t}readU64AsBigInt(){let t=this.view.getBigUint64(this.pos);return this.pos+=8,t}readI64AsBigInt(){let t=this.view.getBigInt64(this.pos);return this.pos+=8,t}readF32(){let t=this.view.getFloat32(this.pos);return this.pos+=4,t}readF64(){let t=this.view.getFloat64(this.pos);return this.pos+=8,t}}});function B$(e,t){return new t7(t).decode(e)}var s0e=m(()=>{n0e()});var o0e=m(()=>{Qhe();s0e()});function wl(e){let[t,r]=e.split(HWe);return{namespace:t,reference:r}}function j0e(e,t){return e.includes(":")?[e]:t.chains||[]}function Av(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}function ef(){return!(0,gl.getDocument)()&&!!(0,gl.getNavigator)()&&navigator.product===WWe}function z0e(){return ef()&&typeof globalThis<"u"&&typeof globalThis?.Platform<"u"&&globalThis?.Platform.OS==="android"}function V0e(){return ef()&&typeof globalThis<"u"&&typeof globalThis?.Platform<"u"&&globalThis?.Platform.OS==="ios"}function Tg(){return!Av()&&!!(0,gl.getNavigator)()&&!!(0,gl.getDocument)()}function Cv(){return ef()?Vi.reactNative:Av()?Vi.node:Tg()?Vi.browser:Vi.unknown}function fF(){var e;try{return ef()&&typeof globalThis<"u"&&typeof globalThis?.Application<"u"?(e=globalThis.Application)==null?void 0:e.applicationId:void 0}catch{return}}function ZWe(e,t){let r=new URLSearchParams(e);return Object.entries(t).sort(([n],[s])=>n.localeCompare(s)).forEach(([n,s])=>{s!=null&&r.set(n,String(s))}),r.toString()}function q0e(e){var t,r;let n=hF();try{return e!=null&&e.url&&n.url&&new URL(e.url).host!==new URL(n.url).host&&(console.warn(`The configured WalletConnect 'metadata.url':${e.url} differs from the actual page url:${n.url}. This is probably unintended and can lead to issues.`),e.url=n.url),(t=e?.icons)!=null&&t.length&&e.icons.length>0&&(e.icons=e.icons.filter(s=>s!=="")),qWe(a0e(a0e({},n),e),{url:e?.url||n.url,name:e?.name||n.name,description:e?.description||n.description,icons:(r=e?.icons)!=null&&r.length&&e.icons.length>0?e.icons:n.icons})}catch(s){return console.warn("Error populating app metadata",s),e||n}}function hF(){return(0,$0e.getWindowMetadata)()||{name:"",description:"",url:"",icons:[""]}}function GWe(){if(Cv()===Vi.reactNative&&typeof globalThis<"u"&&typeof globalThis?.Platform<"u"){let{OS:r,Version:n}=globalThis.Platform;return[r,n].join("-")}let e=lE();if(e===null)return"unknown";let t=e.os?e.os.replace(" ","").toLowerCase():"unknown";return e.type==="browser"?[t,e.name,e.version].join("-"):[t,e.version].join("-")}function YWe(){var e;let t=Cv();return t===Vi.browser?[t,((e=(0,gl.getLocation)())==null?void 0:e.host)||"unknown"].join(":"):t}function mF(e,t,r){let n=GWe(),s=YWe();return[[e,t].join("-"),[KWe,r].join("-"),n,s].join("/")}function W0e({protocol:e,version:t,relayUrl:r,sdkVersion:n,auth:s,projectId:o,useOnCloseEvent:i,bundleId:a,packageName:c}){let l=r.split("?"),u=mF(e,t,n),d={auth:s,ua:u,projectId:o,useOnCloseEvent:i||void 0,packageName:c||void 0,bundleId:a||void 0},p=ZWe(l[1]||"",d);return l[0]+"?"+p}function Ag(e,t){return e.filter(r=>t.includes(r)).length===e.length}function m7(e){return Object.fromEntries(e.entries())}function g7(e){return new Map(Object.entries(e))}function tf(e=Qp.FIVE_MINUTES,t){let r=(0,Qp.toMiliseconds)(e||Qp.FIVE_MINUTES),n,s,o,i;return{resolve:a=>{o&&n&&(clearTimeout(o),n(a),i=Promise.resolve(a))},reject:a=>{o&&s&&(clearTimeout(o),s(a))},done:()=>new Promise((a,c)=>{if(i)return a(i);o=setTimeout(()=>{let l=new Error(t);i=Promise.reject(l),c(l)},r),n=a,s=c})}}function bl(e,t,r){return new Promise(async(n,s)=>{let o=setTimeout(()=>s(new Error(r)),t);try{let i=await e;n(i)}catch(i){s(i)}clearTimeout(o)})}function K0e(e,t){if(typeof t=="string"&&t.startsWith(`${e}:`))return t;if(e.toLowerCase()==="topic"){if(typeof t!="string")throw new Error('Value must be "string" for expirer target type: topic');return`topic:${t}`}else if(e.toLowerCase()==="id"){if(typeof t!="number")throw new Error('Value must be "number" for expirer target type: id');return`id:${t}`}throw new Error(`Unknown expirer target type: ${e}`)}function Z0e(e){return K0e("topic",e)}function G0e(e){return K0e("id",e)}function y7(e){let[t,r]=e.split(":"),n={id:void 0,topic:void 0};if(t==="topic"&&typeof r=="string")n.topic=r;else if(t==="id"&&Number.isInteger(Number(r)))n.id=Number(r);else throw new Error(`Invalid target, expected id:number or topic:string, got ${t}:${r}`);return n}function mn(e,t){return(0,Qp.fromMiliseconds)((t||Date.now())+(0,Qp.toMiliseconds)(e))}function Da(e){return Date.now()>=(0,Qp.toMiliseconds)(e)}function dr(e,t){return`${e}${t?`:${t}`:""}`}function hl(e=[],t=[]){return[...new Set([...e,...t])]}async function Y0e({id:e,topic:t,wcDeepLink:r}){var n;try{if(!r)return;let s=typeof r=="string"?JSON.parse(r):r,o=s?.href;if(typeof o!="string")return;let i=JWe(o,e,t),a=Cv();if(a===Vi.browser){if(!((n=(0,gl.getDocument)())!=null&&n.hasFocus())){console.warn("Document does not have focus, skipping deeplink.");return}QWe(i)}else a===Vi.reactNative&&typeof globalThis?.Linking<"u"&&await globalThis.Linking.openURL(i)}catch(s){console.error(s)}}function JWe(e,t,r){let n=`requestId=${t}&sessionTopic=${r}`;e.endsWith("/")&&(e=e.slice(0,-1));let s=`${e}`;if(e.startsWith("https://t.me")){let o=e.includes("?")?"&startapp=":"?startapp=";s=`${s}${o}${tKe(n,!0)}`}else s=`${s}/wc?${n}`;return s}function QWe(e){let t="_self";eKe()?t="_top":(XWe()||e.startsWith("https://")||e.startsWith("http://"))&&(t="_blank"),window.open(e,t,"noreferrer noopener")}async function J0e(e,t){let r="";try{if(Tg()&&(r=localStorage.getItem(t),r))return r;r=await e.getItem(t)}catch(n){console.error(n)}return r}function gF(e,t){if(!e.includes(t))return null;let r=e.split(/([&,?,=])/),n=r.indexOf(t);return r[n+2]}function yF(){return typeof crypto<"u"&&crypto!=null&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu,e=>{let t=Math.random()*16|0;return(e==="x"?t:t&3|8).toString(16)})}function Sv(){return typeof process<"u"&&process.env.IS_VITEST==="true"}function XWe(){return typeof window<"u"&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto)}function eKe(){try{return window.self!==window.top}catch{return!1}}function tKe(e,t=!1){let r=Buffer.from(e).toString("base64");return t?r.replace(/[=]/g,""):r}function Q0e(e){return Buffer.from(e,"base64").toString("utf-8")}function X0e(e){return new Promise(t=>setTimeout(t,e))}function eme(e,t=!1){return t?{h:Number(e&r7),l:Number(e>>l0e&r7)}:{h:Number(e>>l0e&r7)|0,l:Number(e&r7)|0}}function tme(e,t=!1){let r=e.length,n=new Uint32Array(r),s=new Uint32Array(r);for(let o=0;o<r;o++){let{h:i,l:a}=eme(e[o],t);[n[o],s[o]]=[i,a]}return[n,s]}function fl(e,t,r,n){let s=(t>>>0)+(n>>>0);return{h:e+r+(s/2**32|0)|0,l:s|0}}function w7(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function Xp(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function yl(e,...t){if(!w7(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function b7(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");Xp(e.outputLen),Xp(e.blockLen)}function lm(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function xF(e,t){yl(e);let r=t.outputLen;if(e.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}function xv(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))}function fc(...e){for(let t=0;t<e.length;t++)e[t].fill(0)}function D$(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function bu(e,t){return e<<32-t|e>>>t}function nme(e){return e<<24&4278190080|e<<8&16711680|e>>>8&65280|e>>>24&255}function pKe(e){for(let t=0;t<e.length;t++)e[t]=nme(e[t]);return e}function Fb(e){if(yl(e),sme)return e.toHex();let t="";for(let r=0;r<e.length;r++)t+=fKe[e[r]];return t}function p0e(e){if(e>=Zp._0&&e<=Zp._9)return e-Zp._0;if(e>=Zp.A&&e<=Zp.F)return e-(Zp.A-10);if(e>=Zp.a&&e<=Zp.f)return e-(Zp.a-10)}function c7(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);if(sme)return Uint8Array.fromHex(e);let t=e.length,r=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);let n=new Uint8Array(r);for(let s=0,o=0;s<r;s++,o+=2){let i=p0e(e.charCodeAt(o)),a=p0e(e.charCodeAt(o+1));if(i===void 0||a===void 0){let c=e[o]+e[o+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+o)}n[s]=i*16+a}return n}function ome(e){if(typeof e!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}function ml(e){return typeof e=="string"&&(e=ome(e)),yl(e),e}function am(...e){let t=0;for(let n=0;n<e.length;n++){let s=e[n];yl(s),t+=s.length}let r=new Uint8Array(t);for(let n=0,s=0;n<e.length;n++){let o=e[n];r.set(o,s),s+=o.length}return r}function Iv(e){let t=n=>e().update(ml(n)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t}function hKe(e){let t=(n,s)=>e(s).update(ml(n)).digest(),r=e({});return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=n=>e(n),t}function Pg(e=32){if(Mb&&typeof Mb.getRandomValues=="function")return Mb.getRandomValues(new Uint8Array(e));if(Mb&&typeof Mb.randomBytes=="function")return Uint8Array.from(Mb.randomBytes(e));throw new Error("crypto.getRandomValues must be defined")}function EKe(e,t=24){let r=new Uint32Array(10);for(let n=24-t;n<24;n++){for(let i=0;i<10;i++)r[i]=e[i]^e[i+10]^e[i+20]^e[i+30]^e[i+40];for(let i=0;i<10;i+=2){let a=(i+8)%10,c=(i+2)%10,l=r[c],u=r[c+1],d=f0e(l,u,1)^r[a],p=h0e(l,u,1)^r[a+1];for(let f=0;f<50;f+=10)e[i+f]^=d,e[i+f+1]^=p}let s=e[2],o=e[3];for(let i=0;i<24;i++){let a=ame[i],c=f0e(s,o,a),l=h0e(s,o,a),u=ime[i];s=e[u],o=e[u+1],e[u]=c,e[u+1]=l}for(let i=0;i<50;i+=10){for(let a=0;a<10;a++)r[a]=e[i+a];for(let a=0;a<10;a++)e[i+a]^=~r[(a+2)%10]&r[(a+4)%10]}e[0]^=xKe[n],e[1]^=vKe[n]}fc(r)}function SKe(e,t,r,n){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,r,n);let s=BigInt(32),o=BigInt(4294967295),i=Number(r>>s&o),a=Number(r&o),c=n?4:0,l=n?0:4;e.setUint32(t+c,i,n),e.setUint32(t+l,a,n)}function IKe(e,t,r){return e&t^~e&r}function _Ke(e,t,r){return e&t^e&r^t&r}function rm(e,t,r,n,s,o){let i=s[o],a=s[o+1],c=Re[2*e],l=Re[2*e+1],u=Re[2*t],d=Re[2*t+1],p=Re[2*r],f=Re[2*r+1],h=Re[2*n],g=Re[2*n+1],y=wF(c,u,i);l=bF(y,l,d,a),c=y|0,{Dh:g,Dl:h}={Dh:g^l,Dl:h^c},{Dh:g,Dl:h}={Dh:rKe(g,h),Dl:nKe(g)},{h:f,l:p}=fl(f,p,g,h),{Bh:d,Bl:u}={Bh:d^f,Bl:u^p},{Bh:d,Bl:u}={Bh:sm(d,u,24),Bl:om(d,u,24)},Re[2*e]=c,Re[2*e+1]=l,Re[2*t]=u,Re[2*t+1]=d,Re[2*r]=p,Re[2*r+1]=f,Re[2*n]=h,Re[2*n+1]=g}function nm(e,t,r,n,s,o){let i=s[o],a=s[o+1],c=Re[2*e],l=Re[2*e+1],u=Re[2*t],d=Re[2*t+1],p=Re[2*r],f=Re[2*r+1],h=Re[2*n],g=Re[2*n+1],y=wF(c,u,i);l=bF(y,l,d,a),c=y|0,{Dh:g,Dl:h}={Dh:g^l,Dl:h^c},{Dh:g,Dl:h}={Dh:sm(g,h,16),Dl:om(g,h,16)},{h:f,l:p}=fl(f,p,g,h),{Bh:d,Bl:u}={Bh:d^f,Bl:u^p},{Bh:d,Bl:u}={Bh:yv(d,u,63),Bl:wv(d,u,63)},Re[2*e]=c,Re[2*e+1]=l,Re[2*t]=u,Re[2*t+1]=d,Re[2*r]=p,Re[2*r+1]=f,Re[2*n]=h,Re[2*n+1]=g}function DKe(e,t={},r,n,s){if(Xp(r),e<0||e>r)throw new Error("outputLen bigger than keyLen");let{key:o,salt:i,personalization:a}=t;if(o!==void 0&&(o.length<1||o.length>r))throw new Error("key length must be undefined or 1.."+r);if(i!==void 0&&i.length!==n)throw new Error("salt must be undefined or "+n);if(a!==void 0&&a.length!==s)throw new Error("personalization must be undefined or "+s)}function dme(e){let t=`Ethereum Signed Message:
${e.length}`,r=new TextEncoder().encode(t+e);return"0x"+Buffer.from(CKe(r)).toString("hex")}async function MKe(e,t,r,n,s,o){switch(r.t){case"eip191":return await HKe(e,t,r.s);case"eip1271":return await $Ke(e,t,r.s,n,s,o);default:throw new Error(`verifySignature failed: Attempted to verify CacaoSignature with unknown type: ${r.t}`)}}function HKe(e,t,r){let n=q9.fromHex(r);return W9.recoverAddress({payload:dme(t),signature:n}).toLowerCase()===e.toLowerCase()}async function $Ke(e,t,r,n,s,o){let i=wl(n);if(!i.namespace||!i.reference)throw new Error(`isValidEip1271Signature failed: chainId must be in CAIP-2 format, received: ${n}`);try{let a="0x1626ba7e",c="0000000000000000000000000000000000000000000000000000000000000040",l=r.substring(2),u=(l.length/2).toString(16).padStart(64,"0"),d=(t.startsWith("0x")?t:dme(t)).substring(2),p=a+d+c+u+l,f=await fetch(`${o||LKe}/?chainId=${n}&projectId=${s}`,{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify({id:FKe(),jsonrpc:"2.0",method:"eth_call",params:[{to:e,data:p},"latest"]})}),{result:h}=await f.json();return h?h.slice(0,a.length).toLowerCase()===a.toLowerCase():!1}catch(a){return console.error("isValidEip1271Signature: ",a),!1}}function FKe(){return Date.now()+Math.floor(Math.random()*1e3)}function pme(e){let t=atob(e),r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);let n=r[0];if(n===0)throw new Error("No signatures found");let s=1+n*64;if(r.length<s)throw new Error("Transaction data too short for claimed signature count");if(r.length<100)throw new Error("Transaction too short");let o=Buffer.from(e,"base64").slice(1,65);return q0.encode(o)}function fme(e){let t=new Uint8Array(Buffer.from(e,"base64")),r=Array.from("TransactionData::").map(o=>o.charCodeAt(0)),n=new Uint8Array(r.length+t.length);n.set(r),n.set(t,r.length);let s=UKe(n,{dkLen:32});return q0.encode(s)}function vF(e){let t=new Uint8Array(x7(jKe(e)));return q0.encode(t)}function jKe(e){if(e instanceof Uint8Array)return e;if(Array.isArray(e))return new Uint8Array(e);if(typeof e=="object"&&e!=null&&e.data)return new Uint8Array(Object.values(e.data));if(typeof e=="object"&&e)return new Uint8Array(Object.values(e));throw new Error("getNearUint8ArrayFromBytes: Unexpected result type from bytes array")}function EF(e){let t=Buffer.from(e,"base64"),r=B$(t).txn;if(!r)throw new Error("Invalid signed transaction: missing 'txn' field");let n=N$(r),s=Buffer.from("TX"),o=Buffer.concat([s,Buffer.from(n)]),i=kKe(o);return QE.encode(i).replace(/=+$/,"")}function U$(e){let t=[],r=BigInt(e);for(;r>=BigInt(128);)t.push(Number(r&BigInt(127)|BigInt(128))),r>>=BigInt(7);return t.push(Number(r)),Buffer.from(t)}function hme(e){let t=Buffer.from(e.signed.bodyBytes,"base64"),r=Buffer.from(e.signed.authInfoBytes,"base64"),n=Buffer.from(e.signature.signature,"base64"),s=[];s.push(Buffer.from([10])),s.push(U$(t.length)),s.push(t),s.push(Buffer.from([18])),s.push(U$(r.length)),s.push(r),s.push(Buffer.from([26])),s.push(U$(n.length)),s.push(n);let o=Buffer.concat(s),i=x7(o);return Buffer.from(i).toString("hex").toUpperCase()}function mme(e){var t,r;let n=[];try{if(typeof e=="string")return n.push(e),n;if(typeof e!="object")return n;e!=null&&e.id&&n.push(e.id);let s=(r=(t=e?.capabilities)==null?void 0:t.caip345)==null?void 0:r.transactionHashes;s&&n.push(...s)}catch(s){console.warn("getWalletSendCallsHashes failed: ",s)}return n}async function AF(e){let{cacao:t,projectId:r}=e,{s:n,p:s}=t,o=CF(s,s.iss),i=_v(s.iss);return await MKe(i,o,n,E7(s.iss),r)}function eZe(e){return Buffer.from(JSON.stringify(e)).toString("base64")}function tZe(e){return JSON.parse(Buffer.from(e,"base64").toString("utf-8"))}function _g(e){if(!e)throw new Error("No recap provided, value is undefined");if(!e.att)throw new Error("No `att` property found");let t=Object.keys(e.att);if(!(t!=null&&t.length))throw new Error("No resources found in `att` property");t.forEach(r=>{let n=e.att[r];if(Array.isArray(n))throw new Error(`Resource must be an object: ${r}`);if(typeof n!="object")throw new Error(`Resource must be an object: ${r}`);if(!Object.keys(n).length)throw new Error(`Resource object is empty: ${r}`);Object.keys(n).forEach(s=>{let o=n[s];if(!Array.isArray(o))throw new Error(`Ability limits ${s} must be an array of objects, found: ${o}`);if(!o.length)throw new Error(`Value of ${s} is empty array, must be an array with objects`);o.forEach(i=>{if(typeof i!="object")throw new Error(`Ability limits (${s}) must be an array of objects, found: ${i}`)})})})}function rZe(e,t,r,n={}){return r?.sort((s,o)=>s.localeCompare(o)),{att:{[e]:nZe(t,r,n)}}}function nZe(e,t,r={}){t=t?.sort((s,o)=>s.localeCompare(o));let n=t.map(s=>({[`${e}/${s}`]:[r]}));return Object.assign({},...n)}function yme(e){return _g(e),`urn:recap:${eZe(e).replace(/=/g,"")}`}function Ev(e){let t=tZe(e.replace("urn:recap:",""));return _g(t),t}function wme(e,t,r){let n=rZe(e,t,r);return yme(n)}function sZe(e){return e&&e.includes("urn:recap:")}function bme(e,t){let r=Ev(e),n=Ev(t),s=oZe(r,n);return yme(s)}function oZe(e,t){_g(e),_g(t);let r=Object.keys(e.att).concat(Object.keys(t.att)).sort((s,o)=>s.localeCompare(o)),n={att:{}};return r.forEach(s=>{var o,i;Object.keys(((o=e.att)==null?void 0:o[s])||{}).concat(Object.keys(((i=t.att)==null?void 0:i[s])||{})).sort((a,c)=>a.localeCompare(c)).forEach(a=>{var c,l;n.att[s]=GKe(ZKe({},n.att[s]),{[a]:((c=e.att[s])==null?void 0:c[a])||((l=t.att[s])==null?void 0:l[a])})})}),n}function iZe(e="",t){_g(t);let r="I further authorize the stated URI to perform the following actions on my behalf: ";if(e.includes(r))return e;let n=[],s=0;Object.keys(t.att).forEach(a=>{let c=Object.keys(t.att[a]).map(d=>({ability:d.split("/")[0],action:d.split("/")[1]}));c.sort((d,p)=>d.action.localeCompare(p.action));let l={};c.forEach(d=>{l[d.ability]||(l[d.ability]=[]),l[d.ability].push(d.action)});let u=Object.keys(l).map(d=>(s++,`(${s}) '${d}': '${l[d].join("', '")}' for '${a}'.`));n.push(u.join(", ").replace(".,","."))});let o=n.join(" "),i=`${r}${o}`;return`${e?e+" ":""}${i}`}function SF(e){var t;let r=Ev(e);_g(r);let n=(t=r.att)==null?void 0:t.eip155;return n?Object.keys(n).map(s=>s.split("/")[1]):[]}function IF(e){let t=Ev(e);_g(t);let r=[];return Object.values(t.att).forEach(n=>{Object.values(n).forEach(s=>{var o;(o=s?.[0])!=null&&o.chains&&r.push(s[0].chains)})}),[...new Set(r.flat())]}function Tv(e){if(!e)return;let t=e?.[e.length-1];return sZe(t)?t:void 0}function xme(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function eF(e){if(typeof e!="boolean")throw new Error(`boolean expected, not ${e}`)}function L$(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function zi(e,...t){if(!xme(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function y0e(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function aZe(e,t){zi(e);let r=t.outputLen;if(e.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}function cm(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))}function Vb(...e){for(let t=0;t<e.length;t++)e[t].fill(0)}function cZe(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function uZe(e){if(typeof e!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}function tF(e){if(typeof e=="string")e=uZe(e);else if(xme(e))e=rF(e);else throw new Error("Uint8Array expected, got "+typeof e);return e}function dZe(e,t){if(t==null||typeof t!="object")throw new Error("options must be defined");return Object.assign(e,t)}function pZe(e,t){if(e.length!==t.length)return!1;let r=0;for(let n=0;n<e.length;n++)r|=e[n]^t[n];return r===0}function w0e(e,t,r=!0){if(t===void 0)return new Uint8Array(e);if(t.length!==e)throw new Error("invalid output length, expected "+e+", got: "+t.length);if(r&&!mZe(t))throw new Error("invalid output, must be aligned");return t}function b0e(e,t,r,n){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,r,n);let s=BigInt(32),o=BigInt(4294967295),i=Number(r>>s&o),a=Number(r&o),c=n?4:0,l=n?0:4;e.setUint32(t+c,i,n),e.setUint32(t+l,a,n)}function hZe(e,t,r){eF(r);let n=new Uint8Array(16),s=cZe(n);return b0e(s,0,BigInt(t),r),b0e(s,8,BigInt(e),r),n}function mZe(e){return e.byteOffset%4===0}function rF(e){return Uint8Array.from(e)}function sr(e,t){return e<<t|e>>>32-t}function nF(e){return e.byteOffset%4===0}function vZe(e,t,r,n,s,o,i,a){let c=s.length,l=new Uint8Array(n7),u=cm(l),d=nF(s)&&nF(o),p=d?cm(s):x0e,f=d?cm(o):x0e;for(let h=0;h<c;i++){if(e(t,r,n,u,i,a),i>=Eme)throw new Error("arx: counter overflow");let g=Math.min(n7,c-h);if(d&&g===n7){let y=h/4;if(h%4!==0)throw new Error("arx: invalid block position");for(let E=0,A;E<xZe;E++)A=y+E,f[A]=p[A]^u[E];h+=n7;continue}for(let y=0,E;y<g;y++)E=h+y,o[E]=s[E]^l[y];h+=g}}function EZe(e,t){let{allowShortKeys:r,extendNonceFn:n,counterLength:s,counterRight:o,rounds:i}=dZe({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},t);if(typeof e!="function")throw new Error("core must be a function");return L$(s),L$(i),eF(o),eF(r),(a,c,l,u,d=0)=>{zi(a),zi(c),zi(l);let p=l.length;if(u===void 0&&(u=new Uint8Array(p)),zi(u),L$(d),d<0||d>=Eme)throw new Error("arx: counter overflow");if(u.length<p)throw new Error(`arx: output (${u.length}) is shorter than data (${p})`);let f=[],h=a.length,g,y;if(h===32)f.push(g=rF(a)),y=bZe;else if(h===16&&r)g=new Uint8Array(32),g.set(a),g.set(a,16),y=wZe,f.push(g);else throw new Error(`arx: invalid 32-byte key, got length=${h}`);nF(c)||f.push(c=rF(c));let E=cm(g);if(n){if(c.length!==24)throw new Error("arx: extended nonce must be 24 bytes");n(y,E,cm(c.subarray(0,16)),E),c=c.subarray(16)}let A=16-s;if(A!==c.length)throw new Error(`arx: nonce must be ${A} or 16 bytes`);if(A!==12){let w=new Uint8Array(12);w.set(c,o?0:12-c.length),c=w,f.push(c)}let b=cm(c);return vZe(e,y,E,b,l,u,d,i),Vb(...f),u}}function AZe(e){let t=(n,s)=>e(s).update(tF(n)).digest(),r=e(new Uint8Array(32));return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=n=>e(n),t}function SZe(e,t,r,n,s,o=20){let i=e[0],a=e[1],c=e[2],l=e[3],u=t[0],d=t[1],p=t[2],f=t[3],h=t[4],g=t[5],y=t[6],E=t[7],A=s,b=r[0],w=r[1],C=r[2],_=i,B=a,U=c,k=l,$=u,P=d,I=p,S=f,O=h,x=g,v=y,N=E,D=A,T=b,L=w,j=C;for(let ie=0;ie<o;ie+=2)_=_+$|0,D=sr(D^_,16),O=O+D|0,$=sr($^O,12),_=_+$|0,D=sr(D^_,8),O=O+D|0,$=sr($^O,7),B=B+P|0,T=sr(T^B,16),x=x+T|0,P=sr(P^x,12),B=B+P|0,T=sr(T^B,8),x=x+T|0,P=sr(P^x,7),U=U+I|0,L=sr(L^U,16),v=v+L|0,I=sr(I^v,12),U=U+I|0,L=sr(L^U,8),v=v+L|0,I=sr(I^v,7),k=k+S|0,j=sr(j^k,16),N=N+j|0,S=sr(S^N,12),k=k+S|0,j=sr(j^k,8),N=N+j|0,S=sr(S^N,7),_=_+P|0,j=sr(j^_,16),v=v+j|0,P=sr(P^v,12),_=_+P|0,j=sr(j^_,8),v=v+j|0,P=sr(P^v,7),B=B+I|0,D=sr(D^B,16),N=N+D|0,I=sr(I^N,12),B=B+I|0,D=sr(D^B,8),N=N+D|0,I=sr(I^N,7),U=U+S|0,T=sr(T^U,16),O=O+T|0,S=sr(S^O,12),U=U+S|0,T=sr(T^U,8),O=O+T|0,S=sr(S^O,7),k=k+$|0,L=sr(L^k,16),x=x+L|0,$=sr($^x,12),k=k+$|0,L=sr(L^k,8),x=x+L|0,$=sr($^x,7);let q=0;n[q++]=i+_|0,n[q++]=a+B|0,n[q++]=c+U|0,n[q++]=l+k|0,n[q++]=u+$|0,n[q++]=d+P|0,n[q++]=p+I|0,n[q++]=f+S|0,n[q++]=h+O|0,n[q++]=g+x|0,n[q++]=y+v|0,n[q++]=E+N|0,n[q++]=A+D|0,n[q++]=b+T|0,n[q++]=w+L|0,n[q++]=C+j|0}function E0e(e,t,r,n,s){let o=e(t,r,TZe),i=CZe.create(o);s&&v0e(i,s),v0e(i,n);let a=hZe(n.length,s?s.length:0,!0);i.update(a);let c=i.digest();return Vb(o,a),c}function NZe(e,t,r){return b7(e),r===void 0&&(r=new Uint8Array(e.outputLen)),A7(e,ml(r),ml(t))}function RZe(e,t,r,n=32){b7(e),Xp(n);let s=e.outputLen;if(n>255*s)throw new Error("Length should be <= 255*HashLen");let o=Math.ceil(n/s);r===void 0&&(r=A0e);let i=new Uint8Array(o*s),a=A7.create(e,t),c=a._cloneInto(),l=new Uint8Array(a.outputLen);for(let u=0;u<o;u++)M$[0]=u+1,c.update(u===0?A0e:l).update(r).update(M$).digestInto(l),i.set(l,s*u),a._cloneInto(c);return a.destroy(),c.destroy(),fc(l,M$),i.slice(0,n)}function d7(e,t=""){if(typeof e!="boolean"){let r=t&&`"${t}"`;throw new Error(r+"expected boolean, got type="+typeof e)}return e}function Cg(e,t,r=""){let n=w7(e),s=e?.length,o=t!==void 0;if(!n||o&&s!==t){let i=r&&`"${r}" `,a=o?` of length ${t}`:"",c=n?`length=${s}`:`type=${typeof e}`;throw new Error(i+"expected Uint8Array"+a+", got "+c)}return e}function s7(e){let t=e.toString(16);return t.length&1?"0"+t:t}function Cme(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return e===""?_F:BigInt("0x"+e)}function S7(e){return Cme(Fb(e))}function p7(e){return yl(e),Cme(Fb(Uint8Array.from(e).reverse()))}function TF(e,t){return c7(e.toString(16).padStart(t*2,"0"))}function PF(e,t){return TF(e,t).reverse()}function bo(e,t,r){let n;if(typeof t=="string")try{n=c7(t)}catch(o){throw new Error(e+" must be hex string or Uint8Array, cause: "+o)}else if(w7(t))n=Uint8Array.from(t);else throw new Error(e+" must be hex string or Uint8Array");let s=n.length;if(typeof r=="number"&&s!==r)throw new Error(e+" of length "+r+" expected, got "+s);return n}function kZe(e,t,r){return H$(e)&&H$(t)&&H$(r)&&t<=e&&e<r}function iF(e,t,r,n){if(!kZe(t,r,n))throw new Error("expected valid "+e+": "+r+" <= n < "+n+", got "+t)}function Sme(e){let t;for(t=0;e>_F;e>>=oF,t+=1);return t}function BZe(e,t,r){if(typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof r!="function")throw new Error("hmacFn must be a function");let n=p=>new Uint8Array(p),s=p=>Uint8Array.of(p),o=n(e),i=n(e),a=0,c=()=>{o.fill(1),i.fill(0),a=0},l=(...p)=>r(i,o,...p),u=(p=n(0))=>{i=l(s(0),p),o=l(),p.length!==0&&(i=l(s(1),p),o=l())},d=()=>{if(a++>=1e3)throw new Error("drbg: tried 1000 values");let p=0,f=[];for(;p<t;){o=l();let h=o.slice();f.push(h),p+=o.length}return am(...f)};return(p,f)=>{c(),u(p);let h;for(;!(h=f(d()));)u();return c(),h}}function I7(e,t,r={}){if(!e||typeof e!="object")throw new Error("expected valid options object");function n(s,o,i){let a=e[s];if(i&&a===void 0)return;let c=typeof a;if(c!==o||a===null)throw new Error(`param "${s}" is invalid: expected ${o}, got ${c}`)}Object.entries(t).forEach(([s,o])=>n(s,o,!1)),Object.entries(r).forEach(([s,o])=>n(s,o,!0))}function C0e(e){let t=new WeakMap;return(r,...n)=>{let s=t.get(r);if(s!==void 0)return s;let o=e(r,...n);return t.set(r,o),o}}function Ba(e,t){let r=e%t;return r>=qi?r:t+r}function pl(e,t,r){let n=e;for(;t-- >qi;)n*=n,n%=r;return n}function S0e(e,t){if(e===qi)throw new Error("invert: expected non-zero number");if(t<=qi)throw new Error("invert: expected positive modulus, got "+t);let r=Ba(e,t),n=t,s=qi,o=ii;for(;r!==qi;){let i=n/r,a=n%r,c=s-o*i;n=r,r=a,s=o,o=c}if(n!==ii)throw new Error("invert: does not exist");return Ba(s,t)}function NF(e,t,r){if(!e.eql(e.sqr(t),r))throw new Error("Cannot find square root")}function Rme(e,t){let r=(e.ORDER+ii)/_me,n=e.pow(t,r);return NF(e,n,t),n}function LZe(e,t){let r=(e.ORDER-Tme)/Pme,n=e.mul(t,Sg),s=e.pow(n,r),o=e.mul(t,s),i=e.mul(e.mul(o,Sg),s),a=e.mul(o,e.sub(i,e.ONE));return NF(e,a,t),a}function MZe(e){let t=pm(e),r=Ome(e),n=r(t,t.neg(t.ONE)),s=r(t,n),o=r(t,t.neg(n)),i=(e+DZe)/Nme;return(a,c)=>{let l=a.pow(c,i),u=a.mul(l,n),d=a.mul(l,s),p=a.mul(l,o),f=a.eql(a.sqr(u),c),h=a.eql(a.sqr(d),c);l=a.cmov(l,u,f),u=a.cmov(p,d,h);let g=a.eql(a.sqr(u),c),y=a.cmov(l,u,g);return NF(a,y,c),y}}function Ome(e){if(e<Ime)throw new Error("sqrt is not defined for small field");let t=e-ii,r=0;for(;t%Sg===qi;)t/=Sg,r++;let n=Sg,s=pm(e);for(;I0e(s,n)===1;)if(n++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(r===1)return Rme;let o=s.pow(n,t),i=(t+ii)/Sg;return function(a,c){if(a.is0(c))return c;if(I0e(a,c)!==1)throw new Error("Cannot find square root");let l=r,u=a.mul(a.ONE,o),d=a.pow(c,t),p=a.pow(c,i);for(;!a.eql(d,a.ONE);){if(a.is0(d))return a.ZERO;let f=1,h=a.sqr(d);for(;!a.eql(h,a.ONE);)if(f++,h=a.sqr(h),f===l)throw new Error("Cannot find square root");let g=ii<<BigInt(l-f-1),y=a.pow(u,g);l=f,u=a.sqr(y),d=a.mul(d,u),p=a.mul(p,y)}return p}}function HZe(e){return e%_me===Ime?Rme:e%Pme===Tme?LZe:e%Nme===UZe?MZe(e):Ome(e)}function FZe(e){let t={ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"},r=$Ze.reduce((n,s)=>(n[s]="function",n),t);return I7(e,r),e}function jZe(e,t,r){if(r<qi)throw new Error("invalid exponent, negatives unsupported");if(r===qi)return e.ONE;if(r===ii)return t;let n=e.ONE,s=t;for(;r>qi;)r&ii&&(n=e.mul(n,s)),s=e.sqr(s),r>>=ii;return n}function kme(e,t,r=!1){let n=new Array(t.length).fill(r?e.ZERO:void 0),s=t.reduce((i,a,c)=>e.is0(a)?i:(n[c]=i,e.mul(i,a)),e.ONE),o=e.inv(s);return t.reduceRight((i,a,c)=>e.is0(a)?i:(n[c]=e.mul(i,n[c]),e.mul(i,a)),o),n}function I0e(e,t){let r=(e.ORDER-ii)/Sg,n=e.pow(t,r),s=e.eql(n,e.ONE),o=e.eql(n,e.ZERO),i=e.eql(n,e.neg(e.ONE));if(!s&&!o&&!i)throw new Error("invalid Legendre symbol result");return s?1:o?0:-1}function Bme(e,t){t!==void 0&&Xp(t);let r=t!==void 0?t:e.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}function pm(e,t,r=!1,n={}){if(e<=qi)throw new Error("invalid field: expected ORDER > 0, got "+e);let s,o,i=!1,a;if(typeof t=="object"&&t!=null){if(n.sqrt||r)throw new Error("cannot specify opts in two arguments");let p=t;p.BITS&&(s=p.BITS),p.sqrt&&(o=p.sqrt),typeof p.isLE=="boolean"&&(r=p.isLE),typeof p.modFromBytes=="boolean"&&(i=p.modFromBytes),a=p.allowedLengths}else typeof t=="number"&&(s=t),n.sqrt&&(o=n.sqrt);let{nBitLength:c,nByteLength:l}=Bme(e,s);if(l>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let u,d=Object.freeze({ORDER:e,isLE:r,BITS:c,BYTES:l,MASK:Pv(c),ZERO:qi,ONE:ii,allowedLengths:a,create:p=>Ba(p,e),isValid:p=>{if(typeof p!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof p);return qi<=p&&p<e},is0:p=>p===qi,isValidNot0:p=>!d.is0(p)&&d.isValid(p),isOdd:p=>(p&ii)===ii,neg:p=>Ba(-p,e),eql:(p,f)=>p===f,sqr:p=>Ba(p*p,e),add:(p,f)=>Ba(p+f,e),sub:(p,f)=>Ba(p-f,e),mul:(p,f)=>Ba(p*f,e),pow:(p,f)=>jZe(d,p,f),div:(p,f)=>Ba(p*S0e(f,e),e),sqrN:p=>p*p,addN:(p,f)=>p+f,subN:(p,f)=>p-f,mulN:(p,f)=>p*f,inv:p=>S0e(p,e),sqrt:o||(p=>(u||(u=HZe(e)),u(d,p))),toBytes:p=>r?PF(p,l):TF(p,l),fromBytes:(p,f=!0)=>{if(a){if(!a.includes(p.length)||p.length>l)throw new Error("Field.fromBytes: expected "+a+" bytes, got "+p.length);let g=new Uint8Array(l);g.set(p,r?0:g.length-p.length),p=g}if(p.length!==l)throw new Error("Field.fromBytes: expected "+l+" bytes, got "+p.length);let h=r?p7(p):S7(p);if(i&&(h=Ba(h,e)),!f&&!d.isValid(h))throw new Error("invalid field element: outside of range 0..ORDER");return h},invertBatch:p=>kme(d,p),cmov:(p,f,h)=>h?f:p});return Object.freeze(d)}function Dme(e){if(typeof e!="bigint")throw new Error("field order must be bigint");let t=e.toString(2).length;return Math.ceil(t/8)}function Ume(e){let t=Dme(e);return t+Math.ceil(t/2)}function zZe(e,t,r=!1){let n=e.length,s=Dme(t),o=Ume(t);if(n<16||n<o||n>1024)throw new Error("expected "+o+"-1024 bytes of input, got "+n);let i=r?p7(e):S7(e),a=Ba(i,t-ii)+ii;return r?PF(a,s):TF(a,s)}function f7(e,t){let r=t.negate();return e?r:t}function $$(e,t){let r=kme(e.Fp,t.map(n=>n.Z));return t.map((n,s)=>e.fromAffine(n.toAffine(r[s])))}function Lme(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw new Error("invalid window size, expected [1.."+t+"], got W="+e)}function F$(e,t){Lme(e,t);let r=Math.ceil(t/e)+1,n=2**(e-1),s=2**e,o=Pv(e),i=BigInt(e);return{windows:r,windowSize:n,mask:o,maxNumber:s,shiftBy:i}}function _0e(e,t,r){let{windowSize:n,mask:s,maxNumber:o,shiftBy:i}=r,a=Number(e&s),c=e>>i;a>n&&(a-=o,c+=Ig);let l=t*n,u=l+Math.abs(a)-1,d=a===0,p=a<0,f=t%2!==0;return{nextN:c,offset:u,isZero:d,isNeg:p,isNegF:f,offsetF:l}}function VZe(e,t){if(!Array.isArray(e))throw new Error("array expected");e.forEach((r,n)=>{if(!(r instanceof t))throw new Error("invalid point at index "+n)})}function qZe(e,t){if(!Array.isArray(e))throw new Error("array of scalars expected");e.forEach((r,n)=>{if(!t.isValid(r))throw new Error("invalid scalar at index "+n)})}function z$(e){return Mme.get(e)||1}function T0e(e){if(e!==qb)throw new Error("invalid wNAF")}function WZe(e,t,r,n){let s=t,o=e.ZERO,i=e.ZERO;for(;r>qb||n>qb;)r&Ig&&(o=o.add(s)),n&Ig&&(i=i.add(s)),s=s.double(),r>>=Ig,n>>=Ig;return{p1:o,p2:i}}function KZe(e,t,r,n){VZe(r,e),qZe(n,t);let s=r.length,o=n.length;if(s!==o)throw new Error("arrays of points and scalars must have equal length");let i=e.ZERO,a=Sme(BigInt(s)),c=1;a>12?c=a-3:a>4?c=a-2:a>0&&(c=2);let l=Pv(c),u=new Array(Number(l)+1).fill(i),d=Math.floor((t.BITS-1)/c)*c,p=i;for(let f=d;f>=0;f-=c){u.fill(i);for(let g=0;g<o;g++){let y=n[g],E=Number(y>>BigInt(f)&l);u[E]=u[E].add(r[g])}let h=i;for(let g=u.length-1,y=i;g>0;g--)y=y.add(u[g]),h=h.add(y);if(p=p.add(h),f!==0)for(let g=0;g<c;g++)p=p.double()}return p}function P0e(e,t,r){if(t){if(t.ORDER!==e)throw new Error("Field.ORDER must match order: Fp == p, Fn == n");return FZe(t),t}else return pm(e,{isLE:r})}function ZZe(e,t,r={},n){if(n===void 0&&(n=e==="edwards"),!t||typeof t!="object")throw new Error(`expected valid ${e} CURVE object`);for(let a of["p","n","h"]){let c=t[a];if(!(typeof c=="bigint"&&c>qb))throw new Error(`CURVE.${a} must be positive bigint`)}let s=P0e(t.p,r.Fp,n),o=P0e(t.n,r.Fn,n),i=["Gx","Gy","a",e==="weierstrass"?"b":"d"];for(let a of i)if(!s.isValid(t[a]))throw new Error(`CURVE.${a} must be valid field element of CURVE.Fp`);return t=Object.freeze(Object.assign({},t)),{CURVE:t,Fp:s,Fn:o}}function GZe(e){return I7(e,{adjustScalarBytes:"function",powPminus2:"function"}),Object.freeze({...e})}function YZe(e){let t=GZe(e),{P:r,type:n,adjustScalarBytes:s,powPminus2:o,randomBytes:i}=t,a=n==="x25519";if(!a&&n!=="x448")throw new Error("invalid type");let c=i||Pg,l=a?255:448,u=a?32:56,d=BigInt(a?9:5),p=BigInt(a?121665:39081),f=a?o7**BigInt(254):o7**BigInt(447),h=a?BigInt(8)*o7**BigInt(251)-Hb:BigInt(4)*o7**BigInt(445)-Hb,g=f+h+Hb,y=I=>Ba(I,r),E=A(d);function A(I){return PF(y(I),u)}function b(I){let S=bo("u coordinate",I,u);return a&&(S[31]&=127),y(p7(S))}function w(I){return p7(s(bo("scalar",I,u)))}function C(I,S){let O=U(b(S),w(I));if(O===gv)throw new Error("invalid private or public key received");return A(O)}function _(I){return C(I,E)}function B(I,S,O){let x=y(I*(S-O));return S=y(S-x),O=y(O+x),{x_2:S,x_3:O}}function U(I,S){iF("u",I,gv,r),iF("scalar",S,f,g);let O=S,x=I,v=Hb,N=gv,D=I,T=Hb,L=gv;for(let q=BigInt(l-1);q>=gv;q--){let ie=O>>q&Hb;L^=ie,{x_2:v,x_3:D}=B(L,v,D),{x_2:N,x_3:T}=B(L,N,T),L=ie;let ne=v+N,Y=y(ne*ne),me=v-N,ue=y(me*me),Te=Y-ue,de=D+T,Pe=D-T,bt=y(Pe*ne),At=y(de*me),vt=bt+At,Zt=bt-At;D=y(vt*vt),T=y(x*y(Zt*Zt)),v=y(Y*ue),N=y(Te*(Y+y(p*Te)))}({x_2:v,x_3:D}=B(L,v,D)),{x_2:N,x_3:T}=B(L,N,T);let j=o(N);return y(v*j)}let k={secretKey:u,publicKey:u,seed:u},$=(I=c(u))=>(yl(I,k.seed),I);function P(I){let S=$(I);return{secretKey:S,publicKey:_(S)}}return{keygen:P,getSharedSecret:(I,S)=>C(I,S),getPublicKey:I=>_(I),scalarMult:C,scalarMultBase:_,utils:{randomSecretKey:$,randomPrivateKey:$},GuBytes:E.slice(),lengths:k}}function rGe(e){let t=BigInt(10),r=BigInt(20),n=BigInt(40),s=BigInt(80),o=Hme,i=e*e%o*e%o,a=pl(i,N0e,o)*i%o,c=pl(a,JZe,o)*e%o,l=pl(c,XZe,o)*c%o,u=pl(l,t,o)*l%o,d=pl(u,r,o)*u%o,p=pl(d,n,o)*d%o,f=pl(p,s,o)*p%o,h=pl(f,s,o)*p%o,g=pl(h,t,o)*l%o;return{pow_p_5_8:pl(g,N0e,o)*e%o,b2:i}}function nGe(e){return e[0]&=248,e[31]&=127,e[31]|=64,e}function oGe(e,t,r){let[[n,s],[o,i]]=t,a=R0e(i*e,r),c=R0e(-s*e,r),l=e-a*n-c*o,u=-a*s-c*i,d=l<Jp,p=u<Jp;d&&(l=-l),p&&(u=-u);let f=Pv(Math.ceil(Sme(r)/2))+jb;if(l<Jp||l>=f||u<Jp||u>=f)throw new Error("splitScalar (endomorphism): failed, k="+e);return{k1neg:d,k1:l,k2neg:p,k2:u}}function lF(e){if(!["compact","recovered","der"].includes(e))throw new Error('Signature format must be "compact", "recovered", or "der"');return e}function V$(e,t){let r={};for(let n of Object.keys(t))r[n]=e[n]===void 0?t[n]:e[n];return d7(r.lowS,"lowS"),d7(r.prehash,"prehash"),r.format!==void 0&&lF(r.format),r}function $b(e,t){let{BYTES:r}=e,n;if(typeof t=="bigint")n=t;else{let s=bo("private key",t);try{n=e.fromBytes(s)}catch{throw new Error(`invalid private key: expected ui8a of size ${r}, got ${typeof t}`)}}if(!e.isValidNot0(n))throw new Error("invalid private key: out of range [1..N-1]");return n}function aGe(e,t={}){let r=ZZe("weierstrass",e,t),{Fp:n,Fn:s}=r,o=r.CURVE,{h:i,n:a}=o;I7(t,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});let{endo:c}=t;if(c&&(!n.is0(o.a)||typeof c.beta!="bigint"||!Array.isArray(c.basises)))throw new Error('invalid endo: expected "beta": bigint and "basises": array');let l=jme(n,s);function u(){if(!n.isOdd)throw new Error("compression is not supported: Field does not have .isOdd()")}function d(I,S,O){let{x,y:v}=S.toAffine(),N=n.toBytes(x);if(d7(O,"isCompressed"),O){u();let D=!n.isOdd(v);return am(Fme(D),N)}else return am(Uint8Array.of(4),N,n.toBytes(v))}function p(I){Cg(I,void 0,"Point");let{publicKey:S,publicKeyUncompressed:O}=l,x=I.length,v=I[0],N=I.subarray(1);if(x===S&&(v===2||v===3)){let D=n.fromBytes(N);if(!n.isValid(D))throw new Error("bad point: is not on curve, wrong x");let T=g(D),L;try{L=n.sqrt(T)}catch(q){let ie=q instanceof Error?": "+q.message:"";throw new Error("bad point: is not on curve, sqrt error"+ie)}u();let j=n.isOdd(L);return(v&1)===1!==j&&(L=n.neg(L)),{x:D,y:L}}else if(x===O&&v===4){let D=n.BYTES,T=n.fromBytes(N.subarray(0,D)),L=n.fromBytes(N.subarray(D,D*2));if(!y(T,L))throw new Error("bad point: is not on curve");return{x:T,y:L}}else throw new Error(`bad point: got length ${x}, expected compressed=${S} or uncompressed=${O}`)}let f=t.toBytes||d,h=t.fromBytes||p;function g(I){let S=n.sqr(I),O=n.mul(S,I);return n.add(n.add(O,n.mul(I,o.a)),o.b)}function y(I,S){let O=n.sqr(S),x=g(I);return n.eql(O,x)}if(!y(o.Gx,o.Gy))throw new Error("bad curve params: generator point");let E=n.mul(n.pow(o.a,i7),iGe),A=n.mul(n.sqr(o.b),BigInt(27));if(n.is0(n.add(E,A)))throw new Error("bad curve params: a or b");function b(I,S,O=!1){if(!n.isValid(S)||O&&n.is0(S))throw new Error(`bad point coordinate ${I}`);return S}function w(I){if(!(I instanceof k))throw new Error("ProjectivePoint expected")}function C(I){if(!c||!c.basises)throw new Error("no endo");return oGe(I,c.basises,s.ORDER)}let _=C0e((I,S)=>{let{X:O,Y:x,Z:v}=I;if(n.eql(v,n.ONE))return{x:O,y:x};let N=I.is0();S==null&&(S=N?n.ONE:n.inv(v));let D=n.mul(O,S),T=n.mul(x,S),L=n.mul(v,S);if(N)return{x:n.ZERO,y:n.ZERO};if(!n.eql(L,n.ONE))throw new Error("invZ was invalid");return{x:D,y:T}}),B=C0e(I=>{if(I.is0()){if(t.allowInfinityPoint&&!n.is0(I.Y))return;throw new Error("bad point: ZERO")}let{x:S,y:O}=I.toAffine();if(!n.isValid(S)||!n.isValid(O))throw new Error("bad point: x or y not field elements");if(!y(S,O))throw new Error("bad point: equation left != right");if(!I.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});function U(I,S,O,x,v){return O=new k(n.mul(O.X,I),O.Y,O.Z),S=f7(x,S),O=f7(v,O),S.add(O)}class k{constructor(S,O,x){this.X=b("x",S),this.Y=b("y",O,!0),this.Z=b("z",x),Object.freeze(this)}static CURVE(){return o}static fromAffine(S){let{x:O,y:x}=S||{};if(!S||!n.isValid(O)||!n.isValid(x))throw new Error("invalid affine point");if(S instanceof k)throw new Error("projective point not allowed");return n.is0(O)&&n.is0(x)?k.ZERO:new k(O,x,n.ONE)}static fromBytes(S){let O=k.fromAffine(h(Cg(S,void 0,"point")));return O.assertValidity(),O}static fromHex(S){return k.fromBytes(bo("pointHex",S))}get x(){return this.toAffine().x}get y(){return this.toAffine().y}precompute(S=8,O=!0){return P.createCache(this,S),O||this.multiply(i7),this}assertValidity(){B(this)}hasEvenY(){let{y:S}=this.toAffine();if(!n.isOdd)throw new Error("Field doesn't support isOdd");return!n.isOdd(S)}equals(S){w(S);let{X:O,Y:x,Z:v}=this,{X:N,Y:D,Z:T}=S,L=n.eql(n.mul(O,T),n.mul(N,v)),j=n.eql(n.mul(x,T),n.mul(D,v));return L&&j}negate(){return new k(this.X,n.neg(this.Y),this.Z)}double(){let{a:S,b:O}=o,x=n.mul(O,i7),{X:v,Y:N,Z:D}=this,T=n.ZERO,L=n.ZERO,j=n.ZERO,q=n.mul(v,v),ie=n.mul(N,N),ne=n.mul(D,D),Y=n.mul(v,N);return Y=n.add(Y,Y),j=n.mul(v,D),j=n.add(j,j),T=n.mul(S,j),L=n.mul(x,ne),L=n.add(T,L),T=n.sub(ie,L),L=n.add(ie,L),L=n.mul(T,L),T=n.mul(Y,T),j=n.mul(x,j),ne=n.mul(S,ne),Y=n.sub(q,ne),Y=n.mul(S,Y),Y=n.add(Y,j),j=n.add(q,q),q=n.add(j,q),q=n.add(q,ne),q=n.mul(q,Y),L=n.add(L,q),ne=n.mul(N,D),ne=n.add(ne,ne),q=n.mul(ne,Y),T=n.sub(T,q),j=n.mul(ne,ie),j=n.add(j,j),j=n.add(j,j),new k(T,L,j)}add(S){w(S);let{X:O,Y:x,Z:v}=this,{X:N,Y:D,Z:T}=S,L=n.ZERO,j=n.ZERO,q=n.ZERO,ie=o.a,ne=n.mul(o.b,i7),Y=n.mul(O,N),me=n.mul(x,D),ue=n.mul(v,T),Te=n.add(O,x),de=n.add(N,D);Te=n.mul(Te,de),de=n.add(Y,me),Te=n.sub(Te,de),de=n.add(O,v);let Pe=n.add(N,T);return de=n.mul(de,Pe),Pe=n.add(Y,ue),de=n.sub(de,Pe),Pe=n.add(x,v),L=n.add(D,T),Pe=n.mul(Pe,L),L=n.add(me,ue),Pe=n.sub(Pe,L),q=n.mul(ie,de),L=n.mul(ne,ue),q=n.add(L,q),L=n.sub(me,q),q=n.add(me,q),j=n.mul(L,q),me=n.add(Y,Y),me=n.add(me,Y),ue=n.mul(ie,ue),de=n.mul(ne,de),me=n.add(me,ue),ue=n.sub(Y,ue),ue=n.mul(ie,ue),de=n.add(de,ue),Y=n.mul(me,de),j=n.add(j,Y),Y=n.mul(Pe,de),L=n.mul(Te,L),L=n.sub(L,Y),Y=n.mul(Te,me),q=n.mul(Pe,q),q=n.add(q,Y),new k(L,j,q)}subtract(S){return this.add(S.negate())}is0(){return this.equals(k.ZERO)}multiply(S){let{endo:O}=t;if(!s.isValidNot0(S))throw new Error("invalid scalar: out of range");let x,v,N=D=>P.cached(this,D,T=>$$(k,T));if(O){let{k1neg:D,k1:T,k2neg:L,k2:j}=C(S),{p:q,f:ie}=N(T),{p:ne,f:Y}=N(j);v=ie.add(Y),x=U(O.beta,q,ne,D,L)}else{let{p:D,f:T}=N(S);x=D,v=T}return $$(k,[x,v])[0]}multiplyUnsafe(S){let{endo:O}=t,x=this;if(!s.isValid(S))throw new Error("invalid scalar: out of range");if(S===Jp||x.is0())return k.ZERO;if(S===jb)return x;if(P.hasCache(this))return this.multiply(S);if(O){let{k1neg:v,k1:N,k2neg:D,k2:T}=C(S),{p1:L,p2:j}=WZe(k,x,N,T);return U(O.beta,L,j,v,D)}else return P.unsafe(x,S)}multiplyAndAddUnsafe(S,O,x){let v=this.multiplyUnsafe(O).add(S.multiplyUnsafe(x));return v.is0()?void 0:v}toAffine(S){return _(this,S)}isTorsionFree(){let{isTorsionFree:S}=t;return i===jb?!0:S?S(k,this):P.unsafe(this,a).is0()}clearCofactor(){let{clearCofactor:S}=t;return i===jb?this:S?S(k,this):this.multiplyUnsafe(i)}isSmallOrder(){return this.multiplyUnsafe(i).is0()}toBytes(S=!0){return d7(S,"isCompressed"),this.assertValidity(),f(k,this,S)}toHex(S=!0){return Fb(this.toBytes(S))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}get px(){return this.X}get py(){return this.X}get pz(){return this.Z}toRawBytes(S=!0){return this.toBytes(S)}_setWindowSize(S){this.precompute(S)}static normalizeZ(S){return $$(k,S)}static msm(S,O){return KZe(k,s,S,O)}static fromPrivateKey(S){return k.BASE.multiply($b(s,S))}}k.BASE=new k(o.Gx,o.Gy,n.ONE),k.ZERO=new k(n.ZERO,n.ONE,n.ZERO),k.Fp=n,k.Fn=s;let $=s.BITS,P=new aF(k,t.endo?Math.ceil($/2):$);return k.BASE.precompute(8),k}function Fme(e){return Uint8Array.of(e?2:3)}function jme(e,t){return{secretKey:t.BYTES,publicKey:1+e.BYTES,publicKeyUncompressed:1+2*e.BYTES,publicKeyHasPrefix:!0,signature:2*t.BYTES}}function cGe(e,t={}){let{Fn:r}=e,n=t.randomBytes||Pg,s=Object.assign(jme(e.Fp,r),{seed:Ume(r.ORDER)});function o(p){try{return!!$b(r,p)}catch{return!1}}function i(p,f){let{publicKey:h,publicKeyUncompressed:g}=s;try{let y=p.length;return f===!0&&y!==h||f===!1&&y!==g?!1:!!e.fromBytes(p)}catch{return!1}}function a(p=n(s.seed)){return zZe(Cg(p,s.seed,"seed"),r.ORDER)}function c(p,f=!0){return e.BASE.multiply($b(r,p)).toBytes(f)}function l(p){let f=a(p);return{secretKey:f,publicKey:c(f)}}function u(p){if(typeof p=="bigint")return!1;if(p instanceof e)return!0;let{secretKey:f,publicKey:h,publicKeyUncompressed:g}=s;if(r.allowedLengths||f===h)return;let y=bo("key",p).length;return y===h||y===g}function d(p,f,h=!0){if(u(p)===!0)throw new Error("first arg must be private key");if(u(f)===!1)throw new Error("second arg must be public key");let g=$b(r,p);return e.fromHex(f).multiply(g).toBytes(h)}return Object.freeze({getPublicKey:c,getSharedSecret:d,keygen:l,Point:e,utils:{isValidSecretKey:o,isValidPublicKey:i,randomSecretKey:a,isValidPrivateKey:o,randomPrivateKey:a,normPrivateKeyToScalar:p=>$b(r,p),precompute(p=8,f=e.BASE){return f.precompute(p,!1)}},lengths:s})}function lGe(e,t,r={}){b7(t),I7(r,{},{hmac:"function",lowS:"boolean",randomBytes:"function",bits2int:"function",bits2int_modN:"function"});let n=r.randomBytes||Pg,s=r.hmac||((O,...x)=>A7(t,O,am(...x))),{Fp:o,Fn:i}=e,{ORDER:a,BITS:c}=i,{keygen:l,getPublicKey:u,getSharedSecret:d,utils:p,lengths:f}=cGe(e,r),h={prehash:!1,lowS:typeof r.lowS=="boolean"?r.lowS:!1,format:void 0,extraEntropy:!1},g="compact";function y(O){let x=a>>jb;return O>x}function E(O,x){if(!i.isValidNot0(x))throw new Error(`invalid signature ${O}: out of range 1..Point.Fn.ORDER`);return x}function A(O,x){lF(x);let v=f.signature,N=x==="compact"?v:x==="recovered"?v+1:void 0;return Cg(O,N,`${x} signature`)}class b{constructor(x,v,N){this.r=E("r",x),this.s=E("s",v),N!=null&&(this.recovery=N),Object.freeze(this)}static fromBytes(x,v=g){A(x,v);let N;if(v==="der"){let{r:j,s:q}=Yp.toSig(Cg(x));return new b(j,q)}v==="recovered"&&(N=x[0],v="compact",x=x.subarray(1));let D=i.BYTES,T=x.subarray(0,D),L=x.subarray(D,D*2);return new b(i.fromBytes(T),i.fromBytes(L),N)}static fromHex(x,v){return this.fromBytes(c7(x),v)}addRecoveryBit(x){return new b(this.r,this.s,x)}recoverPublicKey(x){let v=o.ORDER,{r:N,s:D,recovery:T}=this;if(T==null||![0,1,2,3].includes(T))throw new Error("recovery id invalid");if(a*$me<v&&T>1)throw new Error("recovery id is ambiguous for h>1 curve");let L=T===2||T===3?N+a:N;if(!o.isValid(L))throw new Error("recovery id 2 or 3 invalid");let j=o.toBytes(L),q=e.fromBytes(am(Fme((T&1)===0),j)),ie=i.inv(L),ne=C(bo("msgHash",x)),Y=i.create(-ne*ie),me=i.create(D*ie),ue=e.BASE.multiplyUnsafe(Y).add(q.multiplyUnsafe(me));if(ue.is0())throw new Error("point at infinify");return ue.assertValidity(),ue}hasHighS(){return y(this.s)}toBytes(x=g){if(lF(x),x==="der")return c7(Yp.hexFromSig(this));let v=i.toBytes(this.r),N=i.toBytes(this.s);if(x==="recovered"){if(this.recovery==null)throw new Error("recovery bit must be present");return am(Uint8Array.of(this.recovery),v,N)}return am(v,N)}toHex(x){return Fb(this.toBytes(x))}assertValidity(){}static fromCompact(x){return b.fromBytes(bo("sig",x),"compact")}static fromDER(x){return b.fromBytes(bo("sig",x),"der")}normalizeS(){return this.hasHighS()?new b(this.r,i.neg(this.s),this.recovery):this}toDERRawBytes(){return this.toBytes("der")}toDERHex(){return Fb(this.toBytes("der"))}toCompactRawBytes(){return this.toBytes("compact")}toCompactHex(){return Fb(this.toBytes("compact"))}}let w=r.bits2int||function(O){if(O.length>8192)throw new Error("input is too large");let x=S7(O),v=O.length*8-c;return v>0?x>>BigInt(v):x},C=r.bits2int_modN||function(O){return i.create(w(O))},_=Pv(c);function B(O){return iF("num < 2^"+c,O,Jp,_),i.toBytes(O)}function U(O,x){return Cg(O,void 0,"message"),x?Cg(t(O),void 0,"prehashed message"):O}function k(O,x,v){if(["recovered","canonical"].some(me=>me in v))throw new Error("sign() legacy options not supported");let{lowS:N,prehash:D,extraEntropy:T}=V$(v,h);O=U(O,D);let L=C(O),j=$b(i,x),q=[B(j),B(L)];if(T!=null&&T!==!1){let me=T===!0?n(f.secretKey):T;q.push(bo("extraEntropy",me))}let ie=am(...q),ne=L;function Y(me){let ue=w(me);if(!i.isValidNot0(ue))return;let Te=i.inv(ue),de=e.BASE.multiply(ue).toAffine(),Pe=i.create(de.x);if(Pe===Jp)return;let bt=i.create(Te*i.create(ne+Pe*j));if(bt===Jp)return;let At=(de.x===Pe?0:2)|Number(de.y&jb),vt=bt;return N&&y(bt)&&(vt=i.neg(bt),At^=1),new b(Pe,vt,At)}return{seed:ie,k2sig:Y}}function $(O,x,v={}){O=bo("message",O);let{seed:N,k2sig:D}=k(O,x,v);return BZe(t.outputLen,i.BYTES,s)(N,D)}function P(O){let x,v=typeof O=="string"||w7(O),N=!v&&O!==null&&typeof O=="object"&&typeof O.r=="bigint"&&typeof O.s=="bigint";if(!v&&!N)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");if(N)x=new b(O.r,O.s);else if(v){try{x=b.fromBytes(bo("sig",O),"der")}catch(D){if(!(D instanceof Yp.Err))throw D}if(!x)try{x=b.fromBytes(bo("sig",O),"compact")}catch{return!1}}return x||!1}function I(O,x,v,N={}){let{lowS:D,prehash:T,format:L}=V$(N,h);if(v=bo("publicKey",v),x=U(bo("message",x),T),"strict"in N)throw new Error("options.strict was renamed to lowS");let j=L===void 0?P(O):b.fromBytes(bo("sig",O),L);if(j===!1)return!1;try{let q=e.fromBytes(v);if(D&&j.hasHighS())return!1;let{r:ie,s:ne}=j,Y=C(x),me=i.inv(ne),ue=i.create(Y*me),Te=i.create(ie*me),de=e.BASE.multiplyUnsafe(ue).add(q.multiplyUnsafe(Te));return de.is0()?!1:i.create(de.x)===ie}catch{return!1}}function S(O,x,v={}){let{prehash:N}=V$(v,h);return x=U(x,N),b.fromBytes(O,"recovered").recoverPublicKey(x).toBytes()}return Object.freeze({keygen:l,getPublicKey:u,getSharedSecret:d,utils:p,lengths:f,Point:e,sign:$,verify:I,recoverPublicKey:S,Signature:b,hash:t})}function uGe(e){let t={a:e.a,b:e.b,p:e.Fp.ORDER,n:e.n,h:e.h,Gx:e.Gx,Gy:e.Gy},r=e.Fp,n=e.allowedPrivateKeyLengths?Array.from(new Set(e.allowedPrivateKeyLengths.map(i=>Math.ceil(i/2)))):void 0,s=pm(t.n,{BITS:e.nBitLength,allowedLengths:n,modFromBytes:e.wrapPrivateKey}),o={Fp:r,Fn:s,allowInfinityPoint:e.allowInfinityPoint,endo:e.endo,isTorsionFree:e.isTorsionFree,clearCofactor:e.clearCofactor,fromBytes:e.fromBytes,toBytes:e.toBytes};return{CURVE:t,curveOpts:o}}function dGe(e){let{CURVE:t,curveOpts:r}=uGe(e),n={hmac:e.hmac,randomBytes:e.randomBytes,lowS:e.lowS,bits2int:e.bits2int,bits2int_modN:e.bits2int_modN};return{CURVE:t,curveOpts:r,hash:e.hash,ecdsaOpts:n}}function pGe(e,t){let r=t.Point;return Object.assign({},t,{ProjectivePoint:r,CURVE:Object.assign({},e,Bme(r.Fn.ORDER,r.Fn.BITS))})}function fGe(e){let{CURVE:t,curveOpts:r,hash:n,ecdsaOpts:s}=dGe(e),o=aGe(t,r),i=lGe(o,n,s);return pGe(e,i)}function dF(e,t){let r=n=>fGe({...e,hash:n});return{...r(t),create:r}}function Zme(){let e=cF.utils.randomPrivateKey(),t=cF.getPublicKey(e);return{privateKey:Xt(e,xo),publicKey:Xt(t,xo)}}function _7(){let e=Pg(RF);return Xt(e,xo)}function Gme(e,t){let r=cF.getSharedSecret(Nr(e,xo),Nr(t,xo)),n=OZe(C7,r,void 0,void 0,RF);return Xt(n,xo)}function Kb(e){let t=C7(Nr(e,xo));return Xt(t,xo)}function Wi(e){let t=C7(Nr(e,Nv));return Xt(t,xo)}function Yme(e){return Nr(`${e}`,Wme)}function um(e){return Number(Xt(e,Wme))}function Jme(e){return e.replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function Qme(e){let t=e.replace(/-/g,"+").replace(/_/g,"/"),r=(4-t.length%4)%4;return t+"=".repeat(r)}function Xme(e){let t=Yme(typeof e.type<"u"?e.type:Kme);if(um(t)===xl&&typeof e.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");let r=typeof e.senderPublicKey<"u"?Nr(e.senderPublicKey,xo):void 0,n=typeof e.iv<"u"?Nr(e.iv,xo):Pg(bv),s=Nr(e.symKey,xo),o=Ame(s,n).encrypt(Nr(e.message,Nv)),i=n1e({type:t,sealed:o,iv:n,senderPublicKey:r});return e.encoding===rf?Jme(i):i}function e1e(e){let t=Nr(e.symKey,xo),{sealed:r,iv:n}=Zb({encoded:e.encoded,encoding:e.encoding}),s=Ame(t,n).decrypt(r);if(s===null)throw new Error("Failed to decrypt");return Xt(s,Nv)}function t1e(e,t){let r=Yme(Wb),n=Pg(bv),s=Nr(e,Nv),o=n1e({type:r,sealed:s,iv:n});return t===rf?Jme(o):o}function r1e(e,t){let{sealed:r}=Zb({encoded:e,encoding:t});return Xt(r,Nv)}function n1e(e){if(um(e.type)===Wb)return Xt(ia([e.type,e.sealed]),vo);if(um(e.type)===xl){if(typeof e.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");return Xt(ia([e.type,e.senderPublicKey,e.iv,e.sealed]),vo)}return Xt(ia([e.type,e.iv,e.sealed]),vo)}function Zb(e){let t=(e.encoding||vo)===rf?Qme(e.encoded):e.encoded,r=Nr(t,vo),n=r.slice(bGe,O0e),s=O0e;if(um(n)===xl){let c=s+RF,l=c+bv,u=r.slice(s,c),d=r.slice(c,l),p=r.slice(l);return{type:n,sealed:p,iv:d,senderPublicKey:u}}if(um(n)===Wb){let c=r.slice(s),l=Pg(bv);return{type:n,sealed:c,iv:l}}let o=s+bv,i=r.slice(s,o),a=r.slice(o);return{type:n,sealed:a,iv:i}}function s1e(e,t){let r=Zb({encoded:e,encoding:t?.encoding});return OF({type:um(r.type),senderPublicKey:typeof r.senderPublicKey<"u"?Xt(r.senderPublicKey,xo):void 0,receiverPublicKey:t?.receiverPublicKey})}function OF(e){let t=e?.type||Kme;if(t===xl){if(typeof e?.senderPublicKey>"u")throw new Error("missing sender public key");if(typeof e?.receiverPublicKey>"u")throw new Error("missing receiver public key")}return{type:t,senderPublicKey:e?.senderPublicKey,receiverPublicKey:e?.receiverPublicKey}}function kF(e){return e.type===xl&&typeof e.senderPublicKey=="string"&&typeof e.receiverPublicKey=="string"}function BF(e){return e.type===Wb}function xGe(e){let t=Buffer.from(e.x,"base64"),r=Buffer.from(e.y,"base64");return ia([new Uint8Array([4]),t,r])}function o1e(e,t){let[r,n,s]=e.split("."),o=Buffer.from(Qme(s),"base64");if(o.length!==64)throw new Error("Invalid signature length");let i=o.slice(0,32),a=o.slice(32,64),c=`${r}.${n}`,l=C7(c),u=xGe(t);if(!wGe.verify(ia([i,a]),l,u))throw new Error("Invalid signature");return Ul(e).payload}function Rv(e){return e?.relay||{protocol:vGe}}function Ng(e){let t=CA[e];if(typeof t>"u")throw new Error(`Relay Protocol not supported: ${e}`);return t}function TGe(e,t="-"){let r={},n="relay"+t;return Object.keys(e).forEach(s=>{if(s.startsWith(n)){let o=s.replace(n,""),i=e[s];r[o]=i}}),r}function DF(e){if(!e.includes("wc:")){let l=Q0e(e);l!=null&&l.includes("wc:")&&(e=l)}e=e.includes("wc://")?e.replace("wc://",""):e,e=e.includes("wc:")?e.replace("wc:",""):e;let t=e.indexOf(":"),r=e.indexOf("?")!==-1?e.indexOf("?"):void 0,n=e.substring(0,t),s=e.substring(t+1,r).split("@"),o=typeof r<"u"?e.substring(r):"",i=new URLSearchParams(o),a=Object.fromEntries(i.entries()),c=typeof a.methods=="string"?a.methods.split(","):void 0;return{protocol:n,topic:PGe(s[0]),version:parseInt(s[1],10),symKey:a.symKey,relay:TGe(a),methods:c,expiryTimestamp:a.expiryTimestamp?parseInt(a.expiryTimestamp,10):void 0}}function PGe(e){return e.startsWith("//")?e.substring(2):e}function NGe(e,t="-"){let r="relay",n={};return Object.keys(e).forEach(s=>{let o=s,i=r+t+o;e[o]&&(n[i]=e[o])}),n}function UF(e){let t=new URLSearchParams,r=q$(q$(_Ge(q$({},NGe(e.relay)),{symKey:e.symKey}),e.expiryTimestamp&&{expiryTimestamp:e.expiryTimestamp.toString()}),e.methods&&{methods:e.methods.join(",")});return Object.entries(r).sort(([n],[s])=>n.localeCompare(s)).forEach(([n,s])=>{s!==void 0&&t.append(n,String(s))}),`${e.protocol}:${e.topic}@${e.version}?${t}`}function Ov(e,t,r){return`${e}?wc_ev=${r}&topic=${t}`}function Gb(e){let t=[];return e.forEach(r=>{let[n,s]=r.split(":");t.push(`${n}:${s}`)}),t}function LF(e){let t=[];return Object.values(e).forEach(r=>{t.push(...Gb(r.accounts))}),[...new Set(t)]}function i1e(e){let t=[];return Object.values(e).forEach(r=>{t.push(...r.methods)}),[...new Set(t)]}function a1e(e){let t=[];return Object.values(e).forEach(r=>{t.push(...r.events)}),[...new Set(t)]}function MGe(e,t){let r=[];return Object.values(e).forEach(n=>{Gb(n.accounts).includes(t)&&r.push(...n.methods)}),r}function HGe(e,t){let r=[];return Object.values(e).forEach(n=>{Gb(n.accounts).includes(t)&&r.push(...n.events)}),r}function kv(e){return e.includes(":")}function Rg(e){return kv(e)?e.split(":")[0]:e}function L0e(e){var t,r,n;let s={};if(!hc(e))return s;for(let[o,i]of Object.entries(e)){let a=kv(o)?[o]:i.chains,c=i.methods||[],l=i.events||[],u=Rg(o);s[u]=LGe(UGe({},s[u]),{chains:hl(a,(t=s[u])==null?void 0:t.chains),methods:hl(c,(r=s[u])==null?void 0:r.methods),events:hl(l,(n=s[u])==null?void 0:n.events)})}return s}function $Ge(e){let t={};return e?.forEach(r=>{var n;let[s,o]=r.split(":");t[s]||(t[s]={accounts:[],chains:[],events:[],methods:[]}),t[s].accounts.push(r),(n=t[s].chains)==null||n.push(`${s}:${o}`)}),t}function MF(e,t){t=t.map(n=>n.replace("did:pkh:",""));let r=$Ge(t);for(let[n,s]of Object.entries(r))s.methods?s.methods=hl(s.methods,e):s.methods=e,s.events=["chainChanged","accountsChanged"];return r}function c1e(e,t){var r,n,s,o,i,a;let c=L0e(e),l=L0e(t),u={},d=Object.keys(c).concat(Object.keys(l));for(let p of d)u[p]={chains:hl((r=c[p])==null?void 0:r.chains,(n=l[p])==null?void 0:n.chains),methods:hl((s=c[p])==null?void 0:s.methods,(o=l[p])==null?void 0:o.methods),events:hl((i=c[p])==null?void 0:i.events,(a=l[p])==null?void 0:a.events)};return u}function Ce(e,t){let{message:r,code:n}=jGe[e];return{message:t?`${r} ${t}`:r,code:n}}function kr(e,t){let{message:r,code:n}=FGe[e];return{message:t?`${r} ${t}`:r,code:n}}function vl(e,t){return Array.isArray(e)?typeof t<"u"&&e.length?e.every(t):!0:!1}function hc(e){return Object.getPrototypeOf(e)===Object.prototype&&Object.keys(e).length}function Dn(e){return typeof e>"u"}function Cn(e,t){return t&&Dn(e)?!0:typeof e=="string"&&!!e.trim().length}function HF(e,t){return t&&Dn(e)?!0:typeof e=="number"&&!isNaN(e)}function l1e(e,t){let{requiredNamespaces:r}=t,n=Object.keys(e.namespaces),s=Object.keys(r),o=!0;return Ag(s,n)?(n.forEach(i=>{let{accounts:a,methods:c,events:l}=e.namespaces[i],u=Gb(a),d=r[i];(!Ag(j0e(i,d),u)||!Ag(d.methods,c)||!Ag(d.events,l))&&(o=!1)}),o):!1}function h7(e){return Cn(e,!1)&&e.includes(":")?e.split(":").length===2:!1}function zGe(e){if(Cn(e,!1)&&e.includes(":")){let t=e.split(":");if(t.length===3){let r=t[0]+":"+t[1];return!!t[2]&&h7(r)}}return!1}function u1e(e){function t(r){try{return typeof new URL(r)<"u"}catch{return!1}}try{if(Cn(e,!1)){if(t(e))return!0;let r=Q0e(e);return t(r)}}catch{}return!1}function d1e(e){var t;return(t=e?.proposer)==null?void 0:t.publicKey}function p1e(e){return e?.topic}function f1e(e,t){let r=null;return Cn(e?.publicKey,!1)||(r=Ce("MISSING_OR_INVALID",`${t} controller public key should be a string`)),r}function M0e(e){let t=!0;return vl(e)?e.length&&(t=e.every(r=>Cn(r,!1))):t=!1,t}function VGe(e,t,r){let n=null;return vl(t)&&t.length?t.forEach(s=>{n||h7(s)||(n=kr("UNSUPPORTED_CHAINS",`${r}, chain ${s} should be a string and conform to "namespace:chainId" format`))}):h7(e)||(n=kr("UNSUPPORTED_CHAINS",`${r}, chains must be defined as "namespace:chainId" e.g. "eip155:1": {...} in the namespace key OR as an array of CAIP-2 chainIds e.g. eip155: { chains: ["eip155:1", "eip155:5"] }`)),n}function qGe(e,t,r){let n=null;return Object.entries(e).forEach(([s,o])=>{if(n)return;let i=VGe(s,j0e(s,o),`${t} ${r}`);i&&(n=i)}),n}function WGe(e,t){let r=null;return vl(e)?e.forEach(n=>{r||zGe(n)||(r=kr("UNSUPPORTED_ACCOUNTS",`${t}, account ${n} should be a string and conform to "namespace:chainId:address" format`))}):r=kr("UNSUPPORTED_ACCOUNTS",`${t}, accounts should be an array of strings conforming to "namespace:chainId:address" format`),r}function KGe(e,t){let r=null;return Object.values(e).forEach(n=>{if(r)return;let s=WGe(n?.accounts,`${t} namespace`);s&&(r=s)}),r}function ZGe(e,t){let r=null;return M0e(e?.methods)?M0e(e?.events)||(r=kr("UNSUPPORTED_EVENTS",`${t}, events should be an array of strings or empty array for no events`)):r=kr("UNSUPPORTED_METHODS",`${t}, methods should be an array of strings or empty array for no methods`),r}function h1e(e,t){let r=null;return Object.values(e).forEach(n=>{if(r)return;let s=ZGe(n,`${t}, namespace`);s&&(r=s)}),r}function m1e(e,t,r){let n=null;if(e&&hc(e)){let s=h1e(e,t);s&&(n=s);let o=qGe(e,t,r);o&&(n=o)}else n=Ce("MISSING_OR_INVALID",`${t}, ${r} should be an object with data`);return n}function T7(e,t){let r=null;if(e&&hc(e)){let n=h1e(e,t);n&&(r=n);let s=KGe(e,t);s&&(r=s)}else r=Ce("MISSING_OR_INVALID",`${t}, namespaces should be an object with data`);return r}function $F(e){return Cn(e.protocol,!0)}function g1e(e,t){let r=!1;return t&&!e?r=!0:e&&vl(e)&&e.length&&e.forEach(n=>{r=$F(n)}),r}function y1e(e){return typeof e=="number"}function Eo(e){return typeof e<"u"&&typeof e!==null}function w1e(e){return!(!e||typeof e!="object"||!e.code||!HF(e.code,!1)||!e.message||!Cn(e.message,!1))}function b1e(e){return!(Dn(e)||!Cn(e.method,!1))}function x1e(e){return!(Dn(e)||Dn(e.result)&&Dn(e.error)||!HF(e.id,!1)||!Cn(e.jsonrpc,!1))}function v1e(e){return!(Dn(e)||!Cn(e.name,!1))}function FF(e,t){return!(!h7(t)||!LF(e).includes(t))}function E1e(e,t,r){return Cn(r,!1)?MGe(e,t).includes(r):!1}function A1e(e,t,r){return Cn(r,!1)?HGe(e,t).includes(r):!1}function jF(e,t,r){let n=null,s=GGe(e),o=YGe(t),i=Object.keys(s),a=Object.keys(o),c=H0e(Object.keys(e)),l=H0e(Object.keys(t)),u=c.filter(d=>!l.includes(d));return u.length&&(n=Ce("NON_CONFORMING_NAMESPACES",`${r} namespaces keys don't satisfy requiredNamespaces.
      Required: ${u.toString()}
      Received: ${Object.keys(t).toString()}`)),Ag(i,a)||(n=Ce("NON_CONFORMING_NAMESPACES",`${r} namespaces chains don't satisfy required namespaces.
      Required: ${i.toString()}
      Approved: ${a.toString()}`)),Object.keys(t).forEach(d=>{if(!d.includes(":")||n)return;let p=Gb(t[d].accounts);p.includes(d)||(n=Ce("NON_CONFORMING_NAMESPACES",`${r} namespaces accounts don't satisfy namespace accounts for ${d}
        Required: ${d}
        Approved: ${p.toString()}`))}),i.forEach(d=>{n||(Ag(s[d].methods,o[d].methods)?Ag(s[d].events,o[d].events)||(n=Ce("NON_CONFORMING_NAMESPACES",`${r} namespaces events don't satisfy namespace events for ${d}`)):n=Ce("NON_CONFORMING_NAMESPACES",`${r} namespaces methods don't satisfy namespace methods for ${d}`))}),n}function GGe(e){let t={};return Object.keys(e).forEach(r=>{var n;r.includes(":")?t[r]=e[r]:(n=e[r].chains)==null||n.forEach(s=>{t[s]={methods:e[r].methods,events:e[r].events}})}),t}function H0e(e){return[...new Set(e.map(t=>t.includes(":")?t.split(":")[0]:t))]}function YGe(e){let t={};return Object.keys(e).forEach(r=>{r.includes(":")?t[r]=e[r]:Gb(e[r].accounts)?.forEach(s=>{t[s]={accounts:e[r].accounts.filter(o=>o.includes(`${s}:`)),methods:e[r].methods,events:e[r].events}})}),t}function C1e(e,t){return HF(e,!1)&&e<=t.max&&e>=t.min}function zF(){let e=Cv();return new Promise(t=>{switch(e){case Vi.browser:t(JGe());break;case Vi.reactNative:t(QGe());break;case Vi.node:t(XGe());break;default:t(!0)}})}function JGe(){return Tg()&&navigator?.onLine}async function QGe(){return ef()&&typeof globalThis<"u"&&globalThis!=null&&globalThis.NetInfo?(await globalThis?.NetInfo.fetch())?.isConnected:!0}function XGe(){return!0}function S1e(e){switch(Cv()){case Vi.browser:eYe(e);break;case Vi.reactNative:tYe(e);break;case Vi.node:break}}function eYe(e){!ef()&&Tg()&&(window.addEventListener("online",()=>e(!0)),window.addEventListener("offline",()=>e(!1)))}function tYe(e){ef()&&typeof globalThis<"u"&&globalThis!=null&&globalThis.NetInfo&&globalThis?.NetInfo.addEventListener(t=>e(t?.isConnected))}function I1e(){var e;return Tg()&&(0,gl.getDocument)()?((e=(0,gl.getDocument)())==null?void 0:e.visibilityState)==="visible":!0}function rYe(e){let t=q0.decode(e);if(t.length<33)throw new Error("Too short to contain a public key");return t.slice(1,33)}function nYe({publicKey:e,signature:t,payload:r}){var n;let s=pF(r.method),o=128|parseInt(((n=r.version)==null?void 0:n.toString())||"4"),i=iYe(r.address),a=r.era==="00"?new Uint8Array([0]):pF(r.era);if(a.length!==1&&a.length!==2)throw new Error("Invalid era length");let c=parseInt(r.nonce,16),l=new Uint8Array([c&255,c>>8&255]),u=BigInt(`0x${oYe(r.tip)}`),d=cYe(u),p=new Uint8Array([0,...e,i,...t,...a,...l,...d,...s]),f=aYe(p.length+1);return new Uint8Array([...f,o,...p])}function sYe(e){let t=pF(e),r=(0,F0e.blake2b)(t,void 0,32);return"0x"+Buffer.from(r).toString("hex")}function pF(e){return new Uint8Array(e.replace(/^0x/,"").match(/.{1,2}/g).map(t=>parseInt(t,16)))}function oYe(e){return e.startsWith("0x")?e.slice(2):e}function iYe(e){let t=q0.decode(e)[0];return t===42?0:t===60?2:1}function aYe(e){if(e<64)return new Uint8Array([e<<2]);if(e<16384){let t=e<<2|1;return new Uint8Array([t&255,t>>8&255])}else if(e<1<<30){let t=e<<2|2;return new Uint8Array([t&255,t>>8&255,t>>16&255,t>>24&255])}else throw new Error("Compact encoding > 2^30 not supported")}function cYe(e){if(e<BigInt(1)<<BigInt(6))return new Uint8Array([Number(e<<BigInt(2))]);if(e<BigInt(1)<<BigInt(14)){let t=e<<BigInt(2)|BigInt(1);return new Uint8Array([Number(t&BigInt(255)),Number(t>>BigInt(8)&BigInt(255))])}else if(e<BigInt(1)<<BigInt(30)){let t=e<<BigInt(2)|BigInt(2);return new Uint8Array([Number(t&BigInt(255)),Number(t>>BigInt(8)&BigInt(255)),Number(t>>BigInt(16)&BigInt(255)),Number(t>>BigInt(24)&BigInt(255))])}else throw new Error("BigInt compact encoding not supported > 2^30")}function _1e(e){let t=Uint8Array.from(Buffer.from(e.signature,"hex")),r=rYe(e.transaction.address),n=nYe({publicKey:r,signature:t,payload:e.transaction}),s=Buffer.from(n).toString("hex");return sYe(s)}function Yb({logger:e,name:t}){let r=typeof e=="string"?Hl({opts:{level:e,name:t}}).logger:e;return r.level=typeof e=="string"?e:e.level,r}var Qp,gl,$0e,F0e,HWe,$We,FWe,jWe,i0e,zWe,VWe,K$,a0e,qWe,c0e,WWe,Vi,KWe,a7,r7,l0e,u0e,d0e,sm,om,yv,wv,rKe,nKe,sKe,oKe,iKe,aKe,wF,bF,cKe,lKe,uKe,dKe,Mb,rme,Gp,im,sme,fKe,Zp,zb,mKe,mv,gKe,yKe,wKe,bKe,ime,ame,cme,lme,xKe,vKe,f0e,h0e,Z$,AKe,CKe,l7,Q0,go,yo,TKe,X0,G$,ume,PKe,NKe,em,tm,vv,Y$,wo,J$,x7,RKe,OKe,kKe,BKe,os,Re,Q$,X$,UKe,LKe,zKe,VKe,qKe,m0e,WKe,KKe,g0e,ZKe,GKe,gme,YKe,JKe,v7,QKe,XKe,E7,_v,CF,lZe,fZe,vme,gZe,yZe,wZe,bZe,n7,xZe,Eme,x0e,Us,sF,CZe,IZe,_Ze,v0e,TZe,PZe,Ame,u7,A7,M$,A0e,OZe,C7,_F,oF,H$,Pv,qi,ii,Sg,Ime,_me,Tme,DZe,Pme,UZe,Nme,$Ze,qb,Ig,j$,Mme,aF,gv,Hb,o7,JZe,N0e,QZe,XZe,eGe,Hme,tGe,sGe,cF,R0e,uF,Yp,Jp,jb,$me,i7,iGe,zme,Vme,qme,hGe,mGe,gGe,yGe,wGe,Wme,xo,vo,rf,Nv,Kme,xl,Wb,bGe,O0e,bv,RF,vGe,EGe,AGe,CGe,k0e,SGe,IGe,B0e,q$,_Ge,RGe,OGe,kGe,D0e,BGe,DGe,U0e,UGe,LGe,FGe,jGe,W$,dm,P7=m(()=>{WP();Qp=Bt(Ld(),1),gl=Bt(T2(),1),$0e=Bt(XP(),1);jhe();YM();o0e();YN();Km();S8();nO();F0e=Bt(aO(),1);Ff();HWe=":";$We=Object.defineProperty,FWe=Object.defineProperties,jWe=Object.getOwnPropertyDescriptors,i0e=Object.getOwnPropertySymbols,zWe=Object.prototype.hasOwnProperty,VWe=Object.prototype.propertyIsEnumerable,K$=(e,t,r)=>t in e?$We(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,a0e=(e,t)=>{for(var r in t||(t={}))zWe.call(t,r)&&K$(e,r,t[r]);if(i0e)for(var r of i0e(t))VWe.call(t,r)&&K$(e,r,t[r]);return e},qWe=(e,t)=>FWe(e,jWe(t)),c0e=(e,t,r)=>K$(e,typeof t!="symbol"?t+"":t,r),WWe="ReactNative",Vi={reactNative:"react-native",node:"node",browser:"browser",unknown:"unknown"},KWe="js";a7=class{constructor({limit:t}){c0e(this,"limit"),c0e(this,"set"),this.limit=t,this.set=new Set}add(t){if(!this.set.has(t)){if(this.set.size>=this.limit){let r=this.set.values().next().value;r&&this.set.delete(r)}this.set.add(t)}}has(t){return this.set.has(t)}},r7=BigInt(2**32-1),l0e=BigInt(32);u0e=(e,t,r)=>e>>>r,d0e=(e,t,r)=>e<<32-r|t>>>r,sm=(e,t,r)=>e>>>r|t<<32-r,om=(e,t,r)=>e<<32-r|t>>>r,yv=(e,t,r)=>e<<64-r|t>>>r-32,wv=(e,t,r)=>e>>>r-32|t<<64-r,rKe=(e,t)=>t,nKe=(e,t)=>e,sKe=(e,t,r)=>e<<r|t>>>32-r,oKe=(e,t,r)=>t<<r|e>>>32-r,iKe=(e,t,r)=>t<<r-32|e>>>64-r,aKe=(e,t,r)=>e<<r-32|t>>>64-r;wF=(e,t,r)=>(e>>>0)+(t>>>0)+(r>>>0),bF=(e,t,r,n)=>t+r+n+(e/2**32|0)|0,cKe=(e,t,r,n)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0),lKe=(e,t,r,n,s)=>t+r+n+s+(e/2**32|0)|0,uKe=(e,t,r,n,s)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0)+(s>>>0),dKe=(e,t,r,n,s,o)=>t+r+n+s+o+(e/2**32|0)|0,Mb=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;rme=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;Gp=rme?e=>e:e=>nme(e);im=rme?e=>e:pKe,sme=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",fKe=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));Zp={_0:48,_9:57,A:65,F:70,a:97,f:102};zb=class{};mKe=BigInt(0),mv=BigInt(1),gKe=BigInt(2),yKe=BigInt(7),wKe=BigInt(256),bKe=BigInt(113),ime=[],ame=[],cme=[];for(let e=0,t=mv,r=1,n=0;e<24;e++){[r,n]=[n,(2*r+3*n)%5],ime.push(2*(5*n+r)),ame.push((e+1)*(e+2)/2%64);let s=mKe;for(let o=0;o<7;o++)t=(t<<mv^(t>>yKe)*bKe)%wKe,t&gKe&&(s^=mv<<(mv<<BigInt(o))-mv);cme.push(s)}lme=tme(cme,!0),xKe=lme[0],vKe=lme[1],f0e=(e,t,r)=>r>32?iKe(e,t,r):sKe(e,t,r),h0e=(e,t,r)=>r>32?aKe(e,t,r):oKe(e,t,r);Z$=class e extends zb{constructor(t,r,n,s=!1,o=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=t,this.suffix=r,this.outputLen=n,this.enableXOF=s,this.rounds=o,Xp(n),!(0<t&&t<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=xv(this.state)}clone(){return this._cloneInto()}keccak(){im(this.state32),EKe(this.state32,this.rounds),im(this.state32),this.posOut=0,this.pos=0}update(t){lm(this),t=ml(t),yl(t);let{blockLen:r,state:n}=this,s=t.length;for(let o=0;o<s;){let i=Math.min(r-this.pos,s-o);for(let a=0;a<i;a++)n[this.pos++]^=t[o++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;let{state:t,suffix:r,pos:n,blockLen:s}=this;t[n]^=r,(r&128)!==0&&n===s-1&&this.keccak(),t[s-1]^=128,this.keccak()}writeInto(t){lm(this,!1),yl(t),this.finish();let r=this.state,{blockLen:n}=this;for(let s=0,o=t.length;s<o;){this.posOut>=n&&this.keccak();let i=Math.min(n-this.posOut,o-s);t.set(r.subarray(this.posOut,this.posOut+i),s),this.posOut+=i,s+=i}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return Xp(t),this.xofInto(new Uint8Array(t))}digestInto(t){if(xF(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,fc(this.state)}_cloneInto(t){let{blockLen:r,suffix:n,outputLen:s,rounds:o,enableXOF:i}=this;return t||(t=new e(r,n,s,i,o)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=o,t.suffix=n,t.outputLen=s,t.enableXOF=i,t.destroyed=this.destroyed,t}},AKe=(e,t,r)=>Iv(()=>new Z$(t,e,r)),CKe=AKe(1,136,256/8);l7=class extends zb{constructor(t,r,n,s){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=t,this.outputLen=r,this.padOffset=n,this.isLE=s,this.buffer=new Uint8Array(t),this.view=D$(this.buffer)}update(t){lm(this),t=ml(t),yl(t);let{view:r,buffer:n,blockLen:s}=this,o=t.length;for(let i=0;i<o;){let a=Math.min(s-this.pos,o-i);if(a===s){let c=D$(t);for(;s<=o-i;i+=s)this.process(c,i);continue}n.set(t.subarray(i,i+a),this.pos),this.pos+=a,i+=a,this.pos===s&&(this.process(r,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){lm(this),xF(t,this),this.finished=!0;let{buffer:r,view:n,blockLen:s,isLE:o}=this,{pos:i}=this;r[i++]=128,fc(this.buffer.subarray(i)),this.padOffset>s-i&&(this.process(n,0),i=0);for(let d=i;d<s;d++)r[d]=0;SKe(n,s-8,BigInt(this.length*8),o),this.process(n,0);let a=D$(t),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let l=c/4,u=this.get();if(l>u.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<l;d++)a.setUint32(4*d,u[d],o)}digest(){let{buffer:t,outputLen:r}=this;this.digestInto(t);let n=t.slice(0,r);return this.destroy(),n}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());let{blockLen:r,buffer:n,length:s,finished:o,destroyed:i,pos:a}=this;return t.destroyed=i,t.finished=o,t.length=s,t.pos=a,s%r&&t.buffer.set(n),t}clone(){return this._cloneInto()}},Q0=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),go=Uint32Array.from([3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]),yo=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),TKe=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),X0=new Uint32Array(64),G$=class extends l7{constructor(t=32){super(64,t,8,!1),this.A=Q0[0]|0,this.B=Q0[1]|0,this.C=Q0[2]|0,this.D=Q0[3]|0,this.E=Q0[4]|0,this.F=Q0[5]|0,this.G=Q0[6]|0,this.H=Q0[7]|0}get(){let{A:t,B:r,C:n,D:s,E:o,F:i,G:a,H:c}=this;return[t,r,n,s,o,i,a,c]}set(t,r,n,s,o,i,a,c){this.A=t|0,this.B=r|0,this.C=n|0,this.D=s|0,this.E=o|0,this.F=i|0,this.G=a|0,this.H=c|0}process(t,r){for(let d=0;d<16;d++,r+=4)X0[d]=t.getUint32(r,!1);for(let d=16;d<64;d++){let p=X0[d-15],f=X0[d-2],h=bu(p,7)^bu(p,18)^p>>>3,g=bu(f,17)^bu(f,19)^f>>>10;X0[d]=g+X0[d-7]+h+X0[d-16]|0}let{A:n,B:s,C:o,D:i,E:a,F:c,G:l,H:u}=this;for(let d=0;d<64;d++){let p=bu(a,6)^bu(a,11)^bu(a,25),f=u+p+IKe(a,c,l)+TKe[d]+X0[d]|0,h=(bu(n,2)^bu(n,13)^bu(n,22))+_Ke(n,s,o)|0;u=l,l=c,c=a,a=i+f|0,i=o,o=s,s=n,n=f+h|0}n=n+this.A|0,s=s+this.B|0,o=o+this.C|0,i=i+this.D|0,a=a+this.E|0,c=c+this.F|0,l=l+this.G|0,u=u+this.H|0,this.set(n,s,o,i,a,c,l,u)}roundClean(){fc(X0)}destroy(){this.set(0,0,0,0,0,0,0,0),fc(this.buffer)}},ume=tme(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e))),PKe=ume[0],NKe=ume[1],em=new Uint32Array(80),tm=new Uint32Array(80),vv=class extends l7{constructor(t=64){super(128,t,16,!1),this.Ah=yo[0]|0,this.Al=yo[1]|0,this.Bh=yo[2]|0,this.Bl=yo[3]|0,this.Ch=yo[4]|0,this.Cl=yo[5]|0,this.Dh=yo[6]|0,this.Dl=yo[7]|0,this.Eh=yo[8]|0,this.El=yo[9]|0,this.Fh=yo[10]|0,this.Fl=yo[11]|0,this.Gh=yo[12]|0,this.Gl=yo[13]|0,this.Hh=yo[14]|0,this.Hl=yo[15]|0}get(){let{Ah:t,Al:r,Bh:n,Bl:s,Ch:o,Cl:i,Dh:a,Dl:c,Eh:l,El:u,Fh:d,Fl:p,Gh:f,Gl:h,Hh:g,Hl:y}=this;return[t,r,n,s,o,i,a,c,l,u,d,p,f,h,g,y]}set(t,r,n,s,o,i,a,c,l,u,d,p,f,h,g,y){this.Ah=t|0,this.Al=r|0,this.Bh=n|0,this.Bl=s|0,this.Ch=o|0,this.Cl=i|0,this.Dh=a|0,this.Dl=c|0,this.Eh=l|0,this.El=u|0,this.Fh=d|0,this.Fl=p|0,this.Gh=f|0,this.Gl=h|0,this.Hh=g|0,this.Hl=y|0}process(t,r){for(let b=0;b<16;b++,r+=4)em[b]=t.getUint32(r),tm[b]=t.getUint32(r+=4);for(let b=16;b<80;b++){let w=em[b-15]|0,C=tm[b-15]|0,_=sm(w,C,1)^sm(w,C,8)^u0e(w,C,7),B=om(w,C,1)^om(w,C,8)^d0e(w,C,7),U=em[b-2]|0,k=tm[b-2]|0,$=sm(U,k,19)^yv(U,k,61)^u0e(U,k,6),P=om(U,k,19)^wv(U,k,61)^d0e(U,k,6),I=cKe(B,P,tm[b-7],tm[b-16]),S=lKe(I,_,$,em[b-7],em[b-16]);em[b]=S|0,tm[b]=I|0}let{Ah:n,Al:s,Bh:o,Bl:i,Ch:a,Cl:c,Dh:l,Dl:u,Eh:d,El:p,Fh:f,Fl:h,Gh:g,Gl:y,Hh:E,Hl:A}=this;for(let b=0;b<80;b++){let w=sm(d,p,14)^sm(d,p,18)^yv(d,p,41),C=om(d,p,14)^om(d,p,18)^wv(d,p,41),_=d&f^~d&g,B=p&h^~p&y,U=uKe(A,C,B,NKe[b],tm[b]),k=dKe(U,E,w,_,PKe[b],em[b]),$=U|0,P=sm(n,s,28)^yv(n,s,34)^yv(n,s,39),I=om(n,s,28)^wv(n,s,34)^wv(n,s,39),S=n&o^n&a^o&a,O=s&i^s&c^i&c;E=g|0,A=y|0,g=f|0,y=h|0,f=d|0,h=p|0,{h:d,l:p}=fl(l|0,u|0,k|0,$|0),l=a|0,u=c|0,a=o|0,c=i|0,o=n|0,i=s|0;let x=wF($,I,O);n=bF(x,k,P,S),s=x|0}({h:n,l:s}=fl(this.Ah|0,this.Al|0,n|0,s|0)),{h:o,l:i}=fl(this.Bh|0,this.Bl|0,o|0,i|0),{h:a,l:c}=fl(this.Ch|0,this.Cl|0,a|0,c|0),{h:l,l:u}=fl(this.Dh|0,this.Dl|0,l|0,u|0),{h:d,l:p}=fl(this.Eh|0,this.El|0,d|0,p|0),{h:f,l:h}=fl(this.Fh|0,this.Fl|0,f|0,h|0),{h:g,l:y}=fl(this.Gh|0,this.Gl|0,g|0,y|0),{h:E,l:A}=fl(this.Hh|0,this.Hl|0,E|0,A|0),this.set(n,s,o,i,a,c,l,u,d,p,f,h,g,y,E,A)}roundClean(){fc(em,tm)}destroy(){fc(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}},Y$=class extends vv{constructor(){super(48),this.Ah=go[0]|0,this.Al=go[1]|0,this.Bh=go[2]|0,this.Bl=go[3]|0,this.Ch=go[4]|0,this.Cl=go[5]|0,this.Dh=go[6]|0,this.Dl=go[7]|0,this.Eh=go[8]|0,this.El=go[9]|0,this.Fh=go[10]|0,this.Fl=go[11]|0,this.Gh=go[12]|0,this.Gl=go[13]|0,this.Hh=go[14]|0,this.Hl=go[15]|0}},wo=Uint32Array.from([573645204,4230739756,2673172387,3360449730,596883563,1867755857,2520282905,1497426621,2519219938,2827943907,3193839141,1401305490,721525244,746961066,246885852,2177182882]),J$=class extends vv{constructor(){super(32),this.Ah=wo[0]|0,this.Al=wo[1]|0,this.Bh=wo[2]|0,this.Bl=wo[3]|0,this.Ch=wo[4]|0,this.Cl=wo[5]|0,this.Dh=wo[6]|0,this.Dl=wo[7]|0,this.Eh=wo[8]|0,this.El=wo[9]|0,this.Fh=wo[10]|0,this.Fl=wo[11]|0,this.Gh=wo[12]|0,this.Gl=wo[13]|0,this.Hh=wo[14]|0,this.Hl=wo[15]|0}},x7=Iv(()=>new G$),RKe=Iv(()=>new vv),OKe=Iv(()=>new Y$),kKe=Iv(()=>new J$),BKe=Uint8Array.from([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9]),os=Uint32Array.from([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),Re=new Uint32Array(32);Q$=class extends zb{constructor(t,r){super(),this.finished=!1,this.destroyed=!1,this.length=0,this.pos=0,Xp(t),Xp(r),this.blockLen=t,this.outputLen=r,this.buffer=new Uint8Array(t),this.buffer32=xv(this.buffer)}update(t){lm(this),t=ml(t),yl(t);let{blockLen:r,buffer:n,buffer32:s}=this,o=t.length,i=t.byteOffset,a=t.buffer;for(let c=0;c<o;){this.pos===r&&(im(s),this.compress(s,0,!1),im(s),this.pos=0);let l=Math.min(r-this.pos,o-c),u=i+c;if(l===r&&!(u%4)&&c+l<o){let d=new Uint32Array(a,u,Math.floor((o-c)/4));im(d);for(let p=0;c+r<o;p+=s.length,c+=r)this.length+=r,this.compress(d,p,!1);im(d);continue}n.set(t.subarray(c,c+l),this.pos),this.pos+=l,this.length+=l,c+=l}return this}digestInto(t){lm(this),xF(t,this);let{pos:r,buffer32:n}=this;this.finished=!0,fc(this.buffer.subarray(r)),im(n),this.compress(n,0,!0),im(n);let s=xv(t);this.get().forEach((o,i)=>s[i]=Gp(o))}digest(){let{buffer:t,outputLen:r}=this;this.digestInto(t);let n=t.slice(0,r);return this.destroy(),n}_cloneInto(t){let{buffer:r,length:n,finished:s,destroyed:o,outputLen:i,pos:a}=this;return t||(t=new this.constructor({dkLen:i})),t.set(...this.get()),t.buffer.set(r),t.destroyed=o,t.finished=s,t.length=n,t.pos=a,t.outputLen=i,t}clone(){return this._cloneInto()}},X$=class extends Q${constructor(t={}){let r=t.dkLen===void 0?64:t.dkLen;super(128,r),this.v0l=os[0]|0,this.v0h=os[1]|0,this.v1l=os[2]|0,this.v1h=os[3]|0,this.v2l=os[4]|0,this.v2h=os[5]|0,this.v3l=os[6]|0,this.v3h=os[7]|0,this.v4l=os[8]|0,this.v4h=os[9]|0,this.v5l=os[10]|0,this.v5h=os[11]|0,this.v6l=os[12]|0,this.v6h=os[13]|0,this.v7l=os[14]|0,this.v7h=os[15]|0,DKe(r,t,64,16,16);let{key:n,personalization:s,salt:o}=t,i=0;if(n!==void 0&&(n=ml(n),i=n.length),this.v0l^=this.outputLen|i<<8|65536|1<<24,o!==void 0){o=ml(o);let a=xv(o);this.v4l^=Gp(a[0]),this.v4h^=Gp(a[1]),this.v5l^=Gp(a[2]),this.v5h^=Gp(a[3])}if(s!==void 0){s=ml(s);let a=xv(s);this.v6l^=Gp(a[0]),this.v6h^=Gp(a[1]),this.v7l^=Gp(a[2]),this.v7h^=Gp(a[3])}if(n!==void 0){let a=new Uint8Array(this.blockLen);a.set(n),this.update(a)}}get(){let{v0l:t,v0h:r,v1l:n,v1h:s,v2l:o,v2h:i,v3l:a,v3h:c,v4l:l,v4h:u,v5l:d,v5h:p,v6l:f,v6h:h,v7l:g,v7h:y}=this;return[t,r,n,s,o,i,a,c,l,u,d,p,f,h,g,y]}set(t,r,n,s,o,i,a,c,l,u,d,p,f,h,g,y){this.v0l=t|0,this.v0h=r|0,this.v1l=n|0,this.v1h=s|0,this.v2l=o|0,this.v2h=i|0,this.v3l=a|0,this.v3h=c|0,this.v4l=l|0,this.v4h=u|0,this.v5l=d|0,this.v5h=p|0,this.v6l=f|0,this.v6h=h|0,this.v7l=g|0,this.v7h=y|0}compress(t,r,n){this.get().forEach((c,l)=>Re[l]=c),Re.set(os,16);let{h:s,l:o}=eme(BigInt(this.length));Re[24]=os[8]^o,Re[25]=os[9]^s,n&&(Re[28]=~Re[28],Re[29]=~Re[29]);let i=0,a=BKe;for(let c=0;c<12;c++)rm(0,4,8,12,t,r+2*a[i++]),nm(0,4,8,12,t,r+2*a[i++]),rm(1,5,9,13,t,r+2*a[i++]),nm(1,5,9,13,t,r+2*a[i++]),rm(2,6,10,14,t,r+2*a[i++]),nm(2,6,10,14,t,r+2*a[i++]),rm(3,7,11,15,t,r+2*a[i++]),nm(3,7,11,15,t,r+2*a[i++]),rm(0,5,10,15,t,r+2*a[i++]),nm(0,5,10,15,t,r+2*a[i++]),rm(1,6,11,12,t,r+2*a[i++]),nm(1,6,11,12,t,r+2*a[i++]),rm(2,7,8,13,t,r+2*a[i++]),nm(2,7,8,13,t,r+2*a[i++]),rm(3,4,9,14,t,r+2*a[i++]),nm(3,4,9,14,t,r+2*a[i++]);this.v0l^=Re[0]^Re[16],this.v0h^=Re[1]^Re[17],this.v1l^=Re[2]^Re[18],this.v1h^=Re[3]^Re[19],this.v2l^=Re[4]^Re[20],this.v2h^=Re[5]^Re[21],this.v3l^=Re[6]^Re[22],this.v3h^=Re[7]^Re[23],this.v4l^=Re[8]^Re[24],this.v4h^=Re[9]^Re[25],this.v5l^=Re[10]^Re[26],this.v5h^=Re[11]^Re[27],this.v6l^=Re[12]^Re[28],this.v6h^=Re[13]^Re[29],this.v7l^=Re[14]^Re[30],this.v7h^=Re[15]^Re[31],fc(Re)}destroy(){this.destroyed=!0,fc(this.buffer32),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}},UKe=hKe(e=>new X$(e)),LKe="https://rpc.walletconnect.org/v1";zKe=Object.defineProperty,VKe=Object.defineProperties,qKe=Object.getOwnPropertyDescriptors,m0e=Object.getOwnPropertySymbols,WKe=Object.prototype.hasOwnProperty,KKe=Object.prototype.propertyIsEnumerable,g0e=(e,t,r)=>t in e?zKe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,ZKe=(e,t)=>{for(var r in t||(t={}))WKe.call(t,r)&&g0e(e,r,t[r]);if(m0e)for(var r of m0e(t))KKe.call(t,r)&&g0e(e,r,t[r]);return e},GKe=(e,t)=>VKe(e,qKe(t)),gme="did:pkh:",YKe={eip155:"Ethereum",solana:"Solana",bip122:"Bitcoin"},JKe=e=>e?YKe[e]||e:"",v7=e=>e?.split(":"),QKe=e=>{let t=e&&v7(e);if(t)return e.includes(gme)?t[3]:t[1]},XKe=e=>{let t=e&&v7(e);if(t)return e.includes(gme)?t[2]:t[0]},E7=e=>{let t=e&&v7(e);if(t)return t[2]+":"+t[3]},_v=e=>{let t=e&&v7(e);if(t)return t.pop()};CF=(e,t)=>{let r=XKe(t);if(!r)throw new Error("Invalid issuer: "+t);let n=`${e.domain} wants you to sign in with your ${JKe(r)} account:`,s=_v(t);if(!e.aud&&!e.uri)throw new Error("Either `aud` or `uri` is required to construct the message");let o=e.statement||void 0,i=`URI: ${e.aud||e.uri}`,a=`Version: ${e.version}`,c=`Chain ID: ${QKe(t)}`,l=`Nonce: ${e.nonce}`,u=`Issued At: ${e.iat}`,d=e.exp?`Expiration Time: ${e.exp}`:void 0,p=e.nbf?`Not Before: ${e.nbf}`:void 0,f=e.requestId?`Request ID: ${e.requestId}`:void 0,h=e.resources?`Resources:${e.resources.map(y=>`
- ${y}`).join("")}`:void 0,g=Tv(e.resources);if(g){let y=Ev(g);o=iZe(o,y)}return[n,s,"",o,"",i,a,c,l,u,d,p,f,h].filter(y=>y!=null).join(`
`)};lZe=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;fZe=(e,t)=>{function r(n,...s){if(zi(n),!lZe)throw new Error("Non little-endian hardware is not yet supported");if(e.nonceLength!==void 0){let l=s[0];if(!l)throw new Error("nonce / iv required");e.varSizeNonce?zi(l):zi(l,e.nonceLength)}let o=e.tagLength;o&&s[1]!==void 0&&zi(s[1]);let i=t(n,...s),a=(l,u)=>{if(u!==void 0){if(l!==2)throw new Error("cipher output not supported");zi(u)}},c=!1;return{encrypt(l,u){if(c)throw new Error("cannot encrypt() twice with same key + nonce");return c=!0,zi(l),a(i.encrypt.length,u),i.encrypt(l,u)},decrypt(l,u){if(zi(l),o&&l.length<o)throw new Error("invalid ciphertext length: smaller than tagLength="+o);return a(i.decrypt.length,u),i.decrypt(l,u)}}}return Object.assign(r,e),r};vme=e=>Uint8Array.from(e.split("").map(t=>t.charCodeAt(0))),gZe=vme("expand 16-byte k"),yZe=vme("expand 32-byte k"),wZe=cm(gZe),bZe=cm(yZe);n7=64,xZe=16,Eme=2**32-1,x0e=new Uint32Array;Us=(e,t)=>e[t++]&255|(e[t++]&255)<<8,sF=class{constructor(t){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,t=tF(t),zi(t,32);let r=Us(t,0),n=Us(t,2),s=Us(t,4),o=Us(t,6),i=Us(t,8),a=Us(t,10),c=Us(t,12),l=Us(t,14);this.r[0]=r&8191,this.r[1]=(r>>>13|n<<3)&8191,this.r[2]=(n>>>10|s<<6)&7939,this.r[3]=(s>>>7|o<<9)&8191,this.r[4]=(o>>>4|i<<12)&255,this.r[5]=i>>>1&8190,this.r[6]=(i>>>14|a<<2)&8191,this.r[7]=(a>>>11|c<<5)&8065,this.r[8]=(c>>>8|l<<8)&8191,this.r[9]=l>>>5&127;for(let u=0;u<8;u++)this.pad[u]=Us(t,16+2*u)}process(t,r,n=!1){let s=n?0:2048,{h:o,r:i}=this,a=i[0],c=i[1],l=i[2],u=i[3],d=i[4],p=i[5],f=i[6],h=i[7],g=i[8],y=i[9],E=Us(t,r+0),A=Us(t,r+2),b=Us(t,r+4),w=Us(t,r+6),C=Us(t,r+8),_=Us(t,r+10),B=Us(t,r+12),U=Us(t,r+14),k=o[0]+(E&8191),$=o[1]+((E>>>13|A<<3)&8191),P=o[2]+((A>>>10|b<<6)&8191),I=o[3]+((b>>>7|w<<9)&8191),S=o[4]+((w>>>4|C<<12)&8191),O=o[5]+(C>>>1&8191),x=o[6]+((C>>>14|_<<2)&8191),v=o[7]+((_>>>11|B<<5)&8191),N=o[8]+((B>>>8|U<<8)&8191),D=o[9]+(U>>>5|s),T=0,L=T+k*a+$*(5*y)+P*(5*g)+I*(5*h)+S*(5*f);T=L>>>13,L&=8191,L+=O*(5*p)+x*(5*d)+v*(5*u)+N*(5*l)+D*(5*c),T+=L>>>13,L&=8191;let j=T+k*c+$*a+P*(5*y)+I*(5*g)+S*(5*h);T=j>>>13,j&=8191,j+=O*(5*f)+x*(5*p)+v*(5*d)+N*(5*u)+D*(5*l),T+=j>>>13,j&=8191;let q=T+k*l+$*c+P*a+I*(5*y)+S*(5*g);T=q>>>13,q&=8191,q+=O*(5*h)+x*(5*f)+v*(5*p)+N*(5*d)+D*(5*u),T+=q>>>13,q&=8191;let ie=T+k*u+$*l+P*c+I*a+S*(5*y);T=ie>>>13,ie&=8191,ie+=O*(5*g)+x*(5*h)+v*(5*f)+N*(5*p)+D*(5*d),T+=ie>>>13,ie&=8191;let ne=T+k*d+$*u+P*l+I*c+S*a;T=ne>>>13,ne&=8191,ne+=O*(5*y)+x*(5*g)+v*(5*h)+N*(5*f)+D*(5*p),T+=ne>>>13,ne&=8191;let Y=T+k*p+$*d+P*u+I*l+S*c;T=Y>>>13,Y&=8191,Y+=O*a+x*(5*y)+v*(5*g)+N*(5*h)+D*(5*f),T+=Y>>>13,Y&=8191;let me=T+k*f+$*p+P*d+I*u+S*l;T=me>>>13,me&=8191,me+=O*c+x*a+v*(5*y)+N*(5*g)+D*(5*h),T+=me>>>13,me&=8191;let ue=T+k*h+$*f+P*p+I*d+S*u;T=ue>>>13,ue&=8191,ue+=O*l+x*c+v*a+N*(5*y)+D*(5*g),T+=ue>>>13,ue&=8191;let Te=T+k*g+$*h+P*f+I*p+S*d;T=Te>>>13,Te&=8191,Te+=O*u+x*l+v*c+N*a+D*(5*y),T+=Te>>>13,Te&=8191;let de=T+k*y+$*g+P*h+I*f+S*p;T=de>>>13,de&=8191,de+=O*d+x*u+v*l+N*c+D*a,T+=de>>>13,de&=8191,T=(T<<2)+T|0,T=T+L|0,L=T&8191,T=T>>>13,j+=T,o[0]=L,o[1]=j,o[2]=q,o[3]=ie,o[4]=ne,o[5]=Y,o[6]=me,o[7]=ue,o[8]=Te,o[9]=de}finalize(){let{h:t,pad:r}=this,n=new Uint16Array(10),s=t[1]>>>13;t[1]&=8191;for(let a=2;a<10;a++)t[a]+=s,s=t[a]>>>13,t[a]&=8191;t[0]+=s*5,s=t[0]>>>13,t[0]&=8191,t[1]+=s,s=t[1]>>>13,t[1]&=8191,t[2]+=s,n[0]=t[0]+5,s=n[0]>>>13,n[0]&=8191;for(let a=1;a<10;a++)n[a]=t[a]+s,s=n[a]>>>13,n[a]&=8191;n[9]-=8192;let o=(s^1)-1;for(let a=0;a<10;a++)n[a]&=o;o=~o;for(let a=0;a<10;a++)t[a]=t[a]&o|n[a];t[0]=(t[0]|t[1]<<13)&65535,t[1]=(t[1]>>>3|t[2]<<10)&65535,t[2]=(t[2]>>>6|t[3]<<7)&65535,t[3]=(t[3]>>>9|t[4]<<4)&65535,t[4]=(t[4]>>>12|t[5]<<1|t[6]<<14)&65535,t[5]=(t[6]>>>2|t[7]<<11)&65535,t[6]=(t[7]>>>5|t[8]<<8)&65535,t[7]=(t[8]>>>8|t[9]<<5)&65535;let i=t[0]+r[0];t[0]=i&65535;for(let a=1;a<8;a++)i=(t[a]+r[a]|0)+(i>>>16)|0,t[a]=i&65535;Vb(n)}update(t){y0e(this),t=tF(t),zi(t);let{buffer:r,blockLen:n}=this,s=t.length;for(let o=0;o<s;){let i=Math.min(n-this.pos,s-o);if(i===n){for(;n<=s-o;o+=n)this.process(t,o);continue}r.set(t.subarray(o,o+i),this.pos),this.pos+=i,o+=i,this.pos===n&&(this.process(r,0,!1),this.pos=0)}return this}destroy(){Vb(this.h,this.r,this.buffer,this.pad)}digestInto(t){y0e(this),aZe(t,this),this.finished=!0;let{buffer:r,h:n}=this,{pos:s}=this;if(s){for(r[s++]=1;s<16;s++)r[s]=0;this.process(r,0,!0)}this.finalize();let o=0;for(let i=0;i<8;i++)t[o++]=n[i]>>>0,t[o++]=n[i]>>>8;return t}digest(){let{buffer:t,outputLen:r}=this;this.digestInto(t);let n=t.slice(0,r);return this.destroy(),n}};CZe=AZe(e=>new sF(e));IZe=EZe(SZe,{counterRight:!1,counterLength:4,allowShortKeys:!1}),_Ze=new Uint8Array(16),v0e=(e,t)=>{e.update(t);let r=t.length%16;r&&e.update(_Ze.subarray(r))},TZe=new Uint8Array(32);PZe=e=>(t,r,n)=>({encrypt(s,o){let i=s.length;o=w0e(i+16,o,!1),o.set(s);let a=o.subarray(0,-16);e(t,r,a,a,1);let c=E0e(e,t,r,a,n);return o.set(c,i),Vb(c),o},decrypt(s,o){o=w0e(s.length-16,o,!1);let i=s.subarray(0,-16),a=s.subarray(-16),c=E0e(e,t,r,i,n);if(!pZe(a,c))throw new Error("invalid tag");return o.set(s.subarray(0,-16)),e(t,r,o,o,1),Vb(c),o}}),Ame=fZe({blockSize:64,nonceLength:12,tagLength:16},PZe(IZe)),u7=class extends zb{constructor(t,r){super(),this.finished=!1,this.destroyed=!1,b7(t);let n=ml(r);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let s=this.blockLen,o=new Uint8Array(s);o.set(n.length>s?t.create().update(n).digest():n);for(let i=0;i<o.length;i++)o[i]^=54;this.iHash.update(o),this.oHash=t.create();for(let i=0;i<o.length;i++)o[i]^=106;this.oHash.update(o),fc(o)}update(t){return lm(this),this.iHash.update(t),this}digestInto(t){lm(this),yl(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){let t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));let{oHash:r,iHash:n,finished:s,destroyed:o,blockLen:i,outputLen:a}=this;return t=t,t.finished=s,t.destroyed=o,t.blockLen=i,t.outputLen=a,t.oHash=r._cloneInto(t.oHash),t.iHash=n._cloneInto(t.iHash),t}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}},A7=(e,t,r)=>new u7(e,t).update(r).digest();A7.create=(e,t)=>new u7(e,t);M$=Uint8Array.from([0]),A0e=Uint8Array.of();OZe=(e,t,r,n,s)=>RZe(e,NZe(e,t,r),n,s),C7=x7,_F=BigInt(0),oF=BigInt(1);H$=e=>typeof e=="bigint"&&_F<=e;Pv=e=>(oF<<BigInt(e))-oF;qi=BigInt(0),ii=BigInt(1),Sg=BigInt(2),Ime=BigInt(3),_me=BigInt(4),Tme=BigInt(5),DZe=BigInt(7),Pme=BigInt(8),UZe=BigInt(9),Nme=BigInt(16);$Ze=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];qb=BigInt(0),Ig=BigInt(1);j$=new WeakMap,Mme=new WeakMap;aF=class{constructor(t,r){this.BASE=t.BASE,this.ZERO=t.ZERO,this.Fn=t.Fn,this.bits=r}_unsafeLadder(t,r,n=this.ZERO){let s=t;for(;r>qb;)r&Ig&&(n=n.add(s)),s=s.double(),r>>=Ig;return n}precomputeWindow(t,r){let{windows:n,windowSize:s}=F$(r,this.bits),o=[],i=t,a=i;for(let c=0;c<n;c++){a=i,o.push(a);for(let l=1;l<s;l++)a=a.add(i),o.push(a);i=a.double()}return o}wNAF(t,r,n){if(!this.Fn.isValid(n))throw new Error("invalid scalar");let s=this.ZERO,o=this.BASE,i=F$(t,this.bits);for(let a=0;a<i.windows;a++){let{nextN:c,offset:l,isZero:u,isNeg:d,isNegF:p,offsetF:f}=_0e(n,a,i);n=c,u?o=o.add(f7(p,r[f])):s=s.add(f7(d,r[l]))}return T0e(n),{p:s,f:o}}wNAFUnsafe(t,r,n,s=this.ZERO){let o=F$(t,this.bits);for(let i=0;i<o.windows&&n!==qb;i++){let{nextN:a,offset:c,isZero:l,isNeg:u}=_0e(n,i,o);if(n=a,!l){let d=r[c];s=s.add(u?d.negate():d)}}return T0e(n),s}getPrecomputes(t,r,n){let s=j$.get(r);return s||(s=this.precomputeWindow(r,t),t!==1&&(typeof n=="function"&&(s=n(s)),j$.set(r,s))),s}cached(t,r,n){let s=z$(t);return this.wNAF(s,this.getPrecomputes(s,t,n),r)}unsafe(t,r,n,s){let o=z$(t);return o===1?this._unsafeLadder(t,r,s):this.wNAFUnsafe(o,this.getPrecomputes(o,t,n),r,s)}createCache(t,r){Lme(r,this.bits),Mme.set(t,r),j$.delete(t)}hasCache(t){return z$(t)!==1}};BigInt(0),BigInt(1),BigInt(2),BigInt(8),ome("HashToScalar-");gv=BigInt(0),Hb=BigInt(1),o7=BigInt(2);JZe=BigInt(1),N0e=BigInt(2),QZe=BigInt(3),XZe=BigInt(5),eGe=BigInt(8),Hme=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffed"),tGe={p:Hme,n:BigInt("0x1000000000000000000000000000000014def9dea2f79cd65812631a5cf5d3ed"),h:eGe,a:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffec"),d:BigInt("0x52036cee2b6ffe738cc740797779e89800700a4d4141d8ab75eb4dca135978a3"),Gx:BigInt("0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a"),Gy:BigInt("0x6666666666666666666666666666666666666666666666666666666666666658")};sGe=pm(tGe.p,{isLE:!0}),cF=(()=>{let e=sGe.ORDER;return YZe({P:e,type:"x25519",powPminus2:t=>{let{pow_p_5_8:r,b2:n}=rGe(t);return Ba(pl(r,QZe,e)*n,e)},adjustScalarBytes:nGe})})(),R0e=(e,t)=>(e+(e>=0?t:-t)/$me)/t;uF=class extends Error{constructor(t=""){super(t)}},Yp={Err:uF,_tlv:{encode:(e,t)=>{let{Err:r}=Yp;if(e<0||e>256)throw new r("tlv.encode: wrong tag");if(t.length&1)throw new r("tlv.encode: unpadded data");let n=t.length/2,s=s7(n);if(s.length/2&128)throw new r("tlv.encode: long form length too big");let o=n>127?s7(s.length/2|128):"";return s7(e)+o+s+t},decode(e,t){let{Err:r}=Yp,n=0;if(e<0||e>256)throw new r("tlv.encode: wrong tag");if(t.length<2||t[n++]!==e)throw new r("tlv.decode: wrong tlv");let s=t[n++],o=!!(s&128),i=0;if(!o)i=s;else{let c=s&127;if(!c)throw new r("tlv.decode(long): indefinite length not supported");if(c>4)throw new r("tlv.decode(long): byte length is too big");let l=t.subarray(n,n+c);if(l.length!==c)throw new r("tlv.decode: length bytes not complete");if(l[0]===0)throw new r("tlv.decode(long): zero leftmost byte");for(let u of l)i=i<<8|u;if(n+=c,i<128)throw new r("tlv.decode(long): not minimal encoding")}let a=t.subarray(n,n+i);if(a.length!==i)throw new r("tlv.decode: wrong value length");return{v:a,l:t.subarray(n+i)}}},_int:{encode(e){let{Err:t}=Yp;if(e<Jp)throw new t("integer: negative integers are not allowed");let r=s7(e);if(Number.parseInt(r[0],16)&8&&(r="00"+r),r.length&1)throw new t("unexpected DER parsing assertion: unpadded hex");return r},decode(e){let{Err:t}=Yp;if(e[0]&128)throw new t("invalid signature integer: negative");if(e[0]===0&&!(e[1]&128))throw new t("invalid signature integer: unnecessary leading zero");return S7(e)}},toSig(e){let{Err:t,_int:r,_tlv:n}=Yp,s=bo("signature",e),{v:o,l:i}=n.decode(48,s);if(i.length)throw new t("invalid signature: left bytes after parsing");let{v:a,l:c}=n.decode(2,o),{v:l,l:u}=n.decode(2,c);if(u.length)throw new t("invalid signature: left bytes after parsing");return{r:r.decode(a),s:r.decode(l)}},hexFromSig(e){let{_tlv:t,_int:r}=Yp,n=t.encode(2,r.encode(e.r)),s=t.encode(2,r.encode(e.s)),o=n+s;return t.encode(48,o)}},Jp=BigInt(0),jb=BigInt(1),$me=BigInt(2),i7=BigInt(3),iGe=BigInt(4);zme={p:BigInt("0xffffffff00000001000000000000000000000000ffffffffffffffffffffffff"),n:BigInt("0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551"),h:BigInt(1),a:BigInt("0xffffffff00000001000000000000000000000000fffffffffffffffffffffffc"),b:BigInt("0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b"),Gx:BigInt("0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296"),Gy:BigInt("0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5")},Vme={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000ffffffff"),n:BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffc7634d81f4372ddf581a0db248b0a77aecec196accc52973"),h:BigInt(1),a:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000fffffffc"),b:BigInt("0xb3312fa7e23ee7e4988e056be3f82d19181d9c6efe8141120314088f5013875ac656398d8a2ed19d2a85c8edd3ec2aef"),Gx:BigInt("0xaa87ca22be8b05378eb1c71ef320ad746e1d3b628ba79b9859f741e082542a385502f25dbf55296c3a545e3872760ab7"),Gy:BigInt("0x3617de4a96262c6f5d9e98bf9292dc29f8f41dbd289a147ce9da3113b5f0b8c00a60b1ce1d7e819d7a431d7c90ea0e5f")},qme={p:BigInt("0x1ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),n:BigInt("0x01fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffa51868783bf2f966b7fcc0148f709a5d03bb5c9b8899c47aebb6fb71e91386409"),h:BigInt(1),a:BigInt("0x1fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc"),b:BigInt("0x0051953eb9618e1c9a1f929a21a0b68540eea2da725b99b315f3b8b489918ef109e156193951ec7e937b1652c0bd3bb1bf073573df883d2c34f1ef451fd46b503f00"),Gx:BigInt("0x00c6858e06b70404e9cd9e3ecb662395b4429c648139053fb521f828af606b4d3dbaa14b5e77efe75928fe1dc127a2ffa8de3348b3c1856a429bf97e7e31c2e5bd66"),Gy:BigInt("0x011839296a789a3bc0045c8a5fb42c7d1bd998f54449579b446817afbd17273e662c97ee72995ef42640c550b9013fad0761353c7086a272c24088be94769fd16650")},hGe=pm(zme.p),mGe=pm(Vme.p),gGe=pm(qme.p),yGe=dF({...zme,Fp:hGe,lowS:!1},x7);dF({...Vme,Fp:mGe,lowS:!1},OKe),dF({...qme,Fp:gGe,lowS:!1,allowedPrivateKeyLengths:[130,131,132]},RKe);wGe=yGe,Wme="base10",xo="base16",vo="base64pad",rf="base64url",Nv="utf8",Kme=0,xl=1,Wb=2,bGe=0,O0e=1,bv=12,RF=32;vGe="irn";EGe=Object.defineProperty,AGe=Object.defineProperties,CGe=Object.getOwnPropertyDescriptors,k0e=Object.getOwnPropertySymbols,SGe=Object.prototype.hasOwnProperty,IGe=Object.prototype.propertyIsEnumerable,B0e=(e,t,r)=>t in e?EGe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,q$=(e,t)=>{for(var r in t||(t={}))SGe.call(t,r)&&B0e(e,r,t[r]);if(k0e)for(var r of k0e(t))IGe.call(t,r)&&B0e(e,r,t[r]);return e},_Ge=(e,t)=>AGe(e,CGe(t));RGe=Object.defineProperty,OGe=Object.defineProperties,kGe=Object.getOwnPropertyDescriptors,D0e=Object.getOwnPropertySymbols,BGe=Object.prototype.hasOwnProperty,DGe=Object.prototype.propertyIsEnumerable,U0e=(e,t,r)=>t in e?RGe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,UGe=(e,t)=>{for(var r in t||(t={}))BGe.call(t,r)&&U0e(e,r,t[r]);if(D0e)for(var r of D0e(t))DGe.call(t,r)&&U0e(e,r,t[r]);return e},LGe=(e,t)=>OGe(e,kGe(t));FGe={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},jGe={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};W$={},dm=class{static get(t){return W$[t]}static set(t,r){W$[t]=r}static delete(t){delete W$[t]}}});function zYe(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var s=0;s<e.length;s++){var o=e.charAt(s),i=o.charCodeAt(0);if(r[i]!==255)throw new TypeError(o+" is ambiguous");r[i]=s}var a=e.length,c=e.charAt(0),l=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function d(h){if(h instanceof Uint8Array||(ArrayBuffer.isView(h)?h=new Uint8Array(h.buffer,h.byteOffset,h.byteLength):Array.isArray(h)&&(h=Uint8Array.from(h))),!(h instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(h.length===0)return"";for(var g=0,y=0,E=0,A=h.length;E!==A&&h[E]===0;)E++,g++;for(var b=(A-E)*u+1>>>0,w=new Uint8Array(b);E!==A;){for(var C=h[E],_=0,B=b-1;(C!==0||_<y)&&B!==-1;B--,_++)C+=256*w[B]>>>0,w[B]=C%a>>>0,C=C/a>>>0;if(C!==0)throw new Error("Non-zero carry");y=_,E++}for(var U=b-y;U!==b&&w[U]===0;)U++;for(var k=c.repeat(g);U<b;++U)k+=e.charAt(w[U]);return k}function p(h){if(typeof h!="string")throw new TypeError("Expected String");if(h.length===0)return new Uint8Array;var g=0;if(h[g]!==" "){for(var y=0,E=0;h[g]===c;)y++,g++;for(var A=(h.length-g)*l+1>>>0,b=new Uint8Array(A);h[g];){var w=r[h.charCodeAt(g)];if(w===255)return;for(var C=0,_=A-1;(w!==0||C<E)&&_!==-1;_--,C++)w+=a*b[_]>>>0,b[_]=w%256>>>0,w=w/256>>>0;if(w!==0)throw new Error("Non-zero carry");E=C,g++}if(h[g]!==" "){for(var B=A-E;B!==A&&b[B]===0;)B++;for(var U=new Uint8Array(y+(A-B)),k=y;B!==A;)U[k++]=b[B++];return U}}}function f(h){var g=p(h);if(g)return g;throw new Error(`Non-${t} character`)}return{encode:d,decodeUnsafe:p,decode:f}}function NJe(e){return e.reduce((t,r)=>(t+=TJe[r],t),"")}function RJe(e){let t=[];for(let r of e){let n=PJe[r.codePointAt(0)];if(n===void 0)throw new Error(`Non-base256emoji character: ${r}`);t.push(n)}return new Uint8Array(t)}function ige(e,t,r){t=t||[],r=r||0;for(var n=r;e>=LJe;)t[r++]=e&255|N1e,e/=128;for(;e&UJe;)t[r++]=e&255|N1e,e>>>=7;return t[r]=e|0,ige.bytes=r-n+1,t}function QF(e,n){var r=0,n=n||0,s=0,o=n,i,a=e.length;do{if(o>=a)throw QF.bytes=0,new RangeError("Could not decode varint");i=e[o++],r+=s<28?(i&R1e)<<s:(i&R1e)*Math.pow(2,s),s+=7}while(i>=HJe);return QF.bytes=o-n,r}function pge(e){return globalThis.Buffer!=null?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e}function sQe(e=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?pge(globalThis.Buffer.allocUnsafe(e)):new Uint8Array(e)}function fge(e,t,r,n){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:r},decoder:{decode:n}}}function iQe(e,t="utf8"){let r=oQe[t];if(!r)throw new Error(`Unsupported encoding "${t}"`);return(t==="utf8"||t==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?pge(globalThis.Buffer.from(e,"utf-8")):r.decoder.decode(`${r.prefix}${e}`)}function kQe(e,t){return e===t||Number.isNaN(e)&&Number.isNaN(t)}function j1e(e){return Object.getOwnPropertySymbols(e).filter(t=>Object.prototype.propertyIsEnumerable.call(e,t))}function z1e(e){return e==null?e===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}function sXe(){}function q1e(e){if(!e||typeof e!="object")return!1;let t=Object.getPrototypeOf(e);return t===null||t===Object.prototype||Object.getPrototypeOf(t)===null?Object.prototype.toString.call(e)==="[object Object]":!1}function oXe(e,t,r){return Lv(e,t,void 0,void 0,void 0,void 0,r)}function Lv(e,t,r,n,s,o,i){let a=i(e,t,r,n,s,o);if(a!==void 0)return a;if(typeof e==typeof t)switch(typeof e){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return e===t;case"number":return e===t||Object.is(e,t);case"function":return e===t;case"object":return Mv(e,t,o,i)}return Mv(e,t,o,i)}function Mv(e,t,r,n){if(Object.is(e,t))return!0;let s=z1e(e),o=z1e(t);if(s===V1e&&(s=WF),o===V1e&&(o=WF),s!==o)return!1;switch(s){case DQe:return e.toString()===t.toString();case UQe:{let c=e.valueOf(),l=t.valueOf();return kQe(c,l)}case LQe:case HQe:case MQe:return Object.is(e.valueOf(),t.valueOf());case BQe:return e.source===t.source&&e.flags===t.flags;case zQe:return e===t}r=r??new Map;let i=r.get(e),a=r.get(t);if(i!=null&&a!=null)return i===t;r.set(e,t),r.set(t,e);try{switch(s){case $Qe:{if(e.size!==t.size)return!1;for(let[c,l]of e.entries())if(!t.has(c)||!Lv(l,t.get(c),c,e,t,r,n))return!1;return!0}case FQe:{if(e.size!==t.size)return!1;let c=Array.from(e.values()),l=Array.from(t.values());for(let u=0;u<c.length;u++){let d=c[u],p=l.findIndex(f=>Lv(d,f,void 0,e,t,r,n));if(p===-1)return!1;l.splice(p,1)}return!0}case jQe:case KQe:case ZQe:case GQe:case YQe:case JQe:case QQe:case XQe:case eXe:case tXe:case rXe:case nXe:{if(typeof Buffer<"u"&&Buffer.isBuffer(e)!==Buffer.isBuffer(t)||e.length!==t.length)return!1;for(let c=0;c<e.length;c++)if(!Lv(e[c],t[c],c,e,t,r,n))return!1;return!0}case VQe:return e.byteLength!==t.byteLength?!1:Mv(new Uint8Array(e),new Uint8Array(t),r,n);case WQe:return e.byteLength!==t.byteLength||e.byteOffset!==t.byteOffset?!1:Mv(new Uint8Array(e),new Uint8Array(t),r,n);case qQe:return e.name===t.name&&e.message===t.message;case WF:{if(!(Mv(e.constructor,t.constructor,r,n)||q1e(e)&&q1e(t)))return!1;let c=[...Object.keys(e),...j1e(e)],l=[...Object.keys(t),...j1e(t)];if(c.length!==l.length)return!1;for(let u=0;u<c.length;u++){let d=c[u],p=e[d];if(!Object.hasOwn(t,d))return!1;let f=t[d];if(!Lv(p,f,d,e,t,r,n))return!1}return!0}default:return!1}}finally{r.delete(e),r.delete(t)}}function iXe(e,t){return oXe(e,t,sXe)}var nf,Ye,Q1e,X1e,ege,R7,Eu,lYe,uYe,dYe,T1e,pYe,fYe,hYe,mYe,gYe,yYe,wYe,Aj,bYe,tge,xYe,Un,vYe,mc,EYe,KF,qr,N7,AYe,CYe,P1e,La,SYe,IYe,WGt,_Ye,TYe,Bv,fm,El,PYe,NYe,RYe,Ma,OYe,kYe,BYe,rge,Xb,DYe,UYe,LYe,MYe,Al,vu,yc,hm,mm,e6,HYe,$Ye,FYe,jYe,VYe,qYe,nge,WYe,KYe,ZF,GF,YF,sge,JF,O7,Hv,ZYe,GYe,Ms,YYe,JYe,QYe,XYe,eJe,tJe,rJe,nJe,sJe,oJe,iJe,aJe,cJe,lJe,uJe,dJe,pJe,fJe,hJe,mJe,gJe,yJe,wJe,bJe,xJe,vJe,EJe,AJe,CJe,SJe,IJe,_Je,oge,TJe,PJe,OJe,kJe,BJe,N1e,DJe,UJe,LJe,MJe,HJe,R1e,$Je,FJe,jJe,zJe,VJe,qJe,WJe,KJe,ZJe,GJe,YJe,age,O1e,k1e,XF,ej,cge,tj,lge,JJe,QJe,XJe,uge,eQe,dge,tQe,rQe,nQe,B1e,D1e,VF,oQe,aQe,cQe,xu,rj,lQe,uQe,Cs,nj,dQe,pQe,fQe,U1e,hQe,mQe,sj,gQe,yQe,Ua,oj,wQe,bQe,xQe,L1e,vQe,EQe,ij,Jb,M1e,gc,aj,AQe,CQe,Qb,cj,SQe,IQe,_Qe,H1e,TQe,PQe,lj,Dv,qF,Br,uj,NQe,$1e,RQe,OQe,dj,F1e,or,pj,BQe,DQe,UQe,LQe,V1e,MQe,HQe,$Qe,FQe,jQe,zQe,VQe,WF,qQe,WQe,KQe,ZQe,GQe,YQe,JQe,QQe,XQe,eXe,tXe,rXe,nXe,aXe,W1e,cXe,lXe,fj,K1e,Ki,Au,uXe,dXe,Wt,hj,pXe,fXe,Ls,mj,hXe,mXe,Ao,gj,gXe,yXe,qn,yj,wXe,bXe,Z1e,wj,xXe,G1e,vXe,EXe,bj,Uv,Ss,xj,AXe,Y1e,CXe,SXe,vj,J1e,Vr,Ej,hge,mge=m(()=>{nf=Bt(Oo(),1);Tk();Uk();Ff();tH();Ye=Bt(Ld(),1);qm();Km();Km();P7();S8();py();jc();Vk();Q1e=Bt(T2(),1),X1e="wc",ege=2,R7="core",Eu=`${X1e}@2:${R7}:`,lYe={name:R7,logger:"error"},uYe={database:":memory:"},dYe="crypto",T1e="client_ed25519_seed",pYe=Ye.ONE_DAY,fYe="keychain",hYe="0.3",mYe="messages",gYe="0.3",yYe=Ye.SIX_HOURS,wYe="publisher",Aj="irn",bYe="error",tge="wss://relay.walletconnect.org",xYe="relayer",Un={message:"relayer_message",message_ack:"relayer_message_ack",connect:"relayer_connect",disconnect:"relayer_disconnect",error:"relayer_error",connection_stalled:"relayer_connection_stalled",transport_closed:"relayer_transport_closed",publish:"relayer_publish"},vYe="_subscription",mc={payload:"payload",connect:"connect",disconnect:"disconnect",error:"error"},EYe=.1,KF="2.23.2",qr={link_mode:"link_mode",relay:"relay"},N7={inbound:"inbound",outbound:"outbound"},AYe="0.3",CYe="WALLETCONNECT_CLIENT_ID",P1e="WALLETCONNECT_LINK_MODE_APPS",La={created:"subscription_created",deleted:"subscription_deleted",expired:"subscription_expired",disabled:"subscription_disabled",sync:"subscription_sync",resubscribed:"subscription_resubscribed"},SYe="subscription",IYe="0.3",WGt=Ye.FIVE_SECONDS*1e3,_Ye="pairing",TYe="0.3",Bv={wc_pairingDelete:{req:{ttl:Ye.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:Ye.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:Ye.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:Ye.THIRTY_SECONDS,prompt:!1,tag:1003}},unregistered_method:{req:{ttl:Ye.ONE_DAY,prompt:!1,tag:0},res:{ttl:Ye.ONE_DAY,prompt:!1,tag:0}}},fm={create:"pairing_create",expire:"pairing_expire",delete:"pairing_delete",ping:"pairing_ping"},El={created:"history_created",updated:"history_updated",deleted:"history_deleted",sync:"history_sync"},PYe="history",NYe="0.3",RYe="expirer",Ma={created:"expirer_created",deleted:"expirer_deleted",expired:"expirer_expired",sync:"expirer_sync"},OYe="0.3",kYe="verify-api",BYe="https://verify.walletconnect.com",rge="https://verify.walletconnect.org",Xb=rge,DYe=`${Xb}/v3`,UYe=[BYe,rge],LYe="echo",MYe="https://echo.walletconnect.com",Al={pairing_started:"pairing_started",pairing_uri_validation_success:"pairing_uri_validation_success",pairing_uri_not_expired:"pairing_uri_not_expired",store_new_pairing:"store_new_pairing",subscribing_pairing_topic:"subscribing_pairing_topic",subscribe_pairing_topic_success:"subscribe_pairing_topic_success",existing_pairing:"existing_pairing",pairing_not_expired:"pairing_not_expired",emit_inactive_pairing:"emit_inactive_pairing",emit_session_proposal:"emit_session_proposal",subscribing_to_pairing_topic:"subscribing_to_pairing_topic"},vu={no_wss_connection:"no_wss_connection",no_internet_connection:"no_internet_connection",malformed_pairing_uri:"malformed_pairing_uri",active_pairing_already_exists:"active_pairing_already_exists",subscribe_pairing_topic_failure:"subscribe_pairing_topic_failure",pairing_expired:"pairing_expired",proposal_expired:"proposal_expired",proposal_listener_not_found:"proposal_listener_not_found"},yc={session_approve_started:"session_approve_started",proposal_not_expired:"proposal_not_expired",session_namespaces_validation_success:"session_namespaces_validation_success",create_session_topic:"create_session_topic",subscribing_session_topic:"subscribing_session_topic",subscribe_session_topic_success:"subscribe_session_topic_success",publishing_session_approve:"publishing_session_approve",session_approve_publish_success:"session_approve_publish_success",store_session:"store_session",publishing_session_settle:"publishing_session_settle",session_settle_publish_success:"session_settle_publish_success",session_request_response_started:"session_request_response_started",session_request_response_validation_success:"session_request_response_validation_success",session_request_response_publish_started:"session_request_response_publish_started"},hm={no_internet_connection:"no_internet_connection",no_wss_connection:"no_wss_connection",proposal_expired:"proposal_expired",subscribe_session_topic_failure:"subscribe_session_topic_failure",session_approve_publish_failure:"session_approve_publish_failure",session_settle_publish_failure:"session_settle_publish_failure",session_approve_namespace_validation_failure:"session_approve_namespace_validation_failure",proposal_not_found:"proposal_not_found",session_request_response_validation_failure:"session_request_response_validation_failure",session_request_response_publish_failure:"session_request_response_publish_failure"},mm={authenticated_session_approve_started:"authenticated_session_approve_started",authenticated_session_not_expired:"authenticated_session_not_expired",chains_caip2_compliant:"chains_caip2_compliant",chains_evm_compliant:"chains_evm_compliant",create_authenticated_session_topic:"create_authenticated_session_topic",cacaos_verified:"cacaos_verified",store_authenticated_session:"store_authenticated_session",subscribing_authenticated_session_topic:"subscribing_authenticated_session_topic",subscribe_authenticated_session_topic_success:"subscribe_authenticated_session_topic_success",publishing_authenticated_session_approve:"publishing_authenticated_session_approve",authenticated_session_approve_publish_success:"authenticated_session_approve_publish_success"},e6={no_internet_connection:"no_internet_connection",no_wss_connection:"no_wss_connection",missing_session_authenticate_request:"missing_session_authenticate_request",session_authenticate_request_expired:"session_authenticate_request_expired",chains_caip2_compliant_failure:"chains_caip2_compliant_failure",chains_evm_compliant_failure:"chains_evm_compliant_failure",invalid_cacao:"invalid_cacao",subscribe_authenticated_session_topic_failure:"subscribe_authenticated_session_topic_failure",authenticated_session_approve_publish_failure:"authenticated_session_approve_publish_failure",authenticated_session_pending_request_not_found:"authenticated_session_pending_request_not_found"},HYe=.1,$Ye="event-client",FYe=86400,jYe="https://pulse.walletconnect.org/batch";VYe=zYe,qYe=VYe,nge=e=>{if(e instanceof Uint8Array&&e.constructor.name==="Uint8Array")return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")},WYe=e=>new TextEncoder().encode(e),KYe=e=>new TextDecoder().decode(e),ZF=class{constructor(t,r,n){this.name=t,this.prefix=r,this.baseEncode=n}encode(t){if(t instanceof Uint8Array)return`${this.prefix}${this.baseEncode(t)}`;throw Error("Unknown type, must be binary type")}},GF=class{constructor(t,r,n){if(this.name=t,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=n}decode(t){if(typeof t=="string"){if(t.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(t)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(t.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(t){return sge(this,t)}},YF=class{constructor(t){this.decoders=t}or(t){return sge(this,t)}decode(t){let r=t[0],n=this.decoders[r];if(n)return n.decode(t);throw RangeError(`Unable to decode multibase string ${JSON.stringify(t)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}},sge=(e,t)=>new YF({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}}),JF=class{constructor(t,r,n,s){this.name=t,this.prefix=r,this.baseEncode=n,this.baseDecode=s,this.encoder=new ZF(t,r,n),this.decoder=new GF(t,r,s)}encode(t){return this.encoder.encode(t)}decode(t){return this.decoder.decode(t)}},O7=({name:e,prefix:t,encode:r,decode:n})=>new JF(e,t,r,n),Hv=({prefix:e,name:t,alphabet:r})=>{let{encode:n,decode:s}=qYe(r,t);return O7({prefix:e,name:t,encode:n,decode:o=>nge(s(o))})},ZYe=(e,t,r,n)=>{let s={};for(let u=0;u<t.length;++u)s[t[u]]=u;let o=e.length;for(;e[o-1]==="=";)--o;let i=new Uint8Array(o*r/8|0),a=0,c=0,l=0;for(let u=0;u<o;++u){let d=s[e[u]];if(d===void 0)throw new SyntaxError(`Non-${n} character`);c=c<<r|d,a+=r,a>=8&&(a-=8,i[l++]=255&c>>a)}if(a>=r||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return i},GYe=(e,t,r)=>{let n=t[t.length-1]==="=",s=(1<<r)-1,o="",i=0,a=0;for(let c=0;c<e.length;++c)for(a=a<<8|e[c],i+=8;i>r;)i-=r,o+=t[s&a>>i];if(i&&(o+=t[s&a<<r-i]),n)for(;o.length*r&7;)o+="=";return o},Ms=({name:e,prefix:t,bitsPerChar:r,alphabet:n})=>O7({prefix:t,name:e,encode(s){return GYe(s,n,r)},decode(s){return ZYe(s,n,r,e)}}),YYe=O7({prefix:"\0",name:"identity",encode:e=>KYe(e),decode:e=>WYe(e)}),JYe=Object.freeze({__proto__:null,identity:YYe}),QYe=Ms({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),XYe=Object.freeze({__proto__:null,base2:QYe}),eJe=Ms({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),tJe=Object.freeze({__proto__:null,base8:eJe}),rJe=Hv({prefix:"9",name:"base10",alphabet:"0123456789"}),nJe=Object.freeze({__proto__:null,base10:rJe}),sJe=Ms({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),oJe=Ms({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),iJe=Object.freeze({__proto__:null,base16:sJe,base16upper:oJe}),aJe=Ms({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),cJe=Ms({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),lJe=Ms({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),uJe=Ms({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),dJe=Ms({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),pJe=Ms({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),fJe=Ms({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),hJe=Ms({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),mJe=Ms({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),gJe=Object.freeze({__proto__:null,base32:aJe,base32upper:cJe,base32pad:lJe,base32padupper:uJe,base32hex:dJe,base32hexupper:pJe,base32hexpad:fJe,base32hexpadupper:hJe,base32z:mJe}),yJe=Hv({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),wJe=Hv({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),bJe=Object.freeze({__proto__:null,base36:yJe,base36upper:wJe}),xJe=Hv({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),vJe=Hv({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),EJe=Object.freeze({__proto__:null,base58btc:xJe,base58flickr:vJe}),AJe=Ms({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),CJe=Ms({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),SJe=Ms({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),IJe=Ms({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),_Je=Object.freeze({__proto__:null,base64:AJe,base64pad:CJe,base64url:SJe,base64urlpad:IJe}),oge=Array.from("\u{1F680}\u{1FA90}\u2604\u{1F6F0}\u{1F30C}\u{1F311}\u{1F312}\u{1F313}\u{1F314}\u{1F315}\u{1F316}\u{1F317}\u{1F318}\u{1F30D}\u{1F30F}\u{1F30E}\u{1F409}\u2600\u{1F4BB}\u{1F5A5}\u{1F4BE}\u{1F4BF}\u{1F602}\u2764\u{1F60D}\u{1F923}\u{1F60A}\u{1F64F}\u{1F495}\u{1F62D}\u{1F618}\u{1F44D}\u{1F605}\u{1F44F}\u{1F601}\u{1F525}\u{1F970}\u{1F494}\u{1F496}\u{1F499}\u{1F622}\u{1F914}\u{1F606}\u{1F644}\u{1F4AA}\u{1F609}\u263A\u{1F44C}\u{1F917}\u{1F49C}\u{1F614}\u{1F60E}\u{1F607}\u{1F339}\u{1F926}\u{1F389}\u{1F49E}\u270C\u2728\u{1F937}\u{1F631}\u{1F60C}\u{1F338}\u{1F64C}\u{1F60B}\u{1F497}\u{1F49A}\u{1F60F}\u{1F49B}\u{1F642}\u{1F493}\u{1F929}\u{1F604}\u{1F600}\u{1F5A4}\u{1F603}\u{1F4AF}\u{1F648}\u{1F447}\u{1F3B6}\u{1F612}\u{1F92D}\u2763\u{1F61C}\u{1F48B}\u{1F440}\u{1F62A}\u{1F611}\u{1F4A5}\u{1F64B}\u{1F61E}\u{1F629}\u{1F621}\u{1F92A}\u{1F44A}\u{1F973}\u{1F625}\u{1F924}\u{1F449}\u{1F483}\u{1F633}\u270B\u{1F61A}\u{1F61D}\u{1F634}\u{1F31F}\u{1F62C}\u{1F643}\u{1F340}\u{1F337}\u{1F63B}\u{1F613}\u2B50\u2705\u{1F97A}\u{1F308}\u{1F608}\u{1F918}\u{1F4A6}\u2714\u{1F623}\u{1F3C3}\u{1F490}\u2639\u{1F38A}\u{1F498}\u{1F620}\u261D\u{1F615}\u{1F33A}\u{1F382}\u{1F33B}\u{1F610}\u{1F595}\u{1F49D}\u{1F64A}\u{1F639}\u{1F5E3}\u{1F4AB}\u{1F480}\u{1F451}\u{1F3B5}\u{1F91E}\u{1F61B}\u{1F534}\u{1F624}\u{1F33C}\u{1F62B}\u26BD\u{1F919}\u2615\u{1F3C6}\u{1F92B}\u{1F448}\u{1F62E}\u{1F646}\u{1F37B}\u{1F343}\u{1F436}\u{1F481}\u{1F632}\u{1F33F}\u{1F9E1}\u{1F381}\u26A1\u{1F31E}\u{1F388}\u274C\u270A\u{1F44B}\u{1F630}\u{1F928}\u{1F636}\u{1F91D}\u{1F6B6}\u{1F4B0}\u{1F353}\u{1F4A2}\u{1F91F}\u{1F641}\u{1F6A8}\u{1F4A8}\u{1F92C}\u2708\u{1F380}\u{1F37A}\u{1F913}\u{1F619}\u{1F49F}\u{1F331}\u{1F616}\u{1F476}\u{1F974}\u25B6\u27A1\u2753\u{1F48E}\u{1F4B8}\u2B07\u{1F628}\u{1F31A}\u{1F98B}\u{1F637}\u{1F57A}\u26A0\u{1F645}\u{1F61F}\u{1F635}\u{1F44E}\u{1F932}\u{1F920}\u{1F927}\u{1F4CC}\u{1F535}\u{1F485}\u{1F9D0}\u{1F43E}\u{1F352}\u{1F617}\u{1F911}\u{1F30A}\u{1F92F}\u{1F437}\u260E\u{1F4A7}\u{1F62F}\u{1F486}\u{1F446}\u{1F3A4}\u{1F647}\u{1F351}\u2744\u{1F334}\u{1F4A3}\u{1F438}\u{1F48C}\u{1F4CD}\u{1F940}\u{1F922}\u{1F445}\u{1F4A1}\u{1F4A9}\u{1F450}\u{1F4F8}\u{1F47B}\u{1F910}\u{1F92E}\u{1F3BC}\u{1F975}\u{1F6A9}\u{1F34E}\u{1F34A}\u{1F47C}\u{1F48D}\u{1F4E3}\u{1F942}"),TJe=oge.reduce((e,t,r)=>(e[r]=t,e),[]),PJe=oge.reduce((e,t,r)=>(e[t.codePointAt(0)]=r,e),[]);OJe=O7({prefix:"\u{1F680}",name:"base256emoji",encode:NJe,decode:RJe}),kJe=Object.freeze({__proto__:null,base256emoji:OJe}),BJe=ige,N1e=128,DJe=127,UJe=~DJe,LJe=Math.pow(2,31);MJe=QF,HJe=128,R1e=127;$Je=Math.pow(2,7),FJe=Math.pow(2,14),jJe=Math.pow(2,21),zJe=Math.pow(2,28),VJe=Math.pow(2,35),qJe=Math.pow(2,42),WJe=Math.pow(2,49),KJe=Math.pow(2,56),ZJe=Math.pow(2,63),GJe=function(e){return e<$Je?1:e<FJe?2:e<jJe?3:e<zJe?4:e<VJe?5:e<qJe?6:e<WJe?7:e<KJe?8:e<ZJe?9:10},YJe={encode:BJe,decode:MJe,encodingLength:GJe},age=YJe,O1e=(e,t,r=0)=>(age.encode(e,t,r),t),k1e=e=>age.encodingLength(e),XF=(e,t)=>{let r=t.byteLength,n=k1e(e),s=n+k1e(r),o=new Uint8Array(s+r);return O1e(e,o,0),O1e(r,o,n),o.set(t,s),new ej(e,r,t,o)},ej=class{constructor(t,r,n,s){this.code=t,this.size=r,this.digest=n,this.bytes=s}},cge=({name:e,code:t,encode:r})=>new tj(e,t,r),tj=class{constructor(t,r,n){this.name=t,this.code=r,this.encode=n}digest(t){if(t instanceof Uint8Array){let r=this.encode(t);return r instanceof Uint8Array?XF(this.code,r):r.then(n=>XF(this.code,n))}else throw Error("Unknown type, must be binary type")}},lge=e=>async t=>new Uint8Array(await crypto.subtle.digest(e,t)),JJe=cge({name:"sha2-256",code:18,encode:lge("SHA-256")}),QJe=cge({name:"sha2-512",code:19,encode:lge("SHA-512")}),XJe=Object.freeze({__proto__:null,sha256:JJe,sha512:QJe}),uge=0,eQe="identity",dge=nge,tQe=e=>XF(uge,dge(e)),rQe={code:uge,name:eQe,encode:dge,digest:tQe},nQe=Object.freeze({__proto__:null,identity:rQe});new TextEncoder,new TextDecoder;B1e={...JYe,...XYe,...tJe,...nJe,...iJe,...gJe,...bJe,...EJe,..._Je,...kJe};({...XJe,...nQe});D1e=fge("utf8","u",e=>"u"+new TextDecoder("utf8").decode(e),e=>new TextEncoder().encode(e.substring(1))),VF=fge("ascii","a",e=>{let t="a";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t},e=>{e=e.substring(1);let t=sQe(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}),oQe={utf8:D1e,"utf-8":D1e,hex:B1e.base16,latin1:VF,ascii:VF,binary:VF,...B1e};aQe=Object.defineProperty,cQe=(e,t,r)=>t in e?aQe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,xu=(e,t,r)=>cQe(e,typeof t!="symbol"?t+"":t,r),rj=class{constructor(t,r){this.core=t,this.logger=r,xu(this,"keychain",new Map),xu(this,"name",fYe),xu(this,"version",hYe),xu(this,"initialized",!1),xu(this,"storagePrefix",Eu),xu(this,"init",async()=>{if(!this.initialized){let n=await this.getKeyChain();typeof n<"u"&&(this.keychain=n),this.initialized=!0}}),xu(this,"has",n=>(this.isInitialized(),this.keychain.has(n))),xu(this,"set",async(n,s)=>{this.isInitialized(),this.keychain.set(n,s),await this.persist()}),xu(this,"get",n=>{this.isInitialized();let s=this.keychain.get(n);if(typeof s>"u"){let{message:o}=Ce("NO_MATCHING_KEY",`${this.name}: ${n}`);throw new Error(o)}return s}),xu(this,"del",async n=>{this.isInitialized(),this.keychain.delete(n),await this.persist()}),this.core=t,this.logger=_r(r,this.name)}get context(){return ar(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setKeyChain(t){await this.core.storage.setItem(this.storageKey,m7(t))}async getKeyChain(){let t=await this.core.storage.getItem(this.storageKey);return typeof t<"u"?g7(t):void 0}async persist(){await this.setKeyChain(this.keychain)}isInitialized(){if(!this.initialized){let{message:t}=Ce("NOT_INITIALIZED",this.name);throw new Error(t)}}},lQe=Object.defineProperty,uQe=(e,t,r)=>t in e?lQe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Cs=(e,t,r)=>uQe(e,typeof t!="symbol"?t+"":t,r),nj=class{constructor(t,r,n){this.core=t,this.logger=r,Cs(this,"name",dYe),Cs(this,"keychain"),Cs(this,"randomSessionIdentifier",_7()),Cs(this,"initialized",!1),Cs(this,"clientId"),Cs(this,"init",async()=>{this.initialized||(await this.keychain.init(),this.initialized=!0)}),Cs(this,"hasKeys",s=>(this.isInitialized(),this.keychain.has(s))),Cs(this,"getClientId",async()=>{if(this.isInitialized(),this.clientId)return this.clientId;let s=await this.getClientSeed(),o=z2(s),i=y8(o.publicKey);return this.clientId=i,i}),Cs(this,"generateKeyPair",()=>{this.isInitialized();let s=Zme();return this.setPrivateKey(s.publicKey,s.privateKey)}),Cs(this,"signJWT",async s=>{this.isInitialized();let o=await this.getClientSeed(),i=z2(o),a=this.randomSessionIdentifier;return await gA(a,s,pYe,i)}),Cs(this,"generateSharedKey",(s,o,i)=>{this.isInitialized();let a=this.getPrivateKey(s),c=Gme(a,o);return this.setSymKey(c,i)}),Cs(this,"setSymKey",async(s,o)=>{this.isInitialized();let i=o||Kb(s);return await this.keychain.set(i,s),i}),Cs(this,"deleteKeyPair",async s=>{this.isInitialized(),await this.keychain.del(s)}),Cs(this,"deleteSymKey",async s=>{this.isInitialized(),await this.keychain.del(s)}),Cs(this,"encode",async(s,o,i)=>{this.isInitialized();let a=OF(i),c=fi(o);if(BF(a))return t1e(c,i?.encoding);if(kF(a)){let p=a.senderPublicKey,f=a.receiverPublicKey;s=await this.generateSharedKey(p,f)}let l=this.getSymKey(s),{type:u,senderPublicKey:d}=a;return Xme({type:u,symKey:l,message:c,senderPublicKey:d,encoding:i?.encoding})}),Cs(this,"decode",async(s,o,i)=>{this.isInitialized();let a=s1e(o,i);if(BF(a)){let c=r1e(o,i?.encoding);return Bo(c)}if(kF(a)){let c=a.receiverPublicKey,l=a.senderPublicKey;s=await this.generateSharedKey(c,l)}try{let c=this.getSymKey(s),l=e1e({symKey:c,encoded:o,encoding:i?.encoding});return Bo(l)}catch(c){this.logger.error(`Failed to decode message from topic: '${s}', clientId: '${await this.getClientId()}'`),this.logger.error(c)}}),Cs(this,"getPayloadType",(s,o=vo)=>{let i=Zb({encoded:s,encoding:o});return um(i.type)}),Cs(this,"getPayloadSenderPublicKey",(s,o=vo)=>{let i=Zb({encoded:s,encoding:o});return i.senderPublicKey?Xt(i.senderPublicKey,xo):void 0}),this.core=t,this.logger=_r(r,this.name),this.keychain=n||new rj(this.core,this.logger)}get context(){return ar(this.logger)}async setPrivateKey(t,r){return await this.keychain.set(t,r),t}getPrivateKey(t){return this.keychain.get(t)}async getClientSeed(){let t="";try{t=this.keychain.get(T1e)}catch{t=_7(),await this.keychain.set(T1e,t)}return iQe(t,"base16")}getSymKey(t){return this.keychain.get(t)}isInitialized(){if(!this.initialized){let{message:t}=Ce("NOT_INITIALIZED",this.name);throw new Error(t)}}},dQe=Object.defineProperty,pQe=Object.defineProperties,fQe=Object.getOwnPropertyDescriptors,U1e=Object.getOwnPropertySymbols,hQe=Object.prototype.hasOwnProperty,mQe=Object.prototype.propertyIsEnumerable,sj=(e,t,r)=>t in e?dQe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,gQe=(e,t)=>{for(var r in t||(t={}))hQe.call(t,r)&&sj(e,r,t[r]);if(U1e)for(var r of U1e(t))mQe.call(t,r)&&sj(e,r,t[r]);return e},yQe=(e,t)=>pQe(e,fQe(t)),Ua=(e,t,r)=>sj(e,typeof t!="symbol"?t+"":t,r),oj=class extends d9{constructor(t,r){super(t,r),this.logger=t,this.core=r,Ua(this,"messages",new Map),Ua(this,"messagesWithoutClientAck",new Map),Ua(this,"name",mYe),Ua(this,"version",gYe),Ua(this,"initialized",!1),Ua(this,"storagePrefix",Eu),Ua(this,"init",async()=>{if(!this.initialized){this.logger.trace("Initialized");try{let n=await this.getRelayerMessages();typeof n<"u"&&(this.messages=n);let s=await this.getRelayerMessagesWithoutClientAck();typeof s<"u"&&(this.messagesWithoutClientAck=s),this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",size:this.messages.size})}catch(n){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(n)}finally{this.initialized=!0}}}),Ua(this,"set",async(n,s,o)=>{this.isInitialized();let i=Wi(s),a=this.messages.get(n);if(typeof a>"u"&&(a={}),typeof a[i]<"u")return i;if(a[i]=s,this.messages.set(n,a),o===N7.inbound){let c=this.messagesWithoutClientAck.get(n)||{};this.messagesWithoutClientAck.set(n,yQe(gQe({},c),{[i]:s}))}return await this.persist(),i}),Ua(this,"get",n=>{this.isInitialized();let s=this.messages.get(n);return typeof s>"u"&&(s={}),s}),Ua(this,"getWithoutAck",n=>{this.isInitialized();let s={};for(let o of n){let i=this.messagesWithoutClientAck.get(o)||{};s[o]=Object.values(i)}return s}),Ua(this,"has",(n,s)=>{this.isInitialized();let o=this.get(n),i=Wi(s);return typeof o[i]<"u"}),Ua(this,"ack",async(n,s)=>{this.isInitialized();let o=this.messagesWithoutClientAck.get(n);if(typeof o>"u")return;let i=Wi(s);delete o[i],Object.keys(o).length===0?this.messagesWithoutClientAck.delete(n):this.messagesWithoutClientAck.set(n,o),await this.persist()}),Ua(this,"del",async n=>{this.isInitialized(),this.messages.delete(n),this.messagesWithoutClientAck.delete(n),await this.persist()}),this.logger=_r(t,this.name),this.core=r}get context(){return ar(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get storageKeyWithoutClientAck(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name+"_withoutClientAck"}async setRelayerMessages(t){await this.core.storage.setItem(this.storageKey,m7(t))}async setRelayerMessagesWithoutClientAck(t){await this.core.storage.setItem(this.storageKeyWithoutClientAck,m7(t))}async getRelayerMessages(){let t=await this.core.storage.getItem(this.storageKey);return typeof t<"u"?g7(t):void 0}async getRelayerMessagesWithoutClientAck(){let t=await this.core.storage.getItem(this.storageKeyWithoutClientAck);return typeof t<"u"?g7(t):void 0}async persist(){await this.setRelayerMessages(this.messages),await this.setRelayerMessagesWithoutClientAck(this.messagesWithoutClientAck)}isInitialized(){if(!this.initialized){let{message:t}=Ce("NOT_INITIALIZED",this.name);throw new Error(t)}}},wQe=Object.defineProperty,bQe=Object.defineProperties,xQe=Object.getOwnPropertyDescriptors,L1e=Object.getOwnPropertySymbols,vQe=Object.prototype.hasOwnProperty,EQe=Object.prototype.propertyIsEnumerable,ij=(e,t,r)=>t in e?wQe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Jb=(e,t)=>{for(var r in t||(t={}))vQe.call(t,r)&&ij(e,r,t[r]);if(L1e)for(var r of L1e(t))EQe.call(t,r)&&ij(e,r,t[r]);return e},M1e=(e,t)=>bQe(e,xQe(t)),gc=(e,t,r)=>ij(e,typeof t!="symbol"?t+"":t,r),aj=class extends p9{constructor(t,r){super(t,r),this.relayer=t,this.logger=r,gc(this,"events",new nf.EventEmitter),gc(this,"name",wYe),gc(this,"queue",new Map),gc(this,"publishTimeout",(0,Ye.toMiliseconds)(Ye.ONE_MINUTE)),gc(this,"initialPublishTimeout",(0,Ye.toMiliseconds)(Ye.ONE_SECOND*15)),gc(this,"needsTransportRestart",!1),gc(this,"publish",async(n,s,o)=>{var i,a,c,l,u;this.logger.debug("Publishing Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:n,message:s,opts:o}});let d=o?.ttl||yYe,p=o?.prompt||!1,f=o?.tag||0,h=o?.id||Tn().toString(),g=Ng(Rv().protocol),y={id:h,method:o?.publishMethod||g.publish,params:Jb({topic:n,message:s,ttl:d,prompt:p,tag:f,attestation:o?.attestation},o?.tvf)},E=`Failed to publish payload, please try again. id:${h} tag:${f}`;try{Dn((i=y.params)==null?void 0:i.prompt)&&((a=y.params)==null||delete a.prompt),Dn((c=y.params)==null?void 0:c.tag)&&((l=y.params)==null||delete l.tag);let A=new Promise(async b=>{let w=({id:_})=>{var B;((B=y.id)==null?void 0:B.toString())===_.toString()&&(this.removeRequestFromQueue(_),this.relayer.events.removeListener(Un.publish,w),b())};this.relayer.events.on(Un.publish,w);let C=bl(new Promise((_,B)=>{this.rpcPublish(y,o).then(_).catch(U=>{this.logger.warn(U,U?.message),B(U)})}),this.initialPublishTimeout,`Failed initial publish, retrying.... id:${h} tag:${f}`);try{await C,this.events.removeListener(Un.publish,w)}catch(_){this.queue.set(h,{request:y,opts:o,attempt:1}),this.logger.warn(_,_?.message)}});this.logger.trace({type:"method",method:"publish",params:{id:h,topic:n,message:s,opts:o}}),await bl(A,this.publishTimeout,E)}catch(A){if(this.logger.debug("Failed to Publish Payload"),this.logger.error(A),(u=o?.internal)!=null&&u.throwOnFailedPublish)throw A}finally{this.queue.delete(h)}}),gc(this,"publishCustom",async n=>{var s,o,i,a,c;this.logger.debug("Publishing custom payload"),this.logger.trace({type:"method",method:"publishCustom",params:n});let{payload:l,opts:u={}}=n,{attestation:d,tvf:p,publishMethod:f,prompt:h,tag:g,ttl:y=Ye.FIVE_MINUTES}=u,E=u.id||Tn().toString(),A=Ng(Rv().protocol),b=f||A.publish,w={id:E,method:b,params:Jb(M1e(Jb({},l),{ttl:y,prompt:h,tag:g,attestation:d}),p)},C=`Failed to publish custom payload, please try again. id:${E} tag:${g}`;try{Dn((s=w.params)==null?void 0:s.prompt)&&((o=w.params)==null||delete o.prompt),Dn((i=w.params)==null?void 0:i.tag)&&((a=w.params)==null||delete a.tag);let _=new Promise(async B=>{let U=({id:$})=>{var P;((P=w.id)==null?void 0:P.toString())===$.toString()&&(this.removeRequestFromQueue($),this.relayer.events.removeListener(Un.publish,U),B())};this.relayer.events.on(Un.publish,U);let k=bl(new Promise(($,P)=>{this.rpcPublish(w,u).then($).catch(I=>{this.logger.warn(I,I?.message),P(I)})}),this.initialPublishTimeout,`Failed initial custom payload publish, retrying.... method:${b} id:${E} tag:${g}`);try{await k,this.events.removeListener(Un.publish,U)}catch($){this.queue.set(E,{request:w,opts:u,attempt:1}),this.logger.warn($,$?.message)}});this.logger.trace({type:"method",method:"publish",params:{id:E,payload:l,opts:u}}),await bl(_,this.publishTimeout,C)}catch(_){if(this.logger.debug("Failed to Publish Payload"),this.logger.error(_),(c=u?.internal)!=null&&c.throwOnFailedPublish)throw _}finally{this.queue.delete(E)}}),gc(this,"on",(n,s)=>{this.events.on(n,s)}),gc(this,"once",(n,s)=>{this.events.once(n,s)}),gc(this,"off",(n,s)=>{this.events.off(n,s)}),gc(this,"removeListener",(n,s)=>{this.events.removeListener(n,s)}),this.relayer=t,this.logger=_r(r,this.name),this.registerEventListeners()}get context(){return ar(this.logger)}async rpcPublish(t,r){this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"message",direction:"outgoing",request:t});let n=await this.relayer.request(t);return this.relayer.events.emit(Un.publish,Jb(Jb({},t),r)),this.logger.debug("Successfully Published Payload"),n}removeRequestFromQueue(t){this.queue.delete(t)}checkQueue(){this.queue.forEach(async(t,r)=>{var n;let s=t.attempt+1;this.queue.set(r,M1e(Jb({},t),{attempt:s})),this.logger.warn({},`Publisher: queue->publishing: ${t.request.id}, tag: ${(n=t.request.params)==null?void 0:n.tag}, attempt: ${s}`),await this.rpcPublish(t.request,t.opts),this.logger.warn({},`Publisher: queue->published: ${t.request.id}`)})}registerEventListeners(){this.relayer.core.heartbeat.on(Lo.pulse,()=>{if(this.needsTransportRestart){this.needsTransportRestart=!1,this.relayer.events.emit(Un.connection_stalled);return}this.checkQueue()}),this.relayer.on(Un.message_ack,t=>{this.removeRequestFromQueue(t.id.toString())})}},AQe=Object.defineProperty,CQe=(e,t,r)=>t in e?AQe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Qb=(e,t,r)=>CQe(e,typeof t!="symbol"?t+"":t,r),cj=class{constructor(){Qb(this,"map",new Map),Qb(this,"set",(t,r)=>{let n=this.get(t);this.exists(t,r)||this.map.set(t,[...n,r])}),Qb(this,"get",t=>this.map.get(t)||[]),Qb(this,"exists",(t,r)=>this.get(t).includes(r)),Qb(this,"delete",(t,r)=>{if(typeof r>"u"){this.map.delete(t);return}if(!this.map.has(t))return;let n=this.get(t);if(!this.exists(t,r))return;let s=n.filter(o=>o!==r);if(!s.length){this.map.delete(t);return}this.map.set(t,s)}),Qb(this,"clear",()=>{this.map.clear()})}get topics(){return Array.from(this.map.keys())}},SQe=Object.defineProperty,IQe=Object.defineProperties,_Qe=Object.getOwnPropertyDescriptors,H1e=Object.getOwnPropertySymbols,TQe=Object.prototype.hasOwnProperty,PQe=Object.prototype.propertyIsEnumerable,lj=(e,t,r)=>t in e?SQe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Dv=(e,t)=>{for(var r in t||(t={}))TQe.call(t,r)&&lj(e,r,t[r]);if(H1e)for(var r of H1e(t))PQe.call(t,r)&&lj(e,r,t[r]);return e},qF=(e,t)=>IQe(e,_Qe(t)),Br=(e,t,r)=>lj(e,typeof t!="symbol"?t+"":t,r),uj=class extends m9{constructor(t,r){super(t,r),this.relayer=t,this.logger=r,Br(this,"subscriptions",new Map),Br(this,"topicMap",new cj),Br(this,"events",new nf.EventEmitter),Br(this,"name",SYe),Br(this,"version",IYe),Br(this,"pending",new Map),Br(this,"cached",[]),Br(this,"initialized",!1),Br(this,"storagePrefix",Eu),Br(this,"subscribeTimeout",(0,Ye.toMiliseconds)(Ye.ONE_MINUTE)),Br(this,"initialSubscribeTimeout",(0,Ye.toMiliseconds)(Ye.ONE_SECOND*15)),Br(this,"clientId"),Br(this,"batchSubscribeTopicsLimit",500),Br(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),this.registerEventListeners(),await this.restore()),this.initialized=!0}),Br(this,"subscribe",async(n,s)=>{var o;this.isInitialized(),this.logger.debug("Subscribing Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:n,opts:s}});try{let i=Rv(s),a={topic:n,relay:i,transportType:s?.transportType};(o=s?.internal)!=null&&o.skipSubscribe||this.pending.set(n,a);let c=await this.rpcSubscribe(n,i,s);return typeof c=="string"&&(this.onSubscribe(c,a),this.logger.debug("Successfully Subscribed Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:n,opts:s}})),c}catch(i){throw this.logger.debug("Failed to Subscribe Topic"),this.logger.error(i),i}}),Br(this,"unsubscribe",async(n,s)=>{this.isInitialized(),typeof s?.id<"u"?await this.unsubscribeById(n,s.id,s):await this.unsubscribeByTopic(n,s)}),Br(this,"isSubscribed",n=>new Promise(s=>{s(this.topicMap.topics.includes(n))})),Br(this,"isKnownTopic",n=>new Promise(s=>{s(this.topicMap.topics.includes(n)||this.pending.has(n)||this.cached.some(o=>o.topic===n))})),Br(this,"on",(n,s)=>{this.events.on(n,s)}),Br(this,"once",(n,s)=>{this.events.once(n,s)}),Br(this,"off",(n,s)=>{this.events.off(n,s)}),Br(this,"removeListener",(n,s)=>{this.events.removeListener(n,s)}),Br(this,"start",async()=>{await this.onConnect()}),Br(this,"stop",async()=>{await this.onDisconnect()}),Br(this,"restart",async()=>{await this.restore(),await this.onRestart()}),Br(this,"checkPending",async()=>{if(this.pending.size===0&&(!this.initialized||!this.relayer.connected))return;let n=[];this.pending.forEach(s=>{n.push(s)}),await this.batchSubscribe(n)}),Br(this,"registerEventListeners",()=>{this.relayer.core.heartbeat.on(Lo.pulse,async()=>{await this.checkPending()}),this.events.on(La.created,async n=>{let s=La.created;this.logger.info(`Emitting ${s}`),this.logger.debug({type:"event",event:s,data:n}),await this.persist()}),this.events.on(La.deleted,async n=>{let s=La.deleted;this.logger.info(`Emitting ${s}`),this.logger.debug({type:"event",event:s,data:n}),await this.persist()})}),this.relayer=t,this.logger=_r(r,this.name),this.clientId=""}get context(){return ar(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.relayer.core.customStoragePrefix+"//"+this.name}get length(){return this.subscriptions.size}get ids(){return Array.from(this.subscriptions.keys())}get values(){return Array.from(this.subscriptions.values())}get topics(){return this.topicMap.topics}get hasAnyTopics(){return this.topicMap.topics.length>0||this.pending.size>0||this.cached.length>0||this.subscriptions.size>0}hasSubscription(t,r){let n=!1;try{n=this.getSubscription(t).topic===r}catch{}return n}reset(){this.cached=[],this.initialized=!0}onDisable(){this.values.length>0&&(this.cached=this.values),this.subscriptions.clear(),this.topicMap.clear()}async unsubscribeByTopic(t,r){let n=this.topicMap.get(t);await Promise.all(n.map(async s=>await this.unsubscribeById(t,s,r)))}async unsubscribeById(t,r,n){this.logger.debug("Unsubscribing Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:t,id:r,opts:n}});try{let s=Rv(n);await this.restartToComplete({topic:t,id:r,relay:s}),await this.rpcUnsubscribe(t,r,s);let o=kr("USER_DISCONNECTED",`${this.name}, ${t}`);await this.onUnsubscribe(t,r,o),this.logger.debug("Successfully Unsubscribed Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:t,id:r,opts:n}})}catch(s){throw this.logger.debug("Failed to Unsubscribe Topic"),this.logger.error(s),s}}async rpcSubscribe(t,r,n){var s,o;let i=await this.getSubscriptionId(t);if((s=n?.internal)!=null&&s.skipSubscribe)return i;(!n||n?.transportType===qr.relay)&&await this.restartToComplete({topic:t,id:t,relay:r});let a={method:Ng(r.protocol).subscribe,params:{topic:t}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:a});let c=(o=n?.internal)==null?void 0:o.throwOnFailedPublish;try{if(n?.transportType===qr.link_mode)return setTimeout(()=>{(this.relayer.connected||this.relayer.connecting)&&this.relayer.request(a).catch(d=>this.logger.warn(d))},(0,Ye.toMiliseconds)(Ye.ONE_SECOND)),i;let l=new Promise(async d=>{let p=f=>{f.topic===t&&(this.events.removeListener(La.created,p),d(f.id))};this.events.on(La.created,p);try{let f=await bl(new Promise((h,g)=>{this.relayer.request(a).catch(y=>{this.logger.warn(y,y?.message),g(y)}).then(h)}),this.initialSubscribeTimeout,`Subscribing to ${t} failed, please try again`);this.events.removeListener(La.created,p),d(f)}catch{}}),u=await bl(l,this.subscribeTimeout,`Subscribing to ${t} failed, please try again`);if(!u&&c)throw new Error(`Subscribing to ${t} failed, please try again`);return u?i:null}catch(l){if(this.logger.debug("Outgoing Relay Subscribe Payload stalled"),this.relayer.events.emit(Un.connection_stalled),c)throw l}return null}async rpcBatchSubscribe(t){if(!t.length)return;let r=t[0].relay,n={method:Ng(r.protocol).batchSubscribe,params:{topics:t.map(s=>s.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:n});try{await await bl(new Promise(s=>{this.relayer.request(n).catch(o=>this.logger.warn(o)).then(s)}),this.subscribeTimeout,"rpcBatchSubscribe failed, please try again")}catch{this.relayer.events.emit(Un.connection_stalled)}}async rpcBatchFetchMessages(t){if(!t.length)return;let r=t[0].relay,n={method:Ng(r.protocol).batchFetchMessages,params:{topics:t.map(o=>o.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:n});let s;try{s=await await bl(new Promise((o,i)=>{this.relayer.request(n).catch(a=>{this.logger.warn(a),i(a)}).then(o)}),this.subscribeTimeout,"rpcBatchFetchMessages failed, please try again")}catch{this.relayer.events.emit(Un.connection_stalled)}return s}rpcUnsubscribe(t,r,n){let s={method:Ng(n.protocol).unsubscribe,params:{topic:t,id:r}};return this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:s}),this.relayer.request(s)}onSubscribe(t,r){this.setSubscription(t,qF(Dv({},r),{id:t})),this.pending.delete(r.topic)}onBatchSubscribe(t){t.length&&t.forEach(r=>{this.setSubscription(r.id,Dv({},r)),this.pending.delete(r.topic)})}async onUnsubscribe(t,r,n){this.events.removeAllListeners(r),this.hasSubscription(r,t)&&this.deleteSubscription(r,n),await this.relayer.messages.del(t)}async setRelayerSubscriptions(t){await this.relayer.core.storage.setItem(this.storageKey,t)}async getRelayerSubscriptions(){return await this.relayer.core.storage.getItem(this.storageKey)}setSubscription(t,r){this.logger.debug("Setting subscription"),this.logger.trace({type:"method",method:"setSubscription",id:t,subscription:r}),this.addSubscription(t,r)}addSubscription(t,r){this.subscriptions.set(t,Dv({},r)),this.topicMap.set(r.topic,t),this.events.emit(La.created,r)}getSubscription(t){this.logger.debug("Getting subscription"),this.logger.trace({type:"method",method:"getSubscription",id:t});let r=this.subscriptions.get(t);if(!r){let{message:n}=Ce("NO_MATCHING_KEY",`${this.name}: ${t}`);throw new Error(n)}return r}deleteSubscription(t,r){this.logger.debug("Deleting subscription"),this.logger.trace({type:"method",method:"deleteSubscription",id:t,reason:r});let n=this.getSubscription(t);this.subscriptions.delete(t),this.topicMap.delete(n.topic,t),this.events.emit(La.deleted,qF(Dv({},n),{reason:r}))}async persist(){await this.setRelayerSubscriptions(this.values),this.events.emit(La.sync)}async onRestart(){if(this.cached.length){let t=[...this.cached],r=Math.ceil(this.cached.length/this.batchSubscribeTopicsLimit);for(let n=0;n<r;n++){let s=t.splice(0,this.batchSubscribeTopicsLimit);await this.batchSubscribe(s)}}this.events.emit(La.resubscribed)}async restore(){try{let t=await this.getRelayerSubscriptions();if(typeof t>"u"||!t.length)return;if(this.subscriptions.size&&!t.every(r=>{var n;return r.topic===((n=this.subscriptions.get(r.id))==null?void 0:n.topic)})){let{message:r}=Ce("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),this.logger.error(`${this.name}: ${JSON.stringify(this.values)}`),new Error(r)}this.cached=t,this.logger.debug(`Successfully Restored subscriptions for ${this.name}`),this.logger.trace({type:"method",method:"restore",subscriptions:this.values})}catch(t){this.logger.debug(`Failed to Restore subscriptions for ${this.name}`),this.logger.error(t)}}async batchSubscribe(t){t.length&&(await this.rpcBatchSubscribe(t),this.onBatchSubscribe(await Promise.all(t.map(async r=>qF(Dv({},r),{id:await this.getSubscriptionId(r.topic)})))))}async batchFetchMessages(t){if(!t.length)return;this.logger.trace(`Fetching batch messages for ${t.length} subscriptions`);let r=await this.rpcBatchFetchMessages(t);r&&r.messages&&(await X0e((0,Ye.toMiliseconds)(Ye.ONE_SECOND)),await this.relayer.handleBatchMessageEvents(r.messages))}async onConnect(){await this.restart(),this.reset()}onDisconnect(){this.onDisable()}isInitialized(){if(!this.initialized){let{message:t}=Ce("NOT_INITIALIZED",this.name);throw new Error(t)}}async restartToComplete(t){!this.relayer.connected&&!this.relayer.connecting&&(this.cached.push(t),await this.relayer.transportOpen())}async getClientId(){return this.clientId||(this.clientId=await this.relayer.core.crypto.getClientId()),this.clientId}async getSubscriptionId(t){return Wi(t+await this.getClientId())}},NQe=Object.defineProperty,$1e=Object.getOwnPropertySymbols,RQe=Object.prototype.hasOwnProperty,OQe=Object.prototype.propertyIsEnumerable,dj=(e,t,r)=>t in e?NQe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,F1e=(e,t)=>{for(var r in t||(t={}))RQe.call(t,r)&&dj(e,r,t[r]);if($1e)for(var r of $1e(t))OQe.call(t,r)&&dj(e,r,t[r]);return e},or=(e,t,r)=>dj(e,typeof t!="symbol"?t+"":t,r),pj=class extends f9{constructor(t){var r;super(t),or(this,"protocol","wc"),or(this,"version",2),or(this,"core"),or(this,"logger"),or(this,"events",new nf.EventEmitter),or(this,"provider"),or(this,"messages"),or(this,"subscriber"),or(this,"publisher"),or(this,"name",xYe),or(this,"transportExplicitlyClosed",!1),or(this,"initialized",!1),or(this,"connectionAttemptInProgress",!1),or(this,"relayUrl"),or(this,"projectId"),or(this,"packageName"),or(this,"bundleId"),or(this,"hasExperiencedNetworkDisruption",!1),or(this,"pingTimeout"),or(this,"heartBeatTimeout",(0,Ye.toMiliseconds)(Ye.THIRTY_SECONDS+Ye.FIVE_SECONDS)),or(this,"reconnectTimeout"),or(this,"connectPromise"),or(this,"reconnectInProgress",!1),or(this,"requestsInFlight",[]),or(this,"connectTimeout",(0,Ye.toMiliseconds)(Ye.ONE_SECOND*15)),or(this,"request",async n=>{var s,o;this.logger.debug("Publishing Request Payload");let i=n.id||Tn().toString();await this.toEstablishConnection();try{this.logger.trace({id:i,method:n.method,topic:(s=n.params)==null?void 0:s.topic},"relayer.request - publishing...");let a=`${i}:${((o=n.params)==null?void 0:o.tag)||""}`;this.requestsInFlight.push(a);let c=await this.provider.request(n);return this.requestsInFlight=this.requestsInFlight.filter(l=>l!==a),c}catch(a){throw this.logger.debug(`Failed to Publish Request: ${i}`),a}}),or(this,"resetPingTimeout",()=>{Av()&&(clearTimeout(this.pingTimeout),this.pingTimeout=setTimeout(()=>{var n,s,o,i;try{this.logger.debug({},"pingTimeout: Connection stalled, terminating..."),(i=(o=(s=(n=this.provider)==null?void 0:n.connection)==null?void 0:s.socket)==null?void 0:o.terminate)==null||i.call(o)}catch(a){this.logger.warn(a,a?.message)}},this.heartBeatTimeout))}),or(this,"onPayloadHandler",n=>{this.onProviderPayload(n),this.resetPingTimeout()}),or(this,"onConnectHandler",()=>{this.logger.warn({},"Relayer connected \u{1F6DC}"),this.startPingTimeout(),this.events.emit(Un.connect)}),or(this,"onDisconnectHandler",()=>{this.logger.warn({},"Relayer disconnected \u{1F6D1}"),this.requestsInFlight=[],this.onProviderDisconnect()}),or(this,"onProviderErrorHandler",n=>{this.logger.fatal(`Fatal socket error: ${n.message}`),this.events.emit(Un.error,n),this.logger.fatal("Fatal socket error received, closing transport"),this.transportClose()}),or(this,"registerProviderListeners",()=>{this.provider.on(mc.payload,this.onPayloadHandler),this.provider.on(mc.connect,this.onConnectHandler),this.provider.on(mc.disconnect,this.onDisconnectHandler),this.provider.on(mc.error,this.onProviderErrorHandler)}),this.core=t.core,this.logger=Yb({logger:(r=t.logger)!=null?r:bYe,name:this.name}),this.messages=new oj(this.logger,t.core),this.subscriber=new uj(this,this.logger),this.publisher=new aj(this,this.logger),this.projectId=t?.projectId,this.relayUrl=t?.relayUrl||tge,z0e()?this.packageName=fF():V0e()&&(this.bundleId=fF()),this.provider={}}async init(){this.logger.trace("Initialized"),this.registerEventListeners(),await Promise.all([this.messages.init(),this.subscriber.init()]),this.initialized=!0,this.transportOpen().catch(t=>this.logger.warn(t,t?.message))}get context(){return ar(this.logger)}get connected(){var t,r,n;return((n=(r=(t=this.provider)==null?void 0:t.connection)==null?void 0:r.socket)==null?void 0:n.readyState)===1||!1}get connecting(){var t,r,n;return((n=(r=(t=this.provider)==null?void 0:t.connection)==null?void 0:r.socket)==null?void 0:n.readyState)===0||this.connectPromise!==void 0||!1}async publish(t,r,n){this.isInitialized(),await this.publisher.publish(t,r,n),await this.recordMessageEvent({topic:t,message:r,publishedAt:Date.now(),transportType:qr.relay},N7.outbound)}async publishCustom(t){this.isInitialized(),await this.publisher.publishCustom(t)}async subscribe(t,r){var n,s,o;this.isInitialized(),(!(r!=null&&r.transportType)||r?.transportType==="relay")&&await this.toEstablishConnection();let i=typeof((n=r?.internal)==null?void 0:n.throwOnFailedPublish)>"u"?!0:(s=r?.internal)==null?void 0:s.throwOnFailedPublish,a=((o=this.subscriber.topicMap.get(t))==null?void 0:o[0])||"",c,l=u=>{u.topic===t&&(this.subscriber.off(La.created,l),c())};return await Promise.all([new Promise(u=>{c=u,this.subscriber.on(La.created,l)}),new Promise(async(u,d)=>{a=await this.subscriber.subscribe(t,F1e({internal:{throwOnFailedPublish:i}},r)).catch(p=>{i&&d(p)})||a,u()})]),a}async unsubscribe(t,r){this.isInitialized(),await this.subscriber.unsubscribe(t,r)}on(t,r){this.events.on(t,r)}once(t,r){this.events.once(t,r)}off(t,r){this.events.off(t,r)}removeListener(t,r){this.events.removeListener(t,r)}async transportDisconnect(){this.provider.disconnect&&(this.hasExperiencedNetworkDisruption||this.connected)?await bl(this.provider.disconnect(),2e3,"provider.disconnect()").catch(()=>this.onProviderDisconnect()):this.onProviderDisconnect()}async transportClose(){this.transportExplicitlyClosed=!0,await this.transportDisconnect()}async transportOpen(t){if(!this.subscriber.hasAnyTopics){this.logger.info("Starting WS connection skipped because the client has no topics to work with.");return}if(this.connectPromise?(this.logger.debug({},"Waiting for existing connection attempt to resolve..."),await this.connectPromise,this.logger.debug({},"Existing connection attempt resolved")):(this.connectPromise=new Promise(async(r,n)=>{await this.connect(t).then(r).catch(n).finally(()=>{this.connectPromise=void 0})}),await this.connectPromise),!this.connected)throw new Error(`Couldn't establish socket connection to the relay server: ${this.relayUrl}`)}async restartTransport(t){this.logger.debug({},"Restarting transport..."),!this.connectionAttemptInProgress&&(this.relayUrl=t||this.relayUrl,await this.confirmOnlineStateOrThrow(),await this.transportClose(),await this.transportOpen())}async confirmOnlineStateOrThrow(){if(!await zF())throw new Error("No internet connection detected. Please restart your network and try again.")}async handleBatchMessageEvents(t){if(t?.length===0){this.logger.trace("Batch message events is empty. Ignoring...");return}let r=t.sort((n,s)=>n.publishedAt-s.publishedAt);this.logger.debug(`Batch of ${r.length} message events sorted`);for(let n of r)try{await this.onMessageEvent(n)}catch(s){this.logger.warn(s,"Error while processing batch message event: "+s?.message)}this.logger.trace(`Batch of ${r.length} message events processed`)}async onLinkMessageEvent(t,r){let{topic:n}=t;if(!r.sessionExists){let s=mn(Ye.FIVE_MINUTES),o={topic:n,expiry:s,relay:{protocol:"irn"},active:!1};await this.core.pairing.pairings.set(n,o)}this.events.emit(Un.message,t),await this.recordMessageEvent(t,N7.inbound)}async connect(t){await this.confirmOnlineStateOrThrow(),t&&t!==this.relayUrl&&(this.relayUrl=t,await this.transportDisconnect()),this.connectionAttemptInProgress=!0,this.transportExplicitlyClosed=!1;let r=1;for(;r<6;){try{if(this.transportExplicitlyClosed)break;this.logger.debug({},`Connecting to ${this.relayUrl}, attempt: ${r}...`),await this.createProvider(),await new Promise(async(n,s)=>{let o=()=>{s(new Error("Connection interrupted while trying to connect"))};this.provider.once(mc.disconnect,o),await bl(new Promise((i,a)=>{this.provider.connect().then(i).catch(a)}),this.connectTimeout,`Socket stalled when trying to connect to ${this.relayUrl}`).catch(i=>{s(i)}).finally(()=>{this.provider.off(mc.disconnect,o),clearTimeout(this.reconnectTimeout)}),await new Promise(async(i,a)=>{let c=()=>{s(new Error("Connection interrupted while trying to subscribe"))};this.provider.once(mc.disconnect,c),await this.subscriber.start().then(i).catch(a).finally(()=>{this.provider.off(mc.disconnect,c)})}),this.hasExperiencedNetworkDisruption=!1,n()})}catch(n){await this.subscriber.stop();let s=n;this.logger.warn({},s.message),this.hasExperiencedNetworkDisruption=!0}finally{this.connectionAttemptInProgress=!1}if(this.connected){this.logger.debug({},`Connected to ${this.relayUrl} successfully on attempt: ${r}`);break}await new Promise(n=>setTimeout(n,(0,Ye.toMiliseconds)(r*1))),r++}}startPingTimeout(){var t,r,n,s,o;if(Av())try{(r=(t=this.provider)==null?void 0:t.connection)!=null&&r.socket&&((o=(s=(n=this.provider)==null?void 0:n.connection)==null?void 0:s.socket)==null||o.on("ping",()=>{this.resetPingTimeout()})),this.resetPingTimeout()}catch(i){this.logger.warn(i,i?.message)}}async createProvider(){this.provider.connection&&this.unregisterProviderListeners();let t=await this.core.crypto.signJWT(this.relayUrl);this.provider=new pa(new fy(W0e({sdkVersion:KF,protocol:this.protocol,version:this.version,relayUrl:this.relayUrl,projectId:this.projectId,auth:t,useOnCloseEvent:!0,bundleId:this.bundleId,packageName:this.packageName}))),this.registerProviderListeners()}async recordMessageEvent(t,r){let{topic:n,message:s}=t;await this.messages.set(n,s,r)}async shouldIgnoreMessageEvent(t){let{topic:r,message:n}=t;if(!n||n.length===0)return this.logger.warn(`Ignoring invalid/empty message: ${n}`),!0;if(!await this.subscriber.isKnownTopic(r))return this.logger.warn(`Ignoring message for unknown topic ${r}`),!0;let s=this.messages.has(r,n);return s&&this.logger.warn(`Ignoring duplicate message: ${n}`),s}async onProviderPayload(t){if(this.logger.debug("Incoming Relay Payload"),this.logger.trace({type:"payload",direction:"incoming",payload:t}),Fc(t)){if(!t.method.endsWith(vYe))return;let r=t.params,{topic:n,message:s,publishedAt:o,attestation:i}=r.data,a={topic:n,message:s,publishedAt:o,transportType:qr.relay,attestation:i};this.logger.debug("Emitting Relayer Payload"),this.logger.trace(F1e({type:"event",event:r.id},a)),this.events.emit(r.id,a),await this.acknowledgePayload(t),await this.onMessageEvent(a)}else ua(t)&&this.events.emit(Un.message_ack,t)}async onMessageEvent(t){await this.shouldIgnoreMessageEvent(t)||(await this.recordMessageEvent(t,N7.inbound),this.events.emit(Un.message,t))}async acknowledgePayload(t){let r=ds(t.id,!0);await this.provider.connection.send(r)}unregisterProviderListeners(){this.provider.off(mc.payload,this.onPayloadHandler),this.provider.off(mc.connect,this.onConnectHandler),this.provider.off(mc.disconnect,this.onDisconnectHandler),this.provider.off(mc.error,this.onProviderErrorHandler),clearTimeout(this.pingTimeout)}async registerEventListeners(){let t=await zF();S1e(async r=>{t!==r&&(t=r,r?await this.transportOpen().catch(n=>this.logger.error(n,n?.message)):(this.hasExperiencedNetworkDisruption=!0,await this.transportDisconnect(),this.transportExplicitlyClosed=!1))}),this.core.heartbeat.on(Lo.pulse,async()=>{if(!this.transportExplicitlyClosed&&!this.connected&&I1e())try{await this.confirmOnlineStateOrThrow(),await this.transportOpen()}catch(r){this.logger.warn(r,r?.message)}})}async onProviderDisconnect(){clearTimeout(this.pingTimeout),this.events.emit(Un.disconnect),this.connectionAttemptInProgress=!1,!this.reconnectInProgress&&(this.reconnectInProgress=!0,await this.subscriber.stop(),this.subscriber.hasAnyTopics&&(this.transportExplicitlyClosed||(this.reconnectTimeout=setTimeout(async()=>{await this.transportOpen().catch(t=>this.logger.error(t,t?.message)),this.reconnectTimeout=void 0,this.reconnectInProgress=!1},(0,Ye.toMiliseconds)(EYe)))))}isInitialized(){if(!this.initialized){let{message:t}=Ce("NOT_INITIALIZED",this.name);throw new Error(t)}}async toEstablishConnection(){if(await this.confirmOnlineStateOrThrow(),!this.connected){if(this.connectPromise){await this.connectPromise;return}await this.connect()}}};BQe="[object RegExp]",DQe="[object String]",UQe="[object Number]",LQe="[object Boolean]",V1e="[object Arguments]",MQe="[object Symbol]",HQe="[object Date]",$Qe="[object Map]",FQe="[object Set]",jQe="[object Array]",zQe="[object Function]",VQe="[object ArrayBuffer]",WF="[object Object]",qQe="[object Error]",WQe="[object DataView]",KQe="[object Uint8Array]",ZQe="[object Uint8ClampedArray]",GQe="[object Uint16Array]",YQe="[object Uint32Array]",JQe="[object BigUint64Array]",QQe="[object Int8Array]",XQe="[object Int16Array]",eXe="[object Int32Array]",tXe="[object BigInt64Array]",rXe="[object Float32Array]",nXe="[object Float64Array]";aXe=Object.defineProperty,W1e=Object.getOwnPropertySymbols,cXe=Object.prototype.hasOwnProperty,lXe=Object.prototype.propertyIsEnumerable,fj=(e,t,r)=>t in e?aXe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,K1e=(e,t)=>{for(var r in t||(t={}))cXe.call(t,r)&&fj(e,r,t[r]);if(W1e)for(var r of W1e(t))lXe.call(t,r)&&fj(e,r,t[r]);return e},Ki=(e,t,r)=>fj(e,typeof t!="symbol"?t+"":t,r),Au=class extends h9{constructor(t,r,n,s=Eu,o=void 0){super(t,r,n,s),this.core=t,this.logger=r,this.name=n,Ki(this,"map",new Map),Ki(this,"version",AYe),Ki(this,"cached",[]),Ki(this,"initialized",!1),Ki(this,"getKey"),Ki(this,"storagePrefix",Eu),Ki(this,"recentlyDeleted",[]),Ki(this,"recentlyDeletedLimit",200),Ki(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(i=>{this.getKey&&i!==null&&!Dn(i)?this.map.set(this.getKey(i),i):d1e(i)?this.map.set(i.id,i):p1e(i)&&this.map.set(i.topic,i)}),this.cached=[],this.initialized=!0)}),Ki(this,"set",async(i,a)=>{this.isInitialized(),this.map.has(i)?await this.update(i,a):(this.logger.debug("Setting value"),this.logger.trace({type:"method",method:"set",key:i,value:a}),this.map.set(i,a),await this.persist())}),Ki(this,"get",i=>(this.isInitialized(),this.logger.debug("Getting value"),this.logger.trace({type:"method",method:"get",key:i}),this.getData(i))),Ki(this,"getAll",i=>(this.isInitialized(),i?this.values.filter(a=>Object.keys(i).every(c=>iXe(a[c],i[c]))):this.values)),Ki(this,"update",async(i,a)=>{this.isInitialized(),this.logger.debug("Updating value"),this.logger.trace({type:"method",method:"update",key:i,update:a});let c=K1e(K1e({},this.getData(i)),a);this.map.set(i,c),await this.persist()}),Ki(this,"delete",async(i,a)=>{this.isInitialized(),this.map.has(i)&&(this.logger.debug("Deleting value"),this.logger.trace({type:"method",method:"delete",key:i,reason:a}),this.map.delete(i),this.addToRecentlyDeleted(i),await this.persist())}),this.logger=_r(r,this.name),this.storagePrefix=s,this.getKey=o}get context(){return ar(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.map.size}get keys(){return Array.from(this.map.keys())}get values(){return Array.from(this.map.values())}addToRecentlyDeleted(t){this.recentlyDeleted.push(t),this.recentlyDeleted.length>=this.recentlyDeletedLimit&&this.recentlyDeleted.splice(0,this.recentlyDeletedLimit/2)}async setDataStore(t){await this.core.storage.setItem(this.storageKey,t)}async getDataStore(){return await this.core.storage.getItem(this.storageKey)}getData(t){let r=this.map.get(t);if(!r){if(this.recentlyDeleted.includes(t)){let{message:s}=Ce("MISSING_OR_INVALID",`Record was recently deleted - ${this.name}: ${t}`);throw this.logger.error(s),new Error(s)}let{message:n}=Ce("NO_MATCHING_KEY",`${this.name}: ${t}`);throw this.logger.error(n),new Error(n)}return r}async persist(){await this.setDataStore(this.values)}async restore(){try{let t=await this.getDataStore();if(typeof t>"u"||!t.length)return;if(this.map.size){let{message:r}=Ce("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),new Error(r)}this.cached=t,this.logger.debug(`Successfully Restored value for ${this.name}`),this.logger.trace({type:"method",method:"restore",value:this.values})}catch(t){this.logger.debug(`Failed to Restore value for ${this.name}`),this.logger.error(t)}}isInitialized(){if(!this.initialized){let{message:t}=Ce("NOT_INITIALIZED",this.name);throw new Error(t)}}},uXe=Object.defineProperty,dXe=(e,t,r)=>t in e?uXe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Wt=(e,t,r)=>dXe(e,typeof t!="symbol"?t+"":t,r),hj=class{constructor(t,r){this.core=t,this.logger=r,Wt(this,"name",_Ye),Wt(this,"version",TYe),Wt(this,"events",new nf.default),Wt(this,"pairings"),Wt(this,"initialized",!1),Wt(this,"storagePrefix",Eu),Wt(this,"ignoredPayloadTypes",[xl]),Wt(this,"registeredMethods",[]),Wt(this,"init",async()=>{this.initialized||(await this.pairings.init(),await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.initialized=!0,this.logger.trace("Initialized"))}),Wt(this,"register",({methods:n})=>{this.isInitialized(),this.registeredMethods=[...new Set([...this.registeredMethods,...n])]}),Wt(this,"create",async n=>{this.isInitialized();let s=_7(),o=await this.core.crypto.setSymKey(s),i=mn(Ye.FIVE_MINUTES),a={protocol:Aj},c={topic:o,expiry:i,relay:a,active:!1,methods:n?.methods},l=UF({protocol:this.core.protocol,version:this.core.version,topic:o,symKey:s,relay:a,expiryTimestamp:i,methods:n?.methods});return this.events.emit(fm.create,c),this.core.expirer.set(o,i),await this.pairings.set(o,c),await this.core.relayer.subscribe(o,{transportType:n?.transportType,internal:n?.internal}),{topic:o,uri:l}}),Wt(this,"pair",async n=>{this.isInitialized();let s=this.core.eventClient.createEvent({properties:{topic:n?.uri,trace:[Al.pairing_started]}});this.isValidPair(n,s);let{topic:o,symKey:i,relay:a,expiryTimestamp:c,methods:l}=DF(n.uri);s.props.properties.topic=o,s.addTrace(Al.pairing_uri_validation_success),s.addTrace(Al.pairing_uri_not_expired);let u;if(this.pairings.keys.includes(o)){if(u=this.pairings.get(o),s.addTrace(Al.existing_pairing),u.active)throw s.setError(vu.active_pairing_already_exists),new Error(`Pairing already exists: ${o}. Please try again with a new connection URI.`);s.addTrace(Al.pairing_not_expired)}let d=c||mn(Ye.FIVE_MINUTES),p={topic:o,relay:a,expiry:d,active:!1,methods:l};this.core.expirer.set(o,d),await this.pairings.set(o,p),s.addTrace(Al.store_new_pairing),n.activatePairing&&await this.activate({topic:o}),this.events.emit(fm.create,p),s.addTrace(Al.emit_inactive_pairing),this.core.crypto.keychain.has(o)||await this.core.crypto.setSymKey(i,o),s.addTrace(Al.subscribing_pairing_topic);try{await this.core.relayer.confirmOnlineStateOrThrow()}catch{s.setError(vu.no_internet_connection)}try{await this.core.relayer.subscribe(o,{relay:a})}catch(f){throw s.setError(vu.subscribe_pairing_topic_failure),f}return s.addTrace(Al.subscribe_pairing_topic_success),p}),Wt(this,"activate",async({topic:n})=>{this.isInitialized();let s=mn(Ye.FIVE_MINUTES);this.core.expirer.set(n,s),await this.pairings.update(n,{active:!0,expiry:s})}),Wt(this,"ping",async n=>{this.isInitialized(),await this.isValidPing(n),this.logger.warn("ping() is deprecated and will be removed in the next major release.");let{topic:s}=n;if(this.pairings.keys.includes(s)){let o=await this.sendRequest(s,"wc_pairingPing",{}),{done:i,resolve:a,reject:c}=tf();this.events.once(dr("pairing_ping",o),({error:l})=>{l?c(l):a()}),await i()}}),Wt(this,"updateExpiry",async({topic:n,expiry:s})=>{this.isInitialized(),await this.pairings.update(n,{expiry:s})}),Wt(this,"updateMetadata",async({topic:n,metadata:s})=>{this.isInitialized(),await this.pairings.update(n,{peerMetadata:s})}),Wt(this,"getPairings",()=>(this.isInitialized(),this.pairings.values)),Wt(this,"disconnect",async n=>{this.isInitialized(),await this.isValidDisconnect(n);let{topic:s}=n;this.pairings.keys.includes(s)&&(await this.sendRequest(s,"wc_pairingDelete",kr("USER_DISCONNECTED")),await this.deletePairing(s))}),Wt(this,"formatUriFromPairing",n=>{this.isInitialized();let{topic:s,relay:o,expiry:i,methods:a}=n,c=this.core.crypto.keychain.get(s);return UF({protocol:this.core.protocol,version:this.core.version,topic:s,symKey:c,relay:o,expiryTimestamp:i,methods:a})}),Wt(this,"sendRequest",async(n,s,o)=>{let i=fr(s,o),a=await this.core.crypto.encode(n,i),c=Bv[s].req;return this.core.history.set(n,i),this.core.relayer.publish(n,a,c),i.id}),Wt(this,"sendResult",async(n,s,o)=>{let i=ds(n,o),a=await this.core.crypto.encode(s,i),c=(await this.core.history.get(s,n)).request.method,l=Bv[c].res;await this.core.relayer.publish(s,a,l),await this.core.history.resolve(i)}),Wt(this,"sendError",async(n,s,o)=>{let i=la(n,o),a=await this.core.crypto.encode(s,i),c=(await this.core.history.get(s,n)).request.method,l=Bv[c]?Bv[c].res:Bv.unregistered_method.res;await this.core.relayer.publish(s,a,l),await this.core.history.resolve(i)}),Wt(this,"deletePairing",async(n,s)=>{await this.core.relayer.unsubscribe(n),await Promise.all([this.pairings.delete(n,kr("USER_DISCONNECTED")),this.core.crypto.deleteSymKey(n),s?Promise.resolve():this.core.expirer.del(n)])}),Wt(this,"cleanup",async()=>{let n=this.pairings.getAll().filter(s=>Da(s.expiry));await Promise.all(n.map(s=>this.deletePairing(s.topic)))}),Wt(this,"onRelayEventRequest",async n=>{let{topic:s,payload:o}=n;switch(o.method){case"wc_pairingPing":return await this.onPairingPingRequest(s,o);case"wc_pairingDelete":return await this.onPairingDeleteRequest(s,o);default:return await this.onUnknownRpcMethodRequest(s,o)}}),Wt(this,"onRelayEventResponse",async n=>{let{topic:s,payload:o}=n,i=(await this.core.history.get(s,o.id)).request.method;return i==="wc_pairingPing"?this.onPairingPingResponse(s,o):this.onUnknownRpcMethodResponse(i)}),Wt(this,"onPairingPingRequest",async(n,s)=>{let{id:o}=s;try{this.isValidPing({topic:n}),await this.sendResult(o,n,!0),this.events.emit(fm.ping,{id:o,topic:n})}catch(i){await this.sendError(o,n,i),this.logger.error(i)}}),Wt(this,"onPairingPingResponse",(n,s)=>{let{id:o}=s;setTimeout(()=>{Qr(s)?this.events.emit(dr("pairing_ping",o),{}):Tr(s)&&this.events.emit(dr("pairing_ping",o),{error:s.error})},500)}),Wt(this,"onPairingDeleteRequest",async(n,s)=>{let{id:o}=s;try{this.isValidDisconnect({topic:n}),await this.deletePairing(n),this.events.emit(fm.delete,{id:o,topic:n})}catch(i){await this.sendError(o,n,i),this.logger.error(i)}}),Wt(this,"onUnknownRpcMethodRequest",async(n,s)=>{let{id:o,method:i}=s;try{if(this.registeredMethods.includes(i))return;let a=kr("WC_METHOD_UNSUPPORTED",i);await this.sendError(o,n,a),this.logger.error(a)}catch(a){await this.sendError(o,n,a),this.logger.error(a)}}),Wt(this,"onUnknownRpcMethodResponse",n=>{this.registeredMethods.includes(n)||this.logger.error(kr("WC_METHOD_UNSUPPORTED",n))}),Wt(this,"isValidPair",(n,s)=>{var o;if(!Eo(n)){let{message:a}=Ce("MISSING_OR_INVALID",`pair() params: ${n}`);throw s.setError(vu.malformed_pairing_uri),new Error(a)}if(!u1e(n.uri)){let{message:a}=Ce("MISSING_OR_INVALID",`pair() uri: ${n.uri}`);throw s.setError(vu.malformed_pairing_uri),new Error(a)}let i=DF(n?.uri);if(!((o=i?.relay)!=null&&o.protocol)){let{message:a}=Ce("MISSING_OR_INVALID","pair() uri#relay-protocol");throw s.setError(vu.malformed_pairing_uri),new Error(a)}if(!(i!=null&&i.symKey)){let{message:a}=Ce("MISSING_OR_INVALID","pair() uri#symKey");throw s.setError(vu.malformed_pairing_uri),new Error(a)}if(i!=null&&i.expiryTimestamp&&(0,Ye.toMiliseconds)(i?.expiryTimestamp)<Date.now()){s.setError(vu.pairing_expired);let{message:a}=Ce("EXPIRED","pair() URI has expired. Please try again with a new connection URI.");throw new Error(a)}}),Wt(this,"isValidPing",async n=>{if(!Eo(n)){let{message:o}=Ce("MISSING_OR_INVALID",`ping() params: ${n}`);throw new Error(o)}let{topic:s}=n;await this.isValidPairingTopic(s)}),Wt(this,"isValidDisconnect",async n=>{if(!Eo(n)){let{message:o}=Ce("MISSING_OR_INVALID",`disconnect() params: ${n}`);throw new Error(o)}let{topic:s}=n;await this.isValidPairingTopic(s)}),Wt(this,"isValidPairingTopic",async n=>{if(!Cn(n,!1)){let{message:s}=Ce("MISSING_OR_INVALID",`pairing topic should be a string: ${n}`);throw new Error(s)}if(!this.pairings.keys.includes(n)){let{message:s}=Ce("NO_MATCHING_KEY",`pairing topic doesn't exist: ${n}`);throw new Error(s)}if(Da(this.pairings.get(n).expiry)){await this.deletePairing(n);let{message:s}=Ce("EXPIRED",`pairing topic: ${n}`);throw new Error(s)}}),this.core=t,this.logger=_r(r,this.name),this.pairings=new Au(this.core,this.logger,this.name,this.storagePrefix)}get context(){return ar(this.logger)}isInitialized(){if(!this.initialized){let{message:t}=Ce("NOT_INITIALIZED",this.name);throw new Error(t)}}registerRelayerEvents(){this.core.relayer.on(Un.message,async t=>{let{topic:r,message:n,transportType:s}=t;if(this.pairings.keys.includes(r)&&s!==qr.link_mode&&!this.ignoredPayloadTypes.includes(this.core.crypto.getPayloadType(n)))try{let o=await this.core.crypto.decode(r,n);Fc(o)?(this.core.history.set(r,o),await this.onRelayEventRequest({topic:r,payload:o})):ua(o)&&(await this.core.history.resolve(o),await this.onRelayEventResponse({topic:r,payload:o}),this.core.history.delete(r,o.id)),await this.core.relayer.messages.ack(r,n)}catch(o){this.logger.error(o)}})}registerExpirerEvents(){this.core.expirer.on(Ma.expired,async t=>{let{topic:r}=y7(t.target);r&&this.pairings.keys.includes(r)&&(await this.deletePairing(r,!0),this.events.emit(fm.expire,{topic:r}))})}},pXe=Object.defineProperty,fXe=(e,t,r)=>t in e?pXe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Ls=(e,t,r)=>fXe(e,typeof t!="symbol"?t+"":t,r),mj=class extends u9{constructor(t,r){super(t,r),this.core=t,this.logger=r,Ls(this,"records",new Map),Ls(this,"events",new nf.EventEmitter),Ls(this,"name",PYe),Ls(this,"version",NYe),Ls(this,"cached",[]),Ls(this,"initialized",!1),Ls(this,"storagePrefix",Eu),Ls(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(n=>this.records.set(n.id,n)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),Ls(this,"set",(n,s,o)=>{if(this.isInitialized(),this.logger.debug("Setting JSON-RPC request history record"),this.logger.trace({type:"method",method:"set",topic:n,request:s,chainId:o}),this.records.has(s.id))return;let i={id:s.id,topic:n,request:{method:s.method,params:s.params||null},chainId:o,expiry:mn(Ye.THIRTY_DAYS)};this.records.set(i.id,i),this.persist(),this.events.emit(El.created,i)}),Ls(this,"resolve",async n=>{if(this.isInitialized(),this.logger.debug("Updating JSON-RPC response history record"),this.logger.trace({type:"method",method:"update",response:n}),!this.records.has(n.id))return;let s=await this.getRecord(n.id);typeof s.response>"u"&&(s.response=Tr(n)?{error:n.error}:{result:n.result},this.records.set(s.id,s),this.persist(),this.events.emit(El.updated,s))}),Ls(this,"get",async(n,s)=>(this.isInitialized(),this.logger.debug("Getting record"),this.logger.trace({type:"method",method:"get",topic:n,id:s}),await this.getRecord(s))),Ls(this,"delete",(n,s)=>{this.isInitialized(),this.logger.debug("Deleting record"),this.logger.trace({type:"method",method:"delete",id:s}),this.values.forEach(o=>{if(o.topic===n){if(typeof s<"u"&&o.id!==s)return;this.records.delete(o.id),this.events.emit(El.deleted,o)}}),this.persist()}),Ls(this,"exists",async(n,s)=>(this.isInitialized(),this.records.has(s)?(await this.getRecord(s)).topic===n:!1)),Ls(this,"on",(n,s)=>{this.events.on(n,s)}),Ls(this,"once",(n,s)=>{this.events.once(n,s)}),Ls(this,"off",(n,s)=>{this.events.off(n,s)}),Ls(this,"removeListener",(n,s)=>{this.events.removeListener(n,s)}),this.logger=_r(r,this.name)}get context(){return ar(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get size(){return this.records.size}get keys(){return Array.from(this.records.keys())}get values(){return Array.from(this.records.values())}get pending(){let t=[];return this.values.forEach(r=>{if(typeof r.response<"u")return;let n={topic:r.topic,request:fr(r.request.method,r.request.params,r.id),chainId:r.chainId};return t.push(n)}),t}async setJsonRpcRecords(t){await this.core.storage.setItem(this.storageKey,t)}async getJsonRpcRecords(){return await this.core.storage.getItem(this.storageKey)}getRecord(t){this.isInitialized();let r=this.records.get(t);if(!r){let{message:n}=Ce("NO_MATCHING_KEY",`${this.name}: ${t}`);throw new Error(n)}return r}async persist(){await this.setJsonRpcRecords(this.values),this.events.emit(El.sync)}async restore(){try{let t=await this.getJsonRpcRecords();if(typeof t>"u"||!t.length)return;if(this.records.size){let{message:r}=Ce("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),new Error(r)}this.cached=t,this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",records:this.values})}catch(t){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(t)}}registerEventListeners(){this.events.on(El.created,t=>{let r=El.created;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,record:t})}),this.events.on(El.updated,t=>{let r=El.updated;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,record:t})}),this.events.on(El.deleted,t=>{let r=El.deleted;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,record:t})}),this.core.heartbeat.on(Lo.pulse,()=>{this.cleanup()})}cleanup(){try{this.isInitialized();let t=!1;this.records.forEach(r=>{(0,Ye.toMiliseconds)(r.expiry||0)-Date.now()<=0&&(this.logger.info(`Deleting expired history log: ${r.id}`),this.records.delete(r.id),this.events.emit(El.deleted,r,!1),t=!0)}),t&&this.persist()}catch(t){this.logger.warn(t)}}isInitialized(){if(!this.initialized){let{message:t}=Ce("NOT_INITIALIZED",this.name);throw new Error(t)}}},hXe=Object.defineProperty,mXe=(e,t,r)=>t in e?hXe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Ao=(e,t,r)=>mXe(e,typeof t!="symbol"?t+"":t,r),gj=class extends g9{constructor(t,r){super(t,r),this.core=t,this.logger=r,Ao(this,"expirations",new Map),Ao(this,"events",new nf.EventEmitter),Ao(this,"name",RYe),Ao(this,"version",OYe),Ao(this,"cached",[]),Ao(this,"initialized",!1),Ao(this,"storagePrefix",Eu),Ao(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(n=>this.expirations.set(n.target,n)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),Ao(this,"has",n=>{try{let s=this.formatTarget(n);return typeof this.getExpiration(s)<"u"}catch{return!1}}),Ao(this,"set",(n,s)=>{this.isInitialized();let o=this.formatTarget(n),i={target:o,expiry:s};this.expirations.set(o,i),this.checkExpiry(o,i),this.events.emit(Ma.created,{target:o,expiration:i})}),Ao(this,"get",n=>{this.isInitialized();let s=this.formatTarget(n);return this.getExpiration(s)}),Ao(this,"del",n=>{if(this.isInitialized(),this.has(n)){let s=this.formatTarget(n),o=this.getExpiration(s);this.expirations.delete(s),this.events.emit(Ma.deleted,{target:s,expiration:o})}}),Ao(this,"on",(n,s)=>{this.events.on(n,s)}),Ao(this,"once",(n,s)=>{this.events.once(n,s)}),Ao(this,"off",(n,s)=>{this.events.off(n,s)}),Ao(this,"removeListener",(n,s)=>{this.events.removeListener(n,s)}),this.logger=_r(r,this.name)}get context(){return ar(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.expirations.size}get keys(){return Array.from(this.expirations.keys())}get values(){return Array.from(this.expirations.values())}formatTarget(t){if(typeof t=="string")return Z0e(t);if(typeof t=="number")return G0e(t);let{message:r}=Ce("UNKNOWN_TYPE",`Target type: ${typeof t}`);throw new Error(r)}async setExpirations(t){await this.core.storage.setItem(this.storageKey,t)}async getExpirations(){return await this.core.storage.getItem(this.storageKey)}async persist(){await this.setExpirations(this.values),this.events.emit(Ma.sync)}async restore(){try{let t=await this.getExpirations();if(typeof t>"u"||!t.length)return;if(this.expirations.size){let{message:r}=Ce("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),new Error(r)}this.cached=t,this.logger.debug(`Successfully Restored expirations for ${this.name}`),this.logger.trace({type:"method",method:"restore",expirations:this.values})}catch(t){this.logger.debug(`Failed to Restore expirations for ${this.name}`),this.logger.error(t)}}getExpiration(t){let r=this.expirations.get(t);if(!r){let{message:n}=Ce("NO_MATCHING_KEY",`${this.name}: ${t}`);throw this.logger.warn(n),new Error(n)}return r}checkExpiry(t,r){let{expiry:n}=r;(0,Ye.toMiliseconds)(n)-Date.now()<=0&&this.expire(t,r)}expire(t,r){this.expirations.delete(t),this.events.emit(Ma.expired,{target:t,expiration:r})}checkExpirations(){this.core.relayer.connected&&this.expirations.forEach((t,r)=>this.checkExpiry(r,t))}registerEventListeners(){this.core.heartbeat.on(Lo.pulse,()=>this.checkExpirations()),this.events.on(Ma.created,t=>{let r=Ma.created;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:t}),this.persist()}),this.events.on(Ma.expired,t=>{let r=Ma.expired;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:t}),this.persist()}),this.events.on(Ma.deleted,t=>{let r=Ma.deleted;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:t}),this.persist()})}isInitialized(){if(!this.initialized){let{message:t}=Ce("NOT_INITIALIZED",this.name);throw new Error(t)}}},gXe=Object.defineProperty,yXe=(e,t,r)=>t in e?gXe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,qn=(e,t,r)=>yXe(e,typeof t!="symbol"?t+"":t,r),yj=class extends y9{constructor(t,r,n){super(t,r,n),this.core=t,this.logger=r,this.store=n,qn(this,"name",kYe),qn(this,"abortController"),qn(this,"isDevEnv"),qn(this,"verifyUrlV3",DYe),qn(this,"storagePrefix",Eu),qn(this,"version",ege),qn(this,"publicKey"),qn(this,"fetchPromise"),qn(this,"init",async()=>{var s;this.isDevEnv||(this.publicKey=await this.store.getItem(this.storeKey),this.publicKey&&(0,Ye.toMiliseconds)((s=this.publicKey)==null?void 0:s.expiresAt)<Date.now()&&(this.logger.debug("verify v2 public key expired"),await this.removePublicKey()))}),qn(this,"register",async s=>{if(!Tg()||this.isDevEnv)return;let o=window.location.origin,{id:i,decryptedId:a}=s,c=`${this.verifyUrlV3}/attestation?projectId=${this.core.projectId}&origin=${o}&id=${i}&decryptedId=${a}`;try{let l=(0,Q1e.getDocument)(),u=this.startAbortTimer(Ye.ONE_SECOND*5),d=await new Promise((p,f)=>{let h=()=>{window.removeEventListener("message",y),l.body.removeChild(g),f("attestation aborted")};this.abortController.signal.addEventListener("abort",h);let g=l.createElement("iframe");g.src=c,g.style.display="none",g.addEventListener("error",h,{signal:this.abortController.signal});let y=E=>{if(E.data&&typeof E.data=="string")try{let A=JSON.parse(E.data);if(A.type==="verify_attestation"){if(Ul(A.attestation).payload.id!==i)return;clearInterval(u),l.body.removeChild(g),this.abortController.signal.removeEventListener("abort",h),window.removeEventListener("message",y),p(A.attestation===null?"":A.attestation)}}catch(A){this.logger.warn(A)}};l.body.appendChild(g),window.addEventListener("message",y,{signal:this.abortController.signal})});return this.logger.debug(d,"jwt attestation"),d}catch(l){this.logger.warn(l)}return""}),qn(this,"resolve",async s=>{if(this.isDevEnv)return"";let{attestationId:o,hash:i,encryptedId:a}=s;if(o===""){this.logger.debug("resolve: attestationId is empty, skipping");return}if(o){if(Ul(o).payload.id!==a)return;let l=await this.isValidJwtAttestation(o);if(l){if(!l.isVerified){this.logger.warn("resolve: jwt attestation: origin url not verified");return}return l}}if(!i)return;let c=this.getVerifyUrl(s?.verifyUrl);return this.fetchAttestation(i,c)}),qn(this,"fetchAttestation",async(s,o)=>{this.logger.debug(`resolving attestation: ${s} from url: ${o}`);let i=this.startAbortTimer(Ye.ONE_SECOND*5),a=await fetch(`${o}/attestation/${s}?v2Supported=true`,{signal:this.abortController.signal});return clearTimeout(i),a.status===200?await a.json():void 0}),qn(this,"getVerifyUrl",s=>{let o=s||Xb;return UYe.includes(o)||(this.logger.info(`verify url: ${o}, not included in trusted list, assigning default: ${Xb}`),o=Xb),o}),qn(this,"fetchPublicKey",async()=>{try{this.logger.debug(`fetching public key from: ${this.verifyUrlV3}`);let s=this.startAbortTimer(Ye.FIVE_SECONDS),o=await fetch(`${this.verifyUrlV3}/public-key`,{signal:this.abortController.signal});return clearTimeout(s),await o.json()}catch(s){this.logger.warn(s)}}),qn(this,"persistPublicKey",async s=>{this.logger.debug(s,"persisting public key to local storage"),await this.store.setItem(this.storeKey,s),this.publicKey=s}),qn(this,"removePublicKey",async()=>{this.logger.debug("removing verify v2 public key from storage"),await this.store.removeItem(this.storeKey),this.publicKey=void 0}),qn(this,"isValidJwtAttestation",async s=>{let o=await this.getPublicKey();try{if(o)return this.validateAttestation(s,o)}catch(a){this.logger.error(a),this.logger.warn("error validating attestation")}let i=await this.fetchAndPersistPublicKey();try{if(i)return this.validateAttestation(s,i)}catch(a){this.logger.error(a),this.logger.warn("error validating attestation")}}),qn(this,"getPublicKey",async()=>this.publicKey?this.publicKey:await this.fetchAndPersistPublicKey()),qn(this,"fetchAndPersistPublicKey",async()=>{if(this.fetchPromise)return await this.fetchPromise,this.publicKey;this.fetchPromise=new Promise(async o=>{let i=await this.fetchPublicKey();i&&(await this.persistPublicKey(i),o(i))});let s=await this.fetchPromise;return this.fetchPromise=void 0,s}),qn(this,"validateAttestation",(s,o)=>{let i=o1e(s,o.publicKey),a={hasExpired:(0,Ye.toMiliseconds)(i.exp)<Date.now(),payload:i};if(a.hasExpired)throw this.logger.warn("resolve: jwt attestation expired"),new Error("JWT attestation expired");return{origin:a.payload.origin,isScam:a.payload.isScam,isVerified:a.payload.isVerified}}),this.logger=_r(r,this.name),this.abortController=new AbortController,this.isDevEnv=Sv(),this.init()}get storeKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//verify:public:key"}get context(){return ar(this.logger)}startAbortTimer(t){return this.abortController=new AbortController,setTimeout(()=>this.abortController.abort(),(0,Ye.toMiliseconds)(t))}},wXe=Object.defineProperty,bXe=(e,t,r)=>t in e?wXe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Z1e=(e,t,r)=>bXe(e,typeof t!="symbol"?t+"":t,r),wj=class extends w9{constructor(t,r){super(t,r),this.projectId=t,this.logger=r,Z1e(this,"context",LYe),Z1e(this,"registerDeviceToken",async n=>{let{clientId:s,token:o,notificationType:i,enableEncrypted:a=!1}=n,c=`${MYe}/${this.projectId}/clients`;await fetch(c,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:s,type:i,token:o,always_raw:a})})}),this.logger=_r(r,this.context)}},xXe=Object.defineProperty,G1e=Object.getOwnPropertySymbols,vXe=Object.prototype.hasOwnProperty,EXe=Object.prototype.propertyIsEnumerable,bj=(e,t,r)=>t in e?xXe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Uv=(e,t)=>{for(var r in t||(t={}))vXe.call(t,r)&&bj(e,r,t[r]);if(G1e)for(var r of G1e(t))EXe.call(t,r)&&bj(e,r,t[r]);return e},Ss=(e,t,r)=>bj(e,typeof t!="symbol"?t+"":t,r),xj=class extends b9{constructor(t,r,n=!0){super(t,r,n),this.core=t,this.logger=r,Ss(this,"context",$Ye),Ss(this,"storagePrefix",Eu),Ss(this,"storageVersion",HYe),Ss(this,"events",new Map),Ss(this,"shouldPersist",!1),Ss(this,"init",async()=>{if(!Sv())try{let s={eventId:yF(),timestamp:Date.now(),domain:this.getAppDomain(),props:{event:"INIT",type:"",properties:{client_id:await this.core.crypto.getClientId(),user_agent:mF(this.core.relayer.protocol,this.core.relayer.version,KF)}}};await this.sendEvent([s])}catch(s){this.logger.warn(s)}}),Ss(this,"createEvent",s=>{let{event:o="ERROR",type:i="",properties:{topic:a,trace:c}}=s,l=yF(),u=this.core.projectId||"",d=Date.now(),p=Uv({eventId:l,timestamp:d,props:{event:o,type:i,properties:{topic:a,trace:c}},bundleId:u,domain:this.getAppDomain()},this.setMethods(l));return this.telemetryEnabled&&(this.events.set(l,p),this.shouldPersist=!0),p}),Ss(this,"getEvent",s=>{let{eventId:o,topic:i}=s;if(o)return this.events.get(o);let a=Array.from(this.events.values()).find(c=>c.props.properties.topic===i);if(a)return Uv(Uv({},a),this.setMethods(a.eventId))}),Ss(this,"deleteEvent",s=>{let{eventId:o}=s;this.events.delete(o),this.shouldPersist=!0}),Ss(this,"setEventListeners",()=>{this.core.heartbeat.on(Lo.pulse,async()=>{this.shouldPersist&&await this.persist(),this.events.forEach(s=>{(0,Ye.fromMiliseconds)(Date.now())-(0,Ye.fromMiliseconds)(s.timestamp)>FYe&&(this.events.delete(s.eventId),this.shouldPersist=!0)})})}),Ss(this,"setMethods",s=>({addTrace:o=>this.addTrace(s,o),setError:o=>this.setError(s,o)})),Ss(this,"addTrace",(s,o)=>{let i=this.events.get(s);i&&(i.props.properties.trace.push(o),this.events.set(s,i),this.shouldPersist=!0)}),Ss(this,"setError",(s,o)=>{let i=this.events.get(s);i&&(i.props.type=o,i.timestamp=Date.now(),this.events.set(s,i),this.shouldPersist=!0)}),Ss(this,"persist",async()=>{await this.core.storage.setItem(this.storageKey,Array.from(this.events.values())),this.shouldPersist=!1}),Ss(this,"restore",async()=>{try{let s=await this.core.storage.getItem(this.storageKey)||[];if(!s.length)return;s.forEach(o=>{this.events.set(o.eventId,Uv(Uv({},o),this.setMethods(o.eventId)))})}catch(s){this.logger.warn(s)}}),Ss(this,"submit",async()=>{if(!this.telemetryEnabled||this.events.size===0)return;let s=[];for(let[o,i]of this.events)i.props.type&&s.push(i);if(s.length!==0)try{if((await this.sendEvent(s)).ok)for(let o of s)this.events.delete(o.eventId),this.shouldPersist=!0}catch(o){this.logger.warn(o)}}),Ss(this,"sendEvent",async s=>{let o=this.getAppDomain()?"":"&sp=desktop";return await fetch(`${jYe}?projectId=${this.core.projectId}&st=events_sdk&sv=js-${KF}${o}`,{method:"POST",body:JSON.stringify(s)})}),Ss(this,"getAppDomain",()=>hF().url),this.logger=_r(r,this.context),this.telemetryEnabled=n,n?this.restore().then(async()=>{await this.submit(),this.setEventListeners()}):this.persist()}get storageKey(){return this.storagePrefix+this.storageVersion+this.core.customStoragePrefix+"//"+this.context}},AXe=Object.defineProperty,Y1e=Object.getOwnPropertySymbols,CXe=Object.prototype.hasOwnProperty,SXe=Object.prototype.propertyIsEnumerable,vj=(e,t,r)=>t in e?AXe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,J1e=(e,t)=>{for(var r in t||(t={}))CXe.call(t,r)&&vj(e,r,t[r]);if(Y1e)for(var r of Y1e(t))SXe.call(t,r)&&vj(e,r,t[r]);return e},Vr=(e,t,r)=>vj(e,typeof t!="symbol"?t+"":t,r),Ej=class e extends l9{constructor(t){var r;super(t),Vr(this,"protocol",X1e),Vr(this,"version",ege),Vr(this,"name",R7),Vr(this,"relayUrl"),Vr(this,"projectId"),Vr(this,"customStoragePrefix"),Vr(this,"events",new nf.EventEmitter),Vr(this,"logger"),Vr(this,"heartbeat"),Vr(this,"relayer"),Vr(this,"crypto"),Vr(this,"storage"),Vr(this,"history"),Vr(this,"expirer"),Vr(this,"pairing"),Vr(this,"verify"),Vr(this,"echoClient"),Vr(this,"linkModeSupportedApps"),Vr(this,"eventClient"),Vr(this,"initialized",!1),Vr(this,"logChunkController"),Vr(this,"on",(a,c)=>this.events.on(a,c)),Vr(this,"once",(a,c)=>this.events.once(a,c)),Vr(this,"off",(a,c)=>this.events.off(a,c)),Vr(this,"removeListener",(a,c)=>this.events.removeListener(a,c)),Vr(this,"dispatchEnvelope",({topic:a,message:c,sessionExists:l})=>{if(!a||!c)return;let u={topic:a,message:c,publishedAt:Date.now(),transportType:qr.link_mode};this.relayer.onLinkMessageEvent(u,{sessionExists:l})});let n=this.getGlobalCore(t?.customStoragePrefix);if(n)try{return this.customStoragePrefix=n.customStoragePrefix,this.logger=n.logger,this.heartbeat=n.heartbeat,this.crypto=n.crypto,this.history=n.history,this.expirer=n.expirer,this.storage=n.storage,this.relayer=n.relayer,this.pairing=n.pairing,this.verify=n.verify,this.echoClient=n.echoClient,this.linkModeSupportedApps=n.linkModeSupportedApps,this.eventClient=n.eventClient,this.initialized=n.initialized,this.logChunkController=n.logChunkController,n}catch(a){console.warn("Failed to copy global core",a)}this.projectId=t?.projectId,this.relayUrl=t?.relayUrl||tge,this.customStoragePrefix=t!=null&&t.customStoragePrefix?`:${t.customStoragePrefix}`:"";let s=Y2({level:typeof t?.logger=="string"&&t.logger?t.logger:lYe.logger,name:R7}),{logger:o,chunkLoggerController:i}=Hl({opts:s,maxSizeInBytes:t?.maxLogBlobSizeInBytes,loggerOverride:t?.logger});this.logChunkController=i,(r=this.logChunkController)!=null&&r.downloadLogsBlobInBrowser&&(window.downloadLogsBlobInBrowser=async()=>{var a,c;(a=this.logChunkController)!=null&&a.downloadLogsBlobInBrowser&&((c=this.logChunkController)==null||c.downloadLogsBlobInBrowser({clientId:await this.crypto.getClientId()}))}),this.logger=_r(o,this.name),this.heartbeat=new uy,this.crypto=new nj(this,this.logger,t?.keychain),this.history=new mj(this,this.logger),this.expirer=new gj(this,this.logger),this.storage=t!=null&&t.storage?t.storage:new dy(J1e(J1e({},uYe),t?.storageOptions)),this.relayer=new pj({core:this,logger:this.logger,relayUrl:this.relayUrl,projectId:this.projectId}),this.pairing=new hj(this,this.logger),this.verify=new yj(this,this.logger,this.storage),this.echoClient=new wj(this.projectId||"",this.logger),this.linkModeSupportedApps=[],this.eventClient=new xj(this,this.logger,t?.telemetryEnabled),this.setGlobalCore(this)}static async init(t){let r=new e(t);await r.initialize();let n=await r.crypto.getClientId();return await r.storage.setItem(CYe,n),r}get context(){return ar(this.logger)}async start(){this.initialized||await this.initialize()}async getLogsBlob(){var t;return(t=this.logChunkController)==null?void 0:t.logsToBlob({clientId:await this.crypto.getClientId()})}async addLinkModeSupportedApp(t){this.linkModeSupportedApps.includes(t)||(this.linkModeSupportedApps.push(t),await this.storage.setItem(P1e,this.linkModeSupportedApps))}async initialize(){this.logger.trace("Initialized");try{await this.crypto.init(),await this.history.init(),await this.expirer.init(),await this.relayer.init(),await this.heartbeat.init(),await this.pairing.init(),this.linkModeSupportedApps=await this.storage.getItem(P1e)||[],this.initialized=!0,this.logger.info("Core Initialization Success")}catch(t){throw this.logger.warn(t,`Core Initialization Failure at epoch ${Date.now()}`),this.logger.error(t.message),t}}getGlobalCore(t=""){try{if(this.isGlobalCoreDisabled())return;let r=`_walletConnectCore_${t}`,n=`${r}_count`;return globalThis[n]=(globalThis[n]||0)+1,globalThis[n]>1&&console.warn(`WalletConnect Core is already initialized. This is probably a mistake and can lead to unexpected behavior. Init() was called ${globalThis[n]} times.`),globalThis[r]}catch(r){console.warn("Failed to get global WalletConnect core",r);return}}setGlobalCore(t){var r;try{if(this.isGlobalCoreDisabled())return;let n=`_walletConnectCore_${((r=t.opts)==null?void 0:r.customStoragePrefix)||""}`;globalThis[n]=t}catch(n){console.warn("Failed to set global WalletConnect core",n)}}isGlobalCoreDisabled(){try{return typeof process<"u"&&process.env.DISABLE_GLOBAL_CORE==="true"}catch{return!0}}},hge=Ej});var B7,Pt,bge,xge,vge,Lj,Cj,gge,IXe,yge,_Xe,t6,TXe,Hs,Sj,Cu,PXe,NXe,RXe,OXe,kXe,BXe,DXe,UXe,D7,k7,LXe,MXe,HXe,wge,$Xe,FXe,_j,pr,$s,xe,Tj,Pj,Nj,Rj,Oj,kj,Bj,jXe,zXe,Ij,Dj,VXe,qXe,Kt,Uj,Ege,Age=m(()=>{B7=Bt(Oo(),1);mge();tH();P7();Ff();Pt=Bt(Ld(),1);jc();bge="wc",xge=2,vge="client",Lj=`${bge}@${xge}:${vge}:`,Cj={name:vge,logger:"error",controller:!1,relayUrl:"wss://relay.walletconnect.org"},gge="WALLETCONNECT_DEEPLINK_CHOICE",IXe="proposal",yge="Proposal expired",_Xe="session",t6=Pt.SEVEN_DAYS,TXe="engine",Hs={wc_sessionPropose:{req:{ttl:Pt.FIVE_MINUTES,prompt:!0,tag:1100},res:{ttl:Pt.FIVE_MINUTES,prompt:!1,tag:1101},reject:{ttl:Pt.FIVE_MINUTES,prompt:!1,tag:1120},autoReject:{ttl:Pt.FIVE_MINUTES,prompt:!1,tag:1121}},wc_sessionSettle:{req:{ttl:Pt.FIVE_MINUTES,prompt:!1,tag:1102},res:{ttl:Pt.FIVE_MINUTES,prompt:!1,tag:1103}},wc_sessionUpdate:{req:{ttl:Pt.ONE_DAY,prompt:!1,tag:1104},res:{ttl:Pt.ONE_DAY,prompt:!1,tag:1105}},wc_sessionExtend:{req:{ttl:Pt.ONE_DAY,prompt:!1,tag:1106},res:{ttl:Pt.ONE_DAY,prompt:!1,tag:1107}},wc_sessionRequest:{req:{ttl:Pt.FIVE_MINUTES,prompt:!0,tag:1108},res:{ttl:Pt.FIVE_MINUTES,prompt:!1,tag:1109}},wc_sessionEvent:{req:{ttl:Pt.FIVE_MINUTES,prompt:!0,tag:1110},res:{ttl:Pt.FIVE_MINUTES,prompt:!1,tag:1111}},wc_sessionDelete:{req:{ttl:Pt.ONE_DAY,prompt:!1,tag:1112},res:{ttl:Pt.ONE_DAY,prompt:!1,tag:1113}},wc_sessionPing:{req:{ttl:Pt.ONE_DAY,prompt:!1,tag:1114},res:{ttl:Pt.ONE_DAY,prompt:!1,tag:1115}},wc_sessionAuthenticate:{req:{ttl:Pt.ONE_HOUR,prompt:!0,tag:1116},res:{ttl:Pt.ONE_HOUR,prompt:!1,tag:1117},reject:{ttl:Pt.FIVE_MINUTES,prompt:!1,tag:1118},autoReject:{ttl:Pt.FIVE_MINUTES,prompt:!1,tag:1119}}},Sj={min:Pt.FIVE_MINUTES,max:Pt.SEVEN_DAYS},Cu={idle:"IDLE",active:"ACTIVE"},PXe={eth_sendTransaction:{key:""},eth_sendRawTransaction:{key:""},wallet_sendCalls:{key:""},solana_signTransaction:{key:"signature"},solana_signAllTransactions:{key:"transactions"},solana_signAndSendTransaction:{key:"signature"},sui_signAndExecuteTransaction:{key:"digest"},sui_signTransaction:{key:""},hedera_signAndExecuteTransaction:{key:"transactionId"},hedera_executeTransaction:{key:"transactionId"},near_signTransaction:{key:""},near_signTransactions:{key:""},tron_signTransaction:{key:"txID"},xrpl_signTransaction:{key:""},xrpl_signTransactionFor:{key:""},algo_signTxn:{key:""},sendTransfer:{key:"txid"},stacks_stxTransfer:{key:"txId"},polkadot_signTransaction:{key:""},cosmos_signDirect:{key:""}},NXe="request",RXe=["wc_sessionPropose","wc_sessionRequest","wc_authRequest","wc_sessionAuthenticate"],OXe="wc",kXe="auth",BXe="authKeys",DXe="pairingTopics",UXe="requests",D7=`${OXe}@${1.5}:${kXe}:`,k7=`${D7}:PUB_KEY`,LXe=Object.defineProperty,MXe=Object.defineProperties,HXe=Object.getOwnPropertyDescriptors,wge=Object.getOwnPropertySymbols,$Xe=Object.prototype.hasOwnProperty,FXe=Object.prototype.propertyIsEnumerable,_j=(e,t,r)=>t in e?LXe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,pr=(e,t)=>{for(var r in t||(t={}))$Xe.call(t,r)&&_j(e,r,t[r]);if(wge)for(var r of wge(t))FXe.call(t,r)&&_j(e,r,t[r]);return e},$s=(e,t)=>MXe(e,HXe(t)),xe=(e,t,r)=>_j(e,typeof t!="symbol"?t+"":t,r),Tj=class extends v9{constructor(t){super(t),xe(this,"name",TXe),xe(this,"events",new B7.default),xe(this,"initialized",!1),xe(this,"requestQueue",{state:Cu.idle,queue:[]}),xe(this,"sessionRequestQueue",{state:Cu.idle,queue:[]}),xe(this,"emittedSessionRequests",new a7({limit:500})),xe(this,"requestQueueDelay",Pt.ONE_SECOND),xe(this,"expectedPairingMethodMap",new Map),xe(this,"recentlyDeletedMap",new Map),xe(this,"recentlyDeletedLimit",200),xe(this,"relayMessageCache",[]),xe(this,"pendingSessions",new Map),xe(this,"init",async()=>{this.initialized||(await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.registerPairingEvents(),await this.registerLinkModeListeners(),this.client.core.pairing.register({methods:Object.keys(Hs)}),this.initialized=!0,setTimeout(async()=>{await this.processPendingMessageEvents(),this.sessionRequestQueue.queue=this.getPendingSessionRequests(),this.processSessionRequestQueue()},(0,Pt.toMiliseconds)(this.requestQueueDelay)))}),xe(this,"connect",async r=>{var n;this.isInitialized(),await this.confirmOnlineStateOrThrow();let s=$s(pr({},r),{requiredNamespaces:r.requiredNamespaces||{},optionalNamespaces:r.optionalNamespaces||{}});await this.isValidConnect(s),s.optionalNamespaces=c1e(s.requiredNamespaces,s.optionalNamespaces),s.requiredNamespaces={};let{pairingTopic:o,requiredNamespaces:i,optionalNamespaces:a,sessionProperties:c,scopedProperties:l,relays:u,authentication:d,walletPay:p}=s,f=((n=d?.[0])==null?void 0:n.ttl)||Hs.wc_sessionPropose.req.ttl||Pt.FIVE_MINUTES;this.validateRequestExpiry(f);let h=o,g,y=!1;try{if(h){let k=this.client.core.pairing.pairings.get(h);this.client.logger.warn("connect() with existing pairing topic is deprecated and will be removed in the next major release."),y=k.active}}catch(k){throw this.client.logger.error(`connect() -> pairing.get(${h}) failed`),k}if(!h||!y){let{topic:k,uri:$}=await this.client.core.pairing.create({internal:{skipSubscribe:!0}});h=k,g=$}if(!h){let{message:k}=Ce("NO_MATCHING_KEY",`connect() pairing topic: ${h}`);throw new Error(k)}let E=await this.client.core.crypto.generateKeyPair(),A=mn(f),b=pr($s(pr(pr({requiredNamespaces:i,optionalNamespaces:a,relays:u??[{protocol:Aj}],proposer:{publicKey:E,metadata:this.client.metadata},expiryTimestamp:A,pairingTopic:h},c&&{sessionProperties:c}),l&&{scopedProperties:l}),{id:_n()}),(d||p)&&{requests:{authentication:d?.map(k=>{let{domain:$,chains:P,nonce:I,uri:S,exp:O,nbf:x,type:v,statement:N,requestId:D,resources:T,signatureTypes:L}=k;return{domain:$,chains:P,nonce:I,type:v??"caip122",aud:S,version:"1",iat:new Date().toISOString(),exp:O,nbf:x,statement:N,requestId:D,resources:T,signatureTypes:L}}),walletPay:p}}),w=dr("session_connect",b.id),{reject:C,resolve:_,done:B}=tf(f,yge),U=({id:k})=>{k===b.id&&(this.client.events.off("proposal_expire",U),this.pendingSessions.delete(b.id),this.events.emit(w,{error:{message:yge,code:0}}))};return this.client.events.on("proposal_expire",U),this.events.once(w,({error:k,session:$})=>{this.client.events.off("proposal_expire",U),k?C(k):$&&_($)}),await this.setProposal(b.id,b),await this.sendProposeSession({proposal:b,publishOpts:{internal:{throwOnFailedPublish:!0},tvf:{correlationId:b.id}}}).catch(k=>{throw this.deleteProposal(b.id),k}),{uri:g,approval:B}}),xe(this,"pair",async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{return await this.client.core.pairing.pair(r)}catch(n){throw this.client.logger.error("pair() failed"),n}}),xe(this,"approve",async r=>{var n,s,o;let i=this.client.core.eventClient.createEvent({properties:{topic:(n=r?.id)==null?void 0:n.toString(),trace:[yc.session_approve_started]}});try{this.isInitialized(),await this.confirmOnlineStateOrThrow()}catch($){throw i.setError(hm.no_internet_connection),$}try{await this.isValidProposalId(r?.id)}catch($){throw this.client.logger.error(`approve() -> proposal.get(${r?.id}) failed`),i.setError(hm.proposal_not_found),$}try{await this.isValidApprove(r)}catch($){throw this.client.logger.error("approve() -> isValidApprove() failed"),i.setError(hm.session_approve_namespace_validation_failure),$}let{id:a,relayProtocol:c,namespaces:l,sessionProperties:u,scopedProperties:d,sessionConfig:p,proposalRequestsResponses:f}=r,h=this.client.proposal.get(a);this.client.core.eventClient.deleteEvent({eventId:i.eventId});let{pairingTopic:g,proposer:y,requiredNamespaces:E,optionalNamespaces:A}=h,b=(s=this.client.core.eventClient)==null?void 0:s.getEvent({topic:g});b||(b=(o=this.client.core.eventClient)==null?void 0:o.createEvent({type:yc.session_approve_started,properties:{topic:g,trace:[yc.session_approve_started,yc.session_namespaces_validation_success]}}));let w=await this.client.core.crypto.generateKeyPair(),C=y.publicKey,_=await this.client.core.crypto.generateSharedKey(w,C),B=$s(pr(pr(pr({relay:{protocol:c??"irn"},namespaces:l,controller:{publicKey:w,metadata:this.client.metadata},expiry:mn(t6)},u&&{sessionProperties:u}),d&&{scopedProperties:d}),p&&{sessionConfig:p}),{proposalRequestsResponses:f}),U=qr.relay;b.addTrace(yc.subscribing_session_topic);try{await this.client.core.relayer.subscribe(_,{transportType:U,internal:{skipSubscribe:!0}})}catch($){throw b.setError(hm.subscribe_session_topic_failure),$}b.addTrace(yc.subscribe_session_topic_success);let k=$s(pr({},B),{topic:_,requiredNamespaces:E,optionalNamespaces:A,pairingTopic:g,acknowledged:!1,self:B.controller,peer:{publicKey:y.publicKey,metadata:y.metadata},controller:w,transportType:qr.relay,authentication:f?.authentication,walletPayResult:f?.walletPay});await this.client.session.set(_,k),b.addTrace(yc.store_session);try{await this.sendApproveSession({sessionTopic:_,proposal:h,pairingProposalResponse:{relay:{protocol:c??"irn"},responderPublicKey:w},sessionSettleRequest:B,publishOpts:{internal:{throwOnFailedPublish:!0},tvf:pr({correlationId:a},this.getTVFApproveParams(k))}}),b.addTrace(yc.session_approve_publish_success)}catch($){throw this.client.logger.error($),this.client.session.delete(_,kr("USER_DISCONNECTED")),await this.client.core.relayer.unsubscribe(_),$}return this.client.core.eventClient.deleteEvent({eventId:b.eventId}),await this.client.core.pairing.updateMetadata({topic:g,metadata:y.metadata}),await this.deleteProposal(a),await this.client.core.pairing.activate({topic:g}),await this.setExpiry(_,mn(t6)),{topic:_,acknowledged:()=>Promise.resolve(this.client.session.get(_))}}),xe(this,"reject",async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidReject(r)}catch(i){throw this.client.logger.error("reject() -> isValidReject() failed"),i}let{id:n,reason:s}=r,o;try{o=this.client.proposal.get(n).pairingTopic}catch(i){throw this.client.logger.error(`reject() -> proposal.get(${n}) failed`),i}o&&await this.sendError({id:n,topic:o,error:s,rpcOpts:Hs.wc_sessionPropose.reject}),await this.deleteProposal(n)}),xe(this,"update",async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidUpdate(r)}catch(d){throw this.client.logger.error("update() -> isValidUpdate() failed"),d}let{topic:n,namespaces:s}=r,{done:o,resolve:i,reject:a}=tf(Pt.FIVE_MINUTES,"Session update request expired without receiving any acknowledgement"),c=_n(),l=Tn().toString(),u=this.client.session.get(n).namespaces;return this.events.once(dr("session_update",c),({error:d})=>{d?a(d):i()}),await this.client.session.update(n,{namespaces:s}),await this.sendRequest({topic:n,method:"wc_sessionUpdate",params:{namespaces:s},throwOnFailedPublish:!0,clientRpcId:c,relayRpcId:l}).catch(d=>{this.client.logger.error(d),this.client.session.update(n,{namespaces:u}),a(d)}),{acknowledged:o}}),xe(this,"extend",async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidExtend(r)}catch(c){throw this.client.logger.error("extend() -> isValidExtend() failed"),c}let{topic:n}=r,s=_n(),{done:o,resolve:i,reject:a}=tf(Pt.FIVE_MINUTES,"Session extend request expired without receiving any acknowledgement");return this.events.once(dr("session_extend",s),({error:c})=>{c?a(c):i()}),await this.setExpiry(n,mn(t6)),this.sendRequest({topic:n,method:"wc_sessionExtend",params:{},clientRpcId:s,throwOnFailedPublish:!0}).catch(c=>{a(c)}),{acknowledged:o}}),xe(this,"request",async r=>{this.isInitialized();try{await this.isValidRequest(r)}catch(y){throw this.client.logger.error("request() -> isValidRequest() failed"),y}let{chainId:n,request:s,topic:o,expiry:i=Hs.wc_sessionRequest.req.ttl}=r,a=this.client.session.get(o);a?.transportType===qr.relay&&await this.confirmOnlineStateOrThrow();let c=_n(),l=Tn().toString(),{done:u,resolve:d,reject:p}=tf(i,"Request expired. Please try again.");this.events.once(dr("session_request",c),({error:y,result:E})=>{y?p(y):d(E)});let f="wc_sessionRequest",h=this.getAppLinkIfEnabled(a.peer.metadata,a.transportType);if(h)return await this.sendRequest({clientRpcId:c,relayRpcId:l,topic:o,method:f,params:{request:$s(pr({},s),{expiryTimestamp:mn(i)}),chainId:n},expiry:i,throwOnFailedPublish:!0,appLink:h}).catch(y=>p(y)),this.client.events.emit("session_request_sent",{topic:o,request:s,chainId:n,id:c}),await u();let g={request:$s(pr({},s),{expiryTimestamp:mn(i)}),chainId:n};return await Promise.all([new Promise(async y=>{await this.sendRequest({clientRpcId:c,relayRpcId:l,topic:o,method:f,params:g,expiry:i,throwOnFailedPublish:!0,tvf:this.getTVFParams(c,g)}).catch(E=>p(E)),this.client.events.emit("session_request_sent",{topic:o,request:s,chainId:n,id:c}),y()}),new Promise(async y=>{var E;if(!((E=a.sessionConfig)!=null&&E.disableDeepLink)){let A=await J0e(this.client.core.storage,gge);await Y0e({id:c,topic:o,wcDeepLink:A})}y()}),u()]).then(y=>y[2])}),xe(this,"respond",async r=>{var n,s;this.isInitialized();let o=this.client.core.eventClient.createEvent({properties:{topic:r?.topic||((s=(n=r?.response)==null?void 0:n.id)==null?void 0:s.toString()),trace:[yc.session_request_response_started]}});try{await this.isValidRespond(r)}catch(d){throw o.addTrace(d?.message),o.setError(hm.session_request_response_validation_failure),d}o.addTrace(yc.session_request_response_validation_success);let{topic:i,response:a}=r,{id:c}=a,l=this.client.session.get(i);l.transportType===qr.relay&&await this.confirmOnlineStateOrThrow();let u=this.getAppLinkIfEnabled(l.peer.metadata,l.transportType);try{o.addTrace(yc.session_request_response_publish_started),Qr(a)?await this.sendResult({id:c,topic:i,result:a.result,throwOnFailedPublish:!0,appLink:u}):Tr(a)&&await this.sendError({id:c,topic:i,error:a.error,appLink:u}),this.cleanupAfterResponse(r)}catch(d){throw o.addTrace(d?.message),o.setError(hm.session_request_response_publish_failure),d}}),xe(this,"ping",async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidPing(r)}catch(s){throw this.client.logger.error("ping() -> isValidPing() failed"),s}let{topic:n}=r;if(this.client.session.keys.includes(n)){let s=_n(),o=Tn().toString(),{done:i,resolve:a,reject:c}=tf(Pt.FIVE_MINUTES,"Ping request expired without receiving any acknowledgement");this.events.once(dr("session_ping",s),({error:l})=>{l?c(l):a()}),await Promise.all([this.sendRequest({topic:n,method:"wc_sessionPing",params:{},throwOnFailedPublish:!0,clientRpcId:s,relayRpcId:o}),i()])}else this.client.core.pairing.pairings.keys.includes(n)&&(this.client.logger.warn("ping() on pairing topic is deprecated and will be removed in the next major release."),await this.client.core.pairing.ping({topic:n}))}),xe(this,"emit",async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidEmit(r);let{topic:n,event:s,chainId:o}=r,i=Tn().toString(),a=_n();await this.sendRequest({topic:n,method:"wc_sessionEvent",params:{event:s,chainId:o},throwOnFailedPublish:!0,relayRpcId:i,clientRpcId:a})}),xe(this,"disconnect",async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidDisconnect(r);let{topic:n}=r;if(this.client.session.keys.includes(n))await this.sendRequest({topic:n,method:"wc_sessionDelete",params:kr("USER_DISCONNECTED"),throwOnFailedPublish:!0}),await this.deleteSession({topic:n,emitEvent:!1});else if(this.client.core.pairing.pairings.keys.includes(n))await this.client.core.pairing.disconnect({topic:n});else{let{message:s}=Ce("MISMATCHED_TOPIC",`Session or pairing topic not found: ${n}`);throw new Error(s)}}),xe(this,"find",r=>(this.isInitialized(),this.client.session.getAll().filter(n=>l1e(n,r)))),xe(this,"getPendingSessionRequests",()=>this.client.pendingRequest.getAll()),xe(this,"authenticate",async(r,n)=>{var s;this.isInitialized(),this.isValidAuthenticate(r);let o=n&&this.client.core.linkModeSupportedApps.includes(n)&&((s=this.client.metadata.redirect)==null?void 0:s.linkMode),i=o?qr.link_mode:qr.relay;i===qr.relay&&await this.confirmOnlineStateOrThrow();let{chains:a,statement:c="",uri:l,domain:u,nonce:d,type:p,exp:f,nbf:h,methods:g=[],expiry:y}=r,E=[...r.resources||[]],{topic:A,uri:b}=await this.client.core.pairing.create({methods:["wc_sessionAuthenticate"],transportType:i});this.client.logger.info({message:"Generated new pairing",pairing:{topic:A,uri:b}});let w=await this.client.core.crypto.generateKeyPair(),C=Kb(w);if(await Promise.all([this.client.auth.authKeys.set(k7,{responseTopic:C,publicKey:w}),this.client.auth.pairingTopics.set(C,{topic:C,pairingTopic:A})]),await this.client.core.relayer.subscribe(C,{transportType:i}),this.client.logger.info(`sending request to new pairing topic: ${A}`),g.length>0){let{namespace:T}=wl(a[0]),L=wme(T,"request",g);Tv(E)&&(L=bme(L,E.pop())),E.push(L)}let _=y&&y>Hs.wc_sessionAuthenticate.req.ttl?y:Hs.wc_sessionAuthenticate.req.ttl,B={authPayload:{type:p??"caip122",chains:a,statement:c,aud:l,domain:u,version:"1",nonce:d,iat:new Date().toISOString(),exp:f,nbf:h,resources:E},requester:{publicKey:w,metadata:this.client.metadata},expiryTimestamp:mn(_)},U={eip155:{chains:a,methods:[...new Set(["personal_sign",...g])],events:["chainChanged","accountsChanged"]}},k={requiredNamespaces:{},optionalNamespaces:U,relays:[{protocol:"irn"}],pairingTopic:A,proposer:{publicKey:w,metadata:this.client.metadata},expiryTimestamp:mn(Hs.wc_sessionPropose.req.ttl),id:_n()},{done:$,resolve:P,reject:I}=tf(_,"Request expired"),S=_n(),O=dr("session_connect",k.id),x=dr("session_request",S),v=async({error:T,session:L})=>{this.events.off(x,N),T?I(T):L&&P({session:L})},N=async T=>{var L,j,q;if(await this.deletePendingAuthRequest(S,{message:"fulfilled",code:0}),T.error){let de=kr("WC_METHOD_UNSUPPORTED","wc_sessionAuthenticate");return T.error.code===de.code?void 0:(this.events.off(O,v),I(T.error.message))}await this.deleteProposal(k.id),this.events.off(O,v);let{cacaos:ie,responder:ne}=T.result,Y=[],me=[];for(let de of ie){await AF({cacao:de,projectId:this.client.core.projectId})||(this.client.logger.error(de,"Signature verification failed"),I(kr("SESSION_SETTLEMENT_FAILED","Signature verification failed")));let{p:Pe}=de,bt=Tv(Pe.resources),At=[E7(Pe.iss)],vt=_v(Pe.iss);if(bt){let Zt=SF(bt),Lr=IF(bt);Y.push(...Zt),At.push(...Lr)}for(let Zt of At)me.push(`${Zt}:${vt}`)}let ue=await this.client.core.crypto.generateSharedKey(w,ne.publicKey),Te;Y.length>0&&(Te={topic:ue,acknowledged:!0,self:{publicKey:w,metadata:this.client.metadata},peer:ne,controller:ne.publicKey,expiry:mn(t6),requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:A,namespaces:MF([...new Set(Y)],[...new Set(me)]),transportType:i},await this.client.core.relayer.subscribe(ue,{transportType:i}),await this.client.session.set(ue,Te),A&&await this.client.core.pairing.updateMetadata({topic:A,metadata:ne.metadata}),Te=this.client.session.get(ue)),(L=this.client.metadata.redirect)!=null&&L.linkMode&&(j=ne.metadata.redirect)!=null&&j.linkMode&&(q=ne.metadata.redirect)!=null&&q.universal&&n&&(this.client.core.addLinkModeSupportedApp(ne.metadata.redirect.universal),this.client.session.update(ue,{transportType:qr.link_mode})),P({auths:ie,session:Te})};this.events.once(O,v),this.events.once(x,N);let D;try{if(o){let T=fr("wc_sessionAuthenticate",B,S);this.client.core.history.set(A,T);let L=await this.client.core.crypto.encode("",T,{type:Wb,encoding:rf});D=Ov(n,A,L)}else await Promise.all([this.sendRequest({topic:A,method:"wc_sessionAuthenticate",params:B,expiry:r.expiry,throwOnFailedPublish:!0,clientRpcId:S}),this.sendRequest({topic:A,method:"wc_sessionPropose",params:k,expiry:Hs.wc_sessionPropose.req.ttl,throwOnFailedPublish:!0,clientRpcId:k.id})])}catch(T){throw this.events.off(O,v),this.events.off(x,N),T}return await this.setProposal(k.id,k),await this.setAuthRequest(S,{request:$s(pr({},B),{verifyContext:{}}),pairingTopic:A,transportType:i}),{uri:D??b,response:$}}),xe(this,"approveSessionAuthenticate",async r=>{let{id:n,auths:s}=r,o=this.client.core.eventClient.createEvent({properties:{topic:n.toString(),trace:[mm.authenticated_session_approve_started]}});try{this.isInitialized()}catch(y){throw o.setError(e6.no_internet_connection),y}let i=this.getPendingAuthRequest(n);if(!i)throw o.setError(e6.authenticated_session_pending_request_not_found),new Error(`Could not find pending auth request with id ${n}`);let a=i.transportType||qr.relay;a===qr.relay&&await this.confirmOnlineStateOrThrow();let c=i.requester.publicKey,l=await this.client.core.crypto.generateKeyPair(),u=Kb(c),d={type:xl,receiverPublicKey:c,senderPublicKey:l},p=[],f=[];for(let y of s){if(!await AF({cacao:y,projectId:this.client.core.projectId})){o.setError(e6.invalid_cacao);let C=kr("SESSION_SETTLEMENT_FAILED","Signature verification failed");throw await this.sendError({id:n,topic:u,error:C,encodeOpts:d}),new Error(C.message)}o.addTrace(mm.cacaos_verified);let{p:E}=y,A=Tv(E.resources),b=[E7(E.iss)],w=_v(E.iss);if(A){let C=SF(A),_=IF(A);p.push(...C),b.push(..._)}for(let C of b)f.push(`${C}:${w}`)}let h=await this.client.core.crypto.generateSharedKey(l,c);o.addTrace(mm.create_authenticated_session_topic);let g;if(p?.length>0){g={topic:h,acknowledged:!0,self:{publicKey:l,metadata:this.client.metadata},peer:{publicKey:c,metadata:i.requester.metadata},controller:c,expiry:mn(t6),authentication:s,requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:i.pairingTopic,namespaces:MF([...new Set(p)],[...new Set(f)]),transportType:a},o.addTrace(mm.subscribing_authenticated_session_topic);try{await this.client.core.relayer.subscribe(h,{transportType:a})}catch(y){throw o.setError(e6.subscribe_authenticated_session_topic_failure),y}o.addTrace(mm.subscribe_authenticated_session_topic_success),await this.client.session.set(h,g),o.addTrace(mm.store_authenticated_session),await this.client.core.pairing.updateMetadata({topic:i.pairingTopic,metadata:i.requester.metadata})}o.addTrace(mm.publishing_authenticated_session_approve);try{await this.sendResult({topic:u,id:n,result:{cacaos:s,responder:{publicKey:l,metadata:this.client.metadata}},encodeOpts:d,throwOnFailedPublish:!0,appLink:this.getAppLinkIfEnabled(i.requester.metadata,a)})}catch(y){throw o.setError(e6.authenticated_session_approve_publish_failure),y}return await this.client.auth.requests.delete(n,{message:"fulfilled",code:0}),await this.client.core.pairing.activate({topic:i.pairingTopic}),this.client.core.eventClient.deleteEvent({eventId:o.eventId}),{session:g}}),xe(this,"rejectSessionAuthenticate",async r=>{this.isInitialized();let{id:n,reason:s}=r,o=this.getPendingAuthRequest(n);if(!o)throw new Error(`Could not find pending auth request with id ${n}`);o.transportType===qr.relay&&await this.confirmOnlineStateOrThrow();let i=o.requester.publicKey,a=await this.client.core.crypto.generateKeyPair(),c=Kb(i),l={type:xl,receiverPublicKey:i,senderPublicKey:a};await this.sendError({id:n,topic:c,error:s,encodeOpts:l,rpcOpts:Hs.wc_sessionAuthenticate.reject,appLink:this.getAppLinkIfEnabled(o.requester.metadata,o.transportType)}),await this.client.auth.requests.delete(n,{message:"rejected",code:0}),await this.deleteProposal(n)}),xe(this,"formatAuthMessage",r=>{this.isInitialized();let{request:n,iss:s}=r;return CF(n,s)}),xe(this,"processRelayMessageCache",()=>{setTimeout(async()=>{if(this.relayMessageCache.length!==0)for(;this.relayMessageCache.length>0;)try{let r=this.relayMessageCache.shift();r&&await this.onRelayMessage(r)}catch(r){this.client.logger.error(r)}},50)}),xe(this,"cleanupDuplicatePairings",async r=>{if(r.pairingTopic)try{let n=this.client.core.pairing.pairings.get(r.pairingTopic),s=this.client.core.pairing.pairings.getAll().filter(o=>{var i,a;return((i=o.peerMetadata)==null?void 0:i.url)&&((a=o.peerMetadata)==null?void 0:a.url)===r.peer.metadata.url&&o.topic&&o.topic!==n.topic});if(s.length===0)return;this.client.logger.info(`Cleaning up ${s.length} duplicate pairing(s)`),await Promise.all(s.map(o=>this.client.core.pairing.disconnect({topic:o.topic}))),this.client.logger.info("Duplicate pairings clean up finished")}catch(n){this.client.logger.error(n)}}),xe(this,"deleteSession",async r=>{var n;let{topic:s,expirerHasDeleted:o=!1,emitEvent:i=!0,id:a=0}=r,{self:c}=this.client.session.get(s);await this.client.core.relayer.unsubscribe(s),await this.client.session.delete(s,kr("USER_DISCONNECTED")),this.addToRecentlyDeleted(s,"session"),this.client.core.crypto.keychain.has(c.publicKey)&&await this.client.core.crypto.deleteKeyPair(c.publicKey),this.client.core.crypto.keychain.has(s)&&await this.client.core.crypto.deleteSymKey(s),o||this.client.core.expirer.del(s),this.client.core.storage.removeItem(gge).catch(l=>this.client.logger.warn(l)),s===((n=this.sessionRequestQueue.queue[0])==null?void 0:n.topic)&&(this.sessionRequestQueue.state=Cu.idle),await Promise.all(this.getPendingSessionRequests().filter(l=>l.topic===s).map(l=>this.deletePendingSessionRequest(l.id,kr("USER_DISCONNECTED")))),i&&this.client.events.emit("session_delete",{id:a,topic:s})}),xe(this,"deleteProposal",async(r,n)=>{if(n)try{let s=this.client.proposal.get(r);this.client.core.eventClient.getEvent({topic:s.pairingTopic})?.setError(hm.proposal_expired)}catch{}await Promise.all([this.client.proposal.delete(r,kr("USER_DISCONNECTED")),n?Promise.resolve():this.client.core.expirer.del(r)]),this.addToRecentlyDeleted(r,"proposal")}),xe(this,"deletePendingSessionRequest",async(r,n,s=!1)=>{await Promise.all([this.client.pendingRequest.delete(r,n),s?Promise.resolve():this.client.core.expirer.del(r)]),this.addToRecentlyDeleted(r,"request"),this.sessionRequestQueue.queue=this.sessionRequestQueue.queue.filter(o=>o.id!==r),s&&(this.sessionRequestQueue.state=Cu.idle,this.client.events.emit("session_request_expire",{id:r}))}),xe(this,"deletePendingAuthRequest",async(r,n,s=!1)=>{await Promise.all([this.client.auth.requests.delete(r,n),s?Promise.resolve():this.client.core.expirer.del(r)])}),xe(this,"setExpiry",async(r,n)=>{this.client.session.keys.includes(r)&&(this.client.core.expirer.set(r,n),await this.client.session.update(r,{expiry:n}))}),xe(this,"setProposal",async(r,n)=>{this.client.core.expirer.set(r,mn(Hs.wc_sessionPropose.req.ttl)),await this.client.proposal.set(r,n)}),xe(this,"setAuthRequest",async(r,n)=>{let{request:s,pairingTopic:o,transportType:i=qr.relay}=n;this.client.core.expirer.set(r,s.expiryTimestamp),await this.client.auth.requests.set(r,{authPayload:s.authPayload,requester:s.requester,expiryTimestamp:s.expiryTimestamp,id:r,pairingTopic:o,verifyContext:s.verifyContext,transportType:i})}),xe(this,"setPendingSessionRequest",async r=>{let{id:n,topic:s,params:o,verifyContext:i}=r,a=o.request.expiryTimestamp||mn(Hs.wc_sessionRequest.req.ttl);this.client.core.expirer.set(n,a),await this.client.pendingRequest.set(n,{id:n,topic:s,params:o,verifyContext:i})}),xe(this,"sendRequest",async r=>{let{topic:n,method:s,params:o,expiry:i,relayRpcId:a,clientRpcId:c,throwOnFailedPublish:l,appLink:u,tvf:d,publishOpts:p={}}=r,f=fr(s,o,c),h,g=!!u;try{let A=g?rf:vo;h=await this.client.core.crypto.encode(n,f,{encoding:A})}catch(A){throw await this.cleanup(),this.client.logger.error(`sendRequest() -> core.crypto.encode() for topic ${n} failed`),A}let y;if(RXe.includes(s)){let A=Wi(JSON.stringify(f)),b=Wi(h);y=await this.client.core.verify.register({id:b,decryptedId:A})}let E=pr(pr({},Hs[s].req),p);if(E.attestation=y,i&&(E.ttl=i),a&&(E.id=a),this.client.core.history.set(n,f),g){let A=Ov(u,n,h);await globalThis.Linking.openURL(A,this.client.name)}else E.tvf=$s(pr({},d),{correlationId:f.id}),l?(E.internal=$s(pr({},E.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(n,h,E)):this.client.core.relayer.publish(n,h,E).catch(A=>this.client.logger.error(A));return f.id}),xe(this,"sendProposeSession",async r=>{let{proposal:n,publishOpts:s}=r,o=fr("wc_sessionPropose",n,n.id);this.client.core.history.set(n.pairingTopic,o);let i=await this.client.core.crypto.encode(n.pairingTopic,o,{encoding:vo}),a=Wi(JSON.stringify(o)),c=Wi(i),l=await this.client.core.verify.register({id:c,decryptedId:a});await this.client.core.relayer.publishCustom({payload:{pairingTopic:n.pairingTopic,sessionProposal:i},opts:$s(pr({},s),{publishMethod:"wc_proposeSession",attestation:l})})}),xe(this,"sendApproveSession",async r=>{let{sessionTopic:n,pairingProposalResponse:s,proposal:o,sessionSettleRequest:i,publishOpts:a}=r,c=ds(o.id,s),l=await this.client.core.crypto.encode(o.pairingTopic,c,{encoding:vo}),u=fr("wc_sessionSettle",i,a?.id),d=await this.client.core.crypto.encode(n,u,{encoding:vo});this.client.core.history.set(n,u),await this.client.core.relayer.publishCustom({payload:{sessionTopic:n,pairingTopic:o.pairingTopic,sessionProposalResponse:l,sessionSettlementRequest:d},opts:$s(pr({},a),{publishMethod:"wc_approveSession"})})}),xe(this,"sendResult",async r=>{let{id:n,topic:s,result:o,throwOnFailedPublish:i,encodeOpts:a,appLink:c}=r,l=ds(n,o),u,d=c&&typeof globalThis?.Linking<"u";try{let h=d?rf:vo;u=await this.client.core.crypto.encode(s,l,$s(pr({},a||{}),{encoding:h}))}catch(h){throw await this.cleanup(),this.client.logger.error(`sendResult() -> core.crypto.encode() for topic ${s} failed`),h}let p,f;try{p=await this.client.core.history.get(s,n);let h=p.request;try{f=this.getTVFParams(n,h.params,o)}catch(g){this.client.logger.warn(`sendResult() -> getTVFParams() failed: ${g?.message}`)}}catch(h){throw this.client.logger.error(`sendResult() -> history.get(${s}, ${n}) failed`),h}if(d){let h=Ov(c,s,u);await globalThis.Linking.openURL(h,this.client.name)}else{let h=p.request.method,g=Hs[h].res;g.tvf=$s(pr({},f),{correlationId:n}),i?(g.internal=$s(pr({},g.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(s,u,g)):this.client.core.relayer.publish(s,u,g).catch(y=>this.client.logger.error(y))}await this.client.core.history.resolve(l)}),xe(this,"sendError",async r=>{let{id:n,topic:s,error:o,encodeOpts:i,rpcOpts:a,appLink:c}=r,l=la(n,o),u,d=c&&typeof globalThis?.Linking<"u";try{let f=d?rf:vo;u=await this.client.core.crypto.encode(s,l,$s(pr({},i||{}),{encoding:f}))}catch(f){throw await this.cleanup(),this.client.logger.error(`sendError() -> core.crypto.encode() for topic ${s} failed`),f}let p;try{p=await this.client.core.history.get(s,n)}catch(f){throw this.client.logger.error(`sendError() -> history.get(${s}, ${n}) failed`),f}if(d){let f=Ov(c,s,u);await globalThis.Linking.openURL(f,this.client.name)}else{let f=p.request.method,h=a||Hs[f].res;this.client.core.relayer.publish(s,u,h)}await this.client.core.history.resolve(l)}),xe(this,"cleanup",async()=>{let r=[],n=[];this.client.session.getAll().forEach(s=>{let o=!1;Da(s.expiry)&&(o=!0),this.client.core.crypto.keychain.has(s.topic)||(o=!0),o&&r.push(s.topic)}),this.client.proposal.getAll().forEach(s=>{Da(s.expiryTimestamp)&&n.push(s.id)}),await Promise.all([...r.map(s=>this.deleteSession({topic:s})),...n.map(s=>this.deleteProposal(s))])}),xe(this,"onProviderMessageEvent",async r=>{!this.initialized||this.relayMessageCache.length>0?this.relayMessageCache.push(r):await this.onRelayMessage(r)}),xe(this,"onRelayEventRequest",async r=>{this.requestQueue.queue.push(r),await this.processRequestsQueue()}),xe(this,"processRequestsQueue",async()=>{if(this.requestQueue.state===Cu.active){this.client.logger.info("Request queue already active, skipping...");return}for(this.client.logger.info(`Request queue starting with ${this.requestQueue.queue.length} requests`);this.requestQueue.queue.length>0;){this.requestQueue.state=Cu.active;let r=this.requestQueue.queue.shift();if(r)try{await this.processRequest(r)}catch(n){this.client.logger.warn(n)}}this.requestQueue.state=Cu.idle}),xe(this,"processRequest",async r=>{let{topic:n,payload:s,attestation:o,transportType:i,encryptedId:a}=r,c=s.method;if(!this.shouldIgnorePairingRequest({topic:n,requestMethod:c}))switch(c){case"wc_sessionPropose":return await this.onSessionProposeRequest({topic:n,payload:s,attestation:o,encryptedId:a});case"wc_sessionSettle":return await this.onSessionSettleRequest(n,s);case"wc_sessionUpdate":return await this.onSessionUpdateRequest(n,s);case"wc_sessionExtend":return await this.onSessionExtendRequest(n,s);case"wc_sessionPing":return await this.onSessionPingRequest(n,s);case"wc_sessionDelete":return await this.onSessionDeleteRequest(n,s);case"wc_sessionRequest":return await this.onSessionRequest({topic:n,payload:s,attestation:o,encryptedId:a,transportType:i});case"wc_sessionEvent":return await this.onSessionEventRequest(n,s);case"wc_sessionAuthenticate":return await this.onSessionAuthenticateRequest({topic:n,payload:s,attestation:o,encryptedId:a,transportType:i});default:return this.client.logger.info(`Unsupported request method ${c}`)}}),xe(this,"onRelayEventResponse",async r=>{let{topic:n,payload:s,transportType:o}=r,i=(await this.client.core.history.get(n,s.id)).request.method;switch(i){case"wc_sessionPropose":return this.onSessionProposeResponse(n,s,o);case"wc_sessionSettle":return this.onSessionSettleResponse(n,s);case"wc_sessionUpdate":return this.onSessionUpdateResponse(n,s);case"wc_sessionExtend":return this.onSessionExtendResponse(n,s);case"wc_sessionPing":return this.onSessionPingResponse(n,s);case"wc_sessionRequest":return this.onSessionRequestResponse(n,s);case"wc_sessionAuthenticate":return this.onSessionAuthenticateResponse(n,s);default:return this.client.logger.info(`Unsupported response method ${i}`)}}),xe(this,"onRelayEventUnknownPayload",r=>{let{topic:n}=r,{message:s}=Ce("MISSING_OR_INVALID",`Decoded payload on topic ${n} is not identifiable as a JSON-RPC request or a response.`);throw new Error(s)}),xe(this,"shouldIgnorePairingRequest",r=>{let{topic:n,requestMethod:s}=r,o=this.expectedPairingMethodMap.get(n);return!o||o.includes(s)?!1:!!(o.includes("wc_sessionAuthenticate")&&this.client.events.listenerCount("session_authenticate")>0)}),xe(this,"onSessionProposeRequest",async r=>{let{topic:n,payload:s,attestation:o,encryptedId:i}=r,{params:a,id:c}=s;try{let l=this.client.core.eventClient.getEvent({topic:n});this.client.events.listenerCount("session_proposal")===0&&(console.warn("No listener for session_proposal event"),l?.setError(vu.proposal_listener_not_found)),this.isValidConnect(pr({},s.params));let u=a.expiryTimestamp||mn(Hs.wc_sessionPropose.req.ttl),d=pr({id:c,pairingTopic:n,expiryTimestamp:u,attestation:o,encryptedId:i},a);await this.setProposal(c,d);let p=await this.getVerifyContext({attestationId:o,hash:Wi(JSON.stringify(s)),encryptedId:i,metadata:d.proposer.metadata});l?.addTrace(Al.emit_session_proposal),this.client.events.emit("session_proposal",{id:c,params:d,verifyContext:p})}catch(l){await this.sendError({id:c,topic:n,error:l,rpcOpts:Hs.wc_sessionPropose.autoReject}),this.client.logger.error(l)}}),xe(this,"onSessionProposeResponse",async(r,n,s)=>{let{id:o}=n;if(Qr(n)){let{result:i}=n;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",result:i});let a=this.client.proposal.get(o);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",proposal:a});let c=a.proposer.publicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",selfPublicKey:c});let l=i.responderPublicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",peerPublicKey:l});let u=await this.client.core.crypto.generateSharedKey(c,l);this.pendingSessions.set(o,{sessionTopic:u,pairingTopic:r,proposalId:o,publicKey:c});let d=await this.client.core.relayer.subscribe(u,{transportType:s});this.client.logger.trace({type:"method",method:"onSessionProposeResponse",subscriptionId:d}),await this.client.core.pairing.activate({topic:r})}else if(Tr(n)){await this.deleteProposal(o);let i=dr("session_connect",o);if(this.events.listenerCount(i)===0)throw new Error(`emitting ${i} without any listeners, 954`);this.events.emit(i,{error:n.error})}}),xe(this,"onSessionSettleRequest",async(r,n)=>{let{id:s,params:o}=n;try{this.isValidSessionSettleRequest(o);let{relay:i,controller:a,expiry:c,namespaces:l,sessionProperties:u,scopedProperties:d,sessionConfig:p,proposalRequestsResponses:f}=n.params,h=[...this.pendingSessions.values()].find(E=>E.sessionTopic===r);if(!h)return this.client.logger.error(`Pending session not found for topic ${r}`);let g=this.client.proposal.get(h.proposalId),y=$s(pr(pr(pr({topic:r,relay:i,expiry:c,namespaces:l,acknowledged:!0,pairingTopic:h.pairingTopic,requiredNamespaces:g.requiredNamespaces,optionalNamespaces:g.optionalNamespaces,controller:a.publicKey,self:{publicKey:h.publicKey,metadata:this.client.metadata},peer:{publicKey:a.publicKey,metadata:a.metadata}},u&&{sessionProperties:u}),d&&{scopedProperties:d}),p&&{sessionConfig:p}),{transportType:qr.relay,authentication:f?.authentication,walletPayResult:f?.walletPay});await this.client.session.set(y.topic,y),await this.setExpiry(y.topic,y.expiry),await this.client.core.pairing.updateMetadata({topic:h.pairingTopic,metadata:y.peer.metadata}),this.pendingSessions.delete(h.proposalId),this.deleteProposal(h.proposalId,!1),this.cleanupDuplicatePairings(y),await this.sendResult({id:n.id,topic:r,throwOnFailedPublish:!0,result:!0}),this.client.events.emit("session_connect",{session:y}),this.events.emit(dr("session_connect",h.proposalId),{session:y})}catch(i){await this.sendError({id:s,topic:r,error:i}),this.client.logger.error(i)}}),xe(this,"onSessionSettleResponse",async(r,n)=>{let{id:s}=n;Qr(n)?(await this.client.session.update(r,{acknowledged:!0}),this.events.emit(dr("session_approve",s),{})):Tr(n)&&(await this.client.session.delete(r,kr("USER_DISCONNECTED")),this.events.emit(dr("session_approve",s),{error:n.error}))}),xe(this,"onSessionUpdateRequest",async(r,n)=>{let{params:s,id:o}=n;try{let i=`${r}_session_update`,a=dm.get(i);if(a&&this.isRequestOutOfSync(a,o)){this.client.logger.warn(`Discarding out of sync request - ${o}`),this.sendError({id:o,topic:r,error:kr("INVALID_UPDATE_REQUEST")});return}this.isValidUpdate(pr({topic:r},s));try{dm.set(i,o),await this.client.session.update(r,{namespaces:s.namespaces}),await this.sendResult({id:o,topic:r,result:!0})}catch(c){throw dm.delete(i),c}this.client.events.emit("session_update",{id:o,topic:r,params:s})}catch(i){await this.sendError({id:o,topic:r,error:i}),this.client.logger.error(i)}}),xe(this,"isRequestOutOfSync",(r,n)=>n.toString().slice(0,-3)<r.toString().slice(0,-3)),xe(this,"onSessionUpdateResponse",(r,n)=>{let{id:s}=n,o=dr("session_update",s);if(this.events.listenerCount(o)===0)throw new Error(`emitting ${o} without any listeners`);Qr(n)?this.events.emit(dr("session_update",s),{}):Tr(n)&&this.events.emit(dr("session_update",s),{error:n.error})}),xe(this,"onSessionExtendRequest",async(r,n)=>{let{id:s}=n;try{this.isValidExtend({topic:r}),await this.setExpiry(r,mn(t6)),await this.sendResult({id:s,topic:r,result:!0}),this.client.events.emit("session_extend",{id:s,topic:r})}catch(o){await this.sendError({id:s,topic:r,error:o}),this.client.logger.error(o)}}),xe(this,"onSessionExtendResponse",(r,n)=>{let{id:s}=n,o=dr("session_extend",s);if(this.events.listenerCount(o)===0)throw new Error(`emitting ${o} without any listeners`);Qr(n)?this.events.emit(dr("session_extend",s),{}):Tr(n)&&this.events.emit(dr("session_extend",s),{error:n.error})}),xe(this,"onSessionPingRequest",async(r,n)=>{let{id:s}=n;try{this.isValidPing({topic:r}),await this.sendResult({id:s,topic:r,result:!0,throwOnFailedPublish:!0}),this.client.events.emit("session_ping",{id:s,topic:r})}catch(o){await this.sendError({id:s,topic:r,error:o}),this.client.logger.error(o)}}),xe(this,"onSessionPingResponse",(r,n)=>{let{id:s}=n,o=dr("session_ping",s);setTimeout(()=>{if(this.events.listenerCount(o)===0)throw new Error(`emitting ${o} without any listeners 2176`);Qr(n)?this.events.emit(dr("session_ping",s),{}):Tr(n)&&this.events.emit(dr("session_ping",s),{error:n.error})},500)}),xe(this,"onSessionDeleteRequest",async(r,n)=>{let{id:s}=n;try{await this.isValidDisconnect({topic:r,reason:n.params}),this.cleanupPendingSentRequestsForTopic({topic:r,error:kr("USER_DISCONNECTED")}),await this.deleteSession({topic:r,id:s})}catch(o){this.client.logger.error(o)}}),xe(this,"onSessionRequest",async r=>{var n,s,o;let{topic:i,payload:a,attestation:c,encryptedId:l,transportType:u}=r,{id:d,params:p}=a;try{await this.isValidRequest(pr({topic:i},p));let f=this.client.session.get(i),h=await this.getVerifyContext({attestationId:c,hash:Wi(JSON.stringify(fr("wc_sessionRequest",p,d))),encryptedId:l,metadata:f.peer.metadata,transportType:u}),g={id:d,topic:i,params:p,verifyContext:h};await this.setPendingSessionRequest(g),u===qr.link_mode&&(n=f.peer.metadata.redirect)!=null&&n.universal&&this.client.core.addLinkModeSupportedApp((s=f.peer.metadata.redirect)==null?void 0:s.universal),(o=this.client.signConfig)!=null&&o.disableRequestQueue?this.emitSessionRequest(g):(this.addSessionRequestToSessionRequestQueue(g),this.processSessionRequestQueue())}catch(f){await this.sendError({id:d,topic:i,error:f}),this.client.logger.error(f)}}),xe(this,"onSessionRequestResponse",(r,n)=>{let{id:s}=n,o=dr("session_request",s);if(this.events.listenerCount(o)===0)throw new Error(`emitting ${o} without any listeners`);Qr(n)?this.events.emit(dr("session_request",s),{result:n.result}):Tr(n)&&this.events.emit(dr("session_request",s),{error:n.error})}),xe(this,"onSessionEventRequest",async(r,n)=>{let{id:s,params:o}=n;try{let i=`${r}_session_event_${o.event.name}`,a=dm.get(i);if(a&&this.isRequestOutOfSync(a,s)){this.client.logger.info(`Discarding out of sync request - ${s}`);return}this.isValidEmit(pr({topic:r},o)),this.client.events.emit("session_event",{id:s,topic:r,params:o}),dm.set(i,s)}catch(i){await this.sendError({id:s,topic:r,error:i}),this.client.logger.error(i)}}),xe(this,"onSessionAuthenticateResponse",(r,n)=>{let{id:s}=n;this.client.logger.trace({type:"method",method:"onSessionAuthenticateResponse",topic:r,payload:n}),Qr(n)?this.events.emit(dr("session_request",s),{result:n.result}):Tr(n)&&this.events.emit(dr("session_request",s),{error:n.error})}),xe(this,"onSessionAuthenticateRequest",async r=>{var n;let{topic:s,payload:o,attestation:i,encryptedId:a,transportType:c}=r;try{let{requester:l,authPayload:u,expiryTimestamp:d}=o.params,p=await this.getVerifyContext({attestationId:i,hash:Wi(JSON.stringify(o)),encryptedId:a,metadata:l.metadata,transportType:c}),f={requester:l,pairingTopic:s,id:o.id,authPayload:u,verifyContext:p,expiryTimestamp:d};await this.setAuthRequest(o.id,{request:f,pairingTopic:s,transportType:c}),c===qr.link_mode&&(n=l.metadata.redirect)!=null&&n.universal&&this.client.core.addLinkModeSupportedApp(l.metadata.redirect.universal),this.client.events.emit("session_authenticate",{topic:s,params:o.params,id:o.id,verifyContext:p})}catch(l){this.client.logger.error(l);let u=o.params.requester.publicKey,d=await this.client.core.crypto.generateKeyPair(),p=this.getAppLinkIfEnabled(o.params.requester.metadata,c),f={type:xl,receiverPublicKey:u,senderPublicKey:d};await this.sendError({id:o.id,topic:s,error:l,encodeOpts:f,rpcOpts:Hs.wc_sessionAuthenticate.autoReject,appLink:p})}}),xe(this,"addSessionRequestToSessionRequestQueue",r=>{this.sessionRequestQueue.queue.push(r)}),xe(this,"cleanupAfterResponse",r=>{this.deletePendingSessionRequest(r.response.id,{message:"fulfilled",code:0}),setTimeout(()=>{this.sessionRequestQueue.state=Cu.idle,this.processSessionRequestQueue()},(0,Pt.toMiliseconds)(this.requestQueueDelay))}),xe(this,"cleanupPendingSentRequestsForTopic",({topic:r,error:n})=>{let s=this.client.core.history.pending;s.length>0&&s.filter(o=>o.topic===r&&o.request.method==="wc_sessionRequest").forEach(o=>{this.events.emit(dr("session_request",o.request.id),{error:n})})}),xe(this,"processSessionRequestQueue",()=>{if(this.sessionRequestQueue.state===Cu.active){this.client.logger.info("session request queue is already active.");return}let r=this.sessionRequestQueue.queue[0];if(!r){this.client.logger.info("session request queue is empty.");return}try{this.emitSessionRequest(r)}catch(n){this.client.logger.error(n)}}),xe(this,"emitSessionRequest",r=>{if(this.emittedSessionRequests.has(r.id)){this.client.logger.warn({id:r.id},`Skipping emitting \`session_request\` event for duplicate request. id: ${r.id}`);return}this.sessionRequestQueue.state=Cu.active,this.emittedSessionRequests.add(r.id),this.client.events.emit("session_request",r)}),xe(this,"onPairingCreated",r=>{if(r.methods&&this.expectedPairingMethodMap.set(r.topic,r.methods),r.active)return;let n=this.client.proposal.getAll().find(s=>s.pairingTopic===r.topic);n&&this.onSessionProposeRequest({topic:r.topic,payload:fr("wc_sessionPropose",$s(pr({},n),{requiredNamespaces:n.requiredNamespaces,optionalNamespaces:n.optionalNamespaces,relays:n.relays,proposer:n.proposer,sessionProperties:n.sessionProperties,scopedProperties:n.scopedProperties}),n.id),attestation:n.attestation,encryptedId:n.encryptedId})}),xe(this,"isValidConnect",async r=>{if(!Eo(r)){let{message:l}=Ce("MISSING_OR_INVALID",`connect() params: ${JSON.stringify(r)}`);throw new Error(l)}let{pairingTopic:n,requiredNamespaces:s,optionalNamespaces:o,sessionProperties:i,scopedProperties:a,relays:c}=r;if(Dn(n)||await this.isValidPairingTopic(n),!g1e(c,!0)){let{message:l}=Ce("MISSING_OR_INVALID",`connect() relays: ${c}`);throw new Error(l)}if(s&&!Dn(s)&&hc(s)!==0){let l="requiredNamespaces are deprecated and are automatically assigned to optionalNamespaces";["fatal","error","silent"].includes(this.client.logger.level)?console.warn(l):this.client.logger.warn(l),this.validateNamespaces(s,"requiredNamespaces")}if(o&&!Dn(o)&&hc(o)!==0&&this.validateNamespaces(o,"optionalNamespaces"),i&&!Dn(i)&&this.validateSessionProps(i,"sessionProperties"),a&&!Dn(a)){this.validateSessionProps(a,"scopedProperties");let l=Object.keys(s||{}).concat(Object.keys(o||{}));if(!Object.keys(a).every(u=>l.includes(u.split(":")[0])))throw new Error(`Scoped properties must be a subset of required/optional namespaces, received: ${JSON.stringify(a)}, required/optional namespaces: ${JSON.stringify(l)}`)}}),xe(this,"validateNamespaces",(r,n)=>{let s=m1e(r,"connect()",n);if(s)throw new Error(s.message)}),xe(this,"isValidApprove",async r=>{if(!Eo(r))throw new Error(Ce("MISSING_OR_INVALID",`approve() params: ${r}`).message);let{id:n,namespaces:s,relayProtocol:o,sessionProperties:i,scopedProperties:a}=r;this.checkRecentlyDeleted(n),await this.isValidProposalId(n);let c=this.client.proposal.get(n),l=T7(s,"approve()");if(l)throw new Error(l.message);let u=jF(c.requiredNamespaces,s,"approve()");if(u)throw new Error(u.message);if(!Cn(o,!0)){let{message:d}=Ce("MISSING_OR_INVALID",`approve() relayProtocol: ${o}`);throw new Error(d)}if(i&&!Dn(i)&&this.validateSessionProps(i,"sessionProperties"),a&&!Dn(a)){this.validateSessionProps(a,"scopedProperties");let d=new Set(Object.keys(s));if(!Object.keys(a).every(p=>d.has(p.split(":")[0])))throw new Error(`Scoped properties must be a subset of approved namespaces, received: ${JSON.stringify(a)}, approved namespaces: ${Array.from(d).join(", ")}`)}}),xe(this,"isValidReject",async r=>{if(!Eo(r)){let{message:o}=Ce("MISSING_OR_INVALID",`reject() params: ${r}`);throw new Error(o)}let{id:n,reason:s}=r;if(this.checkRecentlyDeleted(n),await this.isValidProposalId(n),!w1e(s)){let{message:o}=Ce("MISSING_OR_INVALID",`reject() reason: ${JSON.stringify(s)}`);throw new Error(o)}}),xe(this,"isValidSessionSettleRequest",r=>{if(!Eo(r)){let{message:l}=Ce("MISSING_OR_INVALID",`onSessionSettleRequest() params: ${r}`);throw new Error(l)}let{relay:n,controller:s,namespaces:o,expiry:i}=r;if(!$F(n)){let{message:l}=Ce("MISSING_OR_INVALID","onSessionSettleRequest() relay protocol should be a string");throw new Error(l)}let a=f1e(s,"onSessionSettleRequest()");if(a)throw new Error(a.message);let c=T7(o,"onSessionSettleRequest()");if(c)throw new Error(c.message);if(Da(i)){let{message:l}=Ce("EXPIRED","onSessionSettleRequest()");throw new Error(l)}}),xe(this,"isValidUpdate",async r=>{if(!Eo(r)){let{message:c}=Ce("MISSING_OR_INVALID",`update() params: ${r}`);throw new Error(c)}let{topic:n,namespaces:s}=r;this.checkRecentlyDeleted(n),await this.isValidSessionTopic(n);let o=this.client.session.get(n),i=T7(s,"update()");if(i)throw new Error(i.message);let a=jF(o.requiredNamespaces,s,"update()");if(a)throw new Error(a.message)}),xe(this,"isValidExtend",async r=>{if(!Eo(r)){let{message:s}=Ce("MISSING_OR_INVALID",`extend() params: ${r}`);throw new Error(s)}let{topic:n}=r;this.checkRecentlyDeleted(n),await this.isValidSessionTopic(n)}),xe(this,"isValidRequest",async r=>{if(!Eo(r)){let{message:c}=Ce("MISSING_OR_INVALID",`request() params: ${r}`);throw new Error(c)}let{topic:n,request:s,chainId:o,expiry:i}=r;this.checkRecentlyDeleted(n),await this.isValidSessionTopic(n);let{namespaces:a}=this.client.session.get(n);if(!FF(a,o)){let{message:c}=Ce("MISSING_OR_INVALID",`request() chainId: ${o}`);throw new Error(c)}if(!b1e(s)){let{message:c}=Ce("MISSING_OR_INVALID",`request() ${JSON.stringify(s)}`);throw new Error(c)}if(!E1e(a,o,s.method)){let{message:c}=Ce("MISSING_OR_INVALID",`request() method: ${s.method}`);throw new Error(c)}this.validateRequestExpiry(i)}),xe(this,"isValidRespond",async r=>{var n;if(!Eo(r)){let{message:a}=Ce("MISSING_OR_INVALID",`respond() params: ${r}`);throw new Error(a)}let{topic:s,response:o}=r;try{await this.isValidSessionTopic(s)}catch(a){throw(n=r?.response)!=null&&n.id&&this.cleanupAfterResponse(r),a}if(!x1e(o)){let{message:a}=Ce("MISSING_OR_INVALID",`respond() response: ${JSON.stringify(o)}`);throw new Error(a)}let i=this.client.pendingRequest.get(o.id);if(i.topic!==s){let{message:a}=Ce("MISMATCHED_TOPIC",`Request response topic mismatch. reqId: ${o.id}, expected topic: ${i.topic}, received topic: ${s}`);throw new Error(a)}}),xe(this,"isValidPing",async r=>{if(!Eo(r)){let{message:s}=Ce("MISSING_OR_INVALID",`ping() params: ${r}`);throw new Error(s)}let{topic:n}=r;await this.isValidSessionOrPairingTopic(n)}),xe(this,"isValidEmit",async r=>{if(!Eo(r)){let{message:a}=Ce("MISSING_OR_INVALID",`emit() params: ${r}`);throw new Error(a)}let{topic:n,event:s,chainId:o}=r;await this.isValidSessionTopic(n);let{namespaces:i}=this.client.session.get(n);if(!FF(i,o)){let{message:a}=Ce("MISSING_OR_INVALID",`emit() chainId: ${o}`);throw new Error(a)}if(!v1e(s)){let{message:a}=Ce("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(s)}`);throw new Error(a)}if(!A1e(i,o,s.name)){let{message:a}=Ce("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(s)}`);throw new Error(a)}}),xe(this,"isValidDisconnect",async r=>{if(!Eo(r)){let{message:s}=Ce("MISSING_OR_INVALID",`disconnect() params: ${r}`);throw new Error(s)}let{topic:n}=r;await this.isValidSessionOrPairingTopic(n)}),xe(this,"isValidAuthenticate",r=>{let{chains:n,uri:s,domain:o,nonce:i}=r;if(!Array.isArray(n)||n.length===0)throw new Error("chains is required and must be a non-empty array");if(!Cn(s,!1))throw new Error("uri is required parameter");if(!Cn(o,!1))throw new Error("domain is required parameter");if(!Cn(i,!1))throw new Error("nonce is required parameter");if([...new Set(n.map(c=>wl(c).namespace))].length>1)throw new Error("Multi-namespace requests are not supported. Please request single namespace only.");let{namespace:a}=wl(n[0]);if(a!=="eip155")throw new Error("Only eip155 namespace is supported for authenticated sessions. Please use .connect() for non-eip155 chains.")}),xe(this,"getVerifyContext",async r=>{let{attestationId:n,hash:s,encryptedId:o,metadata:i,transportType:a}=r,c={verified:{verifyUrl:i.verifyUrl||Xb,validation:"UNKNOWN",origin:i.url||""}};try{if(a===qr.link_mode){let u=this.getAppLinkIfEnabled(i,a);return c.verified.validation=u&&new URL(u).origin===new URL(i.url).origin?"VALID":"INVALID",c}let l=await this.client.core.verify.resolve({attestationId:n,hash:s,encryptedId:o,verifyUrl:i.verifyUrl});l&&(c.verified.origin=l.origin,c.verified.isScam=l.isScam,c.verified.validation=l.origin===new URL(i.url).origin?"VALID":"INVALID")}catch(l){this.client.logger.warn(l)}return this.client.logger.debug(`Verify context: ${JSON.stringify(c)}`),c}),xe(this,"validateSessionProps",(r,n)=>{Object.values(r).forEach((s,o)=>{if(s==null){let{message:i}=Ce("MISSING_OR_INVALID",`${n} must contain an existing value for each key. Received: ${s} for key ${Object.keys(r)[o]}`);throw new Error(i)}})}),xe(this,"getPendingAuthRequest",r=>{let n=this.client.auth.requests.get(r);return typeof n=="object"?n:void 0}),xe(this,"addToRecentlyDeleted",(r,n)=>{if(this.recentlyDeletedMap.set(r,n),this.recentlyDeletedMap.size>=this.recentlyDeletedLimit){let s=0,o=this.recentlyDeletedLimit/2;for(let i of this.recentlyDeletedMap.keys()){if(s++>=o)break;this.recentlyDeletedMap.delete(i)}}}),xe(this,"checkRecentlyDeleted",r=>{let n=this.recentlyDeletedMap.get(r);if(n){let{message:s}=Ce("MISSING_OR_INVALID",`Record was recently deleted - ${n}: ${r}`);throw new Error(s)}}),xe(this,"isLinkModeEnabled",(r,n)=>{var s,o,i,a,c,l,u,d,p;return!r||n!==qr.link_mode?!1:((o=(s=this.client.metadata)==null?void 0:s.redirect)==null?void 0:o.linkMode)===!0&&((a=(i=this.client.metadata)==null?void 0:i.redirect)==null?void 0:a.universal)!==void 0&&((l=(c=this.client.metadata)==null?void 0:c.redirect)==null?void 0:l.universal)!==""&&((u=r?.redirect)==null?void 0:u.universal)!==void 0&&((d=r?.redirect)==null?void 0:d.universal)!==""&&((p=r?.redirect)==null?void 0:p.linkMode)===!0&&this.client.core.linkModeSupportedApps.includes(r.redirect.universal)&&typeof globalThis?.Linking<"u"}),xe(this,"getAppLinkIfEnabled",(r,n)=>{var s;return this.isLinkModeEnabled(r,n)?(s=r?.redirect)==null?void 0:s.universal:void 0}),xe(this,"handleLinkModeMessage",({url:r})=>{if(!r||!r.includes("wc_ev")||!r.includes("topic"))return;let n=gF(r,"topic")||"",s=decodeURIComponent(gF(r,"wc_ev")||""),o=this.client.session.keys.includes(n);o&&this.client.session.update(n,{transportType:qr.link_mode}),this.client.core.dispatchEnvelope({topic:n,message:s,sessionExists:o})}),xe(this,"registerLinkModeListeners",async()=>{var r;if(Sv()||ef()&&(r=this.client.metadata.redirect)!=null&&r.linkMode){let n=globalThis?.Linking;if(typeof n<"u"){n.addEventListener("url",this.handleLinkModeMessage,this.client.name);let s=await n.getInitialURL();s&&setTimeout(()=>{this.handleLinkModeMessage({url:s})},50)}}}),xe(this,"getTVFApproveParams",r=>{try{let n=LF(r.namespaces),s=i1e(r.namespaces),o=a1e(r.namespaces),i=r.sessionProperties,a=r.scopedProperties;return{approvedChains:n,approvedMethods:s,approvedEvents:o,sessionProperties:i,scopedProperties:a}}catch(n){return this.client.logger.warn(n,"Error getting TVF approve params"),{}}}),xe(this,"getTVFParams",(r,n,s)=>{var o,i,a;if(!((o=n.request)!=null&&o.method))return{};let c={correlationId:r,rpcMethods:[n.request.method],chainId:n.chainId};try{let l=this.extractTxHashesFromResult(n.request,s);c.txHashes=l,c.contractAddresses=this.isValidContractData(n.request.params)?[(a=(i=n.request.params)==null?void 0:i[0])==null?void 0:a.to]:[]}catch(l){this.client.logger.warn(l,"Error getting TVF params")}return c}),xe(this,"isValidContractData",r=>{var n;if(!r)return!1;try{let s=r?.data||((n=r?.[0])==null?void 0:n.data);if(!s.startsWith("0x"))return!1;let o=s.slice(2);return/^[0-9a-fA-F]*$/.test(o)?o.length%2===0:!1}catch{}return!1}),xe(this,"extractTxHashesFromResult",(r,n)=>{var s;try{if(!n)return[];let o=r.method,i=PXe[o];if(o==="sui_signTransaction")return[fme(n.transactionBytes)];if(o==="near_signTransaction")return[vF(n)];if(o==="near_signTransactions")return n.map(c=>vF(c));if(o==="xrpl_signTransactionFor"||o==="xrpl_signTransaction")return[(s=n.tx_json)==null?void 0:s.hash];if(o==="polkadot_signTransaction")return[_1e({transaction:r.params.transactionPayload,signature:n.signature})];if(o==="algo_signTxn")return vl(n)?n.map(c=>EF(c)):[EF(n)];if(o==="cosmos_signDirect")return[hme(n)];if(o==="wallet_sendCalls")return mme(n);if(typeof n=="string")return[n];let a=n[i.key];if(vl(a))return o==="solana_signAllTransactions"?a.map(c=>pme(c)):a;if(typeof a=="string")return[a]}catch(o){this.client.logger.warn(o,"Error extracting tx hashes from result")}return[]})}async processPendingMessageEvents(){try{let t=this.client.session.keys,r=this.client.core.relayer.messages.getWithoutAck(t);for(let[n,s]of Object.entries(r))for(let o of s)try{await this.onProviderMessageEvent({topic:n,message:o,publishedAt:Date.now()})}catch{this.client.logger.warn(`Error processing pending message event for topic: ${n}, message: ${o}`)}}catch(t){this.client.logger.warn(t,"processPendingMessageEvents failed")}}isInitialized(){if(!this.initialized){let{message:t}=Ce("NOT_INITIALIZED",this.name);throw new Error(t)}}async confirmOnlineStateOrThrow(){await this.client.core.relayer.confirmOnlineStateOrThrow()}registerRelayerEvents(){this.client.core.relayer.on(Un.message,t=>{this.onProviderMessageEvent(t)})}async onRelayMessage(t){let{topic:r,message:n,attestation:s,transportType:o}=t,{publicKey:i}=this.client.auth.authKeys.keys.includes(k7)?this.client.auth.authKeys.get(k7):{responseTopic:void 0,publicKey:void 0};try{let a=await this.client.core.crypto.decode(r,n,{receiverPublicKey:i,encoding:o===qr.link_mode?rf:vo});Fc(a)?(this.client.core.history.set(r,a),await this.onRelayEventRequest({topic:r,payload:a,attestation:s,transportType:o,encryptedId:Wi(n)})):ua(a)?(await this.client.core.history.resolve(a),await this.onRelayEventResponse({topic:r,payload:a,transportType:o}),this.client.core.history.delete(r,a.id)):(this.client.logger.error(`onRelayMessage() -> unknown payload: ${JSON.stringify(a)}`),await this.onRelayEventUnknownPayload({topic:r,payload:a,transportType:o})),await this.client.core.relayer.messages.ack(r,n)}catch(a){this.client.logger.error(`onRelayMessage() -> failed to process an inbound message: ${n}`),this.client.logger.error(a)}}registerExpirerEvents(){this.client.core.expirer.on(Ma.expired,async t=>{let{topic:r,id:n}=y7(t.target);if(n&&this.client.pendingRequest.keys.includes(n))return await this.deletePendingSessionRequest(n,Ce("EXPIRED"),!0);if(n&&this.client.auth.requests.keys.includes(n))return await this.deletePendingAuthRequest(n,Ce("EXPIRED"),!0);r?this.client.session.keys.includes(r)&&(await this.deleteSession({topic:r,expirerHasDeleted:!0}),this.client.events.emit("session_expire",{topic:r})):n&&(await this.deleteProposal(n,!0),this.client.events.emit("proposal_expire",{id:n}))})}registerPairingEvents(){this.client.core.pairing.events.on(fm.create,t=>this.onPairingCreated(t)),this.client.core.pairing.events.on(fm.delete,t=>{this.addToRecentlyDeleted(t.topic,"pairing")})}isValidPairingTopic(t){if(!Cn(t,!1)){let{message:r}=Ce("MISSING_OR_INVALID",`pairing topic should be a string: ${t}`);throw new Error(r)}if(!this.client.core.pairing.pairings.keys.includes(t)){let{message:r}=Ce("NO_MATCHING_KEY",`pairing topic doesn't exist: ${t}`);throw new Error(r)}if(Da(this.client.core.pairing.pairings.get(t).expiry)){let{message:r}=Ce("EXPIRED",`pairing topic: ${t}`);throw new Error(r)}}async isValidSessionTopic(t){if(!Cn(t,!1)){let{message:r}=Ce("MISSING_OR_INVALID",`session topic should be a string: ${t}`);throw new Error(r)}if(this.checkRecentlyDeleted(t),!this.client.session.keys.includes(t)){let{message:r}=Ce("NO_MATCHING_KEY",`session topic doesn't exist: ${t}`);throw new Error(r)}if(Da(this.client.session.get(t).expiry)){await this.deleteSession({topic:t});let{message:r}=Ce("EXPIRED",`session topic: ${t}`);throw new Error(r)}if(!this.client.core.crypto.keychain.has(t)){let{message:r}=Ce("MISSING_OR_INVALID",`session topic does not exist in keychain: ${t}`);throw await this.deleteSession({topic:t}),new Error(r)}}async isValidSessionOrPairingTopic(t){if(this.checkRecentlyDeleted(t),this.client.session.keys.includes(t))await this.isValidSessionTopic(t);else if(this.client.core.pairing.pairings.keys.includes(t))this.isValidPairingTopic(t);else if(Cn(t,!1)){let{message:r}=Ce("NO_MATCHING_KEY",`session or pairing topic doesn't exist: ${t}`);throw new Error(r)}else{let{message:r}=Ce("MISSING_OR_INVALID",`session or pairing topic should be a string: ${t}`);throw new Error(r)}}async isValidProposalId(t){if(!y1e(t)){let{message:r}=Ce("MISSING_OR_INVALID",`proposal id should be a number: ${t}`);throw new Error(r)}if(!this.client.proposal.keys.includes(t)){let{message:r}=Ce("NO_MATCHING_KEY",`proposal id doesn't exist: ${t}`);throw new Error(r)}if(Da(this.client.proposal.get(t).expiryTimestamp)){await this.deleteProposal(t);let{message:r}=Ce("EXPIRED",`proposal id: ${t}`);throw new Error(r)}}validateRequestExpiry(t){if(t&&!C1e(t,Sj)){let{message:r}=Ce("MISSING_OR_INVALID",`request() expiry: ${t}. Expiry must be a number (in seconds) between ${Sj.min} and ${Sj.max}`);throw new Error(r)}}},Pj=class extends Au{constructor(t,r){super(t,r,IXe,Lj),this.core=t,this.logger=r}},Nj=class extends Au{constructor(t,r){super(t,r,_Xe,Lj),this.core=t,this.logger=r}},Rj=class extends Au{constructor(t,r){super(t,r,NXe,Lj,n=>n.id),this.core=t,this.logger=r}},Oj=class extends Au{constructor(t,r){super(t,r,BXe,D7,()=>k7),this.core=t,this.logger=r}},kj=class extends Au{constructor(t,r){super(t,r,DXe,D7),this.core=t,this.logger=r}},Bj=class extends Au{constructor(t,r){super(t,r,UXe,D7,n=>n.id),this.core=t,this.logger=r}},jXe=Object.defineProperty,zXe=(e,t,r)=>t in e?jXe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Ij=(e,t,r)=>zXe(e,typeof t!="symbol"?t+"":t,r),Dj=class{constructor(t,r){this.core=t,this.logger=r,Ij(this,"authKeys"),Ij(this,"pairingTopics"),Ij(this,"requests"),this.authKeys=new Oj(this.core,this.logger),this.pairingTopics=new kj(this.core,this.logger),this.requests=new Bj(this.core,this.logger)}async init(){await this.authKeys.init(),await this.pairingTopics.init(),await this.requests.init()}},VXe=Object.defineProperty,qXe=(e,t,r)=>t in e?VXe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Kt=(e,t,r)=>qXe(e,typeof t!="symbol"?t+"":t,r),Uj=class e extends x9{constructor(t){super(t),Kt(this,"protocol",bge),Kt(this,"version",xge),Kt(this,"name",Cj.name),Kt(this,"metadata"),Kt(this,"core"),Kt(this,"logger"),Kt(this,"events",new B7.EventEmitter),Kt(this,"engine"),Kt(this,"session"),Kt(this,"proposal"),Kt(this,"pendingRequest"),Kt(this,"auth"),Kt(this,"signConfig"),Kt(this,"on",(n,s)=>this.events.on(n,s)),Kt(this,"once",(n,s)=>this.events.once(n,s)),Kt(this,"off",(n,s)=>this.events.off(n,s)),Kt(this,"removeListener",(n,s)=>this.events.removeListener(n,s)),Kt(this,"removeAllListeners",n=>this.events.removeAllListeners(n)),Kt(this,"connect",async n=>{try{return await this.engine.connect(n)}catch(s){throw this.logger.error(s.message),s}}),Kt(this,"pair",async n=>{try{return await this.engine.pair(n)}catch(s){throw this.logger.error(s.message),s}}),Kt(this,"approve",async n=>{try{return await this.engine.approve(n)}catch(s){throw this.logger.error(s.message),s}}),Kt(this,"reject",async n=>{try{return await this.engine.reject(n)}catch(s){throw this.logger.error(s.message),s}}),Kt(this,"update",async n=>{try{return await this.engine.update(n)}catch(s){throw this.logger.error(s.message),s}}),Kt(this,"extend",async n=>{try{return await this.engine.extend(n)}catch(s){throw this.logger.error(s.message),s}}),Kt(this,"request",async n=>{try{return await this.engine.request(n)}catch(s){throw this.logger.error(s.message),s}}),Kt(this,"respond",async n=>{try{return await this.engine.respond(n)}catch(s){throw this.logger.error(s.message),s}}),Kt(this,"ping",async n=>{try{return await this.engine.ping(n)}catch(s){throw this.logger.error(s.message),s}}),Kt(this,"emit",async n=>{try{return await this.engine.emit(n)}catch(s){throw this.logger.error(s.message),s}}),Kt(this,"disconnect",async n=>{try{return await this.engine.disconnect(n)}catch(s){throw this.logger.error(s.message),s}}),Kt(this,"find",n=>{try{return this.engine.find(n)}catch(s){throw this.logger.error(s.message),s}}),Kt(this,"getPendingSessionRequests",()=>{try{return this.engine.getPendingSessionRequests()}catch(n){throw this.logger.error(n.message),n}}),Kt(this,"authenticate",async(n,s)=>{try{return await this.engine.authenticate(n,s)}catch(o){throw this.logger.error(o.message),o}}),Kt(this,"formatAuthMessage",n=>{try{return this.engine.formatAuthMessage(n)}catch(s){throw this.logger.error(s.message),s}}),Kt(this,"approveSessionAuthenticate",async n=>{try{return await this.engine.approveSessionAuthenticate(n)}catch(s){throw this.logger.error(s.message),s}}),Kt(this,"rejectSessionAuthenticate",async n=>{try{return await this.engine.rejectSessionAuthenticate(n)}catch(s){throw this.logger.error(s.message),s}}),this.name=t?.name||Cj.name,this.metadata=q0e(t?.metadata),this.signConfig=t?.signConfig;let r=Yb({logger:t?.logger||Cj.logger,name:this.name});this.logger=r,this.core=t?.core||new hge(t),this.session=new Nj(this.core,this.logger),this.proposal=new Pj(this.core,this.logger),this.pendingRequest=new Rj(this.core,this.logger),this.engine=new Tj(this),this.auth=new Dj(this.core,this.logger)}static async init(t){let r=new e(t);return await r.initialize(),r}get context(){return ar(this.logger)}get pairing(){return this.core.pairing.pairings}async initialize(){this.logger.trace("Initialized");try{await this.core.start(),await this.session.init(),await this.proposal.init(),await this.pendingRequest.init(),await this.auth.init(),await this.engine.init(),this.logger.info("SignClient Initialization Success")}catch(t){throw this.logger.info("SignClient Initialization Failure"),this.logger.error(t.message),t}}},Ege=Uj});function Yj(e){return e==null||typeof e!="object"&&typeof e!="function"}function Vge(e){return Object.getOwnPropertySymbols(e).filter(t=>Object.prototype.propertyIsEnumerable.call(e,t))}function qge(e){return e==null?e===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}function Jj(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function det(e,t){return n6(e,void 0,e,new Map,t)}function n6(e,t,r,n=new Map,s=void 0){let o=s?.(e,t,r,n);if(o!=null)return o;if(Yj(e))return e;if(n.has(e))return n.get(e);if(Array.isArray(e)){let i=new Array(e.length);n.set(e,i);for(let a=0;a<e.length;a++)i[a]=n6(e[a],a,r,n,s);return Object.hasOwn(e,"index")&&(i.index=e.index),Object.hasOwn(e,"input")&&(i.input=e.input),i}if(e instanceof Date)return new Date(e.getTime());if(e instanceof RegExp){let i=new RegExp(e.source,e.flags);return i.lastIndex=e.lastIndex,i}if(e instanceof Map){let i=new Map;n.set(e,i);for(let[a,c]of e)i.set(a,n6(c,a,r,n,s));return i}if(e instanceof Set){let i=new Set;n.set(e,i);for(let a of e)i.add(n6(a,void 0,r,n,s));return i}if(typeof Buffer<"u"&&Buffer.isBuffer(e))return e.subarray();if(Jj(e)){let i=new(Object.getPrototypeOf(e)).constructor(e.length);n.set(e,i);for(let a=0;a<e.length;a++)i[a]=n6(e[a],a,r,n,s);return i}if(e instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&e instanceof SharedArrayBuffer)return e.slice(0);if(e instanceof DataView){let i=new DataView(e.buffer.slice(0),e.byteOffset,e.byteLength);return n.set(e,i),kg(i,e,r,n,s),i}if(typeof File<"u"&&e instanceof File){let i=new File([e],e.name,{type:e.type});return n.set(e,i),kg(i,e,r,n,s),i}if(e instanceof Blob){let i=new Blob([e],{type:e.type});return n.set(e,i),kg(i,e,r,n,s),i}if(e instanceof Error){let i=new e.constructor;return n.set(e,i),i.message=e.message,i.name=e.name,i.stack=e.stack,i.cause=e.cause,kg(i,e,r,n,s),i}if(typeof e=="object"&&pet(e)){let i=Object.create(Object.getPrototypeOf(e));return n.set(e,i),kg(i,e,r,n,s),i}return e}function kg(e,t,r=e,n,s){let o=[...Object.keys(t),...Vge(t)];for(let i=0;i<o.length;i++){let a=o[i],c=Object.getOwnPropertyDescriptor(e,a);(c==null||c.writable)&&(e[a]=n6(t[a],a,r,n,s))}}function pet(e){switch(qge(e)){case Gge:case JXe:case QXe:case eet:case Zge:case ZXe:case cet:case uet:case oet:case iet:case aet:case GXe:case Kge:case XXe:case WXe:case YXe:case Wge:case KXe:case tet:case ret:case net:case set:return!0;default:return!1}}function fet(e,t){return det(e,(r,n,s,o)=>{let i=t?.(r,n,s,o);if(i!=null)return i;if(typeof e=="object")switch(Object.prototype.toString.call(e)){case Kge:case Wge:case Zge:{let a=new e.constructor(e?.valueOf());return kg(a,e),a}case Gge:{let a={};return kg(a,e),a.length=e.length,a[Symbol.iterator]=e[Symbol.iterator],a}default:return}})}function Cge(e){return fet(e)}function Sge(e){return e!==null&&typeof e=="object"&&qge(e)==="[object Arguments]"}function Ige(e){return typeof e=="object"&&e!==null}function het(){}function met(e){return Jj(e)}function get(e){if(typeof e!="object"||e==null)return!1;if(Object.getPrototypeOf(e)===null)return!0;if(Object.prototype.toString.call(e)!=="[object Object]"){let r=e[Symbol.toStringTag];return r==null||!Object.getOwnPropertyDescriptor(e,Symbol.toStringTag)?.writable?!1:e.toString()===`[object ${r}]`}let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function yet(e){if(Yj(e))return e;if(Array.isArray(e)||Jj(e)||e instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&e instanceof SharedArrayBuffer)return e.slice(0);let t=Object.getPrototypeOf(e),r=t.constructor;if(e instanceof Date||e instanceof Map||e instanceof Set)return new r(e);if(e instanceof RegExp){let n=new r(e);return n.lastIndex=e.lastIndex,n}if(e instanceof DataView)return new r(e.buffer.slice(0));if(e instanceof Error){let n=new r(e.message);return n.stack=e.stack,n.name=e.name,n.cause=e.cause,n}if(typeof File<"u"&&e instanceof File)return new r([e],e.name,{type:e.type,lastModified:e.lastModified});if(typeof e=="object"){let n=Object.create(t);return Object.assign(n,e)}return e}function wet(e,...t){let r=t.slice(0,-1),n=t[t.length-1],s=e;for(let o=0;o<r.length;o++){let i=r[o];s=Vj(s,i,n,new Map)}return s}function Vj(e,t,r,n){if(Yj(e)&&(e=Object(e)),t==null||typeof t!="object")return e;if(n.has(t))return yet(n.get(t));if(n.set(t,e),Array.isArray(t)){t=t.slice();for(let o=0;o<t.length;o++)t[o]=t[o]??void 0}let s=[...Object.keys(t),...Vge(t)];for(let o=0;o<s.length;o++){let i=s[o],a=t[i],c=e[i];if(Sge(a)&&(a={...a}),Sge(c)&&(c={...c}),typeof Buffer<"u"&&Buffer.isBuffer(a)&&(a=Cge(a)),Array.isArray(a))if(typeof c=="object"&&c!=null){let u=[],d=Reflect.ownKeys(c);for(let p=0;p<d.length;p++){let f=d[p];u[f]=c[f]}c=u}else c=[];let l=r(c,a,i,e,t,n);l!=null?e[i]=l:Array.isArray(a)||Ige(c)&&Ige(a)?e[i]=Vj(c,a,r,n):c==null&&get(a)?e[i]=Vj({},a,r,n):c==null&&met(a)?e[i]=Cge(a):(c===void 0||a!==void 0)&&(e[i]=a)}return e}function bet(e,...t){return wet(e,...t,het)}function Xge(e,t,r){var n;let s=wl(e);return((n=t.rpcMap)==null?void 0:n[s.reference])||`${Jge}?chainId=${s.namespace}:${s.reference}&projectId=${r}`}function Ret(e){return e.includes(":")?e.split(":")[1]:e}function e2e(e){return e.map(t=>`${t.split(":")[0]}:${t.split(":")[1]}`)}function Oet(e,t){let r=Object.keys(t.namespaces).filter(s=>s.includes(e));if(!r.length)return[];let n=[];return r.forEach(s=>{let o=t.namespaces[s].accounts;n.push(...o)}),n}function Nge(e){return Object.fromEntries(Object.entries(e).filter(([t,r])=>{var n,s;return((n=r?.chains)==null?void 0:n.length)&&((s=r?.chains)==null?void 0:s.length)>0}))}function M7(e={},t={}){let r=Nge(Rge(e)),n=Nge(Rge(t));return bet(r,n)}function Rge(e){var t,r,n,s,o;let i={};if(!hc(e))return i;for(let[a,c]of Object.entries(e)){let l=kv(a)?[a]:c.chains,u=c.methods||[],d=c.events||[],p=c.rpcMap||{},f=Rg(a);i[f]=Net(L7(L7({},i[f]),c),{chains:hl(l,(t=i[f])==null?void 0:t.chains),methods:hl(u,(r=i[f])==null?void 0:r.methods),events:hl(d,(n=i[f])==null?void 0:n.events)}),(hc(p)||hc(((s=i[f])==null?void 0:s.rpcMap)||{}))&&(i[f].rpcMap=L7(L7({},p),(o=i[f])==null?void 0:o.rpcMap))}return i}function Oge(e){return e.includes(":")?e.split(":")[2]:e}function kge(e){let t={};for(let[r,n]of Object.entries(e)){let s=n.methods||[],o=n.events||[],i=n.accounts||[],a=kv(r)?[r]:n.chains?n.chains:e2e(n.accounts);t[r]={chains:a,methods:s,events:o,accounts:i}}return t}function Mj(e){return typeof e=="number"?e:e.includes("0x")?parseInt(e,16):(e=e.includes(":")?e.split(":")[1]:e,isNaN(Number(e))?e:Number(e))}function ket(e){try{let t=JSON.parse(e);return typeof t=="object"&&t!==null&&!Array.isArray(t)}catch{return!1}}async function Jet(e,t){let r=wl(e.result.capabilities.caip345.caip2),n=e.result.capabilities.caip345.transactionHashes,s=await Promise.allSettled(n.map(d=>Qet(r.reference,d,t))),o=s.filter(d=>d.status==="fulfilled").map(d=>d.value).filter(d=>d);s.filter(d=>d.status==="rejected").forEach(d=>console.warn("Failed to fetch transaction receipt:",d.reason));let i=!o.length||o.some(d=>!d),a=o.every(d=>d?.status==="0x1"),c=o.every(d=>d?.status==="0x0"),l=o.some(d=>d?.status==="0x0"),u;return i?u=100:a?u=200:c?u=500:l&&(u=600),{id:e.result.id,version:e.request.version,atomic:e.request.atomicRequired,chainId:e.request.chainId,capabilities:e.result.capabilities,receipts:o,status:u}}async function Qet(e,t,r){return await r(parseInt(e)).request(fr("eth_getTransactionReceipt",[t]))}async function Xet({sendCalls:e,storage:t}){let r=await t.getItem(s6);await t.setItem(s6,Yet(Get({},r),{[e.result.id]:{request:e.request,result:e.result,expiry:mn(Aet)}}))}async function ett({resultId:e,storage:t}){let r=await t.getItem(s6);if(r){delete r[e],await t.setItem(s6,r);for(let n in r)Da(r[n].expiry)&&delete r[n];await t.setItem(s6,r)}}async function ttt({resultId:e,storage:t}){let r=await t.getItem(s6),n=r?.[e];if(n&&!Da(n.expiry))return n;await ett({resultId:e,storage:t})}var zge,WXe,Wge,Kge,Zge,Gge,KXe,ZXe,GXe,YXe,JXe,QXe,XXe,eet,tet,ret,net,set,oet,iet,aet,cet,uet,_ge,xet,vet,Yge,U7,Jge,Qge,Eet,s6,Aet,Qj,Cet,Iet,_et,Tge,Tet,Pet,Pge,L7,Net,t2e,o6,Hj,Bet,Bge,Det,Uet,Dge,Uge,Lge,Let,Met,$j,Mge,Het,$et,Fet,jet,zet,Fj,qj,Vet,qet,Wet,Hge,Ket,Zet,$ge,Get,Yet,rtt,ntt,stt,Fge,ott,itt,Wj,jj,zj,Og,Kj,att,ctt,r6,Zj,ltt,utt,dtt,jge,ptt,ftt,Gj,$v,H7,Ha,$7,r2e=m(()=>{Age();P7();jc();py();zC();zge=Bt(Oo(),1);WXe="[object RegExp]",Wge="[object String]",Kge="[object Number]",Zge="[object Boolean]",Gge="[object Arguments]",KXe="[object Symbol]",ZXe="[object Date]",GXe="[object Map]",YXe="[object Set]",JXe="[object Array]",QXe="[object ArrayBuffer]",XXe="[object Object]",eet="[object DataView]",tet="[object Uint8Array]",ret="[object Uint8ClampedArray]",net="[object Uint16Array]",set="[object Uint32Array]",oet="[object Int8Array]",iet="[object Int16Array]",aet="[object Int32Array]",cet="[object Float32Array]",uet="[object Float64Array]";_ge="error",xet="wss://relay.walletconnect.org",vet="wc",Yge="universal_provider",U7=`${vet}@2:${Yge}:`,Jge="https://rpc.walletconnect.org/v1/",Qge="generic",Eet=`${Jge}bundler`,s6="call_status",Aet=86400,Qj={DEFAULT_CHAIN_CHANGED:"default_chain_changed"},Cet=Object.defineProperty,Iet=Object.defineProperties,_et=Object.getOwnPropertyDescriptors,Tge=Object.getOwnPropertySymbols,Tet=Object.prototype.hasOwnProperty,Pet=Object.prototype.propertyIsEnumerable,Pge=(e,t,r)=>t in e?Cet(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,L7=(e,t)=>{for(var r in t||(t={}))Tet.call(t,r)&&Pge(e,r,t[r]);if(Tge)for(var r of Tge(t))Pet.call(t,r)&&Pge(e,r,t[r]);return e},Net=(e,t)=>Iet(e,_et(t));t2e={},o6=e=>t2e[e],Hj=(e,t)=>{t2e[e]=t},Bet=Object.defineProperty,Bge=Object.getOwnPropertySymbols,Det=Object.prototype.hasOwnProperty,Uet=Object.prototype.propertyIsEnumerable,Dge=(e,t,r)=>t in e?Bet(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Uge=(e,t)=>{for(var r in t||(t={}))Det.call(t,r)&&Dge(e,r,t[r]);if(Bge)for(var r of Bge(t))Uet.call(t,r)&&Dge(e,r,t[r]);return e},Lge="eip155",Let=["atomic","flow-control","paymasterService","sessionKeys","auxiliaryFunds"],Met=e=>e&&e.startsWith("0x")?BigInt(e).toString(10):e,$j=e=>e&&e.startsWith("0x")?e:`0x${BigInt(e).toString(16)}`,Mge=e=>Object.keys(e).filter(t=>Let.includes(t)).reduce((t,r)=>(t[r]=Het(e[r]),t),{}),Het=e=>typeof e=="string"&&ket(e)?JSON.parse(e):e,$et=(e,t,r)=>{let{sessionProperties:n={},scopedProperties:s={}}=e,o={};if(!hc(s)&&!hc(n))return;let i=Mge(n);for(let a of r){let c=Met(a);if(!c)continue;o[$j(c)]=i;let l=s?.[`${Lge}:${c}`];if(l){let u=l?.[`${Lge}:${c}:${t}`];o[$j(c)]=Uge(Uge({},o[$j(c)]),Mge(u||l))}}for(let[a,c]of Object.entries(o))Object.keys(c).length===0&&delete o[a];return Object.keys(o).length>0?o:void 0},Fet=Object.defineProperty,jet=(e,t,r)=>t in e?Fet(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,zet=(e,t,r)=>jet(e,typeof t!="symbol"?t+"":t,r),qj=class e{constructor(t){zet(this,"storage"),this.storage=t}async getItem(t){return await this.storage.getItem(t)}async setItem(t,r){return await this.storage.setItem(t,r)}async removeItem(t){return await this.storage.removeItem(t)}static getStorage(t){return Fj||(Fj=new e(t)),Fj}},Vet=Object.defineProperty,qet=Object.defineProperties,Wet=Object.getOwnPropertyDescriptors,Hge=Object.getOwnPropertySymbols,Ket=Object.prototype.hasOwnProperty,Zet=Object.prototype.propertyIsEnumerable,$ge=(e,t,r)=>t in e?Vet(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Get=(e,t)=>{for(var r in t||(t={}))Ket.call(t,r)&&$ge(e,r,t[r]);if(Hge)for(var r of Hge(t))Zet.call(t,r)&&$ge(e,r,t[r]);return e},Yet=(e,t)=>qet(e,Wet(t));rtt=Object.defineProperty,ntt=Object.defineProperties,stt=Object.getOwnPropertyDescriptors,Fge=Object.getOwnPropertySymbols,ott=Object.prototype.hasOwnProperty,itt=Object.prototype.propertyIsEnumerable,Wj=(e,t,r)=>t in e?rtt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,jj=(e,t)=>{for(var r in t||(t={}))ott.call(t,r)&&Wj(e,r,t[r]);if(Fge)for(var r of Fge(t))itt.call(t,r)&&Wj(e,r,t[r]);return e},zj=(e,t)=>ntt(e,stt(t)),Og=(e,t,r)=>Wj(e,typeof t!="symbol"?t+"":t,r),Kj=class{constructor(t){Og(this,"name","eip155"),Og(this,"client"),Og(this,"chainId"),Og(this,"namespace"),Og(this,"httpProviders"),Og(this,"events"),Og(this,"storage"),this.namespace=t.namespace,this.events=o6("events"),this.client=o6("client"),this.httpProviders=this.createHttpProviders(),this.chainId=parseInt(this.getDefaultChain()),this.storage=qj.getStorage(this.client.core.storage)}async request(t){switch(t.request.method){case"eth_requestAccounts":return this.getAccounts();case"eth_accounts":return this.getAccounts();case"wallet_switchEthereumChain":return await this.handleSwitchChain(t);case"eth_chainId":return parseInt(this.getDefaultChain());case"wallet_getCapabilities":return await this.getCapabilities(t);case"wallet_getCallsStatus":return await this.getCallStatus(t);case"wallet_sendCalls":return await this.sendCalls(t)}return this.namespace.methods.includes(t.request.method)?await this.client.request(t):this.getHttpProvider().request(t.request)}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}setDefaultChain(t,r){this.httpProviders[t]||this.setHttpProvider(parseInt(t),r);let n=this.chainId;this.chainId=parseInt(t),this.events.emit(Qj.DEFAULT_CHAIN_CHANGED,{currentCaipChainId:`${this.name}:${t}`,previousCaipChainId:`${this.name}:${n}`})}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId.toString();if(this.namespace.defaultChain)return this.namespace.defaultChain;let t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}createHttpProvider(t,r){let n=r||Xge(`${this.name}:${t}`,this.namespace,this.client.core.projectId);if(!n)throw new Error(`No RPC url provided for chainId: ${t}`);return new pa(new Ga(n,o6("disableProviderPing")))}setHttpProvider(t,r){let n=this.createHttpProvider(t,r);n&&(this.httpProviders[t]=n)}createHttpProviders(){let t={};return this.namespace.chains.forEach(r=>{var n;let s=parseInt(Ret(r));t[s]=this.createHttpProvider(s,(n=this.namespace.rpcMap)==null?void 0:n[r])}),t}getAccounts(){let t=this.namespace.accounts;return t?[...new Set(t.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}getHttpProvider(t){let r=t||this.chainId;return this.httpProviders[r]||(this.httpProviders=zj(jj({},this.httpProviders),{[r]:this.createHttpProvider(r)}),this.httpProviders[r])}async handleSwitchChain(t){var r,n;let s=t.request.params?(r=t.request.params[0])==null?void 0:r.chainId:"0x0";s=s.startsWith("0x")?s:`0x${s}`;let o=parseInt(s,16);if(this.isChainApproved(o))this.setDefaultChain(`${o}`);else if(this.namespace.methods.includes("wallet_switchEthereumChain"))await this.client.request({topic:t.topic,request:{method:t.request.method,params:[{chainId:s}]},chainId:(n=this.namespace.chains)==null?void 0:n[0]}),this.setDefaultChain(`${o}`);else throw new Error(`Failed to switch to chain 'eip155:${o}'. The chain is not approved or the wallet does not support 'wallet_switchEthereumChain' method.`);return null}isChainApproved(t){return this.namespace.chains.includes(`${this.name}:${t}`)}async getCapabilities(t){var r,n,s,o,i;let a=(n=(r=t.request)==null?void 0:r.params)==null?void 0:n[0],c=((o=(s=t.request)==null?void 0:s.params)==null?void 0:o[1])||[];if(!a)throw new Error("Missing address parameter in `wallet_getCapabilities` request");let l=this.client.session.get(t.topic),u=((i=l?.sessionProperties)==null?void 0:i.capabilities)||{},d=c.length>0?c.join(","):`0x${this.chainId.toString(16)}`,p=`${a}${d}`,f=u?.[p];if(f)return f;let h;try{h=$et(l,a,c)}catch(y){console.warn("Failed to extract capabilities from session",y)}if(h)return h;let g=await this.client.request(t);try{await this.client.session.update(t.topic,{sessionProperties:zj(jj({},l.sessionProperties||{}),{capabilities:zj(jj({},u||{}),{[p]:g})})})}catch(y){console.warn("Failed to update session with capabilities",y)}return g}async getCallStatus(t){var r,n,s;let o=this.client.session.get(t.topic),i=(r=o.sessionProperties)==null?void 0:r.bundler_name;if(i){let l=this.getBundlerUrl(t.chainId,i);try{return await this.getUserOperationReceipt(l,t)}catch(u){console.warn("Failed to fetch call status from bundler",u,l)}}let a=(n=o.sessionProperties)==null?void 0:n.bundler_url;if(a)try{return await this.getUserOperationReceipt(a,t)}catch(l){console.warn("Failed to fetch call status from custom bundler",l,a)}let c=await ttt({resultId:(s=t.request.params)==null?void 0:s[0],storage:this.storage});if(c)try{return await Jet(c,this.getHttpProvider.bind(this))}catch(l){console.warn("Failed to fetch call status from stored send calls",l,c)}if(this.namespace.methods.includes(t.request.method))return await this.client.request(t);throw new Error("Fetching call status not approved by the wallet.")}async getUserOperationReceipt(t,r){var n;let s=new URL(t),o=await fetch(s,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(fr("eth_getUserOperationReceipt",[(n=r.request.params)==null?void 0:n[0]]))});if(!o.ok)throw new Error(`Failed to fetch user operation receipt - ${o.status}`);return await o.json()}getBundlerUrl(t,r){return`${Eet}?projectId=${this.client.core.projectId}&chainId=${t}&bundler=${r}`}async sendCalls(t){var r,n,s;let o=await this.client.request(t),i=(r=t.request.params)==null?void 0:r[0],a=o?.id,c=o?.capabilities||{},l=(n=c?.caip345)==null?void 0:n.caip2,u=(s=c?.caip345)==null?void 0:s.transactionHashes;return!a||!l||!(u!=null&&u.length)||await Xet({sendCalls:{request:i,result:o},storage:this.storage}),o}},att=Object.defineProperty,ctt=(e,t,r)=>t in e?att(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,r6=(e,t,r)=>ctt(e,typeof t!="symbol"?t+"":t,r),Zj=class{constructor(t){r6(this,"name",Qge),r6(this,"client"),r6(this,"httpProviders"),r6(this,"events"),r6(this,"namespace"),r6(this,"chainId"),this.namespace=t.namespace,this.events=o6("events"),this.client=o6("client"),this.chainId=this.getDefaultChain(),this.name=this.getNamespaceName(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace.chains=[...new Set((this.namespace.chains||[]).concat(t.chains||[]))],this.namespace.accounts=[...new Set((this.namespace.accounts||[]).concat(t.accounts||[]))],this.namespace.methods=[...new Set((this.namespace.methods||[]).concat(t.methods||[]))],this.namespace.events=[...new Set((this.namespace.events||[]).concat(t.events||[]))],this.httpProviders=this.createHttpProviders()}requestAccounts(){return this.getAccounts()}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider(t.chainId).request(t.request)}setDefaultChain(t,r){this.httpProviders[t]||this.setHttpProvider(t,r);let n=this.chainId;this.chainId=t,this.events.emit(Qj.DEFAULT_CHAIN_CHANGED,{currentCaipChainId:`${this.name}:${t}`,previousCaipChainId:`${this.name}:${n}`})}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;let t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}getNamespaceName(){let t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return wl(t).namespace}getAccounts(){let t=this.namespace.accounts;return t?[...new Set(t.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}createHttpProviders(){var t,r;let n={};return(r=(t=this.namespace)==null?void 0:t.accounts)==null||r.forEach(s=>{var o,i;let a=wl(s),c=(i=(o=this.namespace)==null?void 0:o.rpcMap)==null?void 0:i[`${a.namespace}:${a.reference}`];n[a.reference]=this.createHttpProvider(s,c)}),n}getHttpProvider(t){let r=wl(t).reference,n=this.httpProviders[r];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return n}setHttpProvider(t,r){let n=this.createHttpProvider(t,r);n&&(this.httpProviders[t]=n)}createHttpProvider(t,r){let n=r||Xge(t,this.namespace,this.client.core.projectId);if(!n)throw new Error(`No RPC url provided for chainId: ${t}`);return new pa(new Ga(n,o6("disableProviderPing")))}},ltt=Object.defineProperty,utt=Object.defineProperties,dtt=Object.getOwnPropertyDescriptors,jge=Object.getOwnPropertySymbols,ptt=Object.prototype.hasOwnProperty,ftt=Object.prototype.propertyIsEnumerable,Gj=(e,t,r)=>t in e?ltt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,$v=(e,t)=>{for(var r in t||(t={}))ptt.call(t,r)&&Gj(e,r,t[r]);if(jge)for(var r of jge(t))ftt.call(t,r)&&Gj(e,r,t[r]);return e},H7=(e,t)=>utt(e,dtt(t)),Ha=(e,t,r)=>Gj(e,typeof t!="symbol"?t+"":t,r),$7=class e{constructor(t){Ha(this,"client"),Ha(this,"namespaces"),Ha(this,"optionalNamespaces"),Ha(this,"sessionProperties"),Ha(this,"scopedProperties"),Ha(this,"events",new zge.default),Ha(this,"rpcProviders",{}),Ha(this,"session"),Ha(this,"providerOpts"),Ha(this,"logger"),Ha(this,"uri"),Ha(this,"disableProviderPing",!1),Ha(this,"connectParams");var r,n;this.providerOpts=t,this.logger=Yb({logger:(r=t.logger)!=null?r:_ge,name:(n=this.providerOpts.name)!=null?n:Yge}),this.disableProviderPing=t?.disableProviderPing||!1}static async init(t){let r=new e(t);return await r.initialize(),r}async request(t,r,n){let[s,o]=this.validateChain(r);if(!this.session)throw new Error("Please call connect() before request()");return await this.getProvider(s).request({request:$v({},t),chainId:`${s}:${o}`,topic:this.session.topic,expiry:n})}sendAsync(t,r,n,s){let o=new Date().getTime();this.request(t,n,s).then(i=>r(null,ds(o,i))).catch(i=>r(i,void 0))}async enable(){if(!this.client)throw new Error("Sign Client not initialized");return this.session||await this.connect({namespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties}),await this.requestAccounts()}async disconnect(){var t;if(!this.session)throw new Error("Please call connect() before enable()");await this.client.disconnect({topic:(t=this.session)==null?void 0:t.topic,reason:kr("USER_DISCONNECTED")}),await this.cleanup()}async connect(t){if(!this.client)throw new Error("Sign Client not initialized");if(this.connectParams=t,this.setNamespaces(t),this.cleanupPendingPairings(),!t.skipPairing)return await this.pair(t.pairingTopic)}async authenticate(t,r){if(!this.client)throw new Error("Sign Client not initialized");this.setNamespaces(t),await this.cleanupPendingPairings();let{uri:n,response:s}=await this.client.authenticate(t,r);n&&(this.uri=n,this.events.emit("display_uri",n));let o=await s();if(this.session=o.session,this.session){let i=kge(this.session.namespaces);this.namespaces=M7(this.namespaces,i),await this.persist("namespaces",this.namespaces),this.onConnect()}return o}on(t,r){this.events.on(t,r)}once(t,r){this.events.once(t,r)}removeListener(t,r){this.events.removeListener(t,r)}off(t,r){this.events.off(t,r)}get isWalletConnect(){return!0}async pair(t){var r,n;let{uri:s,approval:o}=await this.client.connect({pairingTopic:t,requiredNamespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties,authentication:(r=this.connectParams)==null?void 0:r.authentication,walletPay:(n=this.connectParams)==null?void 0:n.walletPay});s&&(this.uri=s,this.events.emit("display_uri",s));let i=await o();this.session=i;let a=kge(i.namespaces);return this.namespaces=M7(this.namespaces,a),await this.persist("namespaces",this.namespaces),await this.persist("optionalNamespaces",this.optionalNamespaces),this.onConnect(),this.session}setDefaultChain(t,r){try{if(!this.session)return;let[n,s]=this.validateChain(t);this.getProvider(n).setDefaultChain(s,r)}catch(n){if(!/Please call connect/.test(n.message))throw n}}async cleanupPendingPairings(t={}){try{this.logger.info("Cleaning up inactive pairings...");let r=this.client.pairing.getAll();if(!vl(r))return;for(let n of r)t.deletePairings?this.client.core.expirer.set(n.topic,0):await this.client.core.relayer.subscriber.unsubscribe(n.topic);this.logger.info(`Inactive pairings cleared: ${r.length}`)}catch(r){this.logger.warn(r,"Failed to cleanup pending pairings")}}abortPairingAttempt(){this.logger.warn("abortPairingAttempt is deprecated. This is now a no-op.")}async checkStorage(){this.namespaces=await this.getFromStore("namespaces")||{},this.optionalNamespaces=await this.getFromStore("optionalNamespaces")||{},this.session&&this.createProviders()}async initialize(){this.logger.trace("Initialized"),await this.createClient(),await this.checkStorage(),this.registerEventListeners()}async createClient(){var t,r;if(this.client=this.providerOpts.client||await Ege.init({core:this.providerOpts.core,logger:this.providerOpts.logger||_ge,relayUrl:this.providerOpts.relayUrl||xet,projectId:this.providerOpts.projectId,metadata:this.providerOpts.metadata,storageOptions:this.providerOpts.storageOptions,storage:this.providerOpts.storage,name:this.providerOpts.name,customStoragePrefix:this.providerOpts.customStoragePrefix,telemetryEnabled:this.providerOpts.telemetryEnabled}),this.providerOpts.session)try{this.session=this.client.session.get(this.providerOpts.session.topic)}catch(n){throw this.logger.error(n,"Failed to get session"),new Error(`The provided session: ${(r=(t=this.providerOpts)==null?void 0:t.session)==null?void 0:r.topic} doesn't exist in the Sign client`)}else{let n=this.client.session.getAll();this.session=n[0]}this.logger.trace("SignClient Initialized")}createProviders(){if(!this.client)throw new Error("Sign Client not initialized");if(!this.session)throw new Error("Session not initialized. Please call connect() before enable()");let t=[...new Set(Object.keys(this.session.namespaces).map(r=>Rg(r)))];Hj("client",this.client),Hj("events",this.events),Hj("disableProviderPing",this.disableProviderPing),t.forEach(r=>{if(!this.session)return;let n=Oet(r,this.session);if(n?.length===0)return;let s=e2e(n),o=M7(this.namespaces,this.optionalNamespaces),i=H7($v({},o[r]),{accounts:n,chains:s});r==="eip155"?this.rpcProviders[r]=new Kj({namespace:i}):this.rpcProviders[r]=new Zj({namespace:i})})}registerEventListeners(){if(typeof this.client>"u")throw new Error("Sign Client is not initialized");this.client.on("session_ping",t=>{var r;let{topic:n}=t;n===((r=this.session)==null?void 0:r.topic)&&this.events.emit("session_ping",t)}),this.client.on("session_event",t=>{var r;let{params:n,topic:s}=t;if(s!==((r=this.session)==null?void 0:r.topic))return;let{event:o}=n;if(o.name==="accountsChanged"){let i=o.data;i&&vl(i)&&this.events.emit("accountsChanged",i.map(Oge))}else if(o.name==="chainChanged"){let i=n.chainId,a=n.event.data,c=Rg(i),l=Mj(i)!==Mj(a)?`${c}:${Mj(a)}`:i;this.onChainChanged({currentCaipChainId:l})}else this.events.emit(o.name,o.data);this.events.emit("session_event",t)}),this.client.on("session_update",({topic:t,params:r})=>{var n,s;if(t!==((n=this.session)==null?void 0:n.topic))return;let{namespaces:o}=r,i=(s=this.client)==null?void 0:s.session.get(t);this.session=H7($v({},i),{namespaces:o}),this.onSessionUpdate(),this.events.emit("session_update",{topic:t,params:r})}),this.client.on("session_delete",async t=>{var r;t.topic===((r=this.session)==null?void 0:r.topic)&&(await this.cleanup(),this.events.emit("session_delete",t),this.events.emit("disconnect",H7($v({},kr("USER_DISCONNECTED")),{data:t.topic})))}),this.on(Qj.DEFAULT_CHAIN_CHANGED,t=>{this.onChainChanged(H7($v({},t),{internal:!0}))})}getProvider(t){return this.rpcProviders[t]||this.rpcProviders[Qge]}onSessionUpdate(){Object.keys(this.rpcProviders).forEach(t=>{var r;this.getProvider(t).updateNamespace((r=this.session)==null?void 0:r.namespaces[t])})}setNamespaces(t){let{namespaces:r={},optionalNamespaces:n={},sessionProperties:s,scopedProperties:o}=t;this.optionalNamespaces=M7(r,n),this.sessionProperties=s,this.scopedProperties=o}validateChain(t){let[r,n]=t?.split(":")||["",""];if(!this.namespaces||!Object.keys(this.namespaces).length)return[r,n];if(r&&!Object.keys(this.namespaces||{}).map(i=>Rg(i)).includes(r))throw new Error(`Namespace '${r}' is not configured. Please call connect() first with namespace config.`);if(r&&n)return[r,n];let s=Rg(Object.keys(this.namespaces)[0]),o=this.rpcProviders[s].getDefaultChain();return[s,o]}async requestAccounts(){let[t]=this.validateChain();return await this.getProvider(t).requestAccounts()}async onChainChanged({currentCaipChainId:t,previousCaipChainId:r,internal:n=!1}){if(!this.namespaces)return;let[s,o]=this.validateChain(t);o&&(this.updateNamespaceChain(s,o),n?(this.events.emit("chainChanged",o),this.emitAccountsChangedOnChainChange({namespace:s,currentCaipChainId:t,previousCaipChainId:r})):this.getProvider(s).setDefaultChain(o),await this.persist("namespaces",this.namespaces))}emitAccountsChangedOnChainChange({namespace:t,currentCaipChainId:r,previousCaipChainId:n}){var s,o;try{if(n===r)return;let i=(o=(s=this.session)==null?void 0:s.namespaces[t])==null?void 0:o.accounts;if(!i)return;let a=i.filter(c=>c.includes(`${r}:`)).map(Oge);if(!vl(a))return;this.events.emit("accountsChanged",a)}catch(i){this.logger.warn(i,"Failed to emit accountsChanged on chain change")}}updateNamespaceChain(t,r){if(!this.namespaces)return;let n=this.namespaces[t]?t:`${t}:${r}`,s={chains:[],methods:[],events:[],defaultChain:r};this.namespaces[n]?this.namespaces[n]&&(this.namespaces[n].defaultChain=r):this.namespaces[n]=s}onConnect(){this.createProviders(),this.events.emit("connect",{session:this.session})}async cleanup(){this.connectParams=void 0,this.namespaces=void 0,this.optionalNamespaces=void 0,this.sessionProperties=void 0,await this.deleteFromStore("namespaces"),await this.deleteFromStore("optionalNamespaces"),await this.deleteFromStore("sessionProperties"),this.session=void 0,this.cleanupPendingPairings({deletePairings:!0}),await this.cleanupStorage()}async persist(t,r){var n;let s=((n=this.session)==null?void 0:n.topic)||"";await this.client.core.storage.setItem(`${U7}/${t}${s}`,r)}async getFromStore(t){var r;let n=((r=this.session)==null?void 0:r.topic)||"";return await this.client.core.storage.getItem(`${U7}/${t}${n}`)}async deleteFromStore(t){var r;let n=((r=this.session)==null?void 0:r.topic)||"";await this.client.core.storage.removeItem(`${U7}/${t}${n}`)}async cleanupStorage(){var t;try{if(((t=this.client)==null?void 0:t.session.length)>0)return;let r=await this.client.core.storage.getKeys();for(let n of r)n.startsWith(U7)&&await this.client.core.storage.removeItem(n)}catch(r){this.logger.warn(r,"Failed to cleanup storage")}}}});var F7,n2e=m(()=>{F7={interpolate(e,t,r){if(e.length!==2||t.length!==2)throw new Error("inputRange and outputRange must be an array of length 2");let n=e[0]||0,s=e[1]||0,o=t[0]||0,i=t[1]||0;return r<n?o:r>s?i:(i-o)/(s-n)*(r-n)+o}}});var j7,z7,Xj,s2e,Fv,Zi,Sr,o2e,ez,tz=m(()=>{j7=globalThis,z7=j7.ShadowRoot&&(j7.ShadyCSS===void 0||j7.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,Xj=Symbol(),s2e=new WeakMap,Fv=class{constructor(t,r,n){if(this._$cssResult$=!0,n!==Xj)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=t,this.t=r}get styleSheet(){let t=this.o,r=this.t;if(z7&&t===void 0){let n=r!==void 0&&r.length===1;n&&(t=s2e.get(r)),t===void 0&&((this.o=t=new CSSStyleSheet).replaceSync(this.cssText),n&&s2e.set(r,t))}return t}toString(){return this.cssText}},Zi=e=>new Fv(typeof e=="string"?e:e+"",void 0,Xj),Sr=(e,...t)=>{let r=e.length===1?e[0]:t.reduce((n,s,o)=>n+(i=>{if(i._$cssResult$===!0)return i.cssText;if(typeof i=="number")return i;throw Error("Value passed to 'css' function must be a 'css' function result: "+i+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(s)+e[o+1],e[0]);return new Fv(r,e,Xj)},o2e=(e,t)=>{if(z7)e.adoptedStyleSheets=t.map(r=>r instanceof CSSStyleSheet?r:r.styleSheet);else for(let r of t){let n=document.createElement("style"),s=j7.litNonce;s!==void 0&&n.setAttribute("nonce",s),n.textContent=r.cssText,e.appendChild(n)}},ez=z7?e=>e:e=>e instanceof CSSStyleSheet?(t=>{let r="";for(let n of t.cssRules)r+=n.cssText;return Zi(r)})(e):e});var htt,mtt,gtt,ytt,wtt,btt,gm,i2e,xtt,vtt,jv,zv,V7,a2e,sf,Vv=m(()=>{tz();tz();({is:htt,defineProperty:mtt,getOwnPropertyDescriptor:gtt,getOwnPropertyNames:ytt,getOwnPropertySymbols:wtt,getPrototypeOf:btt}=Object),gm=globalThis,i2e=gm.trustedTypes,xtt=i2e?i2e.emptyScript:"",vtt=gm.reactiveElementPolyfillSupport,jv=(e,t)=>e,zv={toAttribute(e,t){switch(t){case Boolean:e=e?xtt:null;break;case Object:case Array:e=e==null?e:JSON.stringify(e)}return e},fromAttribute(e,t){let r=e;switch(t){case Boolean:r=e!==null;break;case Number:r=e===null?null:Number(e);break;case Object:case Array:try{r=JSON.parse(e)}catch{r=null}}return r}},V7=(e,t)=>!htt(e,t),a2e={attribute:!0,type:String,converter:zv,reflect:!1,useDefault:!1,hasChanged:V7};Symbol.metadata??(Symbol.metadata=Symbol("metadata")),gm.litPropertyMetadata??(gm.litPropertyMetadata=new WeakMap);sf=class extends HTMLElement{static addInitializer(t){this._$Ei(),(this.l??(this.l=[])).push(t)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(t,r=a2e){if(r.state&&(r.attribute=!1),this._$Ei(),this.prototype.hasOwnProperty(t)&&((r=Object.create(r)).wrapped=!0),this.elementProperties.set(t,r),!r.noAccessor){let n=Symbol(),s=this.getPropertyDescriptor(t,n,r);s!==void 0&&mtt(this.prototype,t,s)}}static getPropertyDescriptor(t,r,n){let{get:s,set:o}=gtt(this.prototype,t)??{get(){return this[r]},set(i){this[r]=i}};return{get:s,set(i){let a=s?.call(this);o?.call(this,i),this.requestUpdate(t,a,n)},configurable:!0,enumerable:!0}}static getPropertyOptions(t){return this.elementProperties.get(t)??a2e}static _$Ei(){if(this.hasOwnProperty(jv("elementProperties")))return;let t=btt(this);t.finalize(),t.l!==void 0&&(this.l=[...t.l]),this.elementProperties=new Map(t.elementProperties)}static finalize(){if(this.hasOwnProperty(jv("finalized")))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(jv("properties"))){let r=this.properties,n=[...ytt(r),...wtt(r)];for(let s of n)this.createProperty(s,r[s])}let t=this[Symbol.metadata];if(t!==null){let r=litPropertyMetadata.get(t);if(r!==void 0)for(let[n,s]of r)this.elementProperties.set(n,s)}this._$Eh=new Map;for(let[r,n]of this.elementProperties){let s=this._$Eu(r,n);s!==void 0&&this._$Eh.set(s,r)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(t){let r=[];if(Array.isArray(t)){let n=new Set(t.flat(1/0).reverse());for(let s of n)r.unshift(ez(s))}else t!==void 0&&r.push(ez(t));return r}static _$Eu(t,r){let n=r.attribute;return n===!1?void 0:typeof n=="string"?n:typeof t=="string"?t.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){this._$ES=new Promise(t=>this.enableUpdating=t),this._$AL=new Map,this._$E_(),this.requestUpdate(),this.constructor.l?.forEach(t=>t(this))}addController(t){(this._$EO??(this._$EO=new Set)).add(t),this.renderRoot!==void 0&&this.isConnected&&t.hostConnected?.()}removeController(t){this._$EO?.delete(t)}_$E_(){let t=new Map,r=this.constructor.elementProperties;for(let n of r.keys())this.hasOwnProperty(n)&&(t.set(n,this[n]),delete this[n]);t.size>0&&(this._$Ep=t)}createRenderRoot(){let t=this.shadowRoot??this.attachShadow(this.constructor.shadowRootOptions);return o2e(t,this.constructor.elementStyles),t}connectedCallback(){this.renderRoot??(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),this._$EO?.forEach(t=>t.hostConnected?.())}enableUpdating(t){}disconnectedCallback(){this._$EO?.forEach(t=>t.hostDisconnected?.())}attributeChangedCallback(t,r,n){this._$AK(t,n)}_$ET(t,r){let n=this.constructor.elementProperties.get(t),s=this.constructor._$Eu(t,n);if(s!==void 0&&n.reflect===!0){let o=(n.converter?.toAttribute!==void 0?n.converter:zv).toAttribute(r,n.type);this._$Em=t,o==null?this.removeAttribute(s):this.setAttribute(s,o),this._$Em=null}}_$AK(t,r){let n=this.constructor,s=n._$Eh.get(t);if(s!==void 0&&this._$Em!==s){let o=n.getPropertyOptions(s),i=typeof o.converter=="function"?{fromAttribute:o.converter}:o.converter?.fromAttribute!==void 0?o.converter:zv;this._$Em=s;let a=i.fromAttribute(r,o.type);this[s]=a??this._$Ej?.get(s)??a,this._$Em=null}}requestUpdate(t,r,n,s=!1,o){if(t!==void 0){let i=this.constructor;if(s===!1&&(o=this[t]),n??(n=i.getPropertyOptions(t)),!((n.hasChanged??V7)(o,r)||n.useDefault&&n.reflect&&o===this._$Ej?.get(t)&&!this.hasAttribute(i._$Eu(t,n))))return;this.C(t,r,n)}this.isUpdatePending===!1&&(this._$ES=this._$EP())}C(t,r,{useDefault:n,reflect:s,wrapped:o},i){n&&!(this._$Ej??(this._$Ej=new Map)).has(t)&&(this._$Ej.set(t,i??r??this[t]),o!==!0||i!==void 0)||(this._$AL.has(t)||(this.hasUpdated||n||(r=void 0),this._$AL.set(t,r)),s===!0&&this._$Em!==t&&(this._$Eq??(this._$Eq=new Set)).add(t))}async _$EP(){this.isUpdatePending=!0;try{await this._$ES}catch(r){Promise.reject(r)}let t=this.scheduleUpdate();return t!=null&&await t,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){if(!this.isUpdatePending)return;if(!this.hasUpdated){if(this.renderRoot??(this.renderRoot=this.createRenderRoot()),this._$Ep){for(let[s,o]of this._$Ep)this[s]=o;this._$Ep=void 0}let n=this.constructor.elementProperties;if(n.size>0)for(let[s,o]of n){let{wrapped:i}=o,a=this[s];i!==!0||this._$AL.has(s)||a===void 0||this.C(s,void 0,o,a)}}let t=!1,r=this._$AL;try{t=this.shouldUpdate(r),t?(this.willUpdate(r),this._$EO?.forEach(n=>n.hostUpdate?.()),this.update(r)):this._$EM()}catch(n){throw t=!1,this._$EM(),n}t&&this._$AE(r)}willUpdate(t){}_$AE(t){this._$EO?.forEach(r=>r.hostUpdated?.()),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(t)),this.updated(t)}_$EM(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$ES}shouldUpdate(t){return!0}update(t){this._$Eq&&(this._$Eq=this._$Eq.forEach(r=>this._$ET(r,this[r]))),this._$EM()}updated(t){}firstUpdated(t){}};sf.elementStyles=[],sf.shadowRootOptions={mode:"open"},sf[jv("elementProperties")]=new Map,sf[jv("finalized")]=new Map,vtt?.({ReactiveElement:sf}),(gm.reactiveElementVersions??(gm.reactiveElementVersions=[])).push("2.1.2")});function w2e(e,t){if(!oz(e)||!e.hasOwnProperty("raw"))throw Error("invalid template strings array");return l2e!==void 0?l2e.createHTML(t):t}function Lg(e,t,r=e,n){if(t===af)return t;let s=n!==void 0?r._$Co?.[n]:r._$Cl,o=Zv(t)?void 0:t._$litDirective$;return s?.constructor!==o&&(s?._$AO?.(!1),o===void 0?s=void 0:(s=new o(e),s._$AT(e,r,n)),n!==void 0?(r._$Co??(r._$Co=[]))[n]=s:r._$Cl=s),s!==void 0&&(t=Lg(e,s._$AS(e,t.values),s,n)),t}var Wv,c2e,q7,l2e,nz,of,sz,Ett,Ug,Kv,Zv,oz,m2e,rz,qv,u2e,d2e,Bg,p2e,f2e,g2e,iz,H,Le,y2e,af,gn,h2e,Dg,b2e,Gv,W7,i6,Mg,K7,Z7,G7,Y7,x2e,Att,v2e,cf=m(()=>{Wv=globalThis,c2e=e=>e,q7=Wv.trustedTypes,l2e=q7?q7.createPolicy("lit-html",{createHTML:e=>e}):void 0,nz="$lit$",of=`lit$${Math.random().toFixed(9).slice(2)}$`,sz="?"+of,Ett=`<${sz}>`,Ug=document,Kv=()=>Ug.createComment(""),Zv=e=>e===null||typeof e!="object"&&typeof e!="function",oz=Array.isArray,m2e=e=>oz(e)||typeof e?.[Symbol.iterator]=="function",rz=`[ 	
\f\r]`,qv=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,u2e=/-->/g,d2e=/>/g,Bg=RegExp(`>|${rz}(?:([^\\s"'>=/]+)(${rz}*=${rz}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),p2e=/'/g,f2e=/"/g,g2e=/^(?:script|style|textarea|title)$/i,iz=e=>(t,...r)=>({_$litType$:e,strings:t,values:r}),H=iz(1),Le=iz(2),y2e=iz(3),af=Symbol.for("lit-noChange"),gn=Symbol.for("lit-nothing"),h2e=new WeakMap,Dg=Ug.createTreeWalker(Ug,129);b2e=(e,t)=>{let r=e.length-1,n=[],s,o=t===2?"<svg>":t===3?"<math>":"",i=qv;for(let a=0;a<r;a++){let c=e[a],l,u,d=-1,p=0;for(;p<c.length&&(i.lastIndex=p,u=i.exec(c),u!==null);)p=i.lastIndex,i===qv?u[1]==="!--"?i=u2e:u[1]!==void 0?i=d2e:u[2]!==void 0?(g2e.test(u[2])&&(s=RegExp("</"+u[2],"g")),i=Bg):u[3]!==void 0&&(i=Bg):i===Bg?u[0]===">"?(i=s??qv,d=-1):u[1]===void 0?d=-2:(d=i.lastIndex-u[2].length,l=u[1],i=u[3]===void 0?Bg:u[3]==='"'?f2e:p2e):i===f2e||i===p2e?i=Bg:i===u2e||i===d2e?i=qv:(i=Bg,s=void 0);let f=i===Bg&&e[a+1].startsWith("/>")?" ":"";o+=i===qv?c+Ett:d>=0?(n.push(l),c.slice(0,d)+nz+c.slice(d)+of+f):c+of+(d===-2?a:f)}return[w2e(e,o+(e[r]||"<?>")+(t===2?"</svg>":t===3?"</math>":"")),n]},Gv=class e{constructor({strings:t,_$litType$:r},n){let s;this.parts=[];let o=0,i=0,a=t.length-1,c=this.parts,[l,u]=b2e(t,r);if(this.el=e.createElement(l,n),Dg.currentNode=this.el.content,r===2||r===3){let d=this.el.content.firstChild;d.replaceWith(...d.childNodes)}for(;(s=Dg.nextNode())!==null&&c.length<a;){if(s.nodeType===1){if(s.hasAttributes())for(let d of s.getAttributeNames())if(d.endsWith(nz)){let p=u[i++],f=s.getAttribute(d).split(of),h=/([.?@])?(.*)/.exec(p);c.push({type:1,index:o,name:h[2],strings:f,ctor:h[1]==="."?K7:h[1]==="?"?Z7:h[1]==="@"?G7:Mg}),s.removeAttribute(d)}else d.startsWith(of)&&(c.push({type:6,index:o}),s.removeAttribute(d));if(g2e.test(s.tagName)){let d=s.textContent.split(of),p=d.length-1;if(p>0){s.textContent=q7?q7.emptyScript:"";for(let f=0;f<p;f++)s.append(d[f],Kv()),Dg.nextNode(),c.push({type:2,index:++o});s.append(d[p],Kv())}}}else if(s.nodeType===8)if(s.data===sz)c.push({type:2,index:o});else{let d=-1;for(;(d=s.data.indexOf(of,d+1))!==-1;)c.push({type:7,index:o}),d+=of.length-1}o++}}static createElement(t,r){let n=Ug.createElement("template");return n.innerHTML=t,n}};W7=class{constructor(t,r){this._$AV=[],this._$AN=void 0,this._$AD=t,this._$AM=r}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(t){let{el:{content:r},parts:n}=this._$AD,s=(t?.creationScope??Ug).importNode(r,!0);Dg.currentNode=s;let o=Dg.nextNode(),i=0,a=0,c=n[0];for(;c!==void 0;){if(i===c.index){let l;c.type===2?l=new i6(o,o.nextSibling,this,t):c.type===1?l=new c.ctor(o,c.name,c.strings,this,t):c.type===6&&(l=new Y7(o,this,t)),this._$AV.push(l),c=n[++a]}i!==c?.index&&(o=Dg.nextNode(),i++)}return Dg.currentNode=Ug,s}p(t){let r=0;for(let n of this._$AV)n!==void 0&&(n.strings!==void 0?(n._$AI(t,n,r),r+=n.strings.length-2):n._$AI(t[r])),r++}},i6=class e{get _$AU(){return this._$AM?._$AU??this._$Cv}constructor(t,r,n,s){this.type=2,this._$AH=gn,this._$AN=void 0,this._$AA=t,this._$AB=r,this._$AM=n,this.options=s,this._$Cv=s?.isConnected??!0}get parentNode(){let t=this._$AA.parentNode,r=this._$AM;return r!==void 0&&t?.nodeType===11&&(t=r.parentNode),t}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(t,r=this){t=Lg(this,t,r),Zv(t)?t===gn||t==null||t===""?(this._$AH!==gn&&this._$AR(),this._$AH=gn):t!==this._$AH&&t!==af&&this._(t):t._$litType$!==void 0?this.$(t):t.nodeType!==void 0?this.T(t):m2e(t)?this.k(t):this._(t)}O(t){return this._$AA.parentNode.insertBefore(t,this._$AB)}T(t){this._$AH!==t&&(this._$AR(),this._$AH=this.O(t))}_(t){this._$AH!==gn&&Zv(this._$AH)?this._$AA.nextSibling.data=t:this.T(Ug.createTextNode(t)),this._$AH=t}$(t){let{values:r,_$litType$:n}=t,s=typeof n=="number"?this._$AC(t):(n.el===void 0&&(n.el=Gv.createElement(w2e(n.h,n.h[0]),this.options)),n);if(this._$AH?._$AD===s)this._$AH.p(r);else{let o=new W7(s,this),i=o.u(this.options);o.p(r),this.T(i),this._$AH=o}}_$AC(t){let r=h2e.get(t.strings);return r===void 0&&h2e.set(t.strings,r=new Gv(t)),r}k(t){oz(this._$AH)||(this._$AH=[],this._$AR());let r=this._$AH,n,s=0;for(let o of t)s===r.length?r.push(n=new e(this.O(Kv()),this.O(Kv()),this,this.options)):n=r[s],n._$AI(o),s++;s<r.length&&(this._$AR(n&&n._$AB.nextSibling,s),r.length=s)}_$AR(t=this._$AA.nextSibling,r){for(this._$AP?.(!1,!0,r);t!==this._$AB;){let n=c2e(t).nextSibling;c2e(t).remove(),t=n}}setConnected(t){this._$AM===void 0&&(this._$Cv=t,this._$AP?.(t))}},Mg=class{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(t,r,n,s,o){this.type=1,this._$AH=gn,this._$AN=void 0,this.element=t,this.name=r,this._$AM=s,this.options=o,n.length>2||n[0]!==""||n[1]!==""?(this._$AH=Array(n.length-1).fill(new String),this.strings=n):this._$AH=gn}_$AI(t,r=this,n,s){let o=this.strings,i=!1;if(o===void 0)t=Lg(this,t,r,0),i=!Zv(t)||t!==this._$AH&&t!==af,i&&(this._$AH=t);else{let a=t,c,l;for(t=o[0],c=0;c<o.length-1;c++)l=Lg(this,a[n+c],r,c),l===af&&(l=this._$AH[c]),i||(i=!Zv(l)||l!==this._$AH[c]),l===gn?t=gn:t!==gn&&(t+=(l??"")+o[c+1]),this._$AH[c]=l}i&&!s&&this.j(t)}j(t){t===gn?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,t??"")}},K7=class extends Mg{constructor(){super(...arguments),this.type=3}j(t){this.element[this.name]=t===gn?void 0:t}},Z7=class extends Mg{constructor(){super(...arguments),this.type=4}j(t){this.element.toggleAttribute(this.name,!!t&&t!==gn)}},G7=class extends Mg{constructor(t,r,n,s,o){super(t,r,n,s,o),this.type=5}_$AI(t,r=this){if((t=Lg(this,t,r,0)??gn)===af)return;let n=this._$AH,s=t===gn&&n!==gn||t.capture!==n.capture||t.once!==n.once||t.passive!==n.passive,o=t!==gn&&(n===gn||s);s&&this.element.removeEventListener(this.name,this,n),o&&this.element.addEventListener(this.name,this,t),this._$AH=t}handleEvent(t){typeof this._$AH=="function"?this._$AH.call(this.options?.host??this.element,t):this._$AH.handleEvent(t)}},Y7=class{constructor(t,r,n){this.element=t,this.type=6,this._$AN=void 0,this._$AM=r,this.options=n}get _$AU(){return this._$AM._$AU}_$AI(t){Lg(this,t)}},x2e={M:nz,P:of,A:sz,C:1,L:b2e,R:W7,D:m2e,V:Lg,I:i6,H:Mg,N:Z7,U:G7,B:K7,F:Y7},Att=Wv.litHtmlPolyfillSupport;Att?.(Gv,i6),(Wv.litHtmlVersions??(Wv.litHtmlVersions=[])).push("3.3.2");v2e=(e,t,r)=>{let n=r?.renderBefore??t,s=n._$litPart$;if(s===void 0){let o=r?.renderBefore??null;n._$litPart$=s=new i6(t.insertBefore(Kv(),o),o,void 0,r??{})}return s._$AI(e),s}});var Yv,re,Ctt,E2e=m(()=>{Vv();Vv();cf();cf();Yv=globalThis,re=class extends sf{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){var r;let t=super.createRenderRoot();return(r=this.renderOptions).renderBefore??(r.renderBefore=t.firstChild),t}update(t){let r=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(t),this._$Do=v2e(r,this.renderRoot,this.renderOptions)}connectedCallback(){super.connectedCallback(),this._$Do?.setConnected(!0)}disconnectedCallback(){super.disconnectedCallback(),this._$Do?.setConnected(!1)}render(){return af}};re._$litElement$=!0,re.finalized=!0,Yv.litElementHydrateSupport?.({LitElement:re});Ctt=Yv.litElementPolyfillSupport;Ctt?.({LitElement:re});(Yv.litElementVersions??(Yv.litElementVersions=[])).push("4.2.2")});var A2e=m(()=>{});var le=m(()=>{Vv();cf();E2e();A2e()});var C2e,Jv,S2e,I2e,Stt,Itt,_tt,Ttt,Ptt,Ntt,J7,az=m(()=>{C2e={black:"#202020",white:"#FFFFFF",white010:"rgba(255, 255, 255, 0.1)",accent010:"rgba(9, 136, 240, 0.1)",accent020:"rgba(9, 136, 240, 0.2)",accent030:"rgba(9, 136, 240, 0.3)",accent040:"rgba(9, 136, 240, 0.4)",accent050:"rgba(9, 136, 240, 0.5)",accent060:"rgba(9, 136, 240, 0.6)",accent070:"rgba(9, 136, 240, 0.7)",accent080:"rgba(9, 136, 240, 0.8)",accent090:"rgba(9, 136, 240, 0.9)",accent100:"rgba(9, 136, 240, 1.0)",accentSecondary010:"rgba(199, 185, 148, 0.1)",accentSecondary020:"rgba(199, 185, 148, 0.2)",accentSecondary030:"rgba(199, 185, 148, 0.3)",accentSecondary040:"rgba(199, 185, 148, 0.4)",accentSecondary050:"rgba(199, 185, 148, 0.5)",accentSecondary060:"rgba(199, 185, 148, 0.6)",accentSecondary070:"rgba(199, 185, 148, 0.7)",accentSecondary080:"rgba(199, 185, 148, 0.8)",accentSecondary090:"rgba(199, 185, 148, 0.9)",accentSecondary100:"rgba(199, 185, 148, 1.0)",productWalletKit:"#FFB800",productAppKit:"#FF573B",productCloud:"#0988F0",productDocumentation:"#008847",neutrals050:"#F6F6F6",neutrals100:"#F3F3F3",neutrals200:"#E9E9E9",neutrals300:"#D0D0D0",neutrals400:"#BBB",neutrals500:"#9A9A9A",neutrals600:"#6C6C6C",neutrals700:"#4F4F4F",neutrals800:"#363636",neutrals900:"#2A2A2A",neutrals1000:"#252525",semanticSuccess010:"rgba(48, 164, 107, 0.1)",semanticSuccess020:"rgba(48, 164, 107, 0.2)",semanticSuccess030:"rgba(48, 164, 107, 0.3)",semanticSuccess040:"rgba(48, 164, 107, 0.4)",semanticSuccess050:"rgba(48, 164, 107, 0.5)",semanticSuccess060:"rgba(48, 164, 107, 0.6)",semanticSuccess070:"rgba(48, 164, 107, 0.7)",semanticSuccess080:"rgba(48, 164, 107, 0.8)",semanticSuccess090:"rgba(48, 164, 107, 0.9)",semanticSuccess100:"rgba(48, 164, 107, 1.0)",semanticError010:"rgba(223, 74, 52, 0.1)",semanticError020:"rgba(223, 74, 52, 0.2)",semanticError030:"rgba(223, 74, 52, 0.3)",semanticError040:"rgba(223, 74, 52, 0.4)",semanticError050:"rgba(223, 74, 52, 0.5)",semanticError060:"rgba(223, 74, 52, 0.6)",semanticError070:"rgba(223, 74, 52, 0.7)",semanticError080:"rgba(223, 74, 52, 0.8)",semanticError090:"rgba(223, 74, 52, 0.9)",semanticError100:"rgba(223, 74, 52, 1.0)",semanticWarning010:"rgba(243, 161, 63, 0.1)",semanticWarning020:"rgba(243, 161, 63, 0.2)",semanticWarning030:"rgba(243, 161, 63, 0.3)",semanticWarning040:"rgba(243, 161, 63, 0.4)",semanticWarning050:"rgba(243, 161, 63, 0.5)",semanticWarning060:"rgba(243, 161, 63, 0.6)",semanticWarning070:"rgba(243, 161, 63, 0.7)",semanticWarning080:"rgba(243, 161, 63, 0.8)",semanticWarning090:"rgba(243, 161, 63, 0.9)",semanticWarning100:"rgba(243, 161, 63, 1.0)"},Jv={core:{backgroundAccentPrimary:"#0988F0",backgroundAccentCertified:"#C7B994",backgroundWalletKit:"#FFB800",backgroundAppKit:"#FF573B",backgroundCloud:"#0988F0",backgroundDocumentation:"#008847",backgroundSuccess:"rgba(48, 164, 107, 0.20)",backgroundError:"rgba(223, 74, 52, 0.20)",backgroundWarning:"rgba(243, 161, 63, 0.20)",textAccentPrimary:"#0988F0",textAccentCertified:"#C7B994",textWalletKit:"#FFB800",textAppKit:"#FF573B",textCloud:"#0988F0",textDocumentation:"#008847",textSuccess:"#30A46B",textError:"#DF4A34",textWarning:"#F3A13F",borderAccentPrimary:"#0988F0",borderSecondary:"#C7B994",borderSuccess:"#30A46B",borderError:"#DF4A34",borderWarning:"#F3A13F",foregroundAccent010:"rgba(9, 136, 240, 0.1)",foregroundAccent020:"rgba(9, 136, 240, 0.2)",foregroundAccent040:"rgba(9, 136, 240, 0.4)",foregroundAccent060:"rgba(9, 136, 240, 0.6)",foregroundSecondary020:"rgba(199, 185, 148, 0.2)",foregroundSecondary040:"rgba(199, 185, 148, 0.4)",foregroundSecondary060:"rgba(199, 185, 148, 0.6)",iconAccentPrimary:"#0988F0",iconAccentCertified:"#C7B994",iconSuccess:"#30A46B",iconError:"#DF4A34",iconWarning:"#F3A13F",glass010:"rgba(255, 255, 255, 0.1)",zIndex:"9999"},dark:{overlay:"rgba(0, 0, 0, 0.50)",backgroundPrimary:"#202020",backgroundInvert:"#FFFFFF",textPrimary:"#FFFFFF",textSecondary:"#9A9A9A",textTertiary:"#BBBBBB",textInvert:"#202020",borderPrimary:"#2A2A2A",borderPrimaryDark:"#363636",borderSecondary:"#4F4F4F",foregroundPrimary:"#252525",foregroundSecondary:"#2A2A2A",foregroundTertiary:"#363636",iconDefault:"#9A9A9A",iconInverse:"#FFFFFF"},light:{overlay:"rgba(230 , 230, 230, 0.5)",backgroundPrimary:"#FFFFFF",borderPrimaryDark:"#E9E9E9",backgroundInvert:"#202020",textPrimary:"#202020",textSecondary:"#9A9A9A",textTertiary:"#6C6C6C",textInvert:"#FFFFFF",borderPrimary:"#E9E9E9",borderSecondary:"#D0D0D0",foregroundPrimary:"#F3F3F3",foregroundSecondary:"#E9E9E9",foregroundTertiary:"#D0D0D0",iconDefault:"#9A9A9A",iconInverse:"#202020"}},S2e={1:"4px",2:"8px",10:"10px",3:"12px",4:"16px",6:"24px",5:"20px",8:"32px",16:"64px",20:"80px",32:"128px",64:"256px",128:"512px",round:"9999px"},I2e={0:"0px","01":"2px",1:"4px",2:"8px",3:"12px",4:"16px",5:"20px",6:"24px",7:"28px",8:"32px",9:"36px",10:"40px",12:"48px",14:"56px",16:"64px",20:"80px",32:"128px",64:"256px"},Stt={regular:"KHTeka",mono:"KHTekaMono"},Itt={regular:"400",medium:"500"},_tt={h1:"50px",h2:"44px",h3:"38px",h4:"32px",h5:"26px",h6:"20px",large:"16px",medium:"14px",small:"12px"},Ttt={"h1-regular-mono":{lineHeight:"50px",letterSpacing:"-3px"},"h1-regular":{lineHeight:"50px",letterSpacing:"-1px"},"h1-medium":{lineHeight:"50px",letterSpacing:"-0.84px"},"h2-regular-mono":{lineHeight:"44px",letterSpacing:"-2.64px"},"h2-regular":{lineHeight:"44px",letterSpacing:"-0.88px"},"h2-medium":{lineHeight:"44px",letterSpacing:"-0.88px"},"h3-regular-mono":{lineHeight:"38px",letterSpacing:"-2.28px"},"h3-regular":{lineHeight:"38px",letterSpacing:"-0.76px"},"h3-medium":{lineHeight:"38px",letterSpacing:"-0.76px"},"h4-regular-mono":{lineHeight:"32px",letterSpacing:"-1.92px"},"h4-regular":{lineHeight:"32px",letterSpacing:"-0.32px"},"h4-medium":{lineHeight:"32px",letterSpacing:"-0.32px"},"h5-regular-mono":{lineHeight:"26px",letterSpacing:"-1.56px"},"h5-regular":{lineHeight:"26px",letterSpacing:"-0.26px"},"h5-medium":{lineHeight:"26px",letterSpacing:"-0.26px"},"h6-regular-mono":{lineHeight:"20px",letterSpacing:"-1.2px"},"h6-regular":{lineHeight:"20px",letterSpacing:"-0.6px"},"h6-medium":{lineHeight:"20px",letterSpacing:"-0.6px"},"lg-regular-mono":{lineHeight:"16px",letterSpacing:"-0.96px"},"lg-regular":{lineHeight:"18px",letterSpacing:"-0.16px"},"lg-medium":{lineHeight:"18px",letterSpacing:"-0.16px"},"md-regular-mono":{lineHeight:"14px",letterSpacing:"-0.84px"},"md-regular":{lineHeight:"16px",letterSpacing:"-0.14px"},"md-medium":{lineHeight:"16px",letterSpacing:"-0.14px"},"sm-regular-mono":{lineHeight:"12px",letterSpacing:"-0.72px"},"sm-regular":{lineHeight:"14px",letterSpacing:"-0.12px"},"sm-medium":{lineHeight:"14px",letterSpacing:"-0.12px"}},Ptt={"ease-out-power-2":"cubic-bezier(0.23, 0.09, 0.08, 1.13)","ease-out-power-1":"cubic-bezier(0.12, 0.04, 0.2, 1.06)","ease-in-power-2":"cubic-bezier(0.92, -0.13, 0.77, 0.91)","ease-in-power-1":"cubic-bezier(0.88, -0.06, 0.8, 0.96)","ease-inout-power-2":"cubic-bezier(0.77, 0.09, 0.23, 1.13)","ease-inout-power-1":"cubic-bezier(0.88, 0.04, 0.12, 1.06)"},Ntt={xl:"400ms",lg:"200ms",md:"125ms",sm:"75ms"},J7={colors:C2e,fontFamily:Stt,fontWeight:Itt,textSize:_tt,typography:Ttt,tokens:{core:Jv.core,theme:Jv.dark},borderRadius:S2e,spacing:I2e,durations:Ntt,easings:Ptt}});function Q7(e){if(!e)return{};let t={};return t["font-family"]=e["--apkt-font-family"]??e["--w3m-font-family"]??"KHTeka",t.accent=e["--apkt-accent"]??e["--w3m-accent"]??"#0988F0",t["color-mix"]=e["--apkt-color-mix"]??e["--w3m-color-mix"]??"#000",t["color-mix-strength"]=e["--apkt-color-mix-strength"]??e["--w3m-color-mix-strength"]??0,t["font-size-master"]=e["--apkt-font-size-master"]??e["--w3m-font-size-master"]??"10px",t["border-radius-master"]=e["--apkt-border-radius-master"]??e["--w3m-border-radius-master"]??"4px",e["--apkt-z-index"]!==void 0?t["z-index"]=e["--apkt-z-index"]:e["--w3m-z-index"]!==void 0&&(t["z-index"]=e["--w3m-z-index"]),t}function ce(e,...t){return Sr(e,...t.map(r=>typeof r=="function"?Zi(r(Ht)):Zi(r)))}var _2e,Su,Ht,Nt=m(()=>{le();az();_2e="--apkt";Su={createCSSVariables(e){let t={},r={};function n(o,i,a=""){for(let[c,l]of Object.entries(o)){let u=a?`${a}-${c}`:c;l&&typeof l=="object"&&Object.keys(l).length?(i[c]={},n(l,i[c],u)):typeof l=="string"&&(i[c]=`${_2e}-${u}`)}}function s(o,i){for(let[a,c]of Object.entries(o))c&&typeof c=="object"?(i[a]={},s(c,i[a])):typeof c=="string"&&(i[a]=`var(${c})`)}return n(e,t),s(t,r),{cssVariables:t,cssVariablesVarPrefix:r}},assignCSSVariables(e,t){let r={};function n(s,o,i){for(let[a,c]of Object.entries(s)){let l=i?`${i}-${a}`:a,u=o[a];c&&typeof c=="object"?n(c,u,l):typeof u=="string"&&(r[`${_2e}-${l}`]=u)}}return n(e,t),r},createRootStyles(e,t){let r={...J7,tokens:{...J7.tokens,theme:e==="light"?Jv.light:Jv.dark}},{cssVariables:n}=Su.createCSSVariables(r),s=Su.assignCSSVariables(n,r),o=Su.generateW3MVariables(t),i=Su.generateW3MOverrides(t),a=Su.generateScaledVariables(t),c=Su.generateBaseVariables(s),l={...s,...c,...o,...i,...a},u=Su.applyColorMixToVariables(t,l),d={...l,...u};return`:root {${Object.entries(d).map(([f,h])=>`${f}:${h.replace("/[:;{}</>]/g","")};`).join("")}}`},generateW3MVariables(e){if(!e)return{};let t=Q7(e),r={};return r["--w3m-font-family"]=t["font-family"],r["--w3m-accent"]=t.accent,r["--w3m-color-mix"]=t["color-mix"],r["--w3m-color-mix-strength"]=`${t["color-mix-strength"]}%`,r["--w3m-font-size-master"]=t["font-size-master"],r["--w3m-border-radius-master"]=t["border-radius-master"],r},generateW3MOverrides(e){if(!e)return{};let t=Q7(e),r={};if(e["--apkt-accent"]||e["--w3m-accent"]){let n=t.accent;r["--apkt-tokens-core-iconAccentPrimary"]=n,r["--apkt-tokens-core-borderAccentPrimary"]=n,r["--apkt-tokens-core-textAccentPrimary"]=n,r["--apkt-tokens-core-backgroundAccentPrimary"]=n}return(e["--apkt-font-family"]||e["--w3m-font-family"])&&(r["--apkt-fontFamily-regular"]=t["font-family"]),t["z-index"]!==void 0&&(r["--apkt-tokens-core-zIndex"]=`${t["z-index"]}`),r},generateScaledVariables(e){if(!e)return{};let t=Q7(e),r={};if(e["--apkt-font-size-master"]||e["--w3m-font-size-master"]){let n=parseFloat(t["font-size-master"].replace("px",""));r["--apkt-textSize-h1"]=`${Number(n)*5}px`,r["--apkt-textSize-h2"]=`${Number(n)*4.4}px`,r["--apkt-textSize-h3"]=`${Number(n)*3.8}px`,r["--apkt-textSize-h4"]=`${Number(n)*3.2}px`,r["--apkt-textSize-h5"]=`${Number(n)*2.6}px`,r["--apkt-textSize-h6"]=`${Number(n)*2}px`,r["--apkt-textSize-large"]=`${Number(n)*1.6}px`,r["--apkt-textSize-medium"]=`${Number(n)*1.4}px`,r["--apkt-textSize-small"]=`${Number(n)*1.2}px`}if(e["--apkt-border-radius-master"]||e["--w3m-border-radius-master"]){let n=parseFloat(t["border-radius-master"].replace("px",""));r["--apkt-borderRadius-1"]=`${Number(n)}px`,r["--apkt-borderRadius-2"]=`${Number(n)*2}px`,r["--apkt-borderRadius-3"]=`${Number(n)*3}px`,r["--apkt-borderRadius-4"]=`${Number(n)*4}px`,r["--apkt-borderRadius-5"]=`${Number(n)*5}px`,r["--apkt-borderRadius-6"]=`${Number(n)*6}px`,r["--apkt-borderRadius-8"]=`${Number(n)*8}px`,r["--apkt-borderRadius-16"]=`${Number(n)*16}px`,r["--apkt-borderRadius-20"]=`${Number(n)*20}px`,r["--apkt-borderRadius-32"]=`${Number(n)*32}px`,r["--apkt-borderRadius-64"]=`${Number(n)*64}px`,r["--apkt-borderRadius-128"]=`${Number(n)*128}px`}return r},generateColorMixCSS(e,t){if(!e?.["--w3m-color-mix"]||!e["--w3m-color-mix-strength"])return"";let r=e["--w3m-color-mix"],n=e["--w3m-color-mix-strength"];if(!n||n===0)return"";let s=Object.keys(t||{}).filter(i=>{let a=i.includes("-tokens-core-background")||i.includes("-tokens-core-text")||i.includes("-tokens-core-border")||i.includes("-tokens-core-foreground")||i.includes("-tokens-core-icon")||i.includes("-tokens-theme-background")||i.includes("-tokens-theme-text")||i.includes("-tokens-theme-border")||i.includes("-tokens-theme-foreground")||i.includes("-tokens-theme-icon"),c=i.includes("-borderRadius-")||i.includes("-spacing-")||i.includes("-textSize-")||i.includes("-fontFamily-")||i.includes("-fontWeight-")||i.includes("-typography-")||i.includes("-duration-")||i.includes("-ease-")||i.includes("-path-")||i.includes("-width-")||i.includes("-height-")||i.includes("-visual-size-")||i.includes("-modal-width")||i.includes("-cover");return a&&!c});return s.length===0?"":` @supports (background: color-mix(in srgb, white 50%, black)) {
      :root {
        ${s.map(i=>{let a=t?.[i]||"";return a.includes("color-mix")||a.startsWith("#")||a.startsWith("rgb")?`${i}: color-mix(in srgb, ${r} ${n}%, ${a});`:`${i}: color-mix(in srgb, ${r} ${n}%, var(${i}-base, ${a}));`}).join("")}
      }
    }`},generateBaseVariables(e){let t={},r=e["--apkt-tokens-theme-backgroundPrimary"];r&&(t["--apkt-tokens-theme-backgroundPrimary-base"]=r);let n=e["--apkt-tokens-core-backgroundAccentPrimary"];return n&&(t["--apkt-tokens-core-backgroundAccentPrimary-base"]=n),t},applyColorMixToVariables(e,t){let r={};t?.["--apkt-tokens-theme-backgroundPrimary"]&&(r["--apkt-tokens-theme-backgroundPrimary"]="var(--apkt-tokens-theme-backgroundPrimary-base)"),t?.["--apkt-tokens-core-backgroundAccentPrimary"]&&(r["--apkt-tokens-core-backgroundAccentPrimary"]="var(--apkt-tokens-core-backgroundAccentPrimary-base)");let n=Q7(e),s=n["color-mix"],o=n["color-mix-strength"];if(!o||o===0)return r;let i=Object.keys(t||{}).filter(a=>{let c=a.includes("-tokens-core-background")||a.includes("-tokens-core-text")||a.includes("-tokens-core-border")||a.includes("-tokens-core-foreground")||a.includes("-tokens-core-icon")||a.includes("-tokens-theme-background")||a.includes("-tokens-theme-text")||a.includes("-tokens-theme-border")||a.includes("-tokens-theme-foreground")||a.includes("-tokens-theme-icon")||a.includes("-tokens-theme-overlay"),l=a.includes("-borderRadius-")||a.includes("-spacing-")||a.includes("-textSize-")||a.includes("-fontFamily-")||a.includes("-fontWeight-")||a.includes("-typography-")||a.includes("-duration-")||a.includes("-ease-")||a.includes("-path-")||a.includes("-width-")||a.includes("-height-")||a.includes("-visual-size-")||a.includes("-modal-width")||a.includes("-cover");return c&&!l});return i.length===0||i.forEach(a=>{let c=t?.[a]||"";a.endsWith("-base")||(a==="--apkt-tokens-theme-backgroundPrimary"||a==="--apkt-tokens-core-backgroundAccentPrimary"?r[a]=`color-mix(in srgb, ${s} ${o}%, var(${a}-base))`:c.includes("color-mix")||c.startsWith("#")||c.startsWith("rgb")?r[a]=`color-mix(in srgb, ${s} ${o}%, ${c})`:r[a]=`color-mix(in srgb, ${s} ${o}%, var(${a}-base, ${c}))`)}),r}},{cssVariablesVarPrefix:Ht}=Su.createCSSVariables(J7)});function eT(e,t="dark"){Hg&&document.head.removeChild(Hg),Hg=document.createElement("style"),Hg.textContent=Su.createRootStyles(t,e),document.head.appendChild(Hg)}function cz(e,t="dark"){if(X7=e,$g=document.createElement("style"),Iu=document.createElement("style"),Cl=document.createElement("style"),$g.textContent=a6(e).core.cssText,Iu.textContent=a6(e).dark.cssText,Cl.textContent=a6(e).light.cssText,document.head.appendChild($g),document.head.appendChild(Iu),document.head.appendChild(Cl),eT(e,t),Qv(t),!(e?.["--apkt-font-family"]||e?.["--w3m-font-family"]))for(let[n,s]of Object.entries(lf)){let o=document.createElement("link");o.rel="preload",o.href=s,o.as="font",o.type=n.includes("woff2")?"font/woff2":"font/woff",o.crossOrigin="anonymous",document.head.appendChild(o)}Qv(t)}function Qv(e="dark"){Iu&&Cl&&Hg&&(e==="light"?(eT(X7,e),Iu.removeAttribute("media"),Cl.media="enabled"):(eT(X7,e),Cl.removeAttribute("media"),Iu.media="enabled"))}function lz(e){if(X7=e,$g&&Iu&&Cl){$g.textContent=a6(e).core.cssText,Iu.textContent=a6(e).dark.cssText,Cl.textContent=a6(e).light.cssText;let t=e?.["--apkt-font-family"]||e?.["--w3m-font-family"];t&&($g.textContent=$g.textContent?.replace("font-family: KHTeka",`font-family: ${t}`),Iu.textContent=Iu.textContent?.replace("font-family: KHTeka",`font-family: ${t}`),Cl.textContent=Cl.textContent?.replace("font-family: KHTeka",`font-family: ${t}`))}if(Hg){let t=Cl?.media==="enabled"?"light":"dark";eT(e,t)}}function a6(e){let t=!!(e?.["--apkt-font-family"]||e?.["--w3m-font-family"]);return{core:Sr`
      ${t?Sr``:Sr`
            @font-face {
              font-family: 'KHTeka';
              src:
                url(${Zi(lf["KHTeka-400-woff2"])}) format('woff2'),
                url(${Zi(lf["KHTeka-400-woff"])}) format('woff');
              font-weight: 400;
              font-style: normal;
              font-display: swap;
            }

            @font-face {
              font-family: 'KHTeka';
              src:
                url(${Zi(lf["KHTeka-300-woff2"])}) format('woff2'),
                url(${Zi(lf["KHTeka-300-woff"])}) format('woff');
              font-weight: 300;
              font-style: normal;
            }

            @font-face {
              font-family: 'KHTekaMono';
              src:
                url(${Zi(lf["KHTekaMono-400-woff2"])}) format('woff2'),
                url(${Zi(lf["KHTekaMono-400-woff"])}) format('woff');
              font-weight: 400;
              font-style: normal;
            }

            @font-face {
              font-family: 'KHTeka';
              src:
                url(${Zi(lf["KHTeka-400-woff2"])}) format('woff2'),
                url(${Zi(lf["KHTeka-400-woff"])}) format('woff');
              font-weight: 400;
              font-style: normal;
            }
          `}

      @keyframes w3m-shake {
        0% {
          transform: scale(1) rotate(0deg);
        }
        20% {
          transform: scale(1) rotate(-1deg);
        }
        40% {
          transform: scale(1) rotate(1.5deg);
        }
        60% {
          transform: scale(1) rotate(-1.5deg);
        }
        80% {
          transform: scale(1) rotate(1deg);
        }
        100% {
          transform: scale(1) rotate(0deg);
        }
      }
      @keyframes w3m-iframe-fade-out {
        0% {
          opacity: 1;
        }
        100% {
          opacity: 0;
        }
      }
      @keyframes w3m-iframe-zoom-in {
        0% {
          transform: translateY(50px);
          opacity: 0;
        }
        100% {
          transform: translateY(0px);
          opacity: 1;
        }
      }
      @keyframes w3m-iframe-zoom-in-mobile {
        0% {
          transform: scale(0.95);
          opacity: 0;
        }
        100% {
          transform: scale(1);
          opacity: 1;
        }
      }
      :root {
        --apkt-modal-width: 370px;

        --apkt-visual-size-inherit: inherit;
        --apkt-visual-size-sm: 40px;
        --apkt-visual-size-md: 55px;
        --apkt-visual-size-lg: 80px;

        --apkt-path-network-sm: path(
          'M15.4 2.1a5.21 5.21 0 0 1 5.2 0l11.61 6.7a5.21 5.21 0 0 1 2.61 4.52v13.4c0 1.87-1 3.59-2.6 4.52l-11.61 6.7c-1.62.93-3.6.93-5.22 0l-11.6-6.7a5.21 5.21 0 0 1-2.61-4.51v-13.4c0-1.87 1-3.6 2.6-4.52L15.4 2.1Z'
        );

        --apkt-path-network-md: path(
          'M43.4605 10.7248L28.0485 1.61089C25.5438 0.129705 22.4562 0.129705 19.9515 1.61088L4.53951 10.7248C2.03626 12.2051 0.5 14.9365 0.5 17.886V36.1139C0.5 39.0635 2.03626 41.7949 4.53951 43.2752L19.9515 52.3891C22.4562 53.8703 25.5438 53.8703 28.0485 52.3891L43.4605 43.2752C45.9637 41.7949 47.5 39.0635 47.5 36.114V17.8861C47.5 14.9365 45.9637 12.2051 43.4605 10.7248Z'
        );

        --apkt-path-network-lg: path(
          'M78.3244 18.926L50.1808 2.45078C45.7376 -0.150261 40.2624 -0.150262 35.8192 2.45078L7.6756 18.926C3.23322 21.5266 0.5 26.3301 0.5 31.5248V64.4752C0.5 69.6699 3.23322 74.4734 7.6756 77.074L35.8192 93.5492C40.2624 96.1503 45.7376 96.1503 50.1808 93.5492L78.3244 77.074C82.7668 74.4734 85.5 69.6699 85.5 64.4752V31.5248C85.5 26.3301 82.7668 21.5266 78.3244 18.926Z'
        );

        --apkt-width-network-sm: 36px;
        --apkt-width-network-md: 48px;
        --apkt-width-network-lg: 86px;

        --apkt-duration-dynamic: 0ms;
        --apkt-height-network-sm: 40px;
        --apkt-height-network-md: 54px;
        --apkt-height-network-lg: 96px;
      }
    `,dark:Sr`
      :root {
      }
    `,light:Sr`
      :root {
      }
    `}}var Hg,$g,Iu,Cl,X7,lf,Ue,Qt,Mt=m(()=>{le();Nt();lf={"KHTeka-500-woff2":"https://fonts.reown.com/KHTeka-Medium.woff2","KHTeka-400-woff2":"https://fonts.reown.com/KHTeka-Regular.woff2","KHTeka-300-woff2":"https://fonts.reown.com/KHTeka-Light.woff2","KHTekaMono-400-woff2":"https://fonts.reown.com/KHTekaMono-Regular.woff2","KHTeka-500-woff":"https://fonts.reown.com/KHTeka-Light.woff","KHTeka-400-woff":"https://fonts.reown.com/KHTeka-Regular.woff","KHTeka-300-woff":"https://fonts.reown.com/KHTeka-Light.woff","KHTekaMono-400-woff":"https://fonts.reown.com/KHTekaMono-Regular.woff"};Ue=Sr`
  div,
  span,
  iframe,
  a,
  img,
  form,
  button,
  label,
  *::after,
  *::before {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    font-style: normal;
    text-rendering: optimizeSpeed;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    -webkit-tap-highlight-color: transparent;
    backface-visibility: hidden;
  }

  :host {
    font-family: var(--apkt-fontFamily-regular);
  }
`,Qt=Sr`
  button,
  a {
    cursor: pointer;
    display: flex;
    justify-content: center;
    align-items: center;
    position: relative;

    will-change: background-color, color, border, box-shadow, width, height, transform, opacity;
    outline: none;
    border: none;
    text-decoration: none;
    transition:
      background-color var(--apkt-durations-lg) var(--apkt-easings-ease-out-power-2),
      color var(--apkt-durations-lg) var(--apkt-easings-ease-out-power-2),
      border var(--apkt-durations-lg) var(--apkt-easings-ease-out-power-2),
      box-shadow var(--apkt-durations-lg) var(--apkt-easings-ease-out-power-2),
      width var(--apkt-durations-lg) var(--apkt-easings-ease-out-power-2),
      height var(--apkt-durations-lg) var(--apkt-easings-ease-out-power-2),
      transform var(--apkt-durations-lg) var(--apkt-easings-ease-out-power-2),
      opacity var(--apkt-durations-lg) var(--apkt-easings-ease-out-power-2),
      scale var(--apkt-durations-lg) var(--apkt-easings-ease-out-power-2),
      border-radius var(--apkt-durations-lg) var(--apkt-easings-ease-out-power-2);
    will-change:
      background-color, color, border, box-shadow, width, height, transform, opacity, scale,
      border-radius;
  }

  a:active:not([disabled]),
  button:active:not([disabled]) {
    scale: 0.975;
    transform-origin: center;
  }

  button:disabled {
    cursor: default;
  }

  input {
    border: none;
    outline: none;
    appearance: none;
  }
`});var gr,c6=m(()=>{gr={getSpacingStyles(e,t){if(Array.isArray(e))return e[t]?`var(--apkt-spacing-${e[t]})`:void 0;if(typeof e=="string")return`var(--apkt-spacing-${e})`},getFormattedDate(e){return new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric"}).format(e)},formatCurrency(e=0,t={}){let r=Number(e);return isNaN(r)?"$0.00":new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2,maximumFractionDigits:2,...t}).format(r)},getHostName(e){try{return new URL(e).hostname}catch{return""}},getTruncateString({string:e,charsStart:t,charsEnd:r,truncate:n}){return e.length<=t+r?e:n==="end"?`${e.substring(0,t)}...`:n==="start"?`...${e.substring(e.length-r)}`:`${e.substring(0,Math.floor(t))}...${e.substring(e.length-Math.floor(r))}`},generateAvatarColors(e){let r=e.toLowerCase().replace(/^0x/iu,"").replace(/[^a-f0-9]/gu,"").substring(0,6).padEnd(6,"0"),n=this.hexToRgb(r),s=getComputedStyle(document.documentElement).getPropertyValue("--w3m-border-radius-master"),i=100-3*Number(s?.replace("px","")),a=`${i}% ${i}% at 65% 40%`,c=[];for(let l=0;l<5;l+=1){let u=this.tintColor(n,.15*l);c.push(`rgb(${u[0]}, ${u[1]}, ${u[2]})`)}return`
    --local-color-1: ${c[0]};
    --local-color-2: ${c[1]};
    --local-color-3: ${c[2]};
    --local-color-4: ${c[3]};
    --local-color-5: ${c[4]};
    --local-radial-circle: ${a}
   `},hexToRgb(e){let t=parseInt(e,16),r=t>>16&255,n=t>>8&255,s=t&255;return[r,n,s]},tintColor(e,t){let[r,n,s]=e,o=Math.round(r+(255-r)*t),i=Math.round(n+(255-n)*t),a=Math.round(s+(255-s)*t);return[o,i,a]},isNumber(e){return{number:/^[0-9]+$/u}.number.test(e)},getColorTheme(e){return e||(typeof window<"u"&&window.matchMedia&&typeof window.matchMedia=="function"?window.matchMedia("(prefers-color-scheme: dark)")?.matches?"dark":"light":"dark")},splitBalance(e){let t=e.split(".");return t.length===2?[t[0],t[1]]:["0","00"]},roundNumber(e,t,r){return e.toString().length>=t?Number(e).toFixed(r):e},cssDurationToNumber(e){return e.endsWith("s")?Number(e.replace("s",""))*1e3:e.endsWith("ms")?Number(e.replace("ms","")):0},maskInput({value:e,decimals:t,integers:r}){if(e=e.replace(",","."),e===".")return"0.";let[n="",s]=e.split(".").map(u=>u.replace(/[^0-9]/gu,"")),o=r?n.substring(0,r):n,i=o.length===2?String(Number(o)):o,a=typeof t=="number"?s?.substring(0,t):s,c=typeof t!="number"||t>0;return(typeof a=="string"&&c?[i,a].join("."):i)??""},capitalize(e){return e?e.charAt(0).toUpperCase()+e.slice(1):""}}});var T2e=m(()=>{c6()});function Rtt(e,t){let{kind:r,elements:n}=t;return{kind:r,elements:n,finisher(s){customElements.get(e)||customElements.define(e,s)}}}function Ott(e,t){return customElements.get(e)||customElements.define(e,t),t}function ee(e){return function(r){return typeof r=="function"?Ott(e,r):Rtt(e,r)}}var kt=m(()=>{});var Fe=m(()=>{n2e();Mt();c6();T2e();kt();az();Nt()});var Dr,tT=m(()=>{at();Dr={METMASK_CONNECTOR_NAME:"MetaMask",TRUST_CONNECTOR_NAME:"Trust Wallet",SOLFLARE_CONNECTOR_NAME:"Solflare",PHANTOM_CONNECTOR_NAME:"Phantom",COIN98_CONNECTOR_NAME:"Coin98",MAGIC_EDEN_CONNECTOR_NAME:"Magic Eden",BACKPACK_CONNECTOR_NAME:"Backpack",BITGET_CONNECTOR_NAME:"Bitget Wallet",FRONTIER_CONNECTOR_NAME:"Frontier",XVERSE_CONNECTOR_NAME:"Xverse Wallet",LEATHER_CONNECTOR_NAME:"Leather",OKX_CONNECTOR_NAME:"OKX Wallet",BINANCE_CONNECTOR_NAME:"Binance Wallet",EIP155:V.CHAIN.EVM,ADD_CHAIN_METHOD:"wallet_addEthereumChain",EIP6963_ANNOUNCE_EVENT:"eip6963:announceProvider",EIP6963_REQUEST_EVENT:"eip6963:requestProvider",CONNECTOR_RDNS_MAP:{coinbaseWallet:"com.coinbase.wallet",coinbaseWalletSDK:"com.coinbase.wallet"},CONNECTOR_TYPE_EXTERNAL:"EXTERNAL",CONNECTOR_TYPE_WALLET_CONNECT:"WALLET_CONNECT",CONNECTOR_TYPE_INJECTED:"INJECTED",CONNECTOR_TYPE_ANNOUNCED:"ANNOUNCED",CONNECTOR_TYPE_AUTH:"AUTH",CONNECTOR_TYPE_MULTI_CHAIN:"MULTI_CHAIN",CONNECTOR_TYPE_W3M_AUTH:"AUTH",getSDKVersionWarningMessage(e,t){return`
     @@@@@@@           @@@@@@@@@@@@@@@@@@      
   @@@@@@@@@@@      @@@@@@@@@@@@@@@@@@@@@@@@   
  @@@@@@@@@@@@@    @@@@@@@@@@@@@@@@@@@@@@@@@@  
 @@@@@@@@@@@@@@@  @@@@@@@@@@@@@@@@@@@@@@@@@@@  
 @@@@@@@@@@@@@@@  @@@@@@@@@@@@@@   @@@@@@@@@@@ 
 @@@@@@@@@@@@@@@  @@@@@@@@@@@@@   @@@@@@@@@@@@ 
 @@@@@@@@@@@@@@@  @@@@@@@@@@@@@  @@@@@@@@@@@@@
 @@@@@@@@@@@@@@@  @@@@@@@@@@@@   @@@@@@@@@@@@@    
 @@@@@@   @@@@@@  @@@@@@@@@@@   @@@@@@@@@@@@@@    
 @@@@@@   @@@@@@  @@@@@@@@@@@  @@@@@@@@@@@@@@@ 
 @@@@@@@@@@@@@@@  @@@@@@@@@@   @@@@@@@@@@@@@@@ 
 @@@@@@@@@@@@@@@  @@@@@@@@@@@@@@@@@@@@@@@@@@@  
  @@@@@@@@@@@@@    @@@@@@@@@@@@@@@@@@@@@@@@@@  
   @@@@@@@@@@@      @@@@@@@@@@@@@@@@@@@@@@@@   
      @@@@@            @@@@@@@@@@@@@@@@@@  
      
AppKit SDK version ${e} is outdated. Latest version is ${t}. Please update to the latest version for bug fixes and new features.
            
Changelog: https://github.com/reown-com/appkit/releases
NPM Registry: https://www.npmjs.com/package/@reown/appkit`}}});var P2e,N2e=m(()=>{at();tT();P2e={ConnectorExplorerIds:{[V.CONNECTOR_ID.COINBASE]:"fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa",[V.CONNECTOR_ID.COINBASE_SDK]:"fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa",[V.CONNECTOR_ID.BASE_ACCOUNT]:"fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa",[V.CONNECTOR_ID.SAFE]:"225affb176778569276e484e1b92637ad061b01e13a048b35a9d280c3b58970f",[V.CONNECTOR_ID.LEDGER]:"19177a98252e07ddfc9af2083ba8e07ef627cb6103467ffebb3f8f4205fd7927",[V.CONNECTOR_ID.OKX]:"971e689d0a5be527bac79629b4ee9b925e82208e5168b733496a09c0faed0709",[Dr.METMASK_CONNECTOR_NAME]:"c57ca95b47569778a828d19178114f4db188b89b763c899ba0be274e97267d96",[Dr.TRUST_CONNECTOR_NAME]:"4622a2b2d6af1c9844944291e5e7351a6aa24cd7b23099efac1b2fd875da31a0",[Dr.SOLFLARE_CONNECTOR_NAME]:"1ca0bdd4747578705b1939af023d120677c64fe6ca76add81fda36e350605e79",[Dr.PHANTOM_CONNECTOR_NAME]:"a797aa35c0fadbfc1a53e7f675162ed5226968b44a19ee3d24385c64d1d3c393",[Dr.COIN98_CONNECTOR_NAME]:"2a3c89040ac3b723a1972a33a125b1db11e258a6975d3a61252cd64e6ea5ea01",[Dr.MAGIC_EDEN_CONNECTOR_NAME]:"8b830a2b724a9c3fbab63af6f55ed29c9dfa8a55e732dc88c80a196a2ba136c6",[Dr.BACKPACK_CONNECTOR_NAME]:"2bd8c14e035c2d48f184aaa168559e86b0e3433228d3c4075900a221785019b0",[Dr.BITGET_CONNECTOR_NAME]:"38f5d18bd8522c244bdd70cb4a68e0e718865155811c043f052fb9f1c51de662",[Dr.FRONTIER_CONNECTOR_NAME]:"85db431492aa2e8672e93f4ea7acf10c88b97b867b0d373107af63dc4880f041",[Dr.XVERSE_CONNECTOR_NAME]:"2a87d74ae02e10bdd1f51f7ce6c4e1cc53cd5f2c0b6b5ad0d7b3007d2b13de7b",[Dr.LEATHER_CONNECTOR_NAME]:"483afe1df1df63daf313109971ff3ef8356ddf1cc4e45877d205eee0b7893a13",[Dr.OKX_CONNECTOR_NAME]:"971e689d0a5be527bac79629b4ee9b925e82208e5168b733496a09c0faed0709",[Dr.BINANCE_CONNECTOR_NAME]:"2fafea35bb471d22889ccb49c08d99dd0a18a37982602c33f696a5723934ba25"},NetworkImageIds:{1:"ba0ba0cd-17c6-4806-ad93-f9d174f17900",42161:"3bff954d-5cb0-47a0-9a23-d20192e74600",43114:"30c46e53-e989-45fb-4549-be3bd4eb3b00",56:"93564157-2e8e-4ce7-81df-b264dbee9b00",250:"06b26297-fe0c-4733-5d6b-ffa5498aac00",10:"ab9c186a-c52f-464b-2906-ca59d760a400",137:"41d04d42-da3b-4453-8506-668cc0727900",5e3:"e86fae9b-b770-4eea-e520-150e12c81100",295:"6a97d510-cac8-4e58-c7ce-e8681b044c00",11155111:"e909ea0a-f92a-4512-c8fc-748044ea6800",84532:"a18a7ecd-e307-4360-4746-283182228e00",1301:"4eeea7ef-0014-4649-5d1d-07271a80f600",130:"2257980a-3463-48c6-cbac-a42d2a956e00",10143:"0a728e83-bacb-46db-7844-948f05434900",100:"02b53f6a-e3d4-479e-1cb4-21178987d100",9001:"f926ff41-260d-4028-635e-91913fc28e00",324:"b310f07f-4ef7-49f3-7073-2a0a39685800",314:"5a73b3dd-af74-424e-cae0-0de859ee9400",4689:"34e68754-e536-40da-c153-6ef2e7188a00",1088:"3897a66d-40b9-4833-162f-a2c90531c900",1284:"161038da-44ae-4ec7-1208-0ea569454b00",1285:"f1d73bb6-5450-4e18-38f7-fb6484264a00",7777777:"845c60df-d429-4991-e687-91ae45791600",42220:"ab781bbc-ccc6-418d-d32d-789b15da1f00",8453:"7289c336-3981-4081-c5f4-efc26ac64a00",1313161554:"3ff73439-a619-4894-9262-4470c773a100",2020:"b8101fc0-9c19-4b6f-ec65-f6dfff106e00",2021:"b8101fc0-9c19-4b6f-ec65-f6dfff106e00",80094:"e329c2c9-59b0-4a02-83e4-212ff3779900",2741:"fc2427d1-5af9-4a9c-8da5-6f94627cd900","5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp":"a1b58899-f671-4276-6a5e-56ca5bd59700","4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z":"a1b58899-f671-4276-6a5e-56ca5bd59700",EtWTRABZaYq6iMfeYKouRu166VU2xqa1:"a1b58899-f671-4276-6a5e-56ca5bd59700","000000000019d6689c085ae165831e93":"0b4838db-0161-4ffe-022d-532bf03dba00","000000000933ea01ad0ee984209779ba":"39354064-d79b-420b-065d-f980c4b78200","00000008819873e925422c1ff0f99f7c":"b3406e4a-bbfc-44fb-e3a6-89673c78b700","-239":"20f673c0-095e-49b2-07cf-eb5049dcf600","-3":"20f673c0-095e-49b2-07cf-eb5049dcf600"},ConnectorImageIds:{[V.CONNECTOR_ID.COINBASE]:"0c2840c3-5b04-4c44-9661-fbd4b49e1800",[V.CONNECTOR_ID.COINBASE_SDK]:"0c2840c3-5b04-4c44-9661-fbd4b49e1800",[V.CONNECTOR_ID.BASE_ACCOUNT]:"bba2c8be-7fd1-463e-42b1-796ecb0ad200",[V.CONNECTOR_ID.SAFE]:"461db637-8616-43ce-035a-d89b8a1d5800",[V.CONNECTOR_ID.LEDGER]:"54a1aa77-d202-4f8d-0fb2-5d2bb6db0300",[V.CONNECTOR_ID.WALLET_CONNECT]:"ef1a1fcf-7fe8-4d69-bd6d-fda1345b4400",[V.CONNECTOR_ID.INJECTED]:"07ba87ed-43aa-4adf-4540-9e6a2b9cae00"},ConnectorNamesMap:{[V.CONNECTOR_ID.INJECTED]:"Browser Wallet",[V.CONNECTOR_ID.WALLET_CONNECT]:"WalletConnect",[V.CONNECTOR_ID.COINBASE]:"Coinbase",[V.CONNECTOR_ID.COINBASE_SDK]:"Coinbase",[V.CONNECTOR_ID.BASE_ACCOUNT]:"Base Account",[V.CONNECTOR_ID.LEDGER]:"Ledger",[V.CONNECTOR_ID.SAFE]:"Safe"},ConnectorTypesMap:{[V.CONNECTOR_ID.INJECTED]:"INJECTED",[V.CONNECTOR_ID.WALLET_CONNECT]:"WALLET_CONNECT",[V.CONNECTOR_ID.EIP6963]:"ANNOUNCED",[V.CONNECTOR_ID.AUTH]:"AUTH",[Dr.CONNECTOR_TYPE_AUTH]:"AUTH"},WalletConnectRpcChainIds:[1,5,11155111,10,420,42161,421613,137,80001,42220,1313161554,1313161555,56,97,43114,43113,100,8453,84531,7777777,999,324,280]}});var on,R2e=m(()=>{at();st();tT();on={getCaipTokens(e){if(!e)return;let t={};return Object.entries(e).forEach(([r,n])=>{t[`${Dr.EIP155}:${r}`]=n}),t},isLowerCaseMatch(e,t){return e?.toLowerCase()===t?.toLowerCase()},getActiveNamespaceConnectedToAuth(){let e=R.state.activeChain;return V.AUTH_CONNECTOR_SUPPORTED_CHAINS.find(t=>X.getConnectorId(t)===V.CONNECTOR_ID.AUTH&&t===e)},withRetry({conditionFn:e,intervalMs:t,maxRetries:r}){let n=0;return new Promise(s=>{async function o(){return n+=1,await e()?s(!0):n>=r?s(!1):(setTimeout(o,t),null)}o()})},userChainIdToChainNamespace(e){if(typeof e=="number")return V.CHAIN.EVM;let[t]=e.split(":");return t},getOtherAuthNamespaces(e){return e?V.AUTH_CONNECTOR_SUPPORTED_CHAINS.filter(n=>n!==e):[]},getConnectorStorageInfo(e,t){let n=ae.getConnections()[t]??[];return{hasDisconnected:ae.isConnectorDisconnected(e,t),hasConnected:n.some(s=>on.isLowerCaseMatch(s.connectorId,e))}}}});var ktt,ai,O2e=m(()=>{at();st();ktt=new AbortController,ai={EmbeddedWalletAbortController:ktt,UniversalProviderErrors:{UNAUTHORIZED_DOMAIN_NOT_ALLOWED:{message:"Unauthorized: origin not allowed",alertErrorKey:"ORIGIN_NOT_ALLOWED"},JWT_VALIDATION_ERROR:{message:"JWT validation error: JWT Token is not yet valid",alertErrorKey:"JWT_TOKEN_NOT_VALID"},INVALID_KEY:{message:"Unauthorized: invalid key",alertErrorKey:"INVALID_PROJECT_ID"}},ALERT_ERRORS:{SWITCH_NETWORK_NOT_FOUND:{code:"APKT001",displayMessage:"Network Not Found",debugMessage:"The specified network is not recognized. Please ensure it is included in the `networks` array of your `createAppKit` configuration."},ORIGIN_NOT_ALLOWED:{code:"APKT002",displayMessage:"Invalid App Configuration",debugMessage:()=>`The origin ${h1()?window.origin:"unknown"} is not in your allow list. Please update your allowed domains at https://dashboard.reown.com. [PID: ${W.state.projectId}]`},IFRAME_LOAD_FAILED:{code:"APKT003",displayMessage:"Network Error: Wallet Load Failed",debugMessage:()=>"Failed to load the embedded wallet. This may be due to network issues or server downtime. Please check your network connection and try again shortly. Contact support if the issue persists."},IFRAME_REQUEST_TIMEOUT:{code:"APKT004",displayMessage:"Wallet Request Timeout",debugMessage:()=>"The request to the embedded wallet timed out. Please check your network connection and try again shortly. Contact support if the issue persists."},UNVERIFIED_DOMAIN:{code:"APKT005",displayMessage:"Unverified Domain",debugMessage:()=>"Embedded wallet load failed. Ensure your domain is verified in https://dashboard.reown.com."},JWT_TOKEN_NOT_VALID:{code:"APKT006",displayMessage:"Session Expired",debugMessage:"Your session is invalid or expired. Please check your system\u2019s date and time settings, then reconnect."},INVALID_PROJECT_ID:{code:"APKT007",displayMessage:"Invalid Project ID",debugMessage:"The specified project ID is invalid. Please visit https://dashboard.reown.com to obtain a valid project ID."},PROJECT_ID_NOT_CONFIGURED:{code:"APKT008",displayMessage:"Project ID Missing",debugMessage:"No project ID is configured. You can create and configure a project ID at https://dashboard.reown.com."},SERVER_ERROR_APP_CONFIGURATION:{code:"APKT009",displayMessage:"Server Error",debugMessage:e=>`Unable to fetch App Configuration. ${e}. Please check your network connection and try again shortly. Contact support if the issue persists.`},RATE_LIMITED_APP_CONFIGURATION:{code:"APKT010",displayMessage:"Rate Limited",debugMessage:"You have been rate limited while retrieving App Configuration. Please wait a few minutes and try again. Contact support if the issue persists."}},ALERT_WARNINGS:{LOCAL_CONFIGURATION_IGNORED:{debugMessage:e=>`[Reown Config Notice] ${e}`},INACTIVE_NAMESPACE_NOT_CONNECTED:{code:"APKTW001",displayMessage:"Inactive Namespace Not Connected",debugMessage:(e,t)=>`An error occurred while connecting an inactive namespace ${e}: "${t}"`},INVALID_EMAIL:{code:"APKTW002",displayMessage:"Invalid Email Address",debugMessage:"Please enter a valid email address"}}}});var rT,k2e=m(()=>{st();rT={TOKEN_ADDRESSES_BY_SYMBOL:{USDC:{8453:XM.asset,84532:eH.asset}},getTokenSymbolByAddress(e){if(!e)return;let[t]=Object.entries(rT.TOKEN_ADDRESSES_BY_SYMBOL).find(([r,n])=>Object.values(n).includes(e))??[];return t}}});var uz,B2e=m(()=>{Ff();uz={createLogger(e,t="error"){let r=Y2({level:t}),{logger:n}=Hl({opts:r});return n.error=(...s)=>{for(let o of s)if(o instanceof Error){e(o,...s);return}e(void 0,...s)},n}}});function pz(e,t){let r=new URL("https://rpc.walletconnect.org/v1/");return r.searchParams.set("chainId",e),r.searchParams.set("projectId",t),r.toString()}var Btt,dz,_u,D2e=m(()=>{$0();at();st();N2e();Btt="rpc.walletconnect.org";dz=["near:mainnet","solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp","eip155:1101","eip155:56","eip155:42161","eip155:7777777","eip155:59144","eip155:324","solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1","eip155:5000","solana:4sgjmw1sunhzsxgspuhpqldx6wiyjntz","eip155:80084","eip155:5003","eip155:100","eip155:8453","eip155:42220","eip155:1313161555","eip155:17000","eip155:1","eip155:300","eip155:1313161554","eip155:1329","eip155:84532","eip155:421614","eip155:11155111","eip155:8217","eip155:43114","solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z","eip155:999999999","eip155:11155420","eip155:80002","eip155:97","eip155:43113","eip155:137","eip155:10","eip155:1301","eip155:80094","eip155:80069","eip155:560048","eip155:31","eip155:2818","eip155:57054","eip155:911867","eip155:534351","eip155:1112","eip155:534352","eip155:1111","eip155:146","eip155:130","eip155:1284","eip155:30","eip155:2810","bip122:000000000019d6689c085ae165831e93","bip122:000000000933ea01ad0ee984209779ba"],_u={extendRpcUrlWithProjectId(e,t){let r=!1;try{r=new URL(e).host===Btt}catch{r=!1}if(r){let n=new URL(e);return n.searchParams.has("projectId")||n.searchParams.set("projectId",t),n.toString()}return e},isCaipNetwork(e){return"chainNamespace"in e&&"caipNetworkId"in e},getChainNamespace(e){return this.isCaipNetwork(e)?e.chainNamespace:V.CHAIN.EVM},getCaipNetworkId(e){return this.isCaipNetwork(e)?e.caipNetworkId:`${V.CHAIN.EVM}:${e.id}`},getDefaultRpcUrl(e,t,r){let n=e.rpcUrls?.default?.http?.[0];return dz.includes(t)?pz(t,r):n||""},extendCaipNetwork(e,{customNetworkImageUrls:t,projectId:r,customRpcUrls:n}){let s=this.getChainNamespace(e),o=this.getCaipNetworkId(e),i=e.rpcUrls?.default?.http?.[0],a=this.getDefaultRpcUrl(e,o,r),c=e?.rpcUrls?.chainDefault?.http?.[0]||i,l=n?.[o]?.map(p=>p.url)||[],u=[...l,...a?[a]:[]],d=[...l];return c&&!d.includes(c)&&d.push(c),{...e,chainNamespace:s,caipNetworkId:o,assets:{imageId:P2e.NetworkImageIds[e.id],imageUrl:t?.[e.id]},rpcUrls:{...e.rpcUrls,default:{http:u},chainDefault:{http:d}}}},extendCaipNetworks(e,{customNetworkImageUrls:t,projectId:r,customRpcUrls:n}){return e.map(s=>_u.extendCaipNetwork(s,{customNetworkImageUrls:t,customRpcUrls:n,projectId:r}))},getViemTransport(e,t,r){let n=[];return r?.forEach(s=>{n.push(ag(s.url,s.config))}),dz.includes(e.caipNetworkId)&&n.push(ag(pz(e.caipNetworkId,t),{fetchOptions:{headers:{"Content-Type":"text/plain"}}})),e?.rpcUrls?.default?.http?.forEach(s=>{n.push(ag(s))}),z4(n)},extendWagmiTransports(e,t,r){if(dz.includes(e.caipNetworkId)){let n=this.getDefaultRpcUrl(e,e.caipNetworkId,t);return z4([r,ag(n)])}return r},getUnsupportedNetwork(e){return{id:e.split(":")[1],caipNetworkId:e,name:V.UNSUPPORTED_NETWORK_NAME,chainNamespace:e.split(":")[0],nativeCurrency:{name:"",decimals:0,symbol:""},rpcUrls:{default:{http:[]}}}},getCaipNetworkFromStorage(e){let t=ae.getActiveCaipNetworkId(),r=R.getAllRequestedCaipNetworks(),n=Array.from(R.state.chains?.keys()||[]),s=t?.split(":")[0],o=s?n.includes(s):!1,i=r?.find(c=>c.caipNetworkId===t);return o&&!i&&t?this.getUnsupportedNetwork(t):i||e||r?.[0]}}});var Sl=m(()=>{tT();R2e();O2e();k2e();B2e();D2e()});var Xv,U2e=m(()=>{Xv={ERROR_CODE_UNRECOGNIZED_CHAIN_ID:4902,ERROR_CODE_DEFAULT:5e3,ERROR_INVALID_CHAIN_ID:32603}});var nT,L2e=m(()=>{YM();$0();at();st();st();U2e();nT=class extends Y4{async setUniversalProvider(t){if(!this.namespace)throw new Error("UniversalAdapter:setUniversalProvider - namespace is required");return this.addConnector(new J4({provider:t,caipNetworks:this.getCaipNetworks(),namespace:this.namespace})),Promise.resolve()}async connect(t){return Promise.resolve({id:"WALLET_CONNECT",type:"WALLET_CONNECT",chainId:Number(t.chainId),provider:this.provider,address:""})}async disconnect(){try{await this.getWalletConnectConnector().disconnect(),this.emit("disconnect")}catch(t){console.warn("UniversalAdapter:disconnect - error",t)}return{connections:[]}}syncConnections(){return Promise.resolve()}async writeSolanaTransaction(){return Promise.resolve({hash:""})}async getAccounts({namespace:t}){let n=this.provider?.session?.namespaces?.[t]?.accounts?.map(s=>{let[,,o]=s.split(":");return o}).filter((s,o,i)=>i.indexOf(s)===o)||[];return Promise.resolve({accounts:n.map(s=>te.createAccount(t,s,t==="bip122"?"payment":"eoa"))})}async syncConnectors(){return Promise.resolve()}async getBalance(t){if(!(t.caipNetwork&&Ke.BALANCE_SUPPORTED_CHAINS.includes(t.caipNetwork?.chainNamespace))||t.caipNetwork?.testnet)return{balance:"0.00",symbol:t.caipNetwork?.nativeCurrency.symbol||""};let n=R.getAccountData();if(n?.balanceLoading&&t.chainId===R.state.activeCaipNetwork?.id)return{balance:n?.balance||"0.00",symbol:n?.balanceSymbol||""};let o=(await R.fetchTokenBalance()).find(i=>i.chainId===`${t.caipNetwork?.chainNamespace}:${t.chainId}`&&i.symbol===t.caipNetwork?.nativeCurrency.symbol);return{balance:o?.quantity.numeric||"0.00",symbol:o?.symbol||t.caipNetwork?.nativeCurrency.symbol||""}}async signMessage(t){let{provider:r,message:n,address:s}=t;if(!r)throw new Error("UniversalAdapter:signMessage - provider is undefined");let o="";return R.state.activeCaipNetwork?.chainNamespace===V.CHAIN.SOLANA?o=(await r.request({method:"solana_signMessage",params:{message:q0.encode(new TextEncoder().encode(n)),pubkey:s}},R.state.activeCaipNetwork?.caipNetworkId)).signature:o=await r.request({method:"personal_sign",params:[n,s]},R.state.activeCaipNetwork?.caipNetworkId),{signature:o}}async estimateGas(){return Promise.resolve({gas:BigInt(0)})}async sendTransaction(){return Promise.resolve({hash:""})}walletGetAssets(t){return Promise.resolve({})}async writeContract(){return Promise.resolve({hash:""})}emitFirstAvailableConnection(){}parseUnits(){return 0n}formatUnits(){return"0"}async getCapabilities(){return Promise.resolve({})}async grantPermissions(){return Promise.resolve({})}async revokePermissions(){return Promise.resolve("0x")}async syncConnection(){return Promise.resolve({id:"WALLET_CONNECT",type:"WALLET_CONNECT",chainId:1,provider:this.provider,address:""})}async switchNetwork(t){let{caipNetwork:r}=t,n=this.getWalletConnectConnector();if(r.chainNamespace===V.CHAIN.EVM)try{await n.provider?.request({method:"wallet_switchEthereumChain",params:[{chainId:vr(r.id)}]})}catch(s){if(s.code===Xv.ERROR_CODE_UNRECOGNIZED_CHAIN_ID||s.code===Xv.ERROR_INVALID_CHAIN_ID||s.code===Xv.ERROR_CODE_DEFAULT||s?.data?.originalError?.code===Xv.ERROR_CODE_UNRECOGNIZED_CHAIN_ID)try{await n.provider?.request({method:"wallet_addEthereumChain",params:[{chainId:vr(r.id),rpcUrls:[r?.rpcUrls.chainDefault?.http],chainName:r.name,nativeCurrency:r.nativeCurrency,blockExplorerUrls:[r.blockExplorers?.default.url]}]})}catch{throw new Error("Chain is not supported")}}n.provider.setDefaultChain(r.caipNetworkId)}getWalletConnectProvider(){return this.connectors.find(n=>n.type==="WALLET_CONNECT")?.provider}}});var Dtt,sT,M2e,H2e=m(()=>{st();Sl();Dtt=["email","socials","swaps","onramp","activity","reownBranding","multiWallet","emailCapture","payWithExchange","payments","reownAuthentication","headless"],sT={email:{apiFeatureName:"social_login",localFeatureName:"email",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:e=>{if(!e?.config)return!1;let t=e.config;return!!e.isEnabled&&t.includes("email")},processFallback:e=>e===void 0?Ke.DEFAULT_REMOTE_FEATURES.email:!!e},socials:{apiFeatureName:"social_login",localFeatureName:"socials",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:e=>{if(!e?.config)return!1;let t=e.config;return e.isEnabled&&t.length>0?t.filter(r=>r!=="email"):!1},processFallback:e=>e===void 0?Ke.DEFAULT_REMOTE_FEATURES.socials:typeof e=="boolean"?e?Ke.DEFAULT_REMOTE_FEATURES.socials:!1:e},swaps:{apiFeatureName:"swap",localFeatureName:"swaps",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:e=>{if(!e?.config)return!1;let t=e.config;return e.isEnabled&&t.length>0?t:!1},processFallback:e=>e===void 0?Ke.DEFAULT_REMOTE_FEATURES.swaps:typeof e=="boolean"?e?Ke.DEFAULT_REMOTE_FEATURES.swaps:!1:e},onramp:{apiFeatureName:"onramp",localFeatureName:"onramp",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:e=>{if(!e?.config)return!1;let t=e.config;return e.isEnabled&&t.length>0?t:!1},processFallback:e=>e===void 0?Ke.DEFAULT_REMOTE_FEATURES.onramp:typeof e=="boolean"?e?Ke.DEFAULT_REMOTE_FEATURES.onramp:!1:e},activity:{apiFeatureName:"activity",localFeatureName:"history",returnType:!1,isLegacy:!0,isAvailableOnBasic:!1,processApi:e=>!!e.isEnabled,processFallback:e=>e===void 0?Ke.DEFAULT_REMOTE_FEATURES.activity:!!e},reownBranding:{apiFeatureName:"reown_branding",localFeatureName:"reownBranding",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:e=>!!e.isEnabled,processFallback:e=>e===void 0?Ke.DEFAULT_REMOTE_FEATURES.reownBranding:!!e},emailCapture:{apiFeatureName:"email_capture",localFeatureName:"emailCapture",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:e=>e.isEnabled&&(e.config??[]),processFallback:e=>!1},multiWallet:{apiFeatureName:"multi_wallet",localFeatureName:"multiWallet",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:e=>!!e.isEnabled,processFallback:()=>Ke.DEFAULT_REMOTE_FEATURES.multiWallet},payWithExchange:{apiFeatureName:"fund_from_exchange",localFeatureName:"payWithExchange",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:e=>!!e.isEnabled,processFallback:()=>Ke.DEFAULT_REMOTE_FEATURES.payWithExchange},payments:{apiFeatureName:"payments",localFeatureName:"payments",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:e=>!!e.isEnabled,processFallback:()=>Ke.DEFAULT_REMOTE_FEATURES.payments},reownAuthentication:{apiFeatureName:"reown_authentication",localFeatureName:"reownAuthentication",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:e=>!!e.isEnabled,processFallback:e=>typeof e>"u"?Ke.DEFAULT_REMOTE_FEATURES.reownAuthentication:!!e},headless:{apiFeatureName:"headless",localFeatureName:"headless",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:e=>!!e.isEnabled,processFallback:()=>Ke.DEFAULT_REMOTE_FEATURES.headless}},M2e={localSettingsOverridden:new Set,getApiConfig(e,t){return t?.find(r=>r.id===e)},addWarning(e,t){if(e!==void 0){let r=sT[t],n=r.isLegacy?`"features.${r.localFeatureName}" (now "${t}")`:`"features.${t}"`;this.localSettingsOverridden.add(n)}},processFeature(e,t,r,n,s){let o=sT[e],i=t[o.localFeatureName];if(s&&!o.isAvailableOnBasic)return!1;if(n){let a=this.getApiConfig(o.apiFeatureName,r);return a?.config===null?this.processFallbackFeature(e,i):a?.config?(i!==void 0&&this.addWarning(i,e),this.processApiFeature(e,a)):!1}return this.processFallbackFeature(e,i)},processApiFeature(e,t){return sT[e].processApi(t)},processFallbackFeature(e,t){return sT[e].processFallback(t)},async fetchRemoteFeatures(e){let t=e.basic??!1,r=e.features||{};this.localSettingsOverridden.clear();let n=null,s=!1;try{n=await pe.fetchProjectConfig(),s=n!=null}catch(i){console.warn("[Reown Config] Failed to fetch remote project configuration. Using local/default values.",i)}let o=s&&!t?Ke.DEFAULT_REMOTE_FEATURES:Ke.DEFAULT_REMOTE_FEATURES_DISABLED;try{for(let i of Dtt){let a=this.processFeature(i,r,n,s,t);Object.assign(o,{[i]:a})}}catch(i){return console.warn("[Reown Config] Failed to process the configuration from Cloud. Using default values.",i),Ke.DEFAULT_REMOTE_FEATURES}if(s&&this.localSettingsOverridden.size>0){let i=`Your local configuration for ${Array.from(this.localSettingsOverridden).join(", ")} was ignored because a remote configuration was successfully fetched. Please manage these features via your project dashboard on dashboard.reown.com.`;sn.open({debugMessage:ai.ALERT_WARNINGS.LOCAL_CONFIGURATION_IGNORED.debugMessage(i)},"warning")}return o}}});var e3,fz=m(()=>{at();jr();e3=class{constructor(t){this.getNonce=t.getNonce}async createMessage(t){let r={accountAddress:t.accountAddress,chainId:t.chainId,version:"1",domain:typeof document>"u"?"Unknown Domain":document.location.host,uri:typeof document>"u"?"Unknown URI":document.location.href,resources:this.resources,nonce:await this.getNonce(t),issuedAt:this.stringifyDate(new Date),statement:void 0,expirationTime:void 0,notBefore:void 0};return Object.assign(r,{toString:()=>this.stringify(r)})}stringify(t){let r=this.getNetworkName(t.chainId);return[`${t.domain} wants you to sign in with your ${r} account:`,t.accountAddress,t.statement?`
${t.statement}
`:"",`URI: ${t.uri}`,`Version: ${t.version}`,`Chain ID: ${t.chainId}`,`Nonce: ${t.nonce}`,t.issuedAt&&`Issued At: ${t.issuedAt}`,t.expirationTime&&`Expiration Time: ${t.expirationTime}`,t.notBefore&&`Not Before: ${t.notBefore}`,t.requestId&&`Request ID: ${t.requestId}`,t.resources?.length&&t.resources.reduce((n,s)=>`${n}
- ${s}`,"Resources:")].filter(n=>typeof n=="string").join(`
`).trim()}getNetworkName(t){let r=R.getAllRequestedCaipNetworks();return c1.getNetworkNameByCaipNetworkId(r,t)}stringifyDate(t){return t.toISOString()}}});function Utt(e){let t=e.split(".");if(t.length!==3)throw new Error("Invalid token");let r=t[1];if(typeof r!="string")throw new Error("Invalid token");let n=r.replace(/-/gu,"+").replace(/_/gu,"/"),s=n.padEnd(n.length+(4-n.length%4)%4,"=");return JSON.parse(atob(s))}var hz,$2e=m(()=>{at();yu();Lp();jr();dc();fz();hz=class{constructor(t={}){this.otpUuid=null,this.listeners={sessionChanged:[]},this.localAuthStorageKey=t.localAuthStorageKey||He.SIWX_AUTH_TOKEN,this.localNonceStorageKey=t.localNonceStorageKey||He.SIWX_NONCE_TOKEN,this.required=t.required??!0,this.messenger=new e3({getNonce:this.getNonce.bind(this)})}async createMessage(t){return this.messenger.createMessage(t)}async addSession(t){let r=await this.request({method:"POST",key:"authenticate",body:{data:t.data,message:t.message,signature:t.signature,clientId:this.getClientId(),walletInfo:this.getWalletInfo()},headers:["nonce","otp"]});this.setStorageToken(r.token,this.localAuthStorageKey),this.emit("sessionChanged",t),this.setAppKitAccountUser(Utt(r.token)),this.otpUuid=null}async getSessions(t,r){try{if(!this.getStorageToken(this.localAuthStorageKey))return[];let n=await this.request({method:"GET",key:"me",query:{},headers:["auth"]});if(!n)return[];let s=n.address.toLowerCase()===r.toLowerCase(),o=n.caip2Network===t;if(!s||!o)return[];let i={data:{accountAddress:n.address,chainId:n.caip2Network},message:"",signature:""};return this.emit("sessionChanged",i),this.setAppKitAccountUser(n),[i]}catch{return[]}}async revokeSession(t,r){return Promise.resolve(this.clearStorageTokens())}async setSessions(t){if(t.length===0)this.clearStorageTokens();else{let r=t.find(n=>n.data.chainId===lg()?.caipNetworkId)||t[0];await this.addSession(r)}}getRequired(){return this.required}async getSessionAccount(){if(!this.getStorageToken(this.localAuthStorageKey))throw new Error("Not authenticated");return this.request({method:"GET",key:"me",body:void 0,query:{includeAppKitAccount:!0},headers:["auth"]})}async setSessionAccountMetadata(t=null){if(!this.getStorageToken(this.localAuthStorageKey))throw new Error("Not authenticated");return this.request({method:"PUT",key:"account-metadata",body:{metadata:t},headers:["auth"]})}on(t,r){return this.listeners[t].push(r),()=>{this.listeners[t]=this.listeners[t].filter(n=>n!==r)}}removeAllListeners(){Object.keys(this.listeners).forEach(r=>{this.listeners[r]=[]})}async requestEmailOtp({email:t,account:r}){let n=await this.request({method:"POST",key:"otp",body:{email:t,account:r}});return this.otpUuid=n.uuid,this.messenger.resources=[`email:${t}`],n}confirmEmailOtp({code:t}){return this.request({method:"PUT",key:"otp",body:{code:t},headers:["otp"]})}async request({method:t,key:r,query:n,body:s,headers:o}){let{projectId:i,st:a,sv:c}=this.getSDKProperties(),l=new URL(`${V.W3M_API_URL}/auth/v1/${String(r)}`);l.searchParams.set("projectId",i),l.searchParams.set("st",a),l.searchParams.set("sv",c),n&&Object.entries(n).forEach(([d,p])=>l.searchParams.set(d,String(p)));let u=await fetch(l,{method:t,body:s?JSON.stringify(s):void 0,headers:Array.isArray(o)?o.reduce((d,p)=>{switch(p){case"nonce":d["x-nonce-jwt"]=`Bearer ${this.getStorageToken(this.localNonceStorageKey)}`;break;case"auth":d.Authorization=`Bearer ${this.getStorageToken(this.localAuthStorageKey)}`;break;case"otp":this.otpUuid&&(d["x-otp"]=this.otpUuid);break;default:break}return d},{}):void 0});if(!u.ok)throw new Error(await u.text());return u.headers.get("content-type")?.includes("application/json")?u.json():null}getStorageToken(t){return Be.getItem(t)}setStorageToken(t,r){Be.setItem(r,t)}clearStorageTokens(){this.otpUuid=null,Be.removeItem(this.localAuthStorageKey),Be.removeItem(this.localNonceStorageKey),this.emit("sessionChanged",void 0)}async getNonce(){let{nonce:t,token:r}=await this.request({method:"GET",key:"nonce"});return this.setStorageToken(r,this.localNonceStorageKey),t}getClientId(){return $e.state.clientId}getWalletInfo(){let t=R.getAccountData()?.connectedWalletInfo;if(!t)return;if("social"in t&&"identifier"in t){let o=t.social,i=t.identifier;return{type:"social",social:o,identifier:i}}let{name:r,icon:n}=t,s="unknown";switch(t.type){case"EXTERNAL":case"INJECTED":case"ANNOUNCED":s="extension";break;case"WALLET_CONNECT":s="walletconnect";break;default:s="unknown"}return{type:s,name:r,icon:n}}getSDKProperties(){return pe._getSdkProperties()}emit(t,r){this.listeners[t].forEach(n=>n(r))}setAppKitAccountUser(t){let{email:r}=t;r&&Object.values(V.CHAIN).forEach(n=>{R.setAccountProp("user",{email:r},n)})}}});var F2e=m(()=>{$2e();fz()});var j2e={};Se(j2e,{ReownAuthentication:()=>hz,ReownAuthenticationMessenger:()=>e3});var z2e=m(()=>{F2e()});var oT,V2e=m(()=>{r2e();at();st();Fe();Sl();L2e();H2e();oT=class{constructor(t){this.chainNamespaces=[],this.features={},this.remoteFeatures={},this.reportedAlertErrors={},this.getCaipNetwork=(r,n)=>{if(r){let s=R.getCaipNetworks(r)?.find(a=>a.id===n);if(s)return s;let o=R.getNetworkData(r)?.caipNetwork;return o||R.getRequestedCaipNetworks(r).filter(a=>a.chainNamespace===r)?.[0]}return R.state.activeCaipNetwork||this.defaultCaipNetwork},this.getCaipNetworkId=()=>{let r=this.getCaipNetwork();if(r)return r.id},this.getCaipNetworks=r=>R.getCaipNetworks(r),this.getActiveChainNamespace=()=>R.state.activeChain,this.setRequestedCaipNetworks=(r,n)=>{R.setRequestedCaipNetworks(r,n)},this.getApprovedCaipNetworkIds=()=>R.getAllApprovedCaipNetworkIds(),this.getCaipAddress=r=>R.state.activeChain===r||!r?R.state.activeCaipAddress:R.state.chains.get(r)?.accountState?.caipAddress,this.setClientId=r=>{$e.setClientId(r)},this.getProvider=r=>ur.getProvider(r),this.getProviderType=r=>ur.getProviderId(r),this.getPreferredAccountType=r=>zr(r),this.setCaipAddress=(r,n,s=!1)=>{R.setAccountProp("caipAddress",r,n,s),R.setAccountProp("address",te.getPlainAddress(r),n,s)},this.setBalance=(r,n,s)=>{R.setAccountProp("balance",r,s),R.setAccountProp("balanceSymbol",n,s)},this.setProfileName=(r,n)=>{R.setAccountProp("profileName",r,n)},this.setProfileImage=(r,n)=>{R.setAccountProp("profileImage",r,n)},this.setUser=(r,n)=>{R.setAccountProp("user",r,n)},this.resetAccount=r=>{R.resetAccount(r)},this.setCaipNetwork=r=>{R.setActiveCaipNetwork(r)},this.setCaipNetworkOfNamespace=(r,n)=>{R.setChainNetworkData(n,{caipNetwork:r})},this.setStatus=(r,n)=>{R.setAccountProp("status",r,n),X.isConnected()?ae.setConnectionStatus("connected"):ae.setConnectionStatus("disconnected")},this.getAddressByChainNamespace=r=>R.getAccountData(r)?.address,this.setConnectors=r=>{let n=[...X.state.allConnectors,...r];X.setConnectors(n)},this.setConnections=(r,n)=>{ae.setConnections(r,n),Q.setConnections(r,n)},this.fetchIdentity=r=>$e.fetchIdentity(r),this.getReownName=r=>W0.getNamesForAddress(r),this.getConnectors=()=>X.getConnectors(),this.getConnectorImage=r=>St.getConnectorImage(r),this.getConnections=r=>this.remoteFeatures.multiWallet?$p.getConnectionsData(r).connections:(sn.open(V.REMOTE_FEATURES_ALERTS.MULTI_WALLET_NOT_ENABLED.DEFAULT,"info"),[]),this.getRecentConnections=r=>this.remoteFeatures.multiWallet?$p.getConnectionsData(r).recentConnections:(sn.open(V.REMOTE_FEATURES_ALERTS.MULTI_WALLET_NOT_ENABLED.DEFAULT,"info"),[]),this.switchConnection=async r=>{if(!this.remoteFeatures.multiWallet){sn.open(V.REMOTE_FEATURES_ALERTS.MULTI_WALLET_NOT_ENABLED.DEFAULT,"info");return}await Q.switchConnection(r)},this.deleteConnection=r=>{if(!this.remoteFeatures.multiWallet){sn.open(V.REMOTE_FEATURES_ALERTS.MULTI_WALLET_NOT_ENABLED.DEFAULT,"info");return}ae.deleteAddressFromConnection(r),Q.syncStorageConnections()},this.setConnectedWalletInfo=(r,n)=>{let s=ur.getProviderId(n),o=r?{...r,type:s}:void 0;R.setAccountProp("connectedWalletInfo",o,n)},this.getIsConnectedState=()=>!!R.state.activeCaipAddress,this.addAddressLabel=(r,n,s)=>{let o=R.getAccountData(s)?.addressLabels||{};R.setAccountProp("addressLabels",{...o,[r]:n},s)},this.removeAddressLabel=(r,n)=>{let s=R.getAccountData(n)?.addressLabels||{};R.setAccountProp("addressLabels",{...s,[r]:void 0},n)},this.getAddress=r=>{let n=r||R.state.activeChain;return R.getAccountData(n)?.address},this.resetNetwork=r=>{R.resetNetwork(r)},this.addConnector=r=>{X.addConnector(r)},this.resetWcConnection=()=>{Q.resetWcConnection()},this.setAddressExplorerUrl=(r,n)=>{R.setAccountProp("addressExplorerUrl",r,n)},this.setSmartAccountDeployed=(r,n)=>{R.setAccountProp("smartAccountDeployed",r,n)},this.setPreferredAccountType=(r,n)=>{R.setAccountProp("preferredAccountType",r,n)},this.setEIP6963Enabled=r=>{W.setEIP6963Enabled(r)},this.handleUnsafeRPCRequest=()=>{if(this.isOpen()){if(this.isTransactionStackEmpty())return;this.redirect("ApproveTransaction")}else this.open({view:"ApproveTransaction"})},this.options=t,this.version=t.sdkVersion,this.caipNetworks=this.extendCaipNetworks(t),this.chainNamespaces=this.getChainNamespacesSet(t.adapters,this.caipNetworks),this.defaultCaipNetwork=this.extendDefaultCaipNetwork(t),this.chainAdapters=this.createAdapters(t.adapters),this.readyPromise=this.initialize(t)}getChainNamespacesSet(t,r){let n=t?.map(o=>o.namespace).filter(o=>!!o);if(n?.length)return[...new Set(n)];let s=r?.map(o=>o.chainNamespace);return[...new Set(s)]}async initialize(t){if(this.initializeProjectSettings(t),this.initControllers(t),await this.initChainAdapters(),this.sendInitializeEvent(t),t.features?.headless&&!Bn.hasInjectedConnectors()&&pe.prefetch({fetchNetworkImages:!1,fetchConnectorImages:!1,fetchWalletRanks:!1,fetchRecommendedWallets:!0}),W.state.enableReconnect?(await this.syncExistingConnection(),await this.syncAdapterConnections()):await this.unSyncExistingConnection(),!t.basic&&!t.manualWCControl&&(this.remoteFeatures=await M2e.fetchRemoteFeatures(t)),await pe.fetchUsage(),W.setRemoteFeatures(this.remoteFeatures),this.remoteFeatures.onramp&&G4.setOnrampProviders(this.remoteFeatures.onramp),(W.state.remoteFeatures?.email||Array.isArray(W.state.remoteFeatures?.socials)&&W.state.remoteFeatures?.socials.length>0)&&await this.checkAllowedOrigins(),W.state.features?.reownAuthentication||W.state.remoteFeatures?.reownAuthentication){let{ReownAuthentication:r}=await Promise.resolve().then(()=>(z2e(),j2e)),n=W.state.siwx;n instanceof r||(n&&console.warn("ReownAuthentication option is enabled, SIWX configuration will be overridden."),W.setSIWX(new r))}}async openSend(t){let r=t.namespace||R.state.activeChain,n=this.getCaipAddress(r),s=this.getCaipNetwork(r)?.id;if(!n)throw new Error("openSend: caipAddress not found");if(s?.toString()!==t.chainId.toString()){let o=R.getCaipNetworkById(t.chainId,r);if(!o)throw new Error(`openSend: caipNetwork with chainId ${t.chainId} not found`);await this.switchNetwork(o,{throwOnFailure:!0})}try{let o=rT.getTokenSymbolByAddress(t.assetAddress);o&&await pe.fetchTokenImages([o])}catch{}return await ke.open({view:"WalletSend",data:{send:t}}),new Promise((o,i)=>{let a=xt.subscribeKey("hash",u=>{u&&(l(),o({hash:u}))}),c=ke.subscribe(u=>{u.open||(l(),i(new Error("Modal closed")))}),l=this.createCleanupHandler([a,c])})}toModalOptions(){function t(n){return n?.view==="Swap"}function r(n){return n?.view==="WalletSend"}return{isSwap:t,isSend:r}}async checkAllowedOrigins(){try{let t=await pe.fetchAllowedOrigins();if(!te.isClient())return;let r=window.location.origin;cl.isOriginAllowed(r,t,V.DEFAULT_ALLOWED_ANCESTORS)||sn.open(ai.ALERT_ERRORS.ORIGIN_NOT_ALLOWED,"error")}catch(t){if(!(t instanceof Error))return;switch(t.message){case"RATE_LIMITED":sn.open(ai.ALERT_ERRORS.RATE_LIMITED_APP_CONFIGURATION,"error");break;case"SERVER_ERROR":{let r=t.cause instanceof Error?t.cause:t;sn.open({displayMessage:ai.ALERT_ERRORS.SERVER_ERROR_APP_CONFIGURATION.displayMessage,debugMessage:ai.ALERT_ERRORS.SERVER_ERROR_APP_CONFIGURATION.debugMessage(r.message)},"error");break}default:break}}}createCleanupHandler(t){return()=>{t.forEach(r=>{try{r()}catch{}})}}sendInitializeEvent(t){let{...r}=t;delete r.adapters,delete r.universalProvider,ve.sendEvent({type:"track",event:"INITIALIZE",properties:{...r,networks:t.networks.map(n=>n.id),siweConfig:{options:t.siweConfig?.options||{}}}})}initControllers(t){this.initializeOptionsController(t),this.initializeChainController(t),this.initializeThemeController(t),this.initializeConnectionController(t),this.initializeConnectorController()}initAdapterController(){dg.initialize(this.chainAdapters)}initializeThemeController(t){t.themeMode&&rn.setThemeMode(t.themeMode),t.themeVariables&&rn.setThemeVariables(t.themeVariables)}initializeChainController(t){if(!this.connectionControllerClient)throw new Error("ConnectionControllerClient must be set");R.initialize(t.adapters??[],this.caipNetworks,{connectionControllerClient:this.connectionControllerClient});let r=this.getDefaultNetwork();r&&R.setActiveCaipNetwork(r)}initializeConnectionController(t){Q.initialize(t.adapters??[]),Q.setWcBasic(t.basic??!1)}initializeConnectorController(){X.initialize(this.chainNamespaces)}initializeProjectSettings(t){W.setProjectId(t.projectId),W.setSdkVersion(t.sdkVersion)}initializeOptionsController(t){W.setDebug(t.debug!==!1),W.setEnableWalletGuide(t.enableWalletGuide!==!1),W.setEnableWallets(t.enableWallets!==!1),W.setEIP6963Enabled(t.enableEIP6963!==!1),W.setEnableNetworkSwitch(t.enableNetworkSwitch!==!1),W.setEnableReconnect(t.enableReconnect!==!1),W.setEnableMobileFullScreen(t.enableMobileFullScreen===!0),W.setCoinbasePreference(t.coinbasePreference),W.setEnableAuthLogger(t.enableAuthLogger!==!1),W.setCustomRpcUrls(t.customRpcUrls),W.setEnableEmbedded(t.enableEmbedded),W.setAllWallets(t.allWallets),W.setIncludeWalletIds(t.includeWalletIds),W.setExcludeWalletIds(t.excludeWalletIds),W.setFeaturedWalletIds(t.featuredWalletIds),W.setTokens(t.tokens),W.setTermsConditionsUrl(t.termsConditionsUrl),W.setPrivacyPolicyUrl(t.privacyPolicyUrl),W.setCustomWallets(t.customWallets),W.setFeatures(t.features),W.setAllowUnsupportedChain(t.allowUnsupportedChain),W.setUniversalProviderConfigOverride(t.universalProviderConfigOverride),W.setPreferUniversalLinks(t.experimental_preferUniversalLinks),W.setDefaultAccountTypes(t.defaultAccountTypes);let r=this.getDefaultMetaData();if(!t.metadata&&r&&(t.metadata=r),W.setMetadata(t.metadata),W.setDisableAppend(t.disableAppend),W.setEnableEmbedded(t.enableEmbedded),W.setSIWX(t.siwx),this.features=W.state.features??{},!t.projectId){sn.open(ai.ALERT_ERRORS.PROJECT_ID_NOT_CONFIGURED,"error");return}if(t.adapters?.find(s=>s.namespace===V.CHAIN.EVM)&&t.siweConfig){if(t.siwx)throw new Error("Cannot set both `siweConfig` and `siwx` options");W.setSIWX(t.siweConfig.mapToSIWX())}}getDefaultMetaData(){return te.isClient()?{name:document.getElementsByTagName("title")?.[0]?.textContent||"",description:document.querySelector('meta[property="og:description"]')?.content||"",url:window.location.origin,icons:[document.querySelector('link[rel~="icon"]')?.href||""]}:null}setUnsupportedNetwork(t){let r=this.getActiveChainNamespace();if(r){let n=_u.getUnsupportedNetwork(`${r}:${t}`);R.setActiveCaipNetwork(n)}}getDefaultNetwork(){return _u.getCaipNetworkFromStorage(this.defaultCaipNetwork)}extendCaipNetwork(t,r){return _u.extendCaipNetwork(t,{customNetworkImageUrls:r.chainImages,projectId:r.projectId})}extendCaipNetworks(t){return _u.extendCaipNetworks(t.networks,{customNetworkImageUrls:t.chainImages,customRpcUrls:t.customRpcUrls,projectId:t.projectId})}extendDefaultCaipNetwork(t){let r=t.networks.find(s=>s.id===t.defaultNetwork?.id);return r?_u.extendCaipNetwork(r,{customNetworkImageUrls:t.chainImages,customRpcUrls:t.customRpcUrls,projectId:t.projectId}):void 0}async disconnectConnector(t,r){try{this.setLoading(!0,t);let n={connections:[]},s=this.getAdapter(t);return(R.state.chains.get(t)?.accountState?.caipAddress||!W.state.enableReconnect)&&s?.disconnect&&(n=await s.disconnect({id:r})),this.setLoading(!1,t),n}catch(n){throw this.setLoading(!1,t),new Error(`Failed to disconnect chains: ${n.message}`)}}createClients(){this.connectionControllerClient={connectWalletConnect:async()=>{let t=R.state.activeChain,r=this.getAdapter(t),n=this.getCaipNetwork(t)?.id,s=Q.getConnections(t),o=this.remoteFeatures.multiWallet,i=s.length>0;if(!r)throw new Error("Adapter not found");let a=await r.connectWalletConnect(n);(!i||!o)&&this.close(),this.setClientId(a?.clientId||null),ae.setConnectedNamespaces([...R.state.chains.keys()]),await this.syncWalletConnectAccount(),await Es.initializeIfEnabled()},connectExternal:async t=>{let r=await this.onConnectExternal(t);return await this.connectInactiveNamespaces(t,r),r?{address:r.address}:void 0},reconnectExternal:async({id:t,info:r,type:n,provider:s})=>{let o=R.state.activeChain,i=this.getAdapter(o);if(!o)throw new Error("reconnectExternal: namespace not found");if(!i)throw new Error("reconnectExternal: adapter not found");i?.reconnect&&(await i?.reconnect({id:t,info:r,type:n,provider:s,chainId:this.getCaipNetwork()?.id}),ae.addConnectedNamespace(o),this.syncConnectedWalletInfo(o))},disconnectConnector:async t=>{await this.disconnectConnector(t.namespace,t.id)},disconnect:async t=>{let{id:r,chainNamespace:n,initialDisconnect:s}=t||{},o=n||R.state.activeChain,i=X.getConnectorId(o),a=r===V.CONNECTOR_ID.AUTH||i===V.CONNECTOR_ID.AUTH,c=r===V.CONNECTOR_ID.WALLET_CONNECT||i===V.CONNECTOR_ID.WALLET_CONNECT;try{let l=Array.from(R.state.chains.keys()),u=n?[n]:l;(c||a)&&(u=l);let d=u.map(async h=>{let g=X.getConnectorId(h),y=r||g,E=await this.disconnectConnector(h,y);E&&(a&&ae.deleteConnectedSocialProvider(),E.connections.forEach(A=>{ae.addDisconnectedConnectorId(A.connectorId,h)})),s&&this.onDisconnectNamespace({chainNamespace:h,closeModal:!1})}),p=await Promise.allSettled(d);xt.resetSend(),Q.resetWcConnection(),Es.getSIWX()?.signOutOnDisconnect&&await Es.clearSessions(),X.setFilterByNamespace(void 0),Q.syncStorageConnections();let f=p.filter(h=>h.status==="rejected");if(f.length>0)throw new Error(f.map(h=>h.reason.message).join(", "));ve.sendEvent({type:"track",event:"DISCONNECT_SUCCESS",properties:{namespace:n||"all"}})}catch(l){throw new Error(`Failed to disconnect chains: ${l.message}`)}},checkInstalled:t=>t?t.some(r=>!!window.ethereum?.[String(r)]):!!window.ethereum,signMessage:async t=>{let r=R.state.activeChain,n=this.getAdapter(R.state.activeChain);if(!r)throw new Error("signMessage: namespace not found");if(!n)throw new Error("signMessage: adapter not found");let s=this.getAddress(r);if(!s)throw new Error("signMessage: address not found");return(await n?.signMessage({message:t,address:s,provider:ur.getProvider(r)}))?.signature||""},sendTransaction:async t=>{let r=t.chainNamespace;if(!r)throw new Error("sendTransaction: namespace not found");if(Ke.SEND_SUPPORTED_NAMESPACES.includes(r)){let n=this.getAdapter(r);if(!n)throw new Error("sendTransaction: adapter not found");let s=ur.getProvider(r);return(await n?.sendTransaction({...t,caipNetwork:this.getCaipNetwork(),provider:s}))?.hash||""}return""},estimateGas:async t=>{let r=t.chainNamespace;if(r===V.CHAIN.EVM){let n=this.getAdapter(r);if(!n)throw new Error("estimateGas: adapter is required but got undefined");let s=ur.getProvider(r),o=this.getCaipNetwork();if(!o)throw new Error("estimateGas: caipNetwork is required but got undefined");return(await n?.estimateGas({...t,provider:s,caipNetwork:o}))?.gas||0n}return 0n},getEnsAvatar:async()=>{let t=R.state.activeChain;if(!t)throw new Error("getEnsAvatar: namespace is required but got undefined");let r=this.getAddress(t);if(!r)throw new Error("getEnsAvatar: address not found");return await this.syncIdentity({address:r,chainId:Number(this.getCaipNetwork()?.id),chainNamespace:t}),R.getAccountData()?.profileImage||!1},getEnsAddress:async t=>await cl.resolveReownName(t),writeContract:async t=>{let r=R.state.activeChain,n=this.getAdapter(r);if(!r)throw new Error("writeContract: namespace is required but got undefined");if(!n)throw new Error("writeContract: adapter is required but got undefined");let s=this.getCaipNetwork(),o=this.getCaipAddress(),i=ur.getProvider(r);if(!s||!o)throw new Error("writeContract: caipNetwork or caipAddress is required but got undefined");return(await n?.writeContract({...t,caipNetwork:s,provider:i,caipAddress:o}))?.hash},writeSolanaTransaction:async t=>{let r=R.state.activeChain,n=this.getAdapter(r);if(!r)throw new Error("writeContract: namespace is required but got undefined");if(!n)throw new Error("writeContract: adapter is required but got undefined");let s=this.getCaipNetwork(),o=this.getCaipAddress(),i=ur.getProvider(r);if(!s||!o)throw new Error("writeContract: caipNetwork or caipAddress is required but got undefined");return(await n?.writeSolanaTransaction({...t,caipNetwork:s,provider:i,caipAddress:o}))?.hash},parseUnits:(t,r)=>{let n=this.getAdapter(R.state.activeChain);if(!n)throw new Error("parseUnits: adapter is required but got undefined");return n?.parseUnits({value:t,decimals:r})??0n},formatUnits:(t,r)=>{let n=this.getAdapter(R.state.activeChain);if(!n)throw new Error("formatUnits: adapter is required but got undefined");return n?.formatUnits({value:t,decimals:r})??"0"},getCapabilities:async t=>{let r=this.getAdapter(R.state.activeChain);if(!r)throw new Error("getCapabilities: adapter is required but got undefined");return await r?.getCapabilities(t)},grantPermissions:async t=>{let r=this.getAdapter(R.state.activeChain);if(!r)throw new Error("grantPermissions: adapter is required but got undefined");return await r?.grantPermissions(t)},revokePermissions:async t=>{let r=this.getAdapter(R.state.activeChain);if(!r)throw new Error("revokePermissions: adapter is required but got undefined");return r?.revokePermissions?await r.revokePermissions(t):"0x"},walletGetAssets:async t=>{let r=this.getAdapter(R.state.activeChain);if(!r)throw new Error("walletGetAssets: adapter is required but got undefined");return await r?.walletGetAssets(t)??{}},updateBalance:t=>{let r=this.getAddress(t),n=this.getCaipNetwork(t);!n||!r||this.updateNativeBalance(r,n?.id,t)}},Q.setClient(this.connectionControllerClient)}async onConnectExternal(t){let r=R.state.activeChain,n=t.chain||r,s=this.getAdapter(n),o=!0;if(t.type===Dr.CONNECTOR_TYPE_AUTH&&V.AUTH_CONNECTOR_SUPPORTED_CHAINS.some(d=>X.getConnectorId(d)===V.CONNECTOR_ID.AUTH)&&t.chain!==r&&(o=!1),t.chain&&t.chain!==r&&!t.caipNetwork){let l=this.getCaipNetworks().find(u=>u.chainNamespace===t.chain);l&&o&&this.setCaipNetwork(l)}if(!n)throw new Error("connectExternal: namespace not found");if(!s)throw new Error("connectExternal: adapter not found");let i=this.getCaipNetwork(n),a=t.caipNetwork||i,c=await s.connect({id:t.id,address:t.address,info:t.info,type:t.type,provider:t.provider,socialUri:t.socialUri,chainId:t.caipNetwork?.id||i?.id,rpcUrl:t.caipNetwork?.rpcUrls?.default?.http?.[0]||i?.rpcUrls?.default?.http?.[0]});if(c)return ae.addConnectedNamespace(n),this.syncProvider({...c,chainNamespace:n}),this.setStatus("connected",n),this.syncConnectedWalletInfo(n),ae.removeDisconnectedConnectorId(t.id,n),{address:c.address,connectedCaipNetwork:a}}async connectInactiveNamespaces(t,r){let n=t.type===Dr.CONNECTOR_TYPE_AUTH,s=on.getOtherAuthNamespaces(r?.connectedCaipNetwork?.chainNamespace),o=R.state.activeCaipNetwork,i=this.getAdapter(o?.chainNamespace);n&&(await Promise.all(s.map(async a=>{try{let c=ur.getProvider(a),l=this.getCaipNetwork(a);await this.getAdapter(a)?.connect({...t,provider:c,socialUri:void 0,chainId:l?.id,rpcUrl:l?.rpcUrls?.default?.http?.[0]})&&(ae.addConnectedNamespace(a),ae.removeDisconnectedConnectorId(t.id,a),this.setStatus("connected",a),this.syncConnectedWalletInfo(a))}catch(c){sn.warn(ai.ALERT_WARNINGS.INACTIVE_NAMESPACE_NOT_CONNECTED.displayMessage,ai.ALERT_WARNINGS.INACTIVE_NAMESPACE_NOT_CONNECTED.debugMessage(a,c instanceof Error?c.message:void 0),ai.ALERT_WARNINGS.INACTIVE_NAMESPACE_NOT_CONNECTED.code)}})),o&&await i?.switchNetwork({caipNetwork:o}))}getApprovedCaipNetworksData(){if(ur.getProviderId(R.state.activeChain)===Dr.CONNECTOR_TYPE_WALLET_CONNECT){let r=this.universalProvider?.session?.namespaces;return{supportsAllNetworks:this.universalProvider?.session?.peer?.metadata.name==="MetaMask Wallet",approvedCaipNetworkIds:this.getChainsFromNamespaces(r)}}return{supportsAllNetworks:!0,approvedCaipNetworkIds:[]}}async switchCaipNetwork(t){let r=t.chainNamespace;if(this.getAddressByChainNamespace(t.chainNamespace)){let s=ur.getProviderId(r);if(t.chainNamespace===R.state.activeChain)await this.getAdapter(r)?.switchNetwork({caipNetwork:t});else if(this.setCaipNetwork(t),s===Dr.CONNECTOR_TYPE_WALLET_CONNECT)this.syncWalletConnectAccount();else{let o=this.getAddressByChainNamespace(r);o&&this.syncAccount({address:o,chainId:t.id,chainNamespace:r})}}else this.setCaipNetwork(t)}getChainsFromNamespaces(t={}){return Object.values(t).flatMap(r=>{let n=r.chains||[],s=r.accounts.map(o=>{let{chainId:i,chainNamespace:a}=it.parseCaipAddress(o);return`${a}:${i}`});return Array.from(new Set([...n,...s]))})}createAdapters(t){return this.createClients(),this.chainNamespaces.reduce((r,n)=>{let s=t?.find(o=>o.namespace===n);return s?(s.construct({namespace:n,projectId:this.options?.projectId,networks:this.caipNetworks?.filter(({chainNamespace:o})=>o===n)}),r[n]=s):r[n]=new nT({namespace:n,networks:this.getCaipNetworks()}),r},{})}async initChainAdapter(t){this.onConnectors(t),this.listenAdapter(t);let r=this.getAdapter(t);if(!r)throw new Error("adapter not found");await r.syncConnectors(),await this.createUniversalProviderForAdapter(t)}async initChainAdapters(){await Promise.all(this.chainNamespaces.map(async t=>{await this.initChainAdapter(t)})),this.initAdapterController()}onConnectors(t){this.getAdapter(t)?.on("connectors",this.setConnectors.bind(this))}listenAdapter(t){let r=this.getAdapter(t);if(!r)return;let n=ae.getConnectionStatus();W.state.enableReconnect===!1?this.setStatus("disconnected",t):n==="connected"?this.setStatus("connecting",t):n==="disconnected"?(ae.clearAddressCache(),this.setStatus(n,t)):this.setStatus(n,t),r.on("switchNetwork",({address:s,chainId:o})=>{let i=this.getCaipNetworks().find(l=>l.id.toString()===o.toString()||l.caipNetworkId.toString()===o.toString()),a=R.state.activeChain===t,c=R.state.chains.get(t)?.accountState?.address;if(i){let l=a&&s?s:c;l&&this.syncAccount({address:l,chainId:i.id,chainNamespace:t})}else this.setUnsupportedNetwork(o)}),r.on("disconnect",()=>{let s=this.remoteFeatures.multiWallet,o=Array.from(Q.state.connections.values()).flat();this.onDisconnectNamespace({chainNamespace:t,closeModal:!s||o.length===0})}),r.on("connections",s=>{this.setConnections(s,t)}),r.on("pendingTransactions",()=>{let s=this.getAddress(t),o=R.state.activeCaipNetwork;!s||!o?.id||this.updateNativeBalance(s,o.id,o.chainNamespace)}),r.on("accountChanged",({address:s,chainId:o,connector:i})=>{this.handlePreviousConnectorConnection(i);let a=R.state.activeChain===t;i?.provider&&(this.syncProvider({id:i.id,type:i.type,provider:i?.provider,chainNamespace:t}),this.syncConnectedWalletInfo(t));let c=R.getNetworkData(t)?.caipNetwork?.id,l=o||c;a&&l?this.syncAccount({address:s,chainId:l,chainNamespace:t}):!a&&l?(this.syncAccountInfo(s,l,t),this.syncBalance({address:s,chainId:l,chainNamespace:t})):this.syncAccountInfo(s,o,t),ae.addConnectedNamespace(t)})}async handlePreviousConnectorConnection(t){let r=t?.chain,n=t?.id,s=X.getConnectorId(r),o=W.state.remoteFeatures?.multiWallet,a=r&&n&&s&&s!==n&&!o;try{a&&await Q.disconnect({id:s,namespace:r})}catch(c){console.warn("Error disconnecting previous connector",c)}}async createUniversalProviderForAdapter(t){await this.getUniversalProvider(),this.universalProvider&&await this.chainAdapters?.[t]?.setUniversalProvider?.(this.universalProvider)}async syncExistingConnection(){await Promise.allSettled(this.chainNamespaces.map(t=>this.syncNamespaceConnection(t)))}async unSyncExistingConnection(){try{await Promise.allSettled(this.chainNamespaces.map(t=>Q.disconnect({namespace:t,initialDisconnect:!0})))}catch(t){console.error("Error disconnecting existing connections:",t)}}async reconnectWalletConnect(){await this.syncWalletConnectAccount();let t=this.getAddress();this.getCaipAddress()||ae.deleteRecentWallet();let r=ae.getRecentWallet();ve.sendEvent({type:"track",event:"CONNECT_SUCCESS",address:t,properties:{method:te.isMobile()?"mobile":"qrcode",name:r?.name||"Unknown",reconnect:!0,view:K.state.view,walletRank:r?.order}})}async syncNamespaceConnection(t){try{t===V.CHAIN.EVM&&te.isSafeApp()&&X.setConnectorId(V.CONNECTOR_ID.SAFE,t);let r=X.getConnectorId(t);switch(this.setStatus("connecting",t),r){case V.CONNECTOR_ID.WALLET_CONNECT:await this.reconnectWalletConnect();break;case V.CONNECTOR_ID.AUTH:break;default:await this.syncAdapterConnection(t)}}catch(r){console.warn("AppKit couldn't sync existing connection",r),this.setStatus("disconnected",t)}}onDisconnectNamespace(t){let{chainNamespace:r,closeModal:n}=t||{};R.resetAccount(r),R.resetNetwork(r),ae.removeConnectedNamespace(r);let s=Array.from(R.state.chains.keys());(r?[r]:s).forEach(i=>ae.addDisconnectedConnectorId(X.getConnectorId(i)||"",i)),X.removeConnectorId(r),ur.resetChain(r),this.setUser(null,r),this.setStatus("disconnected",r),this.setConnectedWalletInfo(null,r),n!==!1&&ke.close()}async syncAdapterConnections(){await Promise.allSettled(this.chainNamespaces.map(t=>{let r=this.getAdapter(t),n=this.getCaipAddress(t),s=this.getCaipNetwork(t);return r?.syncConnections({connectToFirstConnector:!n,caipNetwork:s})}))}async syncAdapterConnection(t){let r=this.getAdapter(t),n=this.getCaipNetwork(t),s=X.getConnectorId(t),i=X.getConnectors(t).find(a=>a.id===s);try{if(!r||!i)throw new Error(`Adapter or connector not found for namespace ${t}`);if(!n?.id)throw new Error("CaipNetwork not found");let a=await r?.syncConnection({namespace:t,id:i.id,chainId:n.id,rpcUrl:n?.rpcUrls?.default?.http?.[0]});a?(this.syncProvider({...a,chainNamespace:t}),await this.syncAccount({...a,chainNamespace:t}),this.setStatus("connected",t),ve.sendEvent({type:"track",event:"CONNECT_SUCCESS",address:a.address,properties:{method:"browser",name:i.info?.name||i.name||"Unknown",reconnect:!0,view:K.state.view,walletRank:i?.explorerWallet?.order}})):this.setStatus("disconnected",t)}catch{this.onDisconnectNamespace({chainNamespace:t,closeModal:!1})}}async syncWalletConnectAccount(){let t=Object.keys(this.universalProvider?.session?.namespaces||{}),r=this.chainNamespaces.map(async n=>{let s=this.getAdapter(n);if(!s)return;let o=this.universalProvider?.session?.namespaces?.[n]?.accounts||[],i=R.state.activeCaipNetwork?.id,a=o.find(l=>{let{chainId:u}=it.parseCaipAddress(l);return u===i?.toString()})||o[0];if(a){let l=it.validateCaipAddress(a),{chainId:u,address:d}=it.parseCaipAddress(l);if(ur.setProviderId(n,Dr.CONNECTOR_TYPE_WALLET_CONNECT),this.caipNetworks&&R.state.activeCaipNetwork&&s.namespace!==V.CHAIN.EVM){let p=s.getWalletConnectProvider({caipNetworks:this.getCaipNetworks(),provider:this.universalProvider,activeCaipNetwork:R.state.activeCaipNetwork});ur.setProvider(n,p)}else ur.setProvider(n,this.universalProvider);X.setConnectorId(V.CONNECTOR_ID.WALLET_CONNECT,n),ae.addConnectedNamespace(n),await this.syncAccount({address:d,chainId:u,chainNamespace:n})}else t.includes(n)&&this.setStatus("disconnected",n);let c=this.getApprovedCaipNetworksData();this.syncConnectedWalletInfo(n),R.setApprovedCaipNetworksData(n,{approvedCaipNetworkIds:c.approvedCaipNetworkIds,supportsAllNetworks:c.supportsAllNetworks})});await Promise.all(r)}syncProvider({type:t,provider:r,id:n,chainNamespace:s}){ur.setProviderId(s,t),ur.setProvider(s,r),X.setConnectorId(n,s)}async syncAccount(t){let r=t.chainNamespace===R.state.activeChain,n=R.getCaipNetworkByNamespace(t.chainNamespace,t.chainId),{address:s,chainId:o,chainNamespace:i}=t,{chainId:a}=ae.getActiveNetworkProps(),c=n?.id||a,l=R.state.activeCaipNetwork?.name===V.UNSUPPORTED_NETWORK_NAME,u=R.getNetworkProp("supportsAllNetworks",i);if(this.setStatus("connected",i),!(l&&!u)&&c){let d=this.getCaipNetworks().find(g=>g.id.toString()===c.toString()),p=this.getCaipNetworks().find(g=>g.chainNamespace===i);if(!u&&!d&&!p){let g=this.getApprovedCaipNetworkIds()||[],y=g.find(A=>it.parseCaipNetworkId(A)?.chainId===c.toString()),E=g.find(A=>it.parseCaipNetworkId(A)?.chainNamespace===i);d=this.getCaipNetworks().find(A=>A.caipNetworkId===y),p=this.getCaipNetworks().find(A=>A.caipNetworkId===E||"deprecatedCaipNetworkId"in A&&A.deprecatedCaipNetworkId===E)}let f=d||p;f?.chainNamespace===R.state.activeChain?W.state.enableNetworkSwitch&&!W.state.allowUnsupportedChain&&R.state.activeCaipNetwork?.name===V.UNSUPPORTED_NETWORK_NAME?R.showUnsupportedChainUI():this.setCaipNetwork(f):r||n&&this.setCaipNetworkOfNamespace(n,i),this.syncConnectedWalletInfo(i);let h=this.getAddress(i);on.isLowerCaseMatch(s,h)||this.syncAccountInfo(s,f?.id,i),r?await this.syncBalance({address:s,chainId:f?.id,chainNamespace:i}):await this.syncBalance({address:s,chainId:n?.id,chainNamespace:i}),this.syncIdentity({address:s,chainId:o,chainNamespace:i})}}async syncAccountInfo(t,r,n){let s=this.getCaipAddress(n),o=r||s?.split(":")[1];if(!o)return;let i=`${n}:${o}:${t}`;this.setCaipAddress(i,n,!0),await this.syncIdentity({address:t,chainId:o,chainNamespace:n})}async syncReownName(t,r){try{let n=await this.getReownName(t);if(n[0]){let s=n[0];this.setProfileName(s.name,r)}else this.setProfileName(null,r)}catch{this.setProfileName(null,r)}}syncConnectedWalletInfo(t){let r=X.getConnectorId(t),n=ur.getProviderId(t);if(n===Dr.CONNECTOR_TYPE_ANNOUNCED||n===Dr.CONNECTOR_TYPE_INJECTED){if(r){let o=this.getConnectors().find(i=>{let a=i.id===r,c=i.info?.rdns===r,l=i.connectors?.some(u=>u.id===r||u.info?.rdns===r);return a||c||!!l});if(o){let{info:i,name:a,imageUrl:c}=o,l=c||this.getConnectorImage(o);this.setConnectedWalletInfo({name:a,icon:l,...i},t)}}}else if(n===Dr.CONNECTOR_TYPE_WALLET_CONNECT){let s=ur.getProvider(t);s?.session&&this.setConnectedWalletInfo({...s.session.peer.metadata,name:s.session.peer.metadata.name,icon:s.session.peer.metadata.icons?.[0]},t)}else if(r&&(r===V.CONNECTOR_ID.COINBASE_SDK||r===V.CONNECTOR_ID.COINBASE)){let s=this.getConnectors().find(c=>c.id===r),o=s?.name||"Coinbase Wallet",i=s?.imageUrl||this.getConnectorImage(s),a=s?.info;this.setConnectedWalletInfo({...a,name:o,icon:i},t)}}async syncBalance(t){!c1.getNetworksByNamespace(this.getCaipNetworks(),t.chainNamespace).find(n=>n.id.toString()===t.chainId?.toString())||!t.chainId||await this.updateNativeBalance(t.address,t.chainId,t.chainNamespace)}async ready(){await this.readyPromise}async updateNativeBalance(t,r,n){let s=this.getAdapter(n),o=R.getCaipNetworkByNamespace(n,r);if(s){let i=await s.getBalance({address:t,chainId:r,caipNetwork:o,tokens:this.options.tokens});return this.setBalance(i.balance,i.symbol,n),i}}async initializeUniversalAdapter(){let t=uz.createLogger((s,...o)=>{s&&this.handleAlertError(s),console.error(...o)}),r={projectId:this.options?.projectId,metadata:{name:this.options?.metadata?this.options?.metadata.name:"",description:this.options?.metadata?this.options?.metadata.description:"",url:this.options?.metadata?this.options?.metadata.url:"",icons:this.options?.metadata?this.options?.metadata.icons:[""]},logger:t};W.setManualWCControl(!!this.options?.manualWCControl),this.universalProvider=this.options.universalProvider??await $7.init(r);let n=this.universalProvider.disconnect.bind(this.universalProvider);this.universalProvider.disconnect=async()=>{try{return await n()}catch(s){if(s instanceof Error&&s.message.includes("Missing or invalid. Record was recently deleted"))return;throw s}},W.state.enableReconnect===!1&&this.universalProvider.session&&await this.universalProvider.disconnect(),this.listenWalletConnect()}listenWalletConnect(){this.universalProvider&&this.chainNamespaces.forEach(t=>{cl.listenWcProvider({universalProvider:this.universalProvider,namespace:t,onDisplayUri:r=>{Q.setUri(r)},onConnect:r=>{let{address:n}=te.getAccount(r[0]);for(let s of this.chainNamespaces)ae.removeDisconnectedConnectorId(V.CONNECTOR_ID.WALLET_CONNECT,s);Q.finalizeWcConnection(n)},onDisconnect:()=>{R.state.noAdapters&&this.resetAccount(t),Q.resetWcConnection()},onChainChanged:r=>{let n=R.state.activeChain,s=n&&X.state.activeConnectorIds[n]===V.CONNECTOR_ID.WALLET_CONNECT;if(n===t&&(R.state.noAdapters||s)){let o=this.getCaipNetworks().find(a=>a.id.toString()===r.toString()||a.caipNetworkId.toString()===r.toString()),i=this.getCaipNetwork();if(!o){this.setUnsupportedNetwork(r);return}i?.id.toString()!==o?.id.toString()&&i?.chainNamespace===o?.chainNamespace&&this.setCaipNetwork(o)}},onAccountsChanged:r=>{let n=R.state.activeChain,s=n&&X.state.activeConnectorIds[n]===V.CONNECTOR_ID.WALLET_CONNECT;if(n===t&&(R.state.noAdapters||s)){let o=r?.[0];o&&this.syncAccount({address:o.address,chainId:o.chainId,chainNamespace:o.chainNamespace})}}})})}createUniversalProvider(){return!this.universalProviderInitPromise&&te.isClient()&&this.options?.projectId&&(this.universalProviderInitPromise=this.initializeUniversalAdapter()),this.universalProviderInitPromise}async getUniversalProvider(){if(!this.universalProvider)try{await this.createUniversalProvider()}catch(t){ve.sendEvent({type:"error",event:"INTERNAL_SDK_ERROR",properties:{errorType:"UniversalProviderInitError",errorMessage:t instanceof Error?t.message:"Unknown",uncaught:!1}}),console.error("AppKit:getUniversalProvider - Cannot create provider",t)}return this.universalProvider}getDisabledCaipNetworks(){let t=R.getAllApprovedCaipNetworkIds(),r=R.getAllRequestedCaipNetworks();return te.sortRequestedNetworks(t,r).filter(s=>R.isCaipNetworkDisabled(s))}handleAlertError(t){let r=Object.entries(ai.UniversalProviderErrors).find(([,{message:a}])=>t.message.includes(a)),[n,s]=r??[],{message:o,alertErrorKey:i}=s??{};if(n&&o&&!this.reportedAlertErrors[n]){let a=ai.ALERT_ERRORS[i];a&&(sn.open(a,"error"),this.reportedAlertErrors[n]=!0)}}getAdapter(t){if(t)return this.chainAdapters?.[t]}createAdapter(t){if(!t)return;let r=t.namespace;if(!r)return;this.createClients();let n=t;n.namespace=r,n.construct({namespace:r,projectId:this.options?.projectId,networks:this.caipNetworks?.filter(({chainNamespace:s})=>s===r)}),this.chainNamespaces.includes(r)||this.chainNamespaces.push(r),this.chainAdapters&&(this.chainAdapters[r]=n)}async open(t){await this.injectModalUi(),t?.uri&&Q.setUri(t.uri);let{isSwap:r,isSend:n}=this.toModalOptions();return r(t)?ke.open({...t,data:{swap:t.arguments}}):n(t)&&t.arguments?this.openSend(t.arguments):ke.open(t)}async close(){await this.injectModalUi(),ke.close()}setLoading(t,r){ke.setLoading(t,r)}async disconnect(t){await Q.disconnect({namespace:t})}getSIWX(){return W.state.siwx}getError(){return""}getChainId(){return R.state.activeCaipNetwork?.id}async switchNetwork(t,{throwOnFailure:r=!1}={}){let n=this.getCaipNetworks().find(s=>s.id===t.id);if(!n){sn.open(ai.ALERT_ERRORS.SWITCH_NETWORK_NOT_FOUND,"error");return}await R.switchActiveNetwork(n,{throwOnFailure:r})}getWalletProvider(){return R.state.activeChain?ur.state.providers[R.state.activeChain]:null}getWalletProviderType(){return ur.getProviderId(R.state.activeChain)}subscribeProviders(t){return ur.subscribeProviders(t)}getThemeMode(){return rn.state.themeMode}getThemeVariables(){return rn.state.themeVariables}setThemeMode(t){rn.setThemeMode(t),Qv(rn.state.themeMode)}setTermsConditionsUrl(t){W.setTermsConditionsUrl(t)}setPrivacyPolicyUrl(t){W.setPrivacyPolicyUrl(t)}setThemeVariables(t){rn.setThemeVariables(t),lz(rn.state.themeVariables)}subscribeTheme(t){return rn.subscribe(t)}subscribeConnections(t){return this.remoteFeatures.multiWallet?Q.subscribe(t):(sn.open(V.REMOTE_FEATURES_ALERTS.MULTI_WALLET_NOT_ENABLED.DEFAULT,"info"),()=>{})}getWalletInfo(t){return t?R.state.chains.get(t)?.accountState?.connectedWalletInfo:R.getAccountData()?.connectedWalletInfo}getAccount(t){let r=t||R.state.activeChain,n=X.getAuthConnector(r),s=R.getAccountData(r),o=ae.getConnectedConnectorId(R.state.activeChain),i=Q.getConnections(r);if(!r)throw new Error("AppKit:getAccount - namespace is required");let a=i.flatMap(c=>c.accounts.map(({address:l,type:u,publicKey:d})=>te.createAccount(r,l,u||"eoa",d)));if(s)return{allAccounts:a,caipAddress:s.caipAddress,address:te.getPlainAddress(s.caipAddress),isConnected:!!s.caipAddress,status:s.status,embeddedWalletInfo:n&&o===V.CONNECTOR_ID.AUTH?{user:s.user?{...s.user,username:ae.getConnectedSocialUsername()}:void 0,authProvider:s.socialProvider||"email",accountType:zr(r),isSmartAccountDeployed:!!s.smartAccountDeployed}:void 0}}subscribeAccount(t,r){let n=[],s=()=>{let i=this.getAccount(r);i&&t(i)};if(r){let i=R.subscribeChainProp("accountState",s,r);n.push(i)}else{let i=R.subscribe(s);n.push(i)}let o=X.subscribe(s);return n.push(o),()=>{n.forEach(i=>i())}}subscribeNetwork(t){return R.subscribe(({activeCaipNetwork:r})=>{t({caipNetwork:r,chainId:r?.id,caipNetworkId:r?.caipNetworkId})})}subscribeWalletInfo(t,r){return r?R.subscribeChainProp("accountState",n=>t(n?.connectedWalletInfo),r):R.subscribeChainProp("accountState",n=>t(n?.connectedWalletInfo))}subscribeShouldUpdateToAddress(t){return R.subscribeChainProp("accountState",r=>t(r?.shouldUpdateToAddress))}subscribeCaipNetworkChange(t){return R.subscribeKey("activeCaipNetwork",t)}getState(){return uo.state}getRemoteFeatures(){return W.state.remoteFeatures}subscribeState(t){return uo.subscribe(t)}subscribeRemoteFeatures(t){return W.subscribeKey("remoteFeatures",t)}showErrorMessage(t){Ze.showError(t)}showSuccessMessage(t){Ze.showSuccess(t)}getEvent(){return{...ve.state}}subscribeEvents(t){return ve.subscribe(t)}replace(t){K.replace(t)}redirect(t){K.push(t)}popTransactionStack(t){K.popTransactionStack(t)}isOpen(){return ke.state.open}isTransactionStackEmpty(){return K.state.transactionStack.length===0}static getInstance(){return this.instance}updateFeatures(t){W.setFeatures(t)}updateRemoteFeatures(t){W.setRemoteFeatures(t)}updateOptions(t){let n={...W.state||{},...t};W.setOptions(n)}setConnectMethodsOrder(t){W.setConnectMethodsOrder(t)}setWalletFeaturesOrder(t){W.setWalletFeaturesOrder(t)}setCollapseWallets(t){W.setCollapseWallets(t)}setSocialsOrder(t){W.setSocialsOrder(t)}getConnectMethodsOrder(){return lo.getConnectOrderMethod(W.state.features,X.getConnectors())}addNetwork(t,r){if(this.chainAdapters&&!this.chainAdapters[t])throw new Error(`Adapter for namespace ${t} doesn't exist`);let n=this.extendCaipNetwork(r,this.options);this.getCaipNetworks().find(s=>s.id===n.id)||R.addNetwork(n)}removeNetwork(t,r){if(this.chainAdapters&&!this.chainAdapters[t])throw new Error(`Adapter for namespace ${t} doesn't exist`);this.getCaipNetworks().find(s=>s.id===r)&&R.removeNetwork(t,r)}}});var q2e=m(()=>{});function F(e){return(t,r)=>typeof r=="object"?Mtt(e,t,r):((n,s,o)=>{let i=s.hasOwnProperty(o);return s.constructor.createProperty(o,n),i?Object.getOwnPropertyDescriptor(s,o):void 0})(e,t,r)}var Ltt,Mtt,mz=m(()=>{Vv();Ltt={attribute:!0,type:String,converter:zv,reflect:!1,hasChanged:V7},Mtt=(e=Ltt,t,r)=>{let{kind:n,metadata:s}=r,o=globalThis.litPropertyMetadata.get(s);if(o===void 0&&globalThis.litPropertyMetadata.set(s,o=new Map),n==="setter"&&((e=Object.create(e)).wrapped=!0),o.set(r.name,e),n==="accessor"){let{name:i}=r;return{set(a){let c=t.get.call(this);t.set.call(this,a),this.requestUpdate(i,c,e,!0,a)},init(a){return a!==void 0&&this.C(i,void 0,e,a),a}}}if(n==="setter"){let{name:i}=r;return function(a){let c=this[i];t.call(this,a),this.requestUpdate(i,c,e,!0,a)}}throw Error("Unsupported decorator location: "+n)}});function oe(e){return F({...e,state:!0,attribute:!1})}var W2e=m(()=>{mz();});var K2e=m(()=>{});var l6=m(()=>{});var Z2e=m(()=>{l6();});var G2e=m(()=>{l6();});var Y2e=m(()=>{l6();});var J2e=m(()=>{l6();});var Q2e=m(()=>{l6();});var Me=m(()=>{q2e();mz();W2e();K2e();Z2e();G2e();Y2e();J2e();Q2e()});var X2e,eye=m(()=>{le();X2e=Sr`
  :host {
    display: flex;
    width: inherit;
    height: inherit;
    box-sizing: border-box;
  }
`});var Gi,Co,Fg=m(()=>{le();Me();Mt();c6();kt();eye();Gi=function(e,t,r,n){var s=arguments.length,o=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,r,o):i(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o},Co=class extends re{render(){return this.style.cssText=`
      flex-direction: ${this.flexDirection};
      flex-wrap: ${this.flexWrap};
      flex-basis: ${this.flexBasis};
      flex-grow: ${this.flexGrow};
      flex-shrink: ${this.flexShrink};
      align-items: ${this.alignItems};
      justify-content: ${this.justifyContent};
      column-gap: ${this.columnGap&&`var(--apkt-spacing-${this.columnGap})`};
      row-gap: ${this.rowGap&&`var(--apkt-spacing-${this.rowGap})`};
      gap: ${this.gap&&`var(--apkt-spacing-${this.gap})`};
      padding-top: ${this.padding&&gr.getSpacingStyles(this.padding,0)};
      padding-right: ${this.padding&&gr.getSpacingStyles(this.padding,1)};
      padding-bottom: ${this.padding&&gr.getSpacingStyles(this.padding,2)};
      padding-left: ${this.padding&&gr.getSpacingStyles(this.padding,3)};
      margin-top: ${this.margin&&gr.getSpacingStyles(this.margin,0)};
      margin-right: ${this.margin&&gr.getSpacingStyles(this.margin,1)};
      margin-bottom: ${this.margin&&gr.getSpacingStyles(this.margin,2)};
      margin-left: ${this.margin&&gr.getSpacingStyles(this.margin,3)};
      width: ${this.width};
    `,H`<slot></slot>`}};Co.styles=[Ue,X2e];Gi([F()],Co.prototype,"flexDirection",void 0);Gi([F()],Co.prototype,"flexWrap",void 0);Gi([F()],Co.prototype,"flexBasis",void 0);Gi([F()],Co.prototype,"flexGrow",void 0);Gi([F()],Co.prototype,"flexShrink",void 0);Gi([F()],Co.prototype,"alignItems",void 0);Gi([F()],Co.prototype,"justifyContent",void 0);Gi([F()],Co.prototype,"columnGap",void 0);Gi([F()],Co.prototype,"rowGap",void 0);Gi([F()],Co.prototype,"gap",void 0);Gi([F()],Co.prototype,"padding",void 0);Gi([F()],Co.prototype,"margin",void 0);Gi([F()],Co.prototype,"width",void 0);Co=Gi([ee("wui-flex")],Co)});var Wr=m(()=>{Fg()});var Ee,tye=m(()=>{cf();Ee=e=>e??gn});var Ur=m(()=>{tye()});var nye,Htt,sye,rye,gz,yz,$Qt,FQt,oye=m(()=>{cf();nye=Symbol.for(""),Htt=e=>{if(e?.r===nye)return e?._$litStatic$},sye=e=>({_$litStatic$:e,r:nye}),rye=new Map,gz=e=>(t,...r)=>{let n=r.length,s,o,i=[],a=[],c,l=0,u=!1;for(;l<n;){for(c=t[l];l<n&&(o=r[l],(s=Htt(o))!==void 0);)c+=s+t[++l],u=!0;l!==n&&a.push(o),i.push(c),l++}if(l===n&&i.push(t[n]),u){let d=i.join("$$lit$$");(t=rye.get(d))===void 0&&(i.raw=i,rye.set(d,t=i)),r=a}return e(t,...r)},yz=gz(H),$Qt=gz(Le),FQt=gz(y2e)});var iye=m(()=>{oye()});var aye,cye=m(()=>{le();aye=Le`<svg width="30" height="30" viewBox="0 0 30 30" fill="none">
  <g clip-path="url(#clip0_87_33)">
    <path d="M23.9367 2.29447e-07H6.05917C5.26333 -0.000218805 4.47526 0.156384 3.73997 0.46086C3.00469 0.765337 2.33661 1.21172 1.77391 1.7745C1.21121 2.33727 0.764917 3.00542 0.460542 3.74074C0.156167 4.47607 -0.000327963 5.26417 5.16031e-07 6.06V23.9433C4.48257e-07 24.7389 0.156744 25.5267 0.461276 26.2617C0.765808 26.9967 1.21216 27.6645 1.77484 28.2269C2.33752 28.7894 3.0055 29.2355 3.74061 29.5397C4.47573 29.8439 5.26358 30.0003 6.05917 30H23.9417C25.5486 29.9996 27.0895 29.3609 28.2257 28.2245C29.3618 27.0881 30 25.5469 30 23.94V6.06C29.9993 4.45241 29.3602 2.91091 28.2232 1.77449C27.0861 0.638064 25.5443 -0.000220881 23.9367 2.29447e-07Z" fill="url(#paint0_linear_87_33)"/>
    <path d="M14.8708 6.89259L15.4783 5.84259C15.5679 5.68703 15.6873 5.55064 15.8296 5.44122C15.9719 5.3318 16.1344 5.25148 16.3078 5.20486C16.4812 5.15824 16.662 5.14622 16.8401 5.1695C17.0181 5.19277 17.1898 5.25088 17.3453 5.34051C17.5009 5.43013 17.6373 5.54952 17.7467 5.69186C17.8561 5.83419 17.9364 5.99669 17.9831 6.17006C18.0297 6.34344 18.0417 6.5243 18.0184 6.70232C17.9952 6.88034 17.9371 7.05203 17.8474 7.20759L11.9949 17.3401H16.2283C17.5999 17.3401 18.3691 18.9526 17.7724 20.0701H5.36159C5.18215 20.0707 5.00436 20.0359 4.83845 19.9675C4.67254 19.8992 4.5218 19.7986 4.39492 19.6718C4.26803 19.5449 4.16751 19.3941 4.09915 19.2282C4.03079 19.0623 3.99593 18.8845 3.99659 18.7051C3.99659 17.9476 4.60492 17.3401 5.36159 17.3401H8.84159L13.2958 9.61926L11.9041 7.20426C11.738 6.89096 11.7 6.52543 11.7982 6.18469C11.8963 5.84395 12.1229 5.5546 12.4301 5.37763C12.7374 5.20065 13.1014 5.14987 13.4454 5.23599C13.7893 5.3221 14.0864 5.53838 14.2741 5.83926L14.8708 6.89259ZM9.60659 21.4759L8.29409 23.7526C8.20446 23.9082 8.08506 24.0446 7.94271 24.1541C7.80035 24.2636 7.63783 24.344 7.46441 24.3906C7.291 24.4373 7.11009 24.4493 6.93202 24.4261C6.75395 24.4028 6.58221 24.3447 6.42659 24.2551C6.27097 24.1655 6.13454 24.0461 6.02506 23.9037C5.91559 23.7613 5.83523 23.5988 5.78857 23.4254C5.74191 23.252 5.72986 23.0711 5.75311 22.893C5.77637 22.715 5.83446 22.5432 5.92409 22.3876L6.89909 20.7001C8.00159 20.3584 8.89742 20.6209 9.60659 21.4759ZM20.9066 17.3476H24.4583C25.2158 17.3476 25.8233 17.9551 25.8233 18.7126C25.8233 19.4701 25.2149 20.0776 24.4583 20.0776H22.4858L23.8166 22.3876C24.1916 23.0443 23.9708 23.8726 23.3149 24.2551C23.0006 24.4359 22.6274 24.4845 22.2772 24.3903C21.927 24.2961 21.6286 24.0667 21.4474 23.7526C19.2058 19.8643 17.5216 16.9534 16.4041 15.0151C15.2608 13.0426 16.0783 11.0626 16.8841 10.3909C17.7799 11.9293 19.1191 14.2501 20.9074 17.3476H20.9066Z" fill="white"/>
  </g>
  <defs>
    <linearGradient id="paint0_linear_87_33" x1="15" y1="2.29447e-07" x2="15" y2="30" gradientUnits="userSpaceOnUse">
      <stop stop-color="#18BFFB"/>
      <stop offset="1" stop-color="#2072F3"/>
    </linearGradient>
    <clipPath id="clip0_87_33">
      <rect width="30" height="30" fill="white"/>
    </clipPath>
  </defs>
</svg>`});var lye,uye=m(()=>{le();lye=Le`<svg fill="none" viewBox="0 0 40 40">
  <g clip-path="url(#a)">
    <g clip-path="url(#b)">
      <circle cx="20" cy="19.89" r="20" fill="#000" />
      <g clip-path="url(#c)">
        <path
          fill="#fff"
          d="M28.77 23.3c-.69 1.99-2.75 5.52-4.87 5.56-1.4.03-1.86-.84-3.46-.84-1.61 0-2.12.81-3.45.86-2.25.1-5.72-5.1-5.72-9.62 0-4.15 2.9-6.2 5.42-6.25 1.36-.02 2.64.92 3.47.92.83 0 2.38-1.13 4.02-.97.68.03 2.6.28 3.84 2.08-3.27 2.14-2.76 6.61.75 8.25ZM24.2 7.88c-2.47.1-4.49 2.69-4.2 4.84 2.28.17 4.47-2.39 4.2-4.84Z"
        />
      </g>
    </g>
  </g>
  <defs>
    <clipPath id="a"><rect width="40" height="40" fill="#fff" rx="20" /></clipPath>
    <clipPath id="b"><path fill="#fff" d="M0 0h40v40H0z" /></clipPath>
    <clipPath id="c"><path fill="#fff" d="M8 7.89h24v24H8z" /></clipPath>
  </defs>
</svg>`});var dye,pye=m(()=>{le();dye=Le`
  <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 8 11">
    <path
      fill="var(--apkt-tokens-theme-textPrimary)"
      d="M7.862 4.86c.159-1.064-.652-1.637-1.76-2.018l.36-1.443-.879-.218-.35 1.404c-.23-.058-.468-.112-.703-.166l.352-1.413-.877-.219-.36 1.442a29.02 29.02 0 0 1-.56-.132v-.005l-1.21-.302-.234.938s.652.15.638.158c.356.089.42.324.41.51l-.41 1.644a.715.715 0 0 1 .09.03l-.092-.024-.574 2.302c-.044.108-.154.27-.402.208.008.013-.639-.16-.639-.16L.227 8.403l1.142.285c.213.053.42.109.626.161l-.363 1.459.877.218.36-1.443c.239.065.472.125.7.182l-.36 1.436.879.219.363-1.456c1.497.283 2.623.17 3.097-1.185.381-1.09-.02-1.719-.807-2.129.574-.132 1.006-.51 1.12-1.289ZM5.856 7.673c-.272 1.09-2.107.5-2.702.353l.482-1.933c.595.149 2.503.443 2.22 1.58Zm.271-2.829c-.247.992-1.775.488-2.27.365l.436-1.753c.496.124 2.092.354 1.834 1.388Z"
    />
  </svg>
`});var fye,hye=m(()=>{le();fye=Le`<svg viewBox="0 0 32 32" fill="none">
<path d="M29.0612 10.0613L13.0612 26.0613C12.9218 26.2011 12.7563 26.3121 12.5739 26.3878C12.3916 26.4635 12.1961 26.5024 11.9987 26.5024C11.8013 26.5024 11.6058 26.4635 11.4235 26.3878C11.2411 26.3121 11.0756 26.2011 10.9362 26.0613L3.9362 19.0613C3.79667 18.9217 3.68599 18.7561 3.61047 18.5738C3.53496 18.3915 3.49609 18.1961 3.49609 17.9988C3.49609 17.8014 3.53496 17.606 3.61047 17.4237C3.68599 17.2414 3.79667 17.0758 3.9362 16.9363C4.07573 16.7967 4.24137 16.686 4.42367 16.6105C4.60598 16.535 4.80137 16.4962 4.9987 16.4962C5.19602 16.4962 5.39141 16.535 5.57372 16.6105C5.75602 16.686 5.92167 16.7967 6.0612 16.9363L11.9999 22.875L26.9387 7.93876C27.2205 7.65697 27.6027 7.49866 28.0012 7.49866C28.3997 7.49866 28.7819 7.65697 29.0637 7.93876C29.3455 8.22055 29.5038 8.60274 29.5038 9.00126C29.5038 9.39977 29.3455 9.78197 29.0637 10.0638L29.0612 10.0613Z" fill="currentColor"/>
</svg>
`});var mye,gye=m(()=>{le();mye=Le`<svg width="30" height="30" viewBox="0 0 30 30" fill="none">
<path d="M14.9978 7.80003H27.4668C26.2032 5.61107 24.3857 3.79333 22.1968 2.52955C20.008 1.26577 17.525 0.600485 14.9975 0.600586C12.47 0.600687 9.98712 1.26617 7.79838 2.53012C5.60964 3.79408 3.79221 5.61197 2.52881 7.80103L8.76281 18.599L8.76881 18.598C8.13412 17.5044 7.79906 16.2628 7.79743 14.9983C7.79579 13.7339 8.12764 12.4914 8.7595 11.3961C9.39136 10.3008 10.3009 9.39159 11.3963 8.76005C12.4918 8.12851 13.7344 7.79702 14.9988 7.79903L14.9978 7.80003Z" fill="url(#paint0_linear_87_32)"/>
<path d="M21.237 18.5981L15.003 29.3961C17.5305 29.3961 20.0134 28.7308 22.2022 27.467C24.391 26.2032 26.2086 24.3854 27.4721 22.1965C28.7356 20.0075 29.4006 17.5245 29.4003 14.997C29.3999 12.4695 28.7342 9.9867 27.47 7.7981H15.002L15 7.8041C16.2642 7.80168 17.5067 8.13257 18.6022 8.76342C19.6977 9.39428 20.6076 10.3028 21.2401 11.3974C21.8726 12.492 22.2053 13.734 22.2048 14.9982C22.2042 16.2623 21.8704 17.504 21.237 18.5981Z" fill="url(#paint1_linear_87_32)"/>
<path d="M8.76502 18.601L2.53102 7.80298C1.26664 9.99172 0.600848 12.4748 0.600586 15.0025C0.600324 17.5302 1.2656 20.0134 2.52953 22.2024C3.79345 24.3914 5.61145 26.209 7.80071 27.4725C9.98998 28.736 12.4733 29.4008 15.001 29.4L21.236 18.602L21.232 18.598C20.6022 19.6941 19.6944 20.6049 18.6003 21.2383C17.5062 21.8717 16.2644 22.2055 15.0002 22.2059C13.7359 22.2063 12.4939 21.8733 11.3994 21.2406C10.3049 20.6079 9.39657 19.6977 8.76602 18.602L8.76502 18.601Z" fill="url(#paint2_linear_87_32)"/>
<path d="M14.9998 22.2C16.9094 22.2 18.7407 21.4415 20.091 20.0912C21.4412 18.741 22.1998 16.9096 22.1998 15C22.1998 13.0905 21.4412 11.2591 20.091 9.90888C18.7407 8.55862 16.9094 7.80005 14.9998 7.80005C13.0902 7.80005 11.2589 8.55862 9.90864 9.90888C8.55837 11.2591 7.7998 13.0905 7.7998 15C7.7998 16.9096 8.55837 18.741 9.90864 20.0912C11.2589 21.4415 13.0902 22.2 14.9998 22.2Z" fill="white"/>
<path d="M14.9998 20.7C16.5115 20.7 17.9614 20.0995 19.0303 19.0306C20.0993 17.9616 20.6998 16.5118 20.6998 15C20.6998 13.4883 20.0993 12.0385 19.0303 10.9695C17.9614 9.90058 16.5115 9.30005 14.9998 9.30005C13.4881 9.30005 12.0383 9.90058 10.9693 10.9695C9.90034 12.0385 9.2998 13.4883 9.2998 15C9.2998 16.5118 9.90034 17.9616 10.9693 19.0306C12.0383 20.0995 13.4881 20.7 14.9998 20.7Z" fill="#1A73E8"/>
<defs>
  <linearGradient id="paint0_linear_87_32" x1="3.29381" y1="2.99503" x2="38.0998" y2="2.99503" gradientUnits="userSpaceOnUse">
    <stop stop-color="#D93025"/>
    <stop offset="1" stop-color="#EA4335"/>
  </linearGradient>
  <linearGradient id="paint1_linear_87_32" x1="17.953" y1="29.1431" x2="34.194" y2="-0.298904" gradientUnits="userSpaceOnUse">
    <stop stop-color="#FCC934"/>
    <stop offset="1" stop-color="#FBBC04"/>
  </linearGradient>
  <linearGradient id="paint2_linear_87_32" x1="22.873" y1="28.2" x2="6.63202" y2="-1.24102" gradientUnits="userSpaceOnUse">
    <stop stop-color="#1E8E3E"/>
    <stop offset="1" stop-color="#34A853"/>
  </linearGradient>
</defs>
</svg>`});var yye,wye=m(()=>{le();yye=Le`<svg width="32" height="32" viewBox="0 0 32 32" fill="none">
<path d="M23 11.1962V10.5C23 7.365 18.2712 5 12 5C5.72875 5 1 7.365 1 10.5V15.5C1 18.1112 4.28125 20.1863 9 20.8075V21.5C9 24.635 13.7288 27 20 27C26.2712 27 31 24.635 31 21.5V16.5C31 13.9125 27.8225 11.835 23 11.1962ZM7 18.3587C4.55125 17.675 3 16.5487 3 15.5V13.7413C4.02 14.4637 5.38625 15.0463 7 15.4375V18.3587ZM17 15.4375C18.6138 15.0463 19.98 14.4637 21 13.7413V15.5C21 16.5487 19.4487 17.675 17 18.3587V15.4375ZM15 24.3587C12.5513 23.675 11 22.5487 11 21.5V20.9788C11.3287 20.9913 11.6613 21 12 21C12.485 21 12.9587 20.9837 13.4237 20.9562C13.9403 21.1412 14.4665 21.2981 15 21.4263V24.3587ZM15 18.7812C14.0068 18.928 13.004 19.0011 12 19C10.996 19.0011 9.99324 18.928 9 18.7812V15.8075C9.99472 15.9371 10.9969 16.0014 12 16C13.0031 16.0014 14.0053 15.9371 15 15.8075V18.7812ZM23 24.7812C21.0106 25.0729 18.9894 25.0729 17 24.7812V21.8C17.9944 21.9337 18.9967 22.0005 20 22C21.0031 22.0014 22.0053 21.9371 23 21.8075V24.7812ZM29 21.5C29 22.5487 27.4487 23.675 25 24.3587V21.4375C26.6138 21.0462 27.98 20.4637 29 19.7412V21.5Z" fill="currentColor"/>
</svg>
`});var bye,xye=m(()=>{le();bye=Le` <svg fill="none" viewBox="0 0 13 4">
  <path fill="currentColor" d="M.5 0h12L8.9 3.13a3.76 3.76 0 0 1-4.8 0L.5 0Z" />
</svg>`});var vye,Eye=m(()=>{le();vye=Le`<svg fill="none" viewBox="0 0 40 40">
  <g clip-path="url(#a)">
    <g clip-path="url(#b)">
      <circle cx="20" cy="19.89" r="20" fill="#5865F2" />
      <path
        fill="#fff"
        fill-rule="evenodd"
        d="M25.71 28.15C30.25 28 32 25.02 32 25.02c0-6.61-2.96-11.98-2.96-11.98-2.96-2.22-5.77-2.15-5.77-2.15l-.29.32c3.5 1.07 5.12 2.61 5.12 2.61a16.75 16.75 0 0 0-10.34-1.93l-.35.04a15.43 15.43 0 0 0-5.88 1.9s1.71-1.63 5.4-2.7l-.2-.24s-2.81-.07-5.77 2.15c0 0-2.96 5.37-2.96 11.98 0 0 1.73 2.98 6.27 3.13l1.37-1.7c-2.6-.79-3.6-2.43-3.6-2.43l.58.35.09.06.08.04.02.01.08.05a17.25 17.25 0 0 0 4.52 1.58 14.4 14.4 0 0 0 8.3-.86c.72-.27 1.52-.66 2.37-1.21 0 0-1.03 1.68-3.72 2.44.61.78 1.35 1.67 1.35 1.67Zm-9.55-9.6c-1.17 0-2.1 1.03-2.1 2.28 0 1.25.95 2.28 2.1 2.28 1.17 0 2.1-1.03 2.1-2.28.01-1.25-.93-2.28-2.1-2.28Zm7.5 0c-1.17 0-2.1 1.03-2.1 2.28 0 1.25.95 2.28 2.1 2.28 1.17 0 2.1-1.03 2.1-2.28 0-1.25-.93-2.28-2.1-2.28Z"
        clip-rule="evenodd"
      />
    </g>
  </g>
  <defs>
    <clipPath id="a"><rect width="40" height="40" fill="#fff" rx="20" /></clipPath>
    <clipPath id="b"><path fill="#fff" d="M0 0h40v40H0z" /></clipPath>
  </defs>
</svg>`});var Aye,Cye=m(()=>{le();Aye=Le`<svg
  xmlns="http://www.w3.org/2000/svg"
  fill="none"
  viewBox="0 0 9 12"
>
  <path
    fill="var(--apkt-tokens-theme-textPrimary)"
    d="M4.666.001v4.435l3.748 1.675L4.666.001Zm0 0L.917 6.111l3.749-1.675V.001Zm0 8.984V12l3.75-5.19-3.75 2.176Zm0 3.014V8.985L.917 6.81 4.666 12Zm0-3.712 3.748-2.176-3.748-1.675v3.851Z"
  />
  <path fill="var(--apkt-tokens-theme-textPrimary)" d="m.917 6.111 3.749 2.176v-3.85L.917 6.11Z" />
</svg>`});var Sye,Iye=m(()=>{le();Sye=Le`<svg fill="none" viewBox="0 0 16 16">
  <path
    fill="currentColor"
    d="M4.25 7a.63.63 0 0 0-.63.63v3.97c0 .28-.2.51-.47.54l-.75.07a.93.93 0 0 1-.9-.47A7.51 7.51 0 0 1 5.54.92a7.5 7.5 0 0 1 9.54 4.62c.12.35.06.72-.16 1-.74.97-1.68 1.78-2.6 2.44V4.44a.64.64 0 0 0-.63-.64h-1.06c-.35 0-.63.3-.63.64v5.5c0 .23-.12.42-.32.5l-.52.23V6.05c0-.36-.3-.64-.64-.64H7.45c-.35 0-.64.3-.64.64v4.97c0 .25-.17.46-.4.52a5.8 5.8 0 0 0-.45.11v-4c0-.36-.3-.65-.64-.65H4.25ZM14.07 12.4A7.49 7.49 0 0 1 3.6 14.08c4.09-.58 9.14-2.5 11.87-6.6v.03a7.56 7.56 0 0 1-1.41 4.91Z"
  />
</svg>`});var _ye,Tye=m(()=>{le();_ye=Le`<svg fill="none" viewBox="0 0 40 40">
  <g clip-path="url(#a)">
    <g clip-path="url(#b)">
      <circle cx="20" cy="19.89" r="20" fill="#1877F2" />
      <g clip-path="url(#c)">
        <path
          fill="#fff"
          d="M26 12.38h-2.89c-.92 0-1.61.38-1.61 1.34v1.66H26l-.36 4.5H21.5v12H17v-12h-3v-4.5h3V12.5c0-3.03 1.6-4.62 5.2-4.62H26v4.5Z"
        />
      </g>
    </g>
    <path
      fill="#1877F2"
      d="M40 20a20 20 0 1 0-23.13 19.76V25.78H11.8V20h5.07v-4.4c0-5.02 3-7.79 7.56-7.79 2.19 0 4.48.4 4.48.4v4.91h-2.53c-2.48 0-3.25 1.55-3.25 3.13V20h5.54l-.88 5.78h-4.66v13.98A20 20 0 0 0 40 20Z"
    />
    <path
      fill="#fff"
      d="m27.79 25.78.88-5.78h-5.55v-3.75c0-1.58.78-3.13 3.26-3.13h2.53V8.2s-2.3-.39-4.48-.39c-4.57 0-7.55 2.77-7.55 7.78V20H11.8v5.78h5.07v13.98a20.15 20.15 0 0 0 6.25 0V25.78h4.67Z"
    />
  </g>
  <defs>
    <clipPath id="a"><rect width="40" height="40" fill="#fff" rx="20" /></clipPath>
    <clipPath id="b"><path fill="#fff" d="M0 0h40v40H0z" /></clipPath>
    <clipPath id="c"><path fill="#fff" d="M8 7.89h24v24H8z" /></clipPath>
  </defs>
</svg>`});var Pye,Nye=m(()=>{le();Pye=Le`<svg style="border-radius: 9999px; overflow: hidden;"  fill="none" viewBox="0 0 1000 1000">
  <rect width="1000" height="1000" rx="9999" ry="9999" fill="#855DCD"/>
  <path fill="#855DCD" d="M0 0h1000v1000H0V0Z" />
  <path
    fill="#fff"
    d="M320 248h354v504h-51.96V521.13h-.5c-5.76-63.8-59.31-113.81-124.54-113.81s-118.78 50-124.53 113.81h-.5V752H320V248Z"
  />
  <path
    fill="#fff"
    d="m225 320 21.16 71.46h17.9v289.09a16.29 16.29 0 0 0-16.28 16.24v19.49h-3.25a16.3 16.3 0 0 0-16.28 16.24V752h182.26v-19.48a16.22 16.22 0 0 0-16.28-16.24h-3.25v-19.5a16.22 16.22 0 0 0-16.28-16.23h-19.52V320H225Zm400.3 360.55a16.3 16.3 0 0 0-15.04 10.02 16.2 16.2 0 0 0-1.24 6.22v19.49h-3.25a16.29 16.29 0 0 0-16.27 16.24V752h182.24v-19.48a16.23 16.23 0 0 0-16.27-16.24h-3.25v-19.5a16.2 16.2 0 0 0-10.04-15 16.3 16.3 0 0 0-6.23-1.23v-289.1h17.9L775 320H644.82v360.55H625.3Z"
  />
</svg>`});var Rye,Oye=m(()=>{le();Rye=Le`<svg fill="none" viewBox="0 0 40 40">
  <g clip-path="url(#a)">
    <g clip-path="url(#b)">
      <circle cx="20" cy="19.89" r="20" fill="#1B1F23" />
      <g clip-path="url(#c)">
        <path
          fill="#fff"
          d="M8 19.89a12 12 0 1 1 15.8 11.38c-.6.12-.8-.26-.8-.57v-3.3c0-1.12-.4-1.85-.82-2.22 2.67-.3 5.48-1.31 5.48-5.92 0-1.31-.47-2.38-1.24-3.22.13-.3.54-1.52-.12-3.18 0 0-1-.32-3.3 1.23a11.54 11.54 0 0 0-6 0c-2.3-1.55-3.3-1.23-3.3-1.23a4.32 4.32 0 0 0-.12 3.18 4.64 4.64 0 0 0-1.24 3.22c0 4.6 2.8 5.63 5.47 5.93-.34.3-.65.83-.76 1.6-.69.31-2.42.84-3.5-1 0 0-.63-1.15-1.83-1.23 0 0-1.18-.02-.09.73 0 0 .8.37 1.34 1.76 0 0 .7 2.14 4.03 1.41v2.24c0 .31-.2.68-.8.57A12 12 0 0 1 8 19.9Z"
        />
      </g>
    </g>
  </g>
  <defs>
    <clipPath id="a"><rect width="40" height="40" fill="#fff" rx="20" /></clipPath>
    <clipPath id="b"><path fill="#fff" d="M0 0h40v40H0z" /></clipPath>
    <clipPath id="c"><path fill="#fff" d="M8 7.89h24v24H8z" /></clipPath>
  </defs>
</svg>`});var kye,Bye=m(()=>{le();kye=Le`<svg fill="none" viewBox="0 0 40 40">
  <path
    fill="#4285F4"
    d="M32.74 20.3c0-.93-.08-1.81-.24-2.66H20.26v5.03h7a6 6 0 0 1-2.62 3.91v3.28h4.22c2.46-2.27 3.88-5.6 3.88-9.56Z"
  />
  <path
    fill="#34A853"
    d="M20.26 33a12.4 12.4 0 0 0 8.6-3.14l-4.22-3.28a7.74 7.74 0 0 1-4.38 1.26 7.76 7.76 0 0 1-7.28-5.36H8.65v3.36A12.99 12.99 0 0 0 20.26 33Z"
  />
  <path
    fill="#FBBC05"
    d="M12.98 22.47a7.79 7.79 0 0 1 0-4.94v-3.36H8.65a12.84 12.84 0 0 0 0 11.66l3.37-2.63.96-.73Z"
  />
  <path
    fill="#EA4335"
    d="M20.26 12.18a7.1 7.1 0 0 1 4.98 1.93l3.72-3.72A12.47 12.47 0 0 0 20.26 7c-5.08 0-9.47 2.92-11.6 7.17l4.32 3.36a7.76 7.76 0 0 1 7.28-5.35Z"
  />
</svg>`});var Dye,Uye=m(()=>{le();Dye=Le`<svg width="10" height="10" viewBox="0 0 10 10" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
<path d="M4.875 0C3.91082 0 2.96829 0.285914 2.1666 0.821586C1.36491 1.35726 0.740067 2.11863 0.371089 3.00942C0.00211226 3.90021 -0.094429 4.88041 0.093674 5.82607C0.281777 6.77172 0.746076 7.64036 1.42786 8.32215C2.10964 9.00393 2.97828 9.46823 3.92394 9.65633C4.86959 9.84443 5.84979 9.74789 6.74058 9.37891C7.63137 9.00994 8.39274 8.38509 8.92842 7.5834C9.46409 6.78171 9.75 5.83918 9.75 4.875C9.74864 3.58249 9.23458 2.34331 8.32064 1.42936C7.4067 0.515418 6.16751 0.00136492 4.875 0ZM4.6875 2.25C4.79875 2.25 4.90751 2.28299 5.00001 2.3448C5.09251 2.40661 5.16461 2.49446 5.20718 2.59724C5.24976 2.70002 5.2609 2.81312 5.23919 2.92224C5.21749 3.03135 5.16392 3.13158 5.08525 3.21025C5.00658 3.28891 4.90635 3.34249 4.79724 3.36419C4.68813 3.3859 4.57503 3.37476 4.47224 3.33218C4.36946 3.28961 4.28161 3.21751 4.2198 3.12501C4.15799 3.03251 4.125 2.92375 4.125 2.8125C4.125 2.66332 4.18427 2.52024 4.28975 2.41475C4.39524 2.30926 4.53832 2.25 4.6875 2.25ZM5.25 7.5C5.05109 7.5 4.86032 7.42098 4.71967 7.28033C4.57902 7.13968 4.5 6.94891 4.5 6.75V4.875C4.40055 4.875 4.30516 4.83549 4.23484 4.76516C4.16451 4.69484 4.125 4.59946 4.125 4.5C4.125 4.40054 4.16451 4.30516 4.23484 4.23484C4.30516 4.16451 4.40055 4.125 4.5 4.125C4.69891 4.125 4.88968 4.20402 5.03033 4.34467C5.17098 4.48532 5.25 4.67609 5.25 4.875V6.75C5.34946 6.75 5.44484 6.78951 5.51517 6.85983C5.58549 6.93016 5.625 7.02554 5.625 7.125C5.625 7.22446 5.58549 7.31984 5.51517 7.39017C5.44484 7.46049 5.34946 7.5 5.25 7.5Z" fill="#9A9A9A"/>
</svg>
`});var Lye,Mye=m(()=>{le();Lye=Le`<svg width="32" height="32" viewBox="0 0 32 32" fill="none">
<path d="M28.925 5.5425C28.925 5.5425 28.925 5.555 28.925 5.56125L21.65 29.5537C21.5399 29.9434 21.3132 30.2901 21.0004 30.5473C20.6876 30.8045 20.3036 30.9598 19.9 30.9925C19.8425 30.9975 19.785 31 19.7275 31C19.3493 31.0012 18.9786 30.8941 18.6592 30.6915C18.3398 30.4888 18.085 30.199 17.925 29.8563L13.375 20.5187C13.3295 20.4252 13.3143 20.3197 13.3315 20.2171C13.3488 20.1145 13.3976 20.0198 13.4713 19.9463L20.7113 12.7063C20.8909 12.5172 20.9895 12.2654 20.9862 12.0047C20.9829 11.7439 20.8778 11.4948 20.6934 11.3104C20.509 11.126 20.2599 11.0209 19.9991 11.0176C19.7383 11.0142 19.4866 11.1129 19.2975 11.2925L12.0538 18.5325C11.9802 18.6061 11.8855 18.655 11.7829 18.6722C11.6803 18.6895 11.5748 18.6743 11.4813 18.6287L2.13502 14.08C1.76954 13.9047 1.46598 13.6224 1.26454 13.2706C1.06311 12.9189 0.973316 12.5142 1.00707 12.1102C1.04082 11.7063 1.19652 11.3221 1.45354 11.0087C1.71056 10.6952 2.05676 10.4673 2.44627 10.355L26.4388 3.08H26.4575C26.7991 2.98403 27.1601 2.98066 27.5034 3.07025C27.8468 3.15984 28.1601 3.33916 28.4113 3.58981C28.6624 3.84045 28.8424 4.15341 28.9326 4.49656C29.0229 4.83971 29.0203 5.2007 28.925 5.5425Z" fill="currentColor"/>
</svg>
`});var Hye,$ye=m(()=>{le();Hye=Le` <svg width="27" height="30" viewBox="0 0 27 30" fill="none">
  <path d="M12.5395 14.3237L0.116699 27.5049V27.5188C0.251527 28.0177 0.49972 28.4788 0.841941 28.866C1.18416 29.2533 1.61117 29.5563 2.0897 29.7515C2.56823 29.9467 3.08536 30.0287 3.60081 29.9913C4.11625 29.9538 4.61609 29.7979 5.06139 29.5356L5.0975 29.512L19.0718 21.4519L12.5395 14.3237Z" fill="#EA4335"/>
  <path d="M25.103 12.0833L25.0919 12.0722L19.0611 8.57202L12.2607 14.6279L19.0847 21.4504L25.0919 17.9864C25.6229 17.6983 26.0665 17.2725 26.376 16.7537C26.6854 16.2349 26.8493 15.6422 26.8505 15.0381C26.8516 14.434 26.6899 13.8408 26.3824 13.3208C26.0749 12.8008 25.633 12.3734 25.103 12.0833Z" fill="#FBBC04"/>
  <path d="M0.116672 2.49553C0.047224 2.7761 0 3.05528 0 3.35946V26.6537C0 26.9565 0.0347234 27.237 0.116672 27.5162L12.959 14.6725L0.116672 2.49553Z" fill="#4285F4"/>
  <path d="M12.634 15.0001L19.0607 8.57198L5.0975 0.477133C4.65115 0.210463 4.14916 0.0506574 3.63079 0.0102139C3.11242 -0.0302296 2.59172 0.0497852 2.10941 0.244001C1.6271 0.438216 1.19625 0.741368 0.850556 1.12975C0.504864 1.51813 0.253698 1.98121 0.116699 2.48279L12.634 15.0001Z" fill="#34A853"/>
</svg>`});var Fye,jye=m(()=>{le();Fye=Le`<svg width="75" height="20" viewBox="0 0 75 20" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M11.6666 5.83334C11.6666 2.61168 14.2783 0 17.5 0H25.8334C29.055 0 31.6666 2.61168 31.6666 5.83334V14.1666C31.6666 17.3883 29.055 20 25.8334 20H17.5C14.2783 20 11.6666 17.3883 11.6666 14.1666V5.83334Z" fill="var(--apkt-tokens-theme-foregroundTertiary)"/>
<path d="M19.5068 13.7499L22.4309 5.83331H23.2895L20.3654 13.7499H19.5068Z" fill="var(--apkt-tokens-theme-textPrimary)"/>
<path d="M0 5.41666C0 2.42513 2.42513 0 5.41666 0C8.40821 0 10.8334 2.42513 10.8334 5.41666V14.5833C10.8334 17.5748 8.40821 20 5.41666 20C2.42513 20 0 17.5748 0 14.5833V5.41666Z" fill="var(--apkt-tokens-theme-foregroundTertiary)"/>
<path d="M4.89581 12.4997V11.458H5.93747V12.4997H4.89581Z" fill="var(--apkt-tokens-theme-textPrimary)"/>
<path d="M32.5 10C32.5 4.47715 36.6896 0 41.8578 0H65.6422C70.8104 0 75 4.47715 75 10C75 15.5229 70.8104 20 65.6422 20H41.8578C36.6896 20 32.5 15.5229 32.5 10Z" fill="var(--apkt-tokens-theme-foregroundTertiary)"/>
<path d="M61.7108 12.4475V7.82751H62.5266V8.52418C62.8199 8.01084 63.4157 7.70834 64.0757 7.70834C65.0749 7.70834 65.7715 8.34084 65.7715 9.56918V12.4475H64.9649V9.61503C64.9649 8.80831 64.5066 8.38668 63.8374 8.38668C63.1132 8.38668 62.5266 8.9642 62.5266 9.78001V12.4475H61.7108Z" fill="var(--apkt-tokens-theme-textPrimary)"/>
<path d="M56.5671 12.4475L55.7147 7.82748H56.4846L57.0896 11.6409L57.8871 9.12916H58.6479L59.4363 11.6134L60.0505 7.82748H60.8204L59.9679 12.4475H59.0513L58.2721 10.0458L57.4838 12.4475H56.5671Z" fill="var(--apkt-tokens-theme-textPrimary)"/>
<path d="M52.9636 12.5666C51.5611 12.5666 50.7361 11.5217 50.7361 10.1375C50.7361 8.76254 51.5611 7.70834 52.9636 7.70834C54.3661 7.70834 55.1911 8.76254 55.1911 10.1375C55.1911 11.5217 54.3661 12.5666 52.9636 12.5666ZM52.9636 11.8883C53.9719 11.8883 54.357 11.0266 54.357 10.1283C54.357 9.23914 53.9719 8.38668 52.9636 8.38668C51.9552 8.38668 51.5702 9.23914 51.5702 10.1283C51.5702 11.0266 51.9552 11.8883 52.9636 11.8883Z" fill="var(--apkt-tokens-theme-textPrimary)"/>
<path d="M47.8507 12.5666C46.494 12.5666 45.6415 11.5308 45.6415 10.1375C45.6415 8.75337 46.494 7.70834 47.8507 7.70834C48.9965 7.70834 50.0048 8.35917 49.8948 10.3483H46.4756C46.5398 11.2009 46.934 11.8975 47.8507 11.8975C48.4648 11.8975 48.8681 11.5217 49.0057 11.0908H49.8123C49.684 11.8609 48.9598 12.5666 47.8507 12.5666ZM46.494 9.73416H49.1065C49.0423 8.80831 48.6114 8.37751 47.8507 8.37751C47.0165 8.37751 46.604 8.98254 46.494 9.73416Z" fill="var(--apkt-tokens-theme-textPrimary)"/>
<path d="M41.7284 12.4475V7.82748H42.5625V8.60665C42.8559 8.09332 43.3601 7.82748 43.8825 7.82748H44.9917V8.60665H43.8184C43.0851 8.60665 42.5625 9.08331 42.5625 10.0092V12.4475H41.7284Z" fill="var(--apkt-tokens-theme-textPrimary)"/>
</svg>

`});var zye,Vye=m(()=>{le();zye=Le`
  <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 10 8">
    <path
      fill="var(--apkt-tokens-theme-textPrimary)"
      d="m9.524 6.307-1.51 1.584A.35.35 0 0 1 7.76 8H.604a.178.178 0 0 1-.161-.103.168.168 0 0 1 .033-.186l1.51-1.583a.35.35 0 0 1 .256-.11h7.154c.034 0 .068.01.096.029a.168.168 0 0 1 .032.26Zm-1.51-3.189a.35.35 0 0 0-.255-.109H.604a.178.178 0 0 0-.161.103.168.168 0 0 0 .033.186l1.51 1.583a.35.35 0 0 0 .256.11h7.154a.178.178 0 0 0 .16-.104.168.168 0 0 0-.032-.185l-1.51-1.584ZM.605 1.981H7.76a.357.357 0 0 0 .256-.11L9.525.289a.17.17 0 0 0 .032-.185.173.173 0 0 0-.16-.103H2.241a.357.357 0 0 0-.256.109L.476 1.692a.17.17 0 0 0-.033.185.178.178 0 0 0 .16.103Z"
    />
  </svg>
`});var qye,Wye=m(()=>{le();qye=Le`<svg width="32" height="32" fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">
  <g clip-path="url(#a)">
    <path fill="url(#b)" d="M0 0h32v32H0z"/>
    <path fill-rule="evenodd" clip-rule="evenodd" d="M7.034 15.252c4.975-2.167 8.293-3.596 9.953-4.287 4.74-1.971 5.725-2.314 6.366-2.325.142-.002.457.033.662.198.172.14.22.33.243.463.022.132.05.435.028.671-.257 2.7-1.368 9.248-1.933 12.27-.24 1.28-.71 1.708-1.167 1.75-.99.091-1.743-.655-2.703-1.284-1.502-.985-2.351-1.598-3.81-2.558-1.684-1.11-.592-1.721.368-2.718.252-.261 4.619-4.233 4.703-4.594.01-.045.02-.213-.08-.301-.1-.09-.246-.059-.353-.035-.15.034-2.55 1.62-7.198 4.758-.682.468-1.298.696-1.851.684-.61-.013-1.782-.344-2.653-.628-1.069-.347-1.918-.53-1.845-1.12.039-.308.462-.623 1.27-.944Z" fill="#fff"/>
  </g>
  <path d="M.5 16C.5 7.44 7.44.5 16 .5 24.56.5 31.5 7.44 31.5 16c0 8.56-6.94 15.5-15.5 15.5C7.44 31.5.5 24.56.5 16Z" stroke="#141414" stroke-opacity=".05"/>
  <defs>
    <linearGradient id="b" x1="1600" y1="0" x2="1600" y2="3176.27" gradientUnits="userSpaceOnUse">
      <stop stop-color="#2AABEE"/>
      <stop offset="1" stop-color="#229ED9"/>
    </linearGradient>
    <clipPath id="a">
      <path d="M0 16C0 7.163 7.163 0 16 0s16 7.163 16 16-7.163 16-16 16S0 24.837 0 16Z" fill="#fff"/>
    </clipPath>
  </defs>
</svg>`});var Kye,Zye=m(()=>{le();Kye=Le`
  <svg xmlns="http://www.w3.org/2000/svg" width="10" height="10" viewBox="0 0 10 10">
  <path d="M8.37651 0H1.62309C0.381381 0 -0.405611 1.33944 0.219059 2.42225L4.38701 9.64649C4.659 10.1182 5.3406 10.1182 5.61259 9.64649L9.78139 2.42225C10.4052 1.34117 9.61822 0 8.37736 0H8.37651ZM4.38362 7.48005L3.47591 5.72329L1.2857 1.80606C1.14121 1.55534 1.31968 1.23405 1.62225 1.23405H4.38278V7.4809L4.38362 7.48005ZM8.71221 1.80521L6.52284 5.72414L5.61513 7.48005V1.2332H8.37566C8.67823 1.2332 8.85669 1.55449 8.71221 1.80521Z" fill="var(--apkt-tokens-theme-textPrimary)" />
</svg>
`});var Gye,Yye=m(()=>{le();Gye=Le`<svg fill="none" viewBox="0 0 40 40">
  <g clip-path="url(#a)">
    <g clip-path="url(#b)">
      <circle cx="20" cy="19.89" r="20" fill="#5A3E85" />
      <g clip-path="url(#c)">
        <path
          fill="#fff"
          d="M18.22 25.7 20 23.91h3.34l2.1-2.1v-6.68H15.4v8.78h2.82v1.77Zm3.87-8.16h1.25v3.66H22.1v-3.66Zm-3.34 0H20v3.66h-1.25v-3.66ZM20 7.9a12 12 0 1 0 0 24 12 12 0 0 0 0-24Zm6.69 14.56-3.66 3.66h-2.72l-1.77 1.78h-1.88V26.1H13.3v-9.82l.94-2.4H26.7v8.56Z"
        />
      </g>
    </g>
  </g>
  <defs>
    <clipPath id="a"><rect width="40" height="40" fill="#fff" rx="20" /></clipPath>
    <clipPath id="b"><path fill="#fff" d="M0 0h40v40H0z" /></clipPath>
    <clipPath id="c"><path fill="#fff" d="M8 7.89h24v24H8z" /></clipPath>
  </defs>
</svg>`});var Jye,Qye=m(()=>{le();Jye=Le`<svg fill="none" viewBox="0 0 16 16">
  <path
    fill="currentColor"
    d="m14.36 4.74.01.42c0 4.34-3.3 9.34-9.34 9.34A9.3 9.3 0 0 1 0 13.03a6.6 6.6 0 0 0 4.86-1.36 3.29 3.29 0 0 1-3.07-2.28c.5.1 1 .07 1.48-.06A3.28 3.28 0 0 1 .64 6.11v-.04c.46.26.97.4 1.49.41A3.29 3.29 0 0 1 1.11 2.1a9.32 9.32 0 0 0 6.77 3.43 3.28 3.28 0 0 1 5.6-3 6.59 6.59 0 0 0 2.08-.8 3.3 3.3 0 0 1-1.45 1.82A6.53 6.53 0 0 0 16 3.04c-.44.66-1 1.23-1.64 1.7Z"
  />
</svg>`});var Xye,ewe,twe,rwe,nwe=m(()=>{le();Xye=Le`
<svg xmlns="http://www.w3.org/2000/svg" width="89" height="89" viewBox="0 0 89 89" fill="none">
<path d="M60.0468 39.2502L65.9116 33.3854C52.6562 20.13 36.1858 20.13 22.9304 33.3854L28.7952 39.2502C38.8764 29.169 49.9725 29.169 60.0536 39.2502H60.0468Z" fill="var(--apkt-tokens-theme-textPrimary)"/>
<path d="M58.0927 52.9146L44.415 39.2369L30.7373 52.9146L17.0596 39.2369L11.2017 45.0949L30.7373 64.6374L44.415 50.9597L58.0927 64.6374L77.6284 45.0949L71.7704 39.2369L58.0927 52.9146Z" fill="var(--apkt-tokens-theme-textPrimary)"/>
</svg>`,ewe=Le`
<svg xmlns="http://www.w3.org/2000/svg" width="89" height="89" viewBox="0 0 89 89" fill="none">
<path d="M60.0468 39.2502L65.9116 33.3854C52.6562 20.13 36.1858 20.13 22.9304 33.3854L28.7952 39.2502C38.8764 29.169 49.9725 29.169 60.0536 39.2502H60.0468Z" fill="var(--apkt-tokens-theme-textInvert)"/>
<path d="M58.0927 52.9146L44.415 39.2369L30.7373 52.9146L17.0596 39.2369L11.2017 45.0949L30.7373 64.6374L44.415 50.9597L58.0927 64.6374L77.6284 45.0949L71.7704 39.2369L58.0927 52.9146Z" fill="var(--apkt-tokens-theme-textInvert)"/>
</svg>`,twe=Le`
<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
<g clip-path="url(#clip0_22274_4692)">
<path d="M0 6.64C0 4.17295 0 2.93942 0.525474 2.01817C0.880399 1.39592 1.39592 0.880399 2.01817 0.525474C2.93942 0 4.17295 0 6.64 0H9.36C11.8271 0 13.0606 0 13.9818 0.525474C14.6041 0.880399 15.1196 1.39592 15.4745 2.01817C16 2.93942 16 4.17295 16 6.64V9.36C16 11.8271 16 13.0606 15.4745 13.9818C15.1196 14.6041 14.6041 15.1196 13.9818 15.4745C13.0606 16 11.8271 16 9.36 16H6.64C4.17295 16 2.93942 16 2.01817 15.4745C1.39592 15.1196 0.880399 14.6041 0.525474 13.9818C0 13.0606 0 11.8271 0 9.36V6.64Z" fill="#C7B994"/>
<path d="M4.49038 5.76609C6.42869 3.86833 9.5713 3.86833 11.5096 5.76609L11.7429 5.99449C11.8398 6.08938 11.8398 6.24323 11.7429 6.33811L10.9449 7.11942C10.8964 7.16686 10.8179 7.16686 10.7694 7.11942L10.4484 6.80512C9.09617 5.48119 6.90381 5.48119 5.5516 6.80512L5.20782 7.14171C5.15936 7.18915 5.08079 7.18915 5.03234 7.14171L4.23434 6.3604C4.13742 6.26552 4.13742 6.11167 4.23434 6.01678L4.49038 5.76609ZM13.1599 7.38192L13.8702 8.07729C13.9671 8.17217 13.9671 8.32602 13.8702 8.4209L10.6677 11.5564C10.5708 11.6513 10.4137 11.6513 10.3168 11.5564L8.04388 9.33105C8.01965 9.30733 7.98037 9.30733 7.95614 9.33105L5.6833 11.5564C5.58638 11.6513 5.42925 11.6513 5.33234 11.5564L2.12982 8.42087C2.0329 8.32598 2.0329 8.17213 2.12982 8.07724L2.84004 7.38188C2.93695 7.28699 3.09408 7.28699 3.191 7.38188L5.46392 9.60726C5.48815 9.63098 5.52743 9.63098 5.55166 9.60726L7.82447 7.38188C7.92138 7.28699 8.07851 7.28699 8.17543 7.38187L10.4484 9.60726C10.4726 9.63098 10.5119 9.63098 10.5361 9.60726L12.809 7.38192C12.9059 7.28703 13.063 7.28703 13.1599 7.38192Z" fill="currentColor"/>
</g>
<defs>
<clipPath id="clip0_22274_4692">
<path d="M0 8C0 3.58172 3.58172 0 8 0C12.4183 0 16 3.58172 16 8C16 12.4183 12.4183 16 8 16C3.58172 16 0 12.4183 0 8Z" fill="white"/>
</clipPath>
</defs>
</svg>
`,rwe=Le`
<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<circle cx="11" cy="11" r="11" transform="matrix(-1 0 0 1 23 1)" fill="#202020"/>
<circle cx="11" cy="11" r="11.5" transform="matrix(-1 0 0 1 23 1)" stroke="#C7B994" stroke-opacity="0.7"/>
<path d="M15.4523 11.0686L16.7472 9.78167C13.8205 6.87297 10.1838 6.87297 7.25708 9.78167L8.55201 11.0686C10.7779 8.85645 13.2279 8.85645 15.4538 11.0686H15.4523Z" fill="#C7B994"/>
<path d="M15.0199 14.067L12 11.0656L8.98 14.067L5.96004 11.0656L4.66663 12.3511L8.98 16.6393L12 13.638L15.0199 16.6393L19.3333 12.3511L18.0399 11.0656L15.0199 14.067Z" fill="#C7B994"/>
</svg>
`});var wz,swe=m(()=>{le();wz=Le`<svg fill="none" viewBox="0 0 41 40">
  <g clip-path="url(#a)">
    <path fill="#000" d="M.8 0h40v40H.8z" />
    <path
      fill="#fff"
      d="m22.63 18.46 7.14-8.3h-1.69l-6.2 7.2-4.96-7.2H11.2l7.5 10.9-7.5 8.71h1.7l6.55-7.61 5.23 7.61h5.72l-7.77-11.31Zm-9.13-7.03h2.6l11.98 17.13h-2.6L13.5 11.43Z"
    />
  </g>
  <defs>
    <clipPath id="a"><path fill="#fff" d="M.8 20a20 20 0 1 1 40 0 20 20 0 0 1-40 0Z" /></clipPath>
  </defs>
</svg>`});var owe,iwe=m(()=>{le();owe=Sr`
  :host {
    display: flex;
    justify-content: center;
    align-items: center;
    aspect-ratio: 1 / 1;
    color: var(--local-color);
    width: var(--local-width);
  }

  svg {
    height: inherit;
    width: inherit;
    object-fit: contain;
    object-position: center;
  }
`});var aT,cT,bz,awe,t3,cwe,ge,lwe,xz,Je=m(()=>{aT=globalThis,cT=aT.ShadowRoot&&(aT.ShadyCSS===void 0||aT.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,bz=Symbol(),awe=new WeakMap,t3=class{constructor(t,r,n){if(this._$cssResult$=!0,n!==bz)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=t,this.t=r}get styleSheet(){let t=this.o,r=this.t;if(cT&&t===void 0){let n=r!==void 0&&r.length===1;n&&(t=awe.get(r)),t===void 0&&((this.o=t=new CSSStyleSheet).replaceSync(this.cssText),n&&awe.set(r,t))}return t}toString(){return this.cssText}},cwe=e=>new t3(typeof e=="string"?e:e+"",void 0,bz),ge=(e,...t)=>{let r=e.length===1?e[0]:t.reduce((n,s,o)=>n+(i=>{if(i._$cssResult$===!0)return i.cssText;if(typeof i=="number")return i;throw Error("Value passed to 'css' function must be a 'css' function result: "+i+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(s)+e[o+1],e[0]);return new t3(r,e,bz)},lwe=(e,t)=>{if(cT)e.adoptedStyleSheets=t.map(r=>r instanceof CSSStyleSheet?r:r.styleSheet);else for(let r of t){let n=document.createElement("style"),s=aT.litNonce;s!==void 0&&n.setAttribute("nonce",s),n.textContent=r.cssText,e.appendChild(n)}},xz=cT?e=>e:e=>e instanceof CSSStyleSheet?(t=>{let r="";for(let n of t.cssRules)r+=n.cssText;return cwe(r)})(e):e});var $tt,Ftt,jtt,ztt,Vtt,qtt,u6,uwe,Wtt,dwe,r3,d6,n3,pwe,Ktt,Ztt,uf,fwe,Ge=m(()=>{Je();Je();({is:$tt,defineProperty:Ftt,getOwnPropertyDescriptor:jtt,getOwnPropertyNames:ztt,getOwnPropertySymbols:Vtt,getPrototypeOf:qtt}=Object),u6=globalThis,uwe=u6.trustedTypes,Wtt=uwe?uwe.emptyScript:"",dwe=u6.reactiveElementPolyfillSupport,r3=(e,t)=>e,d6={toAttribute(e,t){switch(t){case Boolean:e=e?Wtt:null;break;case Object:case Array:e=e==null?e:JSON.stringify(e)}return e},fromAttribute(e,t){let r=e;switch(t){case Boolean:r=e!==null;break;case Number:r=e===null?null:Number(e);break;case Object:case Array:try{r=JSON.parse(e)}catch{r=null}}return r}},n3=(e,t)=>!$tt(e,t),pwe={attribute:!0,type:String,converter:d6,reflect:!1,hasChanged:n3};(Ktt=Symbol.metadata)!=null||(Symbol.metadata=Symbol("metadata")),(Ztt=u6.litPropertyMetadata)!=null||(u6.litPropertyMetadata=new WeakMap);uf=class extends HTMLElement{static addInitializer(t){var r;this._$Ei(),((r=this.l)!=null?r:this.l=[]).push(t)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(t,r=pwe){if(r.state&&(r.attribute=!1),this._$Ei(),this.elementProperties.set(t,r),!r.noAccessor){let n=Symbol(),s=this.getPropertyDescriptor(t,n,r);s!==void 0&&Ftt(this.prototype,t,s)}}static getPropertyDescriptor(t,r,n){var s;let{get:o,set:i}=(s=jtt(this.prototype,t))!=null?s:{get(){return this[r]},set(a){this[r]=a}};return{get(){return o?.call(this)},set(a){let c=o?.call(this);i.call(this,a),this.requestUpdate(t,c,n)},configurable:!0,enumerable:!0}}static getPropertyOptions(t){var r;return(r=this.elementProperties.get(t))!=null?r:pwe}static _$Ei(){if(this.hasOwnProperty(r3("elementProperties")))return;let t=qtt(this);t.finalize(),t.l!==void 0&&(this.l=[...t.l]),this.elementProperties=new Map(t.elementProperties)}static finalize(){if(this.hasOwnProperty(r3("finalized")))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(r3("properties"))){let r=this.properties,n=[...ztt(r),...Vtt(r)];for(let s of n)this.createProperty(s,r[s])}let t=this[Symbol.metadata];if(t!==null){let r=litPropertyMetadata.get(t);if(r!==void 0)for(let[n,s]of r)this.elementProperties.set(n,s)}this._$Eh=new Map;for(let[r,n]of this.elementProperties){let s=this._$Eu(r,n);s!==void 0&&this._$Eh.set(s,r)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(t){let r=[];if(Array.isArray(t)){let n=new Set(t.flat(1/0).reverse());for(let s of n)r.unshift(xz(s))}else t!==void 0&&r.push(xz(t));return r}static _$Eu(t,r){let n=r.attribute;return n===!1?void 0:typeof n=="string"?n:typeof t=="string"?t.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){var t;this._$ES=new Promise(r=>this.enableUpdating=r),this._$AL=new Map,this._$E_(),this.requestUpdate(),(t=this.constructor.l)==null||t.forEach(r=>r(this))}addController(t){var r,n;((r=this._$EO)!=null?r:this._$EO=new Set).add(t),this.renderRoot!==void 0&&this.isConnected&&((n=t.hostConnected)==null||n.call(t))}removeController(t){var r;(r=this._$EO)==null||r.delete(t)}_$E_(){let t=new Map,r=this.constructor.elementProperties;for(let n of r.keys())this.hasOwnProperty(n)&&(t.set(n,this[n]),delete this[n]);t.size>0&&(this._$Ep=t)}createRenderRoot(){var t;let r=(t=this.shadowRoot)!=null?t:this.attachShadow(this.constructor.shadowRootOptions);return lwe(r,this.constructor.elementStyles),r}connectedCallback(){var t,r;(t=this.renderRoot)!=null||(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),(r=this._$EO)==null||r.forEach(n=>{var s;return(s=n.hostConnected)==null?void 0:s.call(n)})}enableUpdating(t){}disconnectedCallback(){var t;(t=this._$EO)==null||t.forEach(r=>{var n;return(n=r.hostDisconnected)==null?void 0:n.call(r)})}attributeChangedCallback(t,r,n){this._$AK(t,n)}_$EC(t,r){var n;let s=this.constructor.elementProperties.get(t),o=this.constructor._$Eu(t,s);if(o!==void 0&&s.reflect===!0){let i=(((n=s.converter)==null?void 0:n.toAttribute)!==void 0?s.converter:d6).toAttribute(r,s.type);this._$Em=t,i==null?this.removeAttribute(o):this.setAttribute(o,i),this._$Em=null}}_$AK(t,r){var n;let s=this.constructor,o=s._$Eh.get(t);if(o!==void 0&&this._$Em!==o){let i=s.getPropertyOptions(o),a=typeof i.converter=="function"?{fromAttribute:i.converter}:((n=i.converter)==null?void 0:n.fromAttribute)!==void 0?i.converter:d6;this._$Em=o,this[o]=a.fromAttribute(r,i.type),this._$Em=null}}requestUpdate(t,r,n){var s;if(t!==void 0){if(n!=null||(n=this.constructor.getPropertyOptions(t)),!((s=n.hasChanged)!=null?s:n3)(this[t],r))return;this.P(t,r,n)}this.isUpdatePending===!1&&(this._$ES=this._$ET())}P(t,r,n){var s;this._$AL.has(t)||this._$AL.set(t,r),n.reflect===!0&&this._$Em!==t&&((s=this._$Ej)!=null?s:this._$Ej=new Set).add(t)}async _$ET(){this.isUpdatePending=!0;try{await this._$ES}catch(r){Promise.reject(r)}let t=this.scheduleUpdate();return t!=null&&await t,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){var t,r;if(!this.isUpdatePending)return;if(!this.hasUpdated){if((t=this.renderRoot)!=null||(this.renderRoot=this.createRenderRoot()),this._$Ep){for(let[i,a]of this._$Ep)this[i]=a;this._$Ep=void 0}let o=this.constructor.elementProperties;if(o.size>0)for(let[i,a]of o)a.wrapped!==!0||this._$AL.has(i)||this[i]===void 0||this.P(i,this[i],a)}let n=!1,s=this._$AL;try{n=this.shouldUpdate(s),n?(this.willUpdate(s),(r=this._$EO)==null||r.forEach(o=>{var i;return(i=o.hostUpdate)==null?void 0:i.call(o)}),this.update(s)):this._$EU()}catch(o){throw n=!1,this._$EU(),o}n&&this._$AE(s)}willUpdate(t){}_$AE(t){var r;(r=this._$EO)==null||r.forEach(n=>{var s;return(s=n.hostUpdated)==null?void 0:s.call(n)}),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(t)),this.updated(t)}_$EU(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$ES}shouldUpdate(t){return!0}update(t){this._$Ej&&(this._$Ej=this._$Ej.forEach(r=>this._$EC(r,this[r]))),this._$EU()}updated(t){}firstUpdated(t){}};uf.elementStyles=[],uf.shadowRootOptions={mode:"open"},uf[r3("elementProperties")]=new Map,uf[r3("finalized")]=new Map,dwe?.({ReactiveElement:uf}),((fwe=u6.reactiveElementVersions)!=null?fwe:u6.reactiveElementVersions=[]).push("2.0.4")});function _we(e,t){if(!Array.isArray(e)||!e.hasOwnProperty("raw"))throw Error("invalid template strings array");return hwe!==void 0?hwe.createHTML(t):t}function p6(e,t,r=e,n){var s,o,i;if(t===qg)return t;let a=n!==void 0?(s=r._$Co)==null?void 0:s[n]:r._$Cl,c=i3(t)?void 0:t._$litDirective$;return a?.constructor!==c&&((o=a?._$AO)==null||o.call(a,!1),c===void 0?a=void 0:(a=new c(e),a._$AT(e,r,n)),n!==void 0?((i=r._$Co)!=null?i:r._$Co=[])[n]=a:r._$Cl=a),a!==void 0&&(t=p6(e,a._$AS(e,t.values),a,n)),t}var lT,uT,hwe,Ewe,ym,Awe,Gtt,Vg,o3,i3,Cwe,Ytt,vz,s3,mwe,gwe,jg,ywe,wwe,Swe,Iwe,ye,M,qg,is,bwe,zg,Jtt,a3,Ez,c3,f6,Az,Cz,Sz,Iz,xwe,vwe,Twe,Qe=m(()=>{lT=globalThis,uT=lT.trustedTypes,hwe=uT?uT.createPolicy("lit-html",{createHTML:e=>e}):void 0,Ewe="$lit$",ym=`lit$${Math.random().toFixed(9).slice(2)}$`,Awe="?"+ym,Gtt=`<${Awe}>`,Vg=document,o3=()=>Vg.createComment(""),i3=e=>e===null||typeof e!="object"&&typeof e!="function",Cwe=Array.isArray,Ytt=e=>Cwe(e)||typeof e?.[Symbol.iterator]=="function",vz=`[ 	
\f\r]`,s3=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,mwe=/-->/g,gwe=/>/g,jg=RegExp(`>|${vz}(?:([^\\s"'>=/]+)(${vz}*=${vz}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),ywe=/'/g,wwe=/"/g,Swe=/^(?:script|style|textarea|title)$/i,Iwe=e=>(t,...r)=>({_$litType$:e,strings:t,values:r}),ye=Iwe(1),M=Iwe(2),qg=Symbol.for("lit-noChange"),is=Symbol.for("lit-nothing"),bwe=new WeakMap,zg=Vg.createTreeWalker(Vg,129);Jtt=(e,t)=>{let r=e.length-1,n=[],s,o=t===2?"<svg>":"",i=s3;for(let a=0;a<r;a++){let c=e[a],l,u,d=-1,p=0;for(;p<c.length&&(i.lastIndex=p,u=i.exec(c),u!==null);)p=i.lastIndex,i===s3?u[1]==="!--"?i=mwe:u[1]!==void 0?i=gwe:u[2]!==void 0?(Swe.test(u[2])&&(s=RegExp("</"+u[2],"g")),i=jg):u[3]!==void 0&&(i=jg):i===jg?u[0]===">"?(i=s??s3,d=-1):u[1]===void 0?d=-2:(d=i.lastIndex-u[2].length,l=u[1],i=u[3]===void 0?jg:u[3]==='"'?wwe:ywe):i===wwe||i===ywe?i=jg:i===mwe||i===gwe?i=s3:(i=jg,s=void 0);let f=i===jg&&e[a+1].startsWith("/>")?" ":"";o+=i===s3?c+Gtt:d>=0?(n.push(l),c.slice(0,d)+Ewe+c.slice(d)+ym+f):c+ym+(d===-2?a:f)}return[_we(e,o+(e[r]||"<?>")+(t===2?"</svg>":"")),n]},a3=class e{constructor({strings:t,_$litType$:r},n){let s;this.parts=[];let o=0,i=0,a=t.length-1,c=this.parts,[l,u]=Jtt(t,r);if(this.el=e.createElement(l,n),zg.currentNode=this.el.content,r===2){let d=this.el.content.firstChild;d.replaceWith(...d.childNodes)}for(;(s=zg.nextNode())!==null&&c.length<a;){if(s.nodeType===1){if(s.hasAttributes())for(let d of s.getAttributeNames())if(d.endsWith(Ewe)){let p=u[i++],f=s.getAttribute(d).split(ym),h=/([.?@])?(.*)/.exec(p);c.push({type:1,index:o,name:h[2],strings:f,ctor:h[1]==="."?Az:h[1]==="?"?Cz:h[1]==="@"?Sz:f6}),s.removeAttribute(d)}else d.startsWith(ym)&&(c.push({type:6,index:o}),s.removeAttribute(d));if(Swe.test(s.tagName)){let d=s.textContent.split(ym),p=d.length-1;if(p>0){s.textContent=uT?uT.emptyScript:"";for(let f=0;f<p;f++)s.append(d[f],o3()),zg.nextNode(),c.push({type:2,index:++o});s.append(d[p],o3())}}}else if(s.nodeType===8)if(s.data===Awe)c.push({type:2,index:o});else{let d=-1;for(;(d=s.data.indexOf(ym,d+1))!==-1;)c.push({type:7,index:o}),d+=ym.length-1}o++}}static createElement(t,r){let n=Vg.createElement("template");return n.innerHTML=t,n}};Ez=class{constructor(t,r){this._$AV=[],this._$AN=void 0,this._$AD=t,this._$AM=r}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(t){var r;let{el:{content:n},parts:s}=this._$AD,o=((r=t?.creationScope)!=null?r:Vg).importNode(n,!0);zg.currentNode=o;let i=zg.nextNode(),a=0,c=0,l=s[0];for(;l!==void 0;){if(a===l.index){let u;l.type===2?u=new c3(i,i.nextSibling,this,t):l.type===1?u=new l.ctor(i,l.name,l.strings,this,t):l.type===6&&(u=new Iz(i,this,t)),this._$AV.push(u),l=s[++c]}a!==l?.index&&(i=zg.nextNode(),a++)}return zg.currentNode=Vg,o}p(t){let r=0;for(let n of this._$AV)n!==void 0&&(n.strings!==void 0?(n._$AI(t,n,r),r+=n.strings.length-2):n._$AI(t[r])),r++}},c3=class e{get _$AU(){var t,r;return(r=(t=this._$AM)==null?void 0:t._$AU)!=null?r:this._$Cv}constructor(t,r,n,s){var o;this.type=2,this._$AH=is,this._$AN=void 0,this._$AA=t,this._$AB=r,this._$AM=n,this.options=s,this._$Cv=(o=s?.isConnected)!=null?o:!0}get parentNode(){let t=this._$AA.parentNode,r=this._$AM;return r!==void 0&&t?.nodeType===11&&(t=r.parentNode),t}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(t,r=this){t=p6(this,t,r),i3(t)?t===is||t==null||t===""?(this._$AH!==is&&this._$AR(),this._$AH=is):t!==this._$AH&&t!==qg&&this._(t):t._$litType$!==void 0?this.$(t):t.nodeType!==void 0?this.T(t):Ytt(t)?this.k(t):this._(t)}S(t){return this._$AA.parentNode.insertBefore(t,this._$AB)}T(t){this._$AH!==t&&(this._$AR(),this._$AH=this.S(t))}_(t){this._$AH!==is&&i3(this._$AH)?this._$AA.nextSibling.data=t:this.T(Vg.createTextNode(t)),this._$AH=t}$(t){var r;let{values:n,_$litType$:s}=t,o=typeof s=="number"?this._$AC(t):(s.el===void 0&&(s.el=a3.createElement(_we(s.h,s.h[0]),this.options)),s);if(((r=this._$AH)==null?void 0:r._$AD)===o)this._$AH.p(n);else{let i=new Ez(o,this),a=i.u(this.options);i.p(n),this.T(a),this._$AH=i}}_$AC(t){let r=bwe.get(t.strings);return r===void 0&&bwe.set(t.strings,r=new a3(t)),r}k(t){Cwe(this._$AH)||(this._$AH=[],this._$AR());let r=this._$AH,n,s=0;for(let o of t)s===r.length?r.push(n=new e(this.S(o3()),this.S(o3()),this,this.options)):n=r[s],n._$AI(o),s++;s<r.length&&(this._$AR(n&&n._$AB.nextSibling,s),r.length=s)}_$AR(t=this._$AA.nextSibling,r){var n;for((n=this._$AP)==null?void 0:n.call(this,!1,!0,r);t&&t!==this._$AB;){let s=t.nextSibling;t.remove(),t=s}}setConnected(t){var r;this._$AM===void 0&&(this._$Cv=t,(r=this._$AP)==null||r.call(this,t))}},f6=class{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(t,r,n,s,o){this.type=1,this._$AH=is,this._$AN=void 0,this.element=t,this.name=r,this._$AM=s,this.options=o,n.length>2||n[0]!==""||n[1]!==""?(this._$AH=Array(n.length-1).fill(new String),this.strings=n):this._$AH=is}_$AI(t,r=this,n,s){let o=this.strings,i=!1;if(o===void 0)t=p6(this,t,r,0),i=!i3(t)||t!==this._$AH&&t!==qg,i&&(this._$AH=t);else{let a=t,c,l;for(t=o[0],c=0;c<o.length-1;c++)l=p6(this,a[n+c],r,c),l===qg&&(l=this._$AH[c]),i||(i=!i3(l)||l!==this._$AH[c]),l===is?t=is:t!==is&&(t+=(l??"")+o[c+1]),this._$AH[c]=l}i&&!s&&this.j(t)}j(t){t===is?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,t??"")}},Az=class extends f6{constructor(){super(...arguments),this.type=3}j(t){this.element[this.name]=t===is?void 0:t}},Cz=class extends f6{constructor(){super(...arguments),this.type=4}j(t){this.element.toggleAttribute(this.name,!!t&&t!==is)}},Sz=class extends f6{constructor(t,r,n,s,o){super(t,r,n,s,o),this.type=5}_$AI(t,r=this){var n;if((t=(n=p6(this,t,r,0))!=null?n:is)===qg)return;let s=this._$AH,o=t===is&&s!==is||t.capture!==s.capture||t.once!==s.once||t.passive!==s.passive,i=t!==is&&(s===is||o);o&&this.element.removeEventListener(this.name,this,s),i&&this.element.addEventListener(this.name,this,t),this._$AH=t}handleEvent(t){var r,n;typeof this._$AH=="function"?this._$AH.call((n=(r=this.options)==null?void 0:r.host)!=null?n:this.element,t):this._$AH.handleEvent(t)}},Iz=class{constructor(t,r,n){this.element=t,this.type=6,this._$AN=void 0,this._$AM=r,this.options=n}get _$AU(){return this._$AM._$AU}_$AI(t){p6(this,t)}},xwe=lT.litHtmlPolyfillSupport;xwe?.(a3,c3),((vwe=lT.litHtmlVersions)!=null?vwe:lT.litHtmlVersions=[]).push("3.1.4");Twe=(e,t,r)=>{var n,s;let o=(n=r?.renderBefore)!=null?n:t,i=o._$litPart$;if(i===void 0){let a=(s=r?.renderBefore)!=null?s:null;o._$litPart$=i=new c3(t.insertBefore(o3(),a),a,void 0,r??{})}return i._$AI(e),i}});var he,Pwe,Nwe,Rwe,tt=m(()=>{Ge();Ge();Qe();Qe();he=class extends uf{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){var t,r;let n=super.createRenderRoot();return(r=(t=this.renderOptions).renderBefore)!=null||(t.renderBefore=n.firstChild),n}update(t){let r=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(t),this._$Do=Twe(r,this.renderRoot,this.renderOptions)}connectedCallback(){var t;super.connectedCallback(),(t=this._$Do)==null||t.setConnected(!0)}disconnectedCallback(){var t;super.disconnectedCallback(),(t=this._$Do)==null||t.setConnected(!1)}render(){return qg}};he._$litElement$=!0,he.finalized=!0,(Pwe=globalThis.litElementHydrateSupport)==null||Pwe.call(globalThis,{LitElement:he});Nwe=globalThis.litElementPolyfillSupport;Nwe?.({LitElement:he});((Rwe=globalThis.litElementVersions)!=null?Rwe:globalThis.litElementVersions=[]).push("4.0.6")});var we,rt=m(()=>{we=e=>(t,r)=>{r!==void 0?r.addInitializer(()=>{customElements.define(e,t)}):customElements.define(e,t)}});function z(e){return(t,r)=>typeof r=="object"?irt(e,t,r):((n,s,o)=>{let i=s.hasOwnProperty(o);return s.constructor.createProperty(o,i?srt(nrt({},n),{wrapped:!0}):n),i?Object.getOwnPropertyDescriptor(s,o):void 0})(e,t,r)}var Qtt,Xtt,ert,Owe,trt,rrt,kwe,nrt,srt,ort,irt,nt=m(()=>{Ge();Qtt=Object.defineProperty,Xtt=Object.defineProperties,ert=Object.getOwnPropertyDescriptors,Owe=Object.getOwnPropertySymbols,trt=Object.prototype.hasOwnProperty,rrt=Object.prototype.propertyIsEnumerable,kwe=(e,t,r)=>t in e?Qtt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,nrt=(e,t)=>{for(var r in t||(t={}))trt.call(t,r)&&kwe(e,r,t[r]);if(Owe)for(var r of Owe(t))rrt.call(t,r)&&kwe(e,r,t[r]);return e},srt=(e,t)=>Xtt(e,ert(t));ort={attribute:!0,type:String,converter:d6,reflect:!1,hasChanged:n3},irt=(e=ort,t,r)=>{let{kind:n,metadata:s}=r,o=globalThis.litPropertyMetadata.get(s);if(o===void 0&&globalThis.litPropertyMetadata.set(s,o=new Map),o.set(r.name,e),n==="accessor"){let{name:i}=r;return{set(a){let c=t.get.call(this);t.set.call(this,a),this.requestUpdate(i,c,e)},init(a){return a!==void 0&&this.P(i,void 0,e),a}}}if(n==="setter"){let{name:i}=r;return function(a){let c=this[i];t.call(this,a),this.requestUpdate(i,c,e)}}throw Error("Unsupported decorator location: "+n)}});var Bwe={};Se(Bwe,{PhArrowCircleDown:()=>Tu});var art,crt,l3,Tu,Dwe=m(()=>{Ge();Qe();tt();rt();nt();Je();art=Object.defineProperty,crt=Object.getOwnPropertyDescriptor,l3=(e,t,r,n)=>{for(var s=n>1?void 0:n?crt(t,r):t,o=e.length-1,i;o>=0;o--)(i=e[o])&&(s=(n?i(t,r,s):i(s))||s);return n&&s&&art(t,r,s),s},Tu=class extends he{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return ye`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${Tu.weightsMap.get((e=this.weight)!=null?e:"regular")}
    </svg>`}};Tu.weightsMap=new Map([["thin",M`<path d="M128,28A100,100,0,1,0,228,128,100.11,100.11,0,0,0,128,28Zm0,192a92,92,0,1,1,92-92A92.1,92.1,0,0,1,128,220Zm34.83-86.83a4,4,0,0,1,0,5.66l-32,32a4,4,0,0,1-5.66,0l-32-32a4,4,0,0,1,5.66-5.66L124,158.34V88a4,4,0,0,1,8,0v70.34l25.17-25.17A4,4,0,0,1,162.83,133.17Z"/>`],["light",M`<path d="M128,26A102,102,0,1,0,230,128,102.12,102.12,0,0,0,128,26Zm0,192a90,90,0,1,1,90-90A90.1,90.1,0,0,1,128,218Zm36.24-86.24a6,6,0,0,1,0,8.48l-32,32a6,6,0,0,1-8.48,0l-32-32a6,6,0,0,1,8.48-8.48L122,153.51V88a6,6,0,0,1,12,0v65.51l21.76-21.75A6,6,0,0,1,164.24,131.76Z"/>`],["regular",M`<path d="M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm0,192a88,88,0,1,1,88-88A88.1,88.1,0,0,1,128,216Zm37.66-85.66a8,8,0,0,1,0,11.32l-32,32a8,8,0,0,1-11.32,0l-32-32a8,8,0,0,1,11.32-11.32L120,148.69V88a8,8,0,0,1,16,0v60.69l18.34-18.35A8,8,0,0,1,165.66,130.34Z"/>`],["bold",M`<path d="M128,20A108,108,0,1,0,236,128,108.12,108.12,0,0,0,128,20Zm0,192a84,84,0,1,1,84-84A84.09,84.09,0,0,1,128,212Zm40.49-84.49a12,12,0,0,1,0,17l-32,32a12,12,0,0,1-17,0l-32-32a12,12,0,1,1,17-17L116,139V88a12,12,0,0,1,24,0v51l11.51-11.52A12,12,0,0,1,168.49,127.51Z"/>`],["fill",M`<path d="M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm37.66,117.66-32,32a8,8,0,0,1-11.32,0l-32-32a8,8,0,0,1,11.32-11.32L120,148.69V88a8,8,0,0,1,16,0v60.69l18.34-18.35a8,8,0,0,1,11.32,11.32Z"/>`],["duotone",M`<path d="M224,128a96,96,0,1,1-96-96A96,96,0,0,1,224,128Z" opacity="0.2"/><path d="M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm0,192a88,88,0,1,1,88-88A88.1,88.1,0,0,1,128,216Zm37.66-85.66a8,8,0,0,1,0,11.32l-32,32a8,8,0,0,1-11.32,0l-32-32a8,8,0,0,1,11.32-11.32L120,148.69V88a8,8,0,0,1,16,0v60.69l18.34-18.35A8,8,0,0,1,165.66,130.34Z"/>`]]);Tu.styles=ge`
    :host {
      display: contents;
    }
  `;l3([z({type:String,reflect:!0})],Tu.prototype,"size",2);l3([z({type:String,reflect:!0})],Tu.prototype,"weight",2);l3([z({type:String,reflect:!0})],Tu.prototype,"color",2);l3([z({type:Boolean,reflect:!0})],Tu.prototype,"mirrored",2);Tu=l3([we("ph-arrow-circle-down")],Tu)});var Uwe={};Se(Uwe,{PhArrowClockwise:()=>Pu});var lrt,urt,u3,Pu,Lwe=m(()=>{Ge();Qe();tt();rt();nt();Je();lrt=Object.defineProperty,urt=Object.getOwnPropertyDescriptor,u3=(e,t,r,n)=>{for(var s=n>1?void 0:n?urt(t,r):t,o=e.length-1,i;o>=0;o--)(i=e[o])&&(s=(n?i(t,r,s):i(s))||s);return n&&s&&lrt(t,r,s),s},Pu=class extends he{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return ye`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${Pu.weightsMap.get((e=this.weight)!=null?e:"regular")}
    </svg>`}};Pu.weightsMap=new Map([["thin",M`<path d="M236,56v48a4,4,0,0,1-4,4H184a4,4,0,0,1,0-8h37.7L187.53,68.69l-.13-.12a84,84,0,1,0-1.75,120.51,4,4,0,0,1,5.5,5.82A91.43,91.43,0,0,1,128,220h-1.26A92,92,0,1,1,193,62.84l35,32.05V56a4,4,0,1,1,8,0Z"/>`],["light",M`<path d="M238,56v48a6,6,0,0,1-6,6H184a6,6,0,0,1,0-12h32.55l-30.38-27.8c-.06-.06-.12-.13-.19-.19a82,82,0,1,0-1.7,117.65,6,6,0,0,1,8.24,8.73A93.46,93.46,0,0,1,128,222h-1.28A94,94,0,1,1,194.37,61.4L226,90.35V56a6,6,0,1,1,12,0Z"/>`],["regular",M`<path d="M240,56v48a8,8,0,0,1-8,8H184a8,8,0,0,1,0-16H211.4L184.81,71.64l-.25-.24a80,80,0,1,0-1.67,114.78,8,8,0,0,1,11,11.63A95.44,95.44,0,0,1,128,224h-1.32A96,96,0,1,1,195.75,60L224,85.8V56a8,8,0,1,1,16,0Z"/>`],["bold",M`<path d="M244,56v48a12,12,0,0,1-12,12H184a12,12,0,1,1,0-24H201.1l-19-17.38c-.13-.12-.26-.24-.38-.37A76,76,0,1,0,127,204h1a75.53,75.53,0,0,0,52.15-20.72,12,12,0,0,1,16.49,17.45A99.45,99.45,0,0,1,128,228h-1.37A100,100,0,1,1,198.51,57.06L220,76.72V56a12,12,0,0,1,24,0Z"/>`],["fill",M`<path d="M240,56v48a8,8,0,0,1-8,8H184a8,8,0,0,1-5.66-13.66l17-17-10.55-9.65-.25-.24a80,80,0,1,0-1.67,114.78,8,8,0,1,1,11,11.63A95.44,95.44,0,0,1,128,224h-1.32A96,96,0,1,1,195.75,60l10.93,10L226.34,50.3A8,8,0,0,1,240,56Z"/>`],["duotone",M`<path d="M216,128a88,88,0,1,1-88-88A88,88,0,0,1,216,128Z" opacity="0.2"/><path d="M240,56v48a8,8,0,0,1-8,8H184a8,8,0,0,1,0-16H211.4L184.81,71.64l-.25-.24a80,80,0,1,0-1.67,114.78,8,8,0,0,1,11,11.63A95.44,95.44,0,0,1,128,224h-1.32A96,96,0,1,1,195.75,60L224,85.8V56a8,8,0,1,1,16,0Z"/>`]]);Pu.styles=ge`
    :host {
      display: contents;
    }
  `;u3([z({type:String,reflect:!0})],Pu.prototype,"size",2);u3([z({type:String,reflect:!0})],Pu.prototype,"weight",2);u3([z({type:String,reflect:!0})],Pu.prototype,"color",2);u3([z({type:Boolean,reflect:!0})],Pu.prototype,"mirrored",2);Pu=u3([we("ph-arrow-clockwise")],Pu)});var Mwe={};Se(Mwe,{PhArrowDown:()=>Nu});var drt,prt,d3,Nu,Hwe=m(()=>{Ge();Qe();tt();rt();nt();Je();drt=Object.defineProperty,prt=Object.getOwnPropertyDescriptor,d3=(e,t,r,n)=>{for(var s=n>1?void 0:n?prt(t,r):t,o=e.length-1,i;o>=0;o--)(i=e[o])&&(s=(n?i(t,r,s):i(s))||s);return n&&s&&drt(t,r,s),s},Nu=class extends he{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return ye`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${Nu.weightsMap.get((e=this.weight)!=null?e:"regular")}
    </svg>`}};Nu.weightsMap=new Map([["thin",M`<path d="M202.83,146.83l-72,72a4,4,0,0,1-5.66,0l-72-72a4,4,0,0,1,5.66-5.66L124,206.34V40a4,4,0,0,1,8,0V206.34l65.17-65.17a4,4,0,0,1,5.66,5.66Z"/>`],["light",M`<path d="M204.24,148.24l-72,72a6,6,0,0,1-8.48,0l-72-72a6,6,0,0,1,8.48-8.48L122,201.51V40a6,6,0,0,1,12,0V201.51l61.76-61.75a6,6,0,0,1,8.48,8.48Z"/>`],["regular",M`<path d="M205.66,149.66l-72,72a8,8,0,0,1-11.32,0l-72-72a8,8,0,0,1,11.32-11.32L120,196.69V40a8,8,0,0,1,16,0V196.69l58.34-58.35a8,8,0,0,1,11.32,11.32Z"/>`],["bold",M`<path d="M208.49,152.49l-72,72a12,12,0,0,1-17,0l-72-72a12,12,0,0,1,17-17L116,187V40a12,12,0,0,1,24,0V187l51.51-51.52a12,12,0,0,1,17,17Z"/>`],["fill",M`<path d="M205.66,149.66l-72,72a8,8,0,0,1-11.32,0l-72-72A8,8,0,0,1,56,136h64V40a8,8,0,0,1,16,0v96h64a8,8,0,0,1,5.66,13.66Z"/>`],["duotone",M`<path d="M200,144l-72,72L56,144Z" opacity="0.2"/><path d="M207.39,140.94A8,8,0,0,0,200,136H136V40a8,8,0,0,0-16,0v96H56a8,8,0,0,0-5.66,13.66l72,72a8,8,0,0,0,11.32,0l72-72A8,8,0,0,0,207.39,140.94ZM128,204.69,75.31,152H180.69Z"/>`]]);Nu.styles=ge`
    :host {
      display: contents;
    }
  `;d3([z({type:String,reflect:!0})],Nu.prototype,"size",2);d3([z({type:String,reflect:!0})],Nu.prototype,"weight",2);d3([z({type:String,reflect:!0})],Nu.prototype,"color",2);d3([z({type:Boolean,reflect:!0})],Nu.prototype,"mirrored",2);Nu=d3([we("ph-arrow-down")],Nu)});var $we={};Se($we,{PhArrowLeft:()=>Ru});var frt,hrt,p3,Ru,Fwe=m(()=>{Ge();Qe();tt();rt();nt();Je();frt=Object.defineProperty,hrt=Object.getOwnPropertyDescriptor,p3=(e,t,r,n)=>{for(var s=n>1?void 0:n?hrt(t,r):t,o=e.length-1,i;o>=0;o--)(i=e[o])&&(s=(n?i(t,r,s):i(s))||s);return n&&s&&frt(t,r,s),s},Ru=class extends he{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return ye`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${Ru.weightsMap.get((e=this.weight)!=null?e:"regular")}
    </svg>`}};Ru.weightsMap=new Map([["thin",M`<path d="M220,128a4,4,0,0,1-4,4H49.66l65.17,65.17a4,4,0,0,1-5.66,5.66l-72-72a4,4,0,0,1,0-5.66l72-72a4,4,0,0,1,5.66,5.66L49.66,124H216A4,4,0,0,1,220,128Z"/>`],["light",M`<path d="M222,128a6,6,0,0,1-6,6H54.49l61.75,61.76a6,6,0,1,1-8.48,8.48l-72-72a6,6,0,0,1,0-8.48l72-72a6,6,0,0,1,8.48,8.48L54.49,122H216A6,6,0,0,1,222,128Z"/>`],["regular",M`<path d="M224,128a8,8,0,0,1-8,8H59.31l58.35,58.34a8,8,0,0,1-11.32,11.32l-72-72a8,8,0,0,1,0-11.32l72-72a8,8,0,0,1,11.32,11.32L59.31,120H216A8,8,0,0,1,224,128Z"/>`],["bold",M`<path d="M228,128a12,12,0,0,1-12,12H69l51.52,51.51a12,12,0,0,1-17,17l-72-72a12,12,0,0,1,0-17l72-72a12,12,0,0,1,17,17L69,116H216A12,12,0,0,1,228,128Z"/>`],["fill",M`<path d="M224,128a8,8,0,0,1-8,8H120v64a8,8,0,0,1-13.66,5.66l-72-72a8,8,0,0,1,0-11.32l72-72A8,8,0,0,1,120,56v64h96A8,8,0,0,1,224,128Z"/>`],["duotone",M`<path d="M112,56V200L40,128Z" opacity="0.2"/><path d="M216,120H120V56a8,8,0,0,0-13.66-5.66l-72,72a8,8,0,0,0,0,11.32l72,72A8,8,0,0,0,120,200V136h96a8,8,0,0,0,0-16ZM104,180.69,51.31,128,104,75.31Z"/>`]]);Ru.styles=ge`
    :host {
      display: contents;
    }
  `;p3([z({type:String,reflect:!0})],Ru.prototype,"size",2);p3([z({type:String,reflect:!0})],Ru.prototype,"weight",2);p3([z({type:String,reflect:!0})],Ru.prototype,"color",2);p3([z({type:Boolean,reflect:!0})],Ru.prototype,"mirrored",2);Ru=p3([we("ph-arrow-left")],Ru)});var jwe={};Se(jwe,{PhArrowRight:()=>Ou});var mrt,grt,f3,Ou,zwe=m(()=>{Ge();Qe();tt();rt();nt();Je();mrt=Object.defineProperty,grt=Object.getOwnPropertyDescriptor,f3=(e,t,r,n)=>{for(var s=n>1?void 0:n?grt(t,r):t,o=e.length-1,i;o>=0;o--)(i=e[o])&&(s=(n?i(t,r,s):i(s))||s);return n&&s&&mrt(t,r,s),s},Ou=class extends he{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return ye`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${Ou.weightsMap.get((e=this.weight)!=null?e:"regular")}
    </svg>`}};Ou.weightsMap=new Map([["thin",M`<path d="M218.83,130.83l-72,72a4,4,0,0,1-5.66-5.66L206.34,132H40a4,4,0,0,1,0-8H206.34L141.17,58.83a4,4,0,0,1,5.66-5.66l72,72A4,4,0,0,1,218.83,130.83Z"/>`],["light",M`<path d="M220.24,132.24l-72,72a6,6,0,0,1-8.48-8.48L201.51,134H40a6,6,0,0,1,0-12H201.51L139.76,60.24a6,6,0,0,1,8.48-8.48l72,72A6,6,0,0,1,220.24,132.24Z"/>`],["regular",M`<path d="M221.66,133.66l-72,72a8,8,0,0,1-11.32-11.32L196.69,136H40a8,8,0,0,1,0-16H196.69L138.34,61.66a8,8,0,0,1,11.32-11.32l72,72A8,8,0,0,1,221.66,133.66Z"/>`],["bold",M`<path d="M224.49,136.49l-72,72a12,12,0,0,1-17-17L187,140H40a12,12,0,0,1,0-24H187L135.51,64.48a12,12,0,0,1,17-17l72,72A12,12,0,0,1,224.49,136.49Z"/>`],["fill",M`<path d="M221.66,133.66l-72,72A8,8,0,0,1,136,200V136H40a8,8,0,0,1,0-16h96V56a8,8,0,0,1,13.66-5.66l72,72A8,8,0,0,1,221.66,133.66Z"/>`],["duotone",M`<path d="M216,128l-72,72V56Z" opacity="0.2"/><path d="M221.66,122.34l-72-72A8,8,0,0,0,136,56v64H40a8,8,0,0,0,0,16h96v64a8,8,0,0,0,13.66,5.66l72-72A8,8,0,0,0,221.66,122.34ZM152,180.69V75.31L204.69,128Z"/>`]]);Ou.styles=ge`
    :host {
      display: contents;
    }
  `;f3([z({type:String,reflect:!0})],Ou.prototype,"size",2);f3([z({type:String,reflect:!0})],Ou.prototype,"weight",2);f3([z({type:String,reflect:!0})],Ou.prototype,"color",2);f3([z({type:Boolean,reflect:!0})],Ou.prototype,"mirrored",2);Ou=f3([we("ph-arrow-right")],Ou)});var Vwe={};Se(Vwe,{PhArrowSquareOut:()=>ku});var yrt,wrt,h3,ku,qwe=m(()=>{Ge();Qe();tt();rt();nt();Je();yrt=Object.defineProperty,wrt=Object.getOwnPropertyDescriptor,h3=(e,t,r,n)=>{for(var s=n>1?void 0:n?wrt(t,r):t,o=e.length-1,i;o>=0;o--)(i=e[o])&&(s=(n?i(t,r,s):i(s))||s);return n&&s&&yrt(t,r,s),s},ku=class extends he{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return ye`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${ku.weightsMap.get((e=this.weight)!=null?e:"regular")}
    </svg>`}};ku.weightsMap=new Map([["thin",M`<path d="M220,104a4,4,0,0,1-8,0V49.66l-73.16,73.17a4,4,0,0,1-5.66-5.66L206.34,44H152a4,4,0,0,1,0-8h64a4,4,0,0,1,4,4Zm-36,28a4,4,0,0,0-4,4v72a4,4,0,0,1-4,4H48a4,4,0,0,1-4-4V80a4,4,0,0,1,4-4h72a4,4,0,0,0,0-8H48A12,12,0,0,0,36,80V208a12,12,0,0,0,12,12H176a12,12,0,0,0,12-12V136A4,4,0,0,0,184,132Z"/>`],["light",M`<path d="M222,104a6,6,0,0,1-12,0V54.49l-69.75,69.75a6,6,0,0,1-8.48-8.48L201.51,46H152a6,6,0,0,1,0-12h64a6,6,0,0,1,6,6Zm-38,26a6,6,0,0,0-6,6v72a2,2,0,0,1-2,2H48a2,2,0,0,1-2-2V80a2,2,0,0,1,2-2h72a6,6,0,0,0,0-12H48A14,14,0,0,0,34,80V208a14,14,0,0,0,14,14H176a14,14,0,0,0,14-14V136A6,6,0,0,0,184,130Z"/>`],["regular",M`<path d="M224,104a8,8,0,0,1-16,0V59.32l-66.33,66.34a8,8,0,0,1-11.32-11.32L196.68,48H152a8,8,0,0,1,0-16h64a8,8,0,0,1,8,8Zm-40,24a8,8,0,0,0-8,8v72H48V80h72a8,8,0,0,0,0-16H48A16,16,0,0,0,32,80V208a16,16,0,0,0,16,16H176a16,16,0,0,0,16-16V136A8,8,0,0,0,184,128Z"/>`],["bold",M`<path d="M228,104a12,12,0,0,1-24,0V69l-59.51,59.51a12,12,0,0,1-17-17L187,52H152a12,12,0,0,1,0-24h64a12,12,0,0,1,12,12Zm-44,24a12,12,0,0,0-12,12v64H52V84h64a12,12,0,0,0,0-24H48A20,20,0,0,0,28,80V208a20,20,0,0,0,20,20H176a20,20,0,0,0,20-20V140A12,12,0,0,0,184,128Z"/>`],["fill",M`<path d="M192,136v72a16,16,0,0,1-16,16H48a16,16,0,0,1-16-16V80A16,16,0,0,1,48,64h72a8,8,0,0,1,0,16H48V208H176V136a8,8,0,0,1,16,0Zm32-96a8,8,0,0,0-8-8H152a8,8,0,0,0-5.66,13.66L172.69,72l-42.35,42.34a8,8,0,0,0,11.32,11.32L184,83.31l26.34,26.35A8,8,0,0,0,224,104Z"/>`],["duotone",M`<path d="M184,80V208a8,8,0,0,1-8,8H48a8,8,0,0,1-8-8V80a8,8,0,0,1,8-8H176A8,8,0,0,1,184,80Z" opacity="0.2"/><path d="M224,104a8,8,0,0,1-16,0V59.32l-66.33,66.34a8,8,0,0,1-11.32-11.32L196.68,48H152a8,8,0,0,1,0-16h64a8,8,0,0,1,8,8Zm-40,24a8,8,0,0,0-8,8v72H48V80h72a8,8,0,0,0,0-16H48A16,16,0,0,0,32,80V208a16,16,0,0,0,16,16H176a16,16,0,0,0,16-16V136A8,8,0,0,0,184,128Z"/>`]]);ku.styles=ge`
    :host {
      display: contents;
    }
  `;h3([z({type:String,reflect:!0})],ku.prototype,"size",2);h3([z({type:String,reflect:!0})],ku.prototype,"weight",2);h3([z({type:String,reflect:!0})],ku.prototype,"color",2);h3([z({type:Boolean,reflect:!0})],ku.prototype,"mirrored",2);ku=h3([we("ph-arrow-square-out")],ku)});var Wwe={};Se(Wwe,{PhArrowsDownUp:()=>Bu});var brt,xrt,m3,Bu,Kwe=m(()=>{Ge();Qe();tt();rt();nt();Je();brt=Object.defineProperty,xrt=Object.getOwnPropertyDescriptor,m3=(e,t,r,n)=>{for(var s=n>1?void 0:n?xrt(t,r):t,o=e.length-1,i;o>=0;o--)(i=e[o])&&(s=(n?i(t,r,s):i(s))||s);return n&&s&&brt(t,r,s),s},Bu=class extends he{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return ye`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${Bu.weightsMap.get((e=this.weight)!=null?e:"regular")}
    </svg>`}};Bu.weightsMap=new Map([["thin",M`<path d="M114.83,173.17a4,4,0,0,1,0,5.66l-32,32a4,4,0,0,1-5.66,0l-32-32a4,4,0,0,1,5.66-5.66L76,198.34V48a4,4,0,0,1,8,0V198.34l25.17-25.17A4,4,0,0,1,114.83,173.17Zm96-96-32-32a4,4,0,0,0-5.66,0l-32,32a4,4,0,0,0,5.66,5.66L172,57.66V208a4,4,0,0,0,8,0V57.66l25.17,25.17a4,4,0,1,0,5.66-5.66Z"/>`],["light",M`<path d="M116.24,171.76a6,6,0,0,1,0,8.48l-32,32a6,6,0,0,1-8.48,0l-32-32a6,6,0,0,1,8.48-8.48L74,193.51V48a6,6,0,0,1,12,0V193.51l21.76-21.75A6,6,0,0,1,116.24,171.76Zm96-96-32-32a6,6,0,0,0-8.48,0l-32,32a6,6,0,0,0,8.48,8.48L170,62.49V208a6,6,0,0,0,12,0V62.49l21.76,21.75a6,6,0,0,0,8.48-8.48Z"/>`],["regular",M`<path d="M117.66,170.34a8,8,0,0,1,0,11.32l-32,32a8,8,0,0,1-11.32,0l-32-32a8,8,0,0,1,11.32-11.32L72,188.69V48a8,8,0,0,1,16,0V188.69l18.34-18.35A8,8,0,0,1,117.66,170.34Zm96-96-32-32a8,8,0,0,0-11.32,0l-32,32a8,8,0,0,0,11.32,11.32L168,67.31V208a8,8,0,0,0,16,0V67.31l18.34,18.35a8,8,0,0,0,11.32-11.32Z"/>`],["bold",M`<path d="M120.49,167.51a12,12,0,0,1,0,17l-32,32a12,12,0,0,1-17,0l-32-32a12,12,0,1,1,17-17L68,179V48a12,12,0,0,1,24,0V179l11.51-11.52A12,12,0,0,1,120.49,167.51Zm96-96-32-32a12,12,0,0,0-17,0l-32,32a12,12,0,0,0,17,17L164,77V208a12,12,0,0,0,24,0V77l11.51,11.52a12,12,0,0,0,17-17Z"/>`],["fill",M`<path d="M119.39,172.94a8,8,0,0,1-1.73,8.72l-32,32a8,8,0,0,1-11.32,0l-32-32A8,8,0,0,1,48,168H72V48a8,8,0,0,1,16,0V168h24A8,8,0,0,1,119.39,172.94Zm94.27-98.6-32-32a8,8,0,0,0-11.32,0l-32,32A8,8,0,0,0,144,88h24V208a8,8,0,0,0,16,0V88h24a8,8,0,0,0,5.66-13.66Z"/>`],["duotone",M`<path d="M176,48V208H80V48Z" opacity="0.2"/><path d="M117.66,170.34a8,8,0,0,1,0,11.32l-32,32a8,8,0,0,1-11.32,0l-32-32a8,8,0,0,1,11.32-11.32L72,188.69V48a8,8,0,0,1,16,0V188.69l18.34-18.35A8,8,0,0,1,117.66,170.34Zm96-96-32-32a8,8,0,0,0-11.32,0l-32,32a8,8,0,0,0,11.32,11.32L168,67.31V208a8,8,0,0,0,16,0V67.31l18.34,18.35a8,8,0,0,0,11.32-11.32Z"/>`]]);Bu.styles=ge`
    :host {
      display: contents;
    }
  `;m3([z({type:String,reflect:!0})],Bu.prototype,"size",2);m3([z({type:String,reflect:!0})],Bu.prototype,"weight",2);m3([z({type:String,reflect:!0})],Bu.prototype,"color",2);m3([z({type:Boolean,reflect:!0})],Bu.prototype,"mirrored",2);Bu=m3([we("ph-arrows-down-up")],Bu)});var Zwe={};Se(Zwe,{PhArrowsLeftRight:()=>Du});var vrt,Ert,g3,Du,Gwe=m(()=>{Ge();Qe();tt();rt();nt();Je();vrt=Object.defineProperty,Ert=Object.getOwnPropertyDescriptor,g3=(e,t,r,n)=>{for(var s=n>1?void 0:n?Ert(t,r):t,o=e.length-1,i;o>=0;o--)(i=e[o])&&(s=(n?i(t,r,s):i(s))||s);return n&&s&&vrt(t,r,s),s},Du=class extends he{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return ye`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${Du.weightsMap.get((e=this.weight)!=null?e:"regular")}
    </svg>`}};Du.weightsMap=new Map([["thin",M`<path d="M210.83,173.17a4,4,0,0,1,0,5.66l-32,32a4,4,0,0,1-5.66-5.66L198.34,180H48a4,4,0,0,1,0-8H198.34l-25.17-25.17a4,4,0,0,1,5.66-5.66ZM77.17,114.83a4,4,0,0,0,5.66-5.66L57.66,84H208a4,4,0,0,0,0-8H57.66L82.83,50.83a4,4,0,0,0-5.66-5.66l-32,32a4,4,0,0,0,0,5.66Z"/>`],["light",M`<path d="M212.24,171.76a6,6,0,0,1,0,8.48l-32,32a6,6,0,0,1-8.48-8.48L193.51,182H48a6,6,0,0,1,0-12H193.51l-21.75-21.76a6,6,0,0,1,8.48-8.48ZM75.76,116.24a6,6,0,0,0,8.48-8.48L62.49,86H208a6,6,0,0,0,0-12H62.49L84.24,52.24a6,6,0,0,0-8.48-8.48l-32,32a6,6,0,0,0,0,8.48Z"/>`],["regular",M`<path d="M213.66,181.66l-32,32a8,8,0,0,1-11.32-11.32L188.69,184H48a8,8,0,0,1,0-16H188.69l-18.35-18.34a8,8,0,0,1,11.32-11.32l32,32A8,8,0,0,1,213.66,181.66Zm-139.32-64a8,8,0,0,0,11.32-11.32L67.31,88H208a8,8,0,0,0,0-16H67.31L85.66,53.66A8,8,0,0,0,74.34,42.34l-32,32a8,8,0,0,0,0,11.32Z"/>`],["bold",M`<path d="M216.49,184.49l-32,32a12,12,0,0,1-17-17L179,188H48a12,12,0,0,1,0-24H179l-11.52-11.51a12,12,0,0,1,17-17l32,32A12,12,0,0,1,216.49,184.49Zm-145-64a12,12,0,0,0,17-17L77,92H208a12,12,0,0,0,0-24H77L88.49,56.49a12,12,0,0,0-17-17l-32,32a12,12,0,0,0,0,17Z"/>`],["fill",M`<path d="M42.34,85.66a8,8,0,0,1,0-11.32l32-32A8,8,0,0,1,88,48V72H208a8,8,0,0,1,0,16H88v24a8,8,0,0,1-13.66,5.66Zm171.32,84.68-32-32A8,8,0,0,0,168,144v24H48a8,8,0,0,0,0,16H168v24a8,8,0,0,0,13.66,5.66l32-32A8,8,0,0,0,213.66,170.34Z"/>`],["duotone",M`<path d="M208,80v96H48V80Z" opacity="0.2"/><path d="M213.66,181.66l-32,32a8,8,0,0,1-11.32-11.32L188.69,184H48a8,8,0,0,1,0-16H188.69l-18.35-18.34a8,8,0,0,1,11.32-11.32l32,32A8,8,0,0,1,213.66,181.66Zm-139.32-64a8,8,0,0,0,11.32-11.32L67.31,88H208a8,8,0,0,0,0-16H67.31L85.66,53.66A8,8,0,0,0,74.34,42.34l-32,32a8,8,0,0,0,0,11.32Z"/>`]]);Du.styles=ge`
    :host {
      display: contents;
    }
  `;g3([z({type:String,reflect:!0})],Du.prototype,"size",2);g3([z({type:String,reflect:!0})],Du.prototype,"weight",2);g3([z({type:String,reflect:!0})],Du.prototype,"color",2);g3([z({type:Boolean,reflect:!0})],Du.prototype,"mirrored",2);Du=g3([we("ph-arrows-left-right")],Du)});var Ywe={};Se(Ywe,{PhArrowUp:()=>Uu});var Art,Crt,y3,Uu,Jwe=m(()=>{Ge();Qe();tt();rt();nt();Je();Art=Object.defineProperty,Crt=Object.getOwnPropertyDescriptor,y3=(e,t,r,n)=>{for(var s=n>1?void 0:n?Crt(t,r):t,o=e.length-1,i;o>=0;o--)(i=e[o])&&(s=(n?i(t,r,s):i(s))||s);return n&&s&&Art(t,r,s),s},Uu=class extends he{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return ye`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${Uu.weightsMap.get((e=this.weight)!=null?e:"regular")}
    </svg>`}};Uu.weightsMap=new Map([["thin",M`<path d="M202.83,114.83a4,4,0,0,1-5.66,0L132,49.66V216a4,4,0,0,1-8,0V49.66L58.83,114.83a4,4,0,0,1-5.66-5.66l72-72a4,4,0,0,1,5.66,0l72,72A4,4,0,0,1,202.83,114.83Z"/>`],["light",M`<path d="M204.24,116.24a6,6,0,0,1-8.48,0L134,54.49V216a6,6,0,0,1-12,0V54.49L60.24,116.24a6,6,0,0,1-8.48-8.48l72-72a6,6,0,0,1,8.48,0l72,72A6,6,0,0,1,204.24,116.24Z"/>`],["regular",M`<path d="M205.66,117.66a8,8,0,0,1-11.32,0L136,59.31V216a8,8,0,0,1-16,0V59.31L61.66,117.66a8,8,0,0,1-11.32-11.32l72-72a8,8,0,0,1,11.32,0l72,72A8,8,0,0,1,205.66,117.66Z"/>`],["bold",M`<path d="M208.49,120.49a12,12,0,0,1-17,0L140,69V216a12,12,0,0,1-24,0V69L64.49,120.49a12,12,0,0,1-17-17l72-72a12,12,0,0,1,17,0l72,72A12,12,0,0,1,208.49,120.49Z"/>`],["fill",M`<path d="M207.39,115.06A8,8,0,0,1,200,120H136v96a8,8,0,0,1-16,0V120H56a8,8,0,0,1-5.66-13.66l72-72a8,8,0,0,1,11.32,0l72,72A8,8,0,0,1,207.39,115.06Z"/>`],["duotone",M`<path d="M200,112H56l72-72Z" opacity="0.2"/><path d="M205.66,106.34l-72-72a8,8,0,0,0-11.32,0l-72,72A8,8,0,0,0,56,120h64v96a8,8,0,0,0,16,0V120h64a8,8,0,0,0,5.66-13.66ZM75.31,104,128,51.31,180.69,104Z"/>`]]);Uu.styles=ge`
    :host {
      display: contents;
    }
  `;y3([z({type:String,reflect:!0})],Uu.prototype,"size",2);y3([z({type:String,reflect:!0})],Uu.prototype,"weight",2);y3([z({type:String,reflect:!0})],Uu.prototype,"color",2);y3([z({type:Boolean,reflect:!0})],Uu.prototype,"mirrored",2);Uu=y3([we("ph-arrow-up")],Uu)});var Qwe={};Se(Qwe,{PhArrowUpRight:()=>Lu});var Srt,Irt,w3,Lu,Xwe=m(()=>{Ge();Qe();tt();rt();nt();Je();Srt=Object.defineProperty,Irt=Object.getOwnPropertyDescriptor,w3=(e,t,r,n)=>{for(var s=n>1?void 0:n?Irt(t,r):t,o=e.length-1,i;o>=0;o--)(i=e[o])&&(s=(n?i(t,r,s):i(s))||s);return n&&s&&Srt(t,r,s),s},Lu=class extends he{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return ye`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${Lu.weightsMap.get((e=this.weight)!=null?e:"regular")}
    </svg>`}};Lu.weightsMap=new Map([["thin",M`<path d="M196,64V168a4,4,0,0,1-8,0V73.66L66.83,194.83a4,4,0,0,1-5.66-5.66L182.34,68H88a4,4,0,0,1,0-8H192A4,4,0,0,1,196,64Z"/>`],["light",M`<path d="M198,64V168a6,6,0,0,1-12,0V78.48L68.24,196.24a6,6,0,0,1-8.48-8.48L177.52,70H88a6,6,0,0,1,0-12H192A6,6,0,0,1,198,64Z"/>`],["regular",M`<path d="M200,64V168a8,8,0,0,1-16,0V83.31L69.66,197.66a8,8,0,0,1-11.32-11.32L172.69,72H88a8,8,0,0,1,0-16H192A8,8,0,0,1,200,64Z"/>`],["bold",M`<path d="M204,64V168a12,12,0,0,1-24,0V93L72.49,200.49a12,12,0,0,1-17-17L163,76H88a12,12,0,0,1,0-24H192A12,12,0,0,1,204,64Z"/>`],["fill",M`<path d="M200,64V168a8,8,0,0,1-13.66,5.66L140,127.31,69.66,197.66a8,8,0,0,1-11.32-11.32L128.69,116,82.34,69.66A8,8,0,0,1,88,56H192A8,8,0,0,1,200,64Z"/>`],["duotone",M`<path d="M192,64V168L88,64Z" opacity="0.2"/><path d="M192,56H88a8,8,0,0,0-5.66,13.66L128.69,116,58.34,186.34a8,8,0,0,0,11.32,11.32L140,127.31l46.34,46.35A8,8,0,0,0,200,168V64A8,8,0,0,0,192,56Zm-8,92.69-38.34-38.34h0L107.31,72H184Z"/>`]]);Lu.styles=ge`
    :host {
      display: contents;
    }
  `;w3([z({type:String,reflect:!0})],Lu.prototype,"size",2);w3([z({type:String,reflect:!0})],Lu.prototype,"weight",2);w3([z({type:String,reflect:!0})],Lu.prototype,"color",2);w3([z({type:Boolean,reflect:!0})],Lu.prototype,"mirrored",2);Lu=w3([we("ph-arrow-up-right")],Lu)});var ebe={};Se(ebe,{PhArrowsClockwise:()=>Mu});var _rt,Trt,b3,Mu,tbe=m(()=>{Ge();Qe();tt();rt();nt();Je();_rt=Object.defineProperty,Trt=Object.getOwnPropertyDescriptor,b3=(e,t,r,n)=>{for(var s=n>1?void 0:n?Trt(t,r):t,o=e.length-1,i;o>=0;o--)(i=e[o])&&(s=(n?i(t,r,s):i(s))||s);return n&&s&&_rt(t,r,s),s},Mu=class extends he{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return ye`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${Mu.weightsMap.get((e=this.weight)!=null?e:"regular")}
    </svg>`}};Mu.weightsMap=new Map([["thin",M`<path d="M220,48V96a4,4,0,0,1-4,4H168a4,4,0,0,1,0-8h38.34L184.89,70.54A84,84,0,0,0,66.8,69.85a4,4,0,1,1-5.6-5.72,92,92,0,0,1,129.34.76L212,86.34V48a4,4,0,0,1,8,0ZM189.2,186.15a83.44,83.44,0,0,1-58.68,23.91h-.47a83.52,83.52,0,0,1-58.94-24.6L49.66,164H88a4,4,0,0,0,0-8H40a4,4,0,0,0-4,4v48a4,4,0,0,0,8,0V169.66l21.46,21.45A91.43,91.43,0,0,0,130,218.06h.51a91.45,91.45,0,0,0,64.28-26.19,4,4,0,1,0-5.6-5.72Z"/>`],["light",M`<path d="M222,48V96a6,6,0,0,1-6,6H168a6,6,0,0,1,0-12h33.52L183.47,72a81.51,81.51,0,0,0-57.53-24h-.46A81.5,81.5,0,0,0,68.19,71.28a6,6,0,1,1-8.38-8.58,93.38,93.38,0,0,1,65.67-26.76H126a93.45,93.45,0,0,1,66,27.53l18,18V48a6,6,0,0,1,12,0ZM187.81,184.72a81.5,81.5,0,0,1-57.29,23.34h-.46a81.51,81.51,0,0,1-57.53-24L54.48,166H88a6,6,0,0,0,0-12H40a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V174.48l18,18.05a93.45,93.45,0,0,0,66,27.53h.52a93.38,93.38,0,0,0,65.67-26.76,6,6,0,1,0-8.38-8.58Z"/>`],["regular",M`<path d="M224,48V96a8,8,0,0,1-8,8H168a8,8,0,0,1,0-16h28.69L182.06,73.37a79.56,79.56,0,0,0-56.13-23.43h-.45A79.52,79.52,0,0,0,69.59,72.71,8,8,0,0,1,58.41,61.27a96,96,0,0,1,135,.79L208,76.69V48a8,8,0,0,1,16,0ZM186.41,183.29a80,80,0,0,1-112.47-.66L59.31,168H88a8,8,0,0,0,0-16H40a8,8,0,0,0-8,8v48a8,8,0,0,0,16,0V179.31l14.63,14.63A95.43,95.43,0,0,0,130,222.06h.53a95.36,95.36,0,0,0,67.07-27.33,8,8,0,0,0-11.18-11.44Z"/>`],["bold",M`<path d="M228,48V96a12,12,0,0,1-12,12H168a12,12,0,0,1,0-24h19l-7.8-7.8a75.55,75.55,0,0,0-53.32-22.26h-.43A75.49,75.49,0,0,0,72.39,75.57,12,12,0,1,1,55.61,58.41a99.38,99.38,0,0,1,69.87-28.47H126A99.42,99.42,0,0,1,196.2,59.23L204,67V48a12,12,0,0,1,24,0ZM183.61,180.43a75.49,75.49,0,0,1-53.09,21.63h-.43A75.55,75.55,0,0,1,76.77,179.8L69,172H88a12,12,0,0,0,0-24H40a12,12,0,0,0-12,12v48a12,12,0,0,0,24,0V189l7.8,7.8A99.42,99.42,0,0,0,130,226.06h.56a99.38,99.38,0,0,0,69.87-28.47,12,12,0,0,0-16.78-17.16Z"/>`],["fill",M`<path d="M224,48V96a8,8,0,0,1-8,8H168a8,8,0,0,1-5.66-13.66L180.65,72a79.48,79.48,0,0,0-54.72-22.09h-.45A79.52,79.52,0,0,0,69.59,72.71,8,8,0,0,1,58.41,61.27,96,96,0,0,1,192,60.7l18.36-18.36A8,8,0,0,1,224,48ZM186.41,183.29A80,80,0,0,1,75.35,184l18.31-18.31A8,8,0,0,0,88,152H40a8,8,0,0,0-8,8v48a8,8,0,0,0,13.66,5.66L64,195.3a95.42,95.42,0,0,0,66,26.76h.53a95.36,95.36,0,0,0,67.07-27.33,8,8,0,0,0-11.18-11.44Z"/>`],["duotone",M`<path d="M216,128a88,88,0,1,1-88-88A88,88,0,0,1,216,128Z" opacity="0.2"/><path d="M224,48V96a8,8,0,0,1-8,8H168a8,8,0,0,1,0-16h28.69L182.06,73.37a79.56,79.56,0,0,0-56.13-23.43h-.45A79.52,79.52,0,0,0,69.59,72.71,8,8,0,0,1,58.41,61.27a96,96,0,0,1,135,.79L208,76.69V48a8,8,0,0,1,16,0ZM186.41,183.29a80,80,0,0,1-112.47-.66L59.31,168H88a8,8,0,0,0,0-16H40a8,8,0,0,0-8,8v48a8,8,0,0,0,16,0V179.31l14.63,14.63A95.43,95.43,0,0,0,130,222.06h.53a95.36,95.36,0,0,0,67.07-27.33,8,8,0,0,0-11.18-11.44Z"/>`]]);Mu.styles=ge`
    :host {
      display: contents;
    }
  `;b3([z({type:String,reflect:!0})],Mu.prototype,"size",2);b3([z({type:String,reflect:!0})],Mu.prototype,"weight",2);b3([z({type:String,reflect:!0})],Mu.prototype,"color",2);b3([z({type:Boolean,reflect:!0})],Mu.prototype,"mirrored",2);Mu=b3([we("ph-arrows-clockwise")],Mu)});var rbe={};Se(rbe,{PhBank:()=>Hu});var Prt,Nrt,x3,Hu,nbe=m(()=>{Ge();Qe();tt();rt();nt();Je();Prt=Object.defineProperty,Nrt=Object.getOwnPropertyDescriptor,x3=(e,t,r,n)=>{for(var s=n>1?void 0:n?Nrt(t,r):t,o=e.length-1,i;o>=0;o--)(i=e[o])&&(s=(n?i(t,r,s):i(s))||s);return n&&s&&Prt(t,r,s),s},Hu=class extends he{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return ye`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${Hu.weightsMap.get((e=this.weight)!=null?e:"regular")}
    </svg>`}};Hu.weightsMap=new Map([["thin",M`<path d="M24,100H52v72H32a4,4,0,0,0,0,8H224a4,4,0,0,0,0-8H204V100h28a4,4,0,0,0,2.1-7.41l-104-64a4,4,0,0,0-4.2,0l-104,64A4,4,0,0,0,24,100Zm36,0h40v72H60Zm88,0v72H108V100Zm48,72H156V100h40ZM128,36.7,217.87,92H38.13ZM244,208a4,4,0,0,1-4,4H16a4,4,0,0,1,0-8H240A4,4,0,0,1,244,208Z"/>`],["light",M`<path d="M24,102H50v68H32a6,6,0,0,0,0,12H224a6,6,0,0,0,0-12H206V102h26a6,6,0,0,0,3.14-11.11l-104-64a6,6,0,0,0-6.28,0l-104,64A6,6,0,0,0,24,102Zm38,0H98v68H62Zm84,0v68H110V102Zm48,68H158V102h36ZM128,39l82.8,51H45.2ZM246,208a6,6,0,0,1-6,6H16a6,6,0,0,1,0-12H240A6,6,0,0,1,246,208Z"/>`],["regular",M`<path d="M24,104H48v64H32a8,8,0,0,0,0,16H224a8,8,0,0,0,0-16H208V104h24a8,8,0,0,0,4.19-14.81l-104-64a8,8,0,0,0-8.38,0l-104,64A8,8,0,0,0,24,104Zm40,0H96v64H64Zm80,0v64H112V104Zm48,64H160V104h32ZM128,41.39,203.74,88H52.26ZM248,208a8,8,0,0,1-8,8H16a8,8,0,0,1,0-16H240A8,8,0,0,1,248,208Z"/>`],["bold",M`<path d="M24,108H44v48H32a12,12,0,0,0,0,24H224a12,12,0,0,0,0-24H212V108h20a12,12,0,0,0,6.29-22.22l-104-64a12,12,0,0,0-12.58,0l-104,64A12,12,0,0,0,24,108Zm44,0H92v48H68Zm72,0v48H116V108Zm48,48H164V108h24ZM128,46.09,189.6,84H66.4ZM252,208a12,12,0,0,1-12,12H16a12,12,0,0,1,0-24H240A12,12,0,0,1,252,208Z"/>`],["fill",M`<path d="M248,208a8,8,0,0,1-8,8H16a8,8,0,0,1,0-16H240A8,8,0,0,1,248,208ZM16.3,98.18a8,8,0,0,1,3.51-9l104-64a8,8,0,0,1,8.38,0l104,64A8,8,0,0,1,232,104H208v64h16a8,8,0,0,1,0,16H32a8,8,0,0,1,0-16H48V104H24A8,8,0,0,1,16.3,98.18ZM144,160a8,8,0,0,0,16,0V112a8,8,0,0,0-16,0Zm-48,0a8,8,0,0,0,16,0V112a8,8,0,0,0-16,0Z"/>`],["duotone",M`<path d="M232,96H24L128,32Z" opacity="0.2"/><path d="M24,104H48v64H32a8,8,0,0,0,0,16H224a8,8,0,0,0,0-16H208V104h24a8,8,0,0,0,4.19-14.81l-104-64a8,8,0,0,0-8.38,0l-104,64A8,8,0,0,0,24,104Zm40,0H96v64H64Zm80,0v64H112V104Zm48,64H160V104h32ZM128,41.39,203.74,88H52.26ZM248,208a8,8,0,0,1-8,8H16a8,8,0,0,1,0-16H240A8,8,0,0,1,248,208Z"/>`]]);Hu.styles=ge`
    :host {
      display: contents;
    }
  `;x3([z({type:String,reflect:!0})],Hu.prototype,"size",2);x3([z({type:String,reflect:!0})],Hu.prototype,"weight",2);x3([z({type:String,reflect:!0})],Hu.prototype,"color",2);x3([z({type:Boolean,reflect:!0})],Hu.prototype,"mirrored",2);Hu=x3([we("ph-bank")],Hu)});var sbe={};Se(sbe,{PhBrowser:()=>$u});var Rrt,Ort,v3,$u,obe=m(()=>{Ge();Qe();tt();rt();nt();Je();Rrt=Object.defineProperty,Ort=Object.getOwnPropertyDescriptor,v3=(e,t,r,n)=>{for(var s=n>1?void 0:n?Ort(t,r):t,o=e.length-1,i;o>=0;o--)(i=e[o])&&(s=(n?i(t,r,s):i(s))||s);return n&&s&&Rrt(t,r,s),s},$u=class extends he{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return ye`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${$u.weightsMap.get((e=this.weight)!=null?e:"regular")}
    </svg>`}};$u.weightsMap=new Map([["thin",M`<path d="M216,44H40A12,12,0,0,0,28,56V200a12,12,0,0,0,12,12H216a12,12,0,0,0,12-12V56A12,12,0,0,0,216,44ZM40,52H216a4,4,0,0,1,4,4V92H36V56A4,4,0,0,1,40,52ZM216,204H40a4,4,0,0,1-4-4V100H220V200A4,4,0,0,1,216,204Z"/>`],["light",M`<path d="M216,42H40A14,14,0,0,0,26,56V200a14,14,0,0,0,14,14H216a14,14,0,0,0,14-14V56A14,14,0,0,0,216,42ZM40,54H216a2,2,0,0,1,2,2V90H38V56A2,2,0,0,1,40,54ZM216,202H40a2,2,0,0,1-2-2V102H218v98A2,2,0,0,1,216,202Z"/>`],["regular",M`<path d="M216,40H40A16,16,0,0,0,24,56V200a16,16,0,0,0,16,16H216a16,16,0,0,0,16-16V56A16,16,0,0,0,216,40Zm0,16V88H40V56Zm0,144H40V104H216v96Z"/>`],["bold",M`<path d="M216,36H40A20,20,0,0,0,20,56V200a20,20,0,0,0,20,20H216a20,20,0,0,0,20-20V56A20,20,0,0,0,216,36Zm-4,24V84H44V60ZM44,196V108H212v88Z"/>`],["fill",M`<path d="M216,40H40A16,16,0,0,0,24,56V200a16,16,0,0,0,16,16H216a16,16,0,0,0,16-16V56A16,16,0,0,0,216,40Zm0,16V88H40V56Z"/>`],["duotone",M`<path d="M224,56V96H32V56a8,8,0,0,1,8-8H216A8,8,0,0,1,224,56Z" opacity="0.2"/><path d="M216,40H40A16,16,0,0,0,24,56V200a16,16,0,0,0,16,16H216a16,16,0,0,0,16-16V56A16,16,0,0,0,216,40Zm0,16V88H40V56Zm0,144H40V104H216v96Z"/>`]]);$u.styles=ge`
    :host {
      display: contents;
    }
  `;v3([z({type:String,reflect:!0})],$u.prototype,"size",2);v3([z({type:String,reflect:!0})],$u.prototype,"weight",2);v3([z({type:String,reflect:!0})],$u.prototype,"color",2);v3([z({type:Boolean,reflect:!0})],$u.prototype,"mirrored",2);$u=v3([we("ph-browser")],$u)});var ibe={};Se(ibe,{PhCaretDown:()=>Fu});var krt,Brt,E3,Fu,abe=m(()=>{Ge();Qe();tt();rt();nt();Je();krt=Object.defineProperty,Brt=Object.getOwnPropertyDescriptor,E3=(e,t,r,n)=>{for(var s=n>1?void 0:n?Brt(t,r):t,o=e.length-1,i;o>=0;o--)(i=e[o])&&(s=(n?i(t,r,s):i(s))||s);return n&&s&&krt(t,r,s),s},Fu=class extends he{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return ye`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${Fu.weightsMap.get((e=this.weight)!=null?e:"regular")}
    </svg>`}};Fu.weightsMap=new Map([["thin",M`<path d="M210.83,98.83l-80,80a4,4,0,0,1-5.66,0l-80-80a4,4,0,0,1,5.66-5.66L128,170.34l77.17-77.17a4,4,0,1,1,5.66,5.66Z"/>`],["light",M`<path d="M212.24,100.24l-80,80a6,6,0,0,1-8.48,0l-80-80a6,6,0,0,1,8.48-8.48L128,167.51l75.76-75.75a6,6,0,0,1,8.48,8.48Z"/>`],["regular",M`<path d="M213.66,101.66l-80,80a8,8,0,0,1-11.32,0l-80-80A8,8,0,0,1,53.66,90.34L128,164.69l74.34-74.35a8,8,0,0,1,11.32,11.32Z"/>`],["bold",M`<path d="M216.49,104.49l-80,80a12,12,0,0,1-17,0l-80-80a12,12,0,0,1,17-17L128,159l71.51-71.52a12,12,0,0,1,17,17Z"/>`],["fill",M`<path d="M213.66,101.66l-80,80a8,8,0,0,1-11.32,0l-80-80A8,8,0,0,1,48,88H208a8,8,0,0,1,5.66,13.66Z"/>`],["duotone",M`<path d="M208,96l-80,80L48,96Z" opacity="0.2"/><path d="M215.39,92.94A8,8,0,0,0,208,88H48a8,8,0,0,0-5.66,13.66l80,80a8,8,0,0,0,11.32,0l80-80A8,8,0,0,0,215.39,92.94ZM128,164.69,67.31,104H188.69Z"/>`]]);Fu.styles=ge`
    :host {
      display: contents;
    }
  `;E3([z({type:String,reflect:!0})],Fu.prototype,"size",2);E3([z({type:String,reflect:!0})],Fu.prototype,"weight",2);E3([z({type:String,reflect:!0})],Fu.prototype,"color",2);E3([z({type:Boolean,reflect:!0})],Fu.prototype,"mirrored",2);Fu=E3([we("ph-caret-down")],Fu)});var cbe={};Se(cbe,{PhCaretLeft:()=>ju});var Drt,Urt,A3,ju,lbe=m(()=>{Ge();Qe();tt();rt();nt();Je();Drt=Object.defineProperty,Urt=Object.getOwnPropertyDescriptor,A3=(e,t,r,n)=>{for(var s=n>1?void 0:n?Urt(t,r):t,o=e.length-1,i;o>=0;o--)(i=e[o])&&(s=(n?i(t,r,s):i(s))||s);return n&&s&&Drt(t,r,s),s},ju=class extends he{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return ye`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${ju.weightsMap.get((e=this.weight)!=null?e:"regular")}
    </svg>`}};ju.weightsMap=new Map([["thin",M`<path d="M162.83,205.17a4,4,0,0,1-5.66,5.66l-80-80a4,4,0,0,1,0-5.66l80-80a4,4,0,1,1,5.66,5.66L85.66,128Z"/>`],["light",M`<path d="M164.24,203.76a6,6,0,1,1-8.48,8.48l-80-80a6,6,0,0,1,0-8.48l80-80a6,6,0,0,1,8.48,8.48L88.49,128Z"/>`],["regular",M`<path d="M165.66,202.34a8,8,0,0,1-11.32,11.32l-80-80a8,8,0,0,1,0-11.32l80-80a8,8,0,0,1,11.32,11.32L91.31,128Z"/>`],["bold",M`<path d="M168.49,199.51a12,12,0,0,1-17,17l-80-80a12,12,0,0,1,0-17l80-80a12,12,0,0,1,17,17L97,128Z"/>`],["fill",M`<path d="M168,48V208a8,8,0,0,1-13.66,5.66l-80-80a8,8,0,0,1,0-11.32l80-80A8,8,0,0,1,168,48Z"/>`],["duotone",M`<path d="M160,48V208L80,128Z" opacity="0.2"/><path d="M163.06,40.61a8,8,0,0,0-8.72,1.73l-80,80a8,8,0,0,0,0,11.32l80,80A8,8,0,0,0,168,208V48A8,8,0,0,0,163.06,40.61ZM152,188.69,91.31,128,152,67.31Z"/>`]]);ju.styles=ge`
    :host {
      display: contents;
    }
  `;A3([z({type:String,reflect:!0})],ju.prototype,"size",2);A3([z({type:String,reflect:!0})],ju.prototype,"weight",2);A3([z({type:String,reflect:!0})],ju.prototype,"color",2);A3([z({type:Boolean,reflect:!0})],ju.prototype,"mirrored",2);ju=A3([we("ph-caret-left")],ju)});var ube={};Se(ube,{PhCaretRight:()=>zu});var Lrt,Mrt,C3,zu,dbe=m(()=>{Ge();Qe();tt();rt();nt();Je();Lrt=Object.defineProperty,Mrt=Object.getOwnPropertyDescriptor,C3=(e,t,r,n)=>{for(var s=n>1?void 0:n?Mrt(t,r):t,o=e.length-1,i;o>=0;o--)(i=e[o])&&(s=(n?i(t,r,s):i(s))||s);return n&&s&&Lrt(t,r,s),s},zu=class extends he{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return ye`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${zu.weightsMap.get((e=this.weight)!=null?e:"regular")}
    </svg>`}};zu.weightsMap=new Map([["thin",M`<path d="M178.83,130.83l-80,80a4,4,0,0,1-5.66-5.66L170.34,128,93.17,50.83a4,4,0,0,1,5.66-5.66l80,80A4,4,0,0,1,178.83,130.83Z"/>`],["light",M`<path d="M180.24,132.24l-80,80a6,6,0,0,1-8.48-8.48L167.51,128,91.76,52.24a6,6,0,0,1,8.48-8.48l80,80A6,6,0,0,1,180.24,132.24Z"/>`],["regular",M`<path d="M181.66,133.66l-80,80a8,8,0,0,1-11.32-11.32L164.69,128,90.34,53.66a8,8,0,0,1,11.32-11.32l80,80A8,8,0,0,1,181.66,133.66Z"/>`],["bold",M`<path d="M184.49,136.49l-80,80a12,12,0,0,1-17-17L159,128,87.51,56.49a12,12,0,1,1,17-17l80,80A12,12,0,0,1,184.49,136.49Z"/>`],["fill",M`<path d="M181.66,133.66l-80,80A8,8,0,0,1,88,208V48a8,8,0,0,1,13.66-5.66l80,80A8,8,0,0,1,181.66,133.66Z"/>`],["duotone",M`<path d="M176,128,96,208V48Z" opacity="0.2"/><path d="M181.66,122.34l-80-80A8,8,0,0,0,88,48V208a8,8,0,0,0,13.66,5.66l80-80A8,8,0,0,0,181.66,122.34ZM104,188.69V67.31L164.69,128Z"/>`]]);zu.styles=ge`
    :host {
      display: contents;
    }
  `;C3([z({type:String,reflect:!0})],zu.prototype,"size",2);C3([z({type:String,reflect:!0})],zu.prototype,"weight",2);C3([z({type:String,reflect:!0})],zu.prototype,"color",2);C3([z({type:Boolean,reflect:!0})],zu.prototype,"mirrored",2);zu=C3([we("ph-caret-right")],zu)});var pbe={};Se(pbe,{PhCaretUp:()=>Vu});var Hrt,$rt,S3,Vu,fbe=m(()=>{Ge();Qe();tt();rt();nt();Je();Hrt=Object.defineProperty,$rt=Object.getOwnPropertyDescriptor,S3=(e,t,r,n)=>{for(var s=n>1?void 0:n?$rt(t,r):t,o=e.length-1,i;o>=0;o--)(i=e[o])&&(s=(n?i(t,r,s):i(s))||s);return n&&s&&Hrt(t,r,s),s},Vu=class extends he{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return ye`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${Vu.weightsMap.get((e=this.weight)!=null?e:"regular")}
    </svg>`}};Vu.weightsMap=new Map([["thin",M`<path d="M210.83,162.83a4,4,0,0,1-5.66,0L128,85.66,50.83,162.83a4,4,0,0,1-5.66-5.66l80-80a4,4,0,0,1,5.66,0l80,80A4,4,0,0,1,210.83,162.83Z"/>`],["light",M`<path d="M212.24,164.24a6,6,0,0,1-8.48,0L128,88.49,52.24,164.24a6,6,0,0,1-8.48-8.48l80-80a6,6,0,0,1,8.48,0l80,80A6,6,0,0,1,212.24,164.24Z"/>`],["regular",M`<path d="M213.66,165.66a8,8,0,0,1-11.32,0L128,91.31,53.66,165.66a8,8,0,0,1-11.32-11.32l80-80a8,8,0,0,1,11.32,0l80,80A8,8,0,0,1,213.66,165.66Z"/>`],["bold",M`<path d="M216.49,168.49a12,12,0,0,1-17,0L128,97,56.49,168.49a12,12,0,0,1-17-17l80-80a12,12,0,0,1,17,0l80,80A12,12,0,0,1,216.49,168.49Z"/>`],["fill",M`<path d="M215.39,163.06A8,8,0,0,1,208,168H48a8,8,0,0,1-5.66-13.66l80-80a8,8,0,0,1,11.32,0l80,80A8,8,0,0,1,215.39,163.06Z"/>`],["duotone",M`<path d="M208,160H48l80-80Z" opacity="0.2"/><path d="M213.66,154.34l-80-80a8,8,0,0,0-11.32,0l-80,80A8,8,0,0,0,48,168H208a8,8,0,0,0,5.66-13.66ZM67.31,152,128,91.31,188.69,152Z"/>`]]);Vu.styles=ge`
    :host {
      display: contents;
    }
  `;S3([z({type:String,reflect:!0})],Vu.prototype,"size",2);S3([z({type:String,reflect:!0})],Vu.prototype,"weight",2);S3([z({type:String,reflect:!0})],Vu.prototype,"color",2);S3([z({type:Boolean,reflect:!0})],Vu.prototype,"mirrored",2);Vu=S3([we("ph-caret-up")],Vu)});var hbe={};Se(hbe,{PhCheck:()=>qu});var Frt,jrt,I3,qu,mbe=m(()=>{Ge();Qe();tt();rt();nt();Je();Frt=Object.defineProperty,jrt=Object.getOwnPropertyDescriptor,I3=(e,t,r,n)=>{for(var s=n>1?void 0:n?jrt(t,r):t,o=e.length-1,i;o>=0;o--)(i=e[o])&&(s=(n?i(t,r,s):i(s))||s);return n&&s&&Frt(t,r,s),s},qu=class extends he{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return ye`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${qu.weightsMap.get((e=this.weight)!=null?e:"regular")}
    </svg>`}};qu.weightsMap=new Map([["thin",M`<path d="M226.83,74.83l-128,128a4,4,0,0,1-5.66,0l-56-56a4,4,0,0,1,5.66-5.66L96,194.34,221.17,69.17a4,4,0,1,1,5.66,5.66Z"/>`],["light",M`<path d="M228.24,76.24l-128,128a6,6,0,0,1-8.48,0l-56-56a6,6,0,0,1,8.48-8.48L96,191.51,219.76,67.76a6,6,0,0,1,8.48,8.48Z"/>`],["regular",M`<path d="M229.66,77.66l-128,128a8,8,0,0,1-11.32,0l-56-56a8,8,0,0,1,11.32-11.32L96,188.69,218.34,66.34a8,8,0,0,1,11.32,11.32Z"/>`],["bold",M`<path d="M232.49,80.49l-128,128a12,12,0,0,1-17,0l-56-56a12,12,0,1,1,17-17L96,183,215.51,63.51a12,12,0,0,1,17,17Z"/>`],["fill",M`<path d="M216,40H40A16,16,0,0,0,24,56V200a16,16,0,0,0,16,16H216a16,16,0,0,0,16-16V56A16,16,0,0,0,216,40ZM205.66,85.66l-96,96a8,8,0,0,1-11.32,0l-40-40a8,8,0,0,1,11.32-11.32L104,164.69l90.34-90.35a8,8,0,0,1,11.32,11.32Z"/>`],["duotone",M`<path d="M232,56V200a16,16,0,0,1-16,16H40a16,16,0,0,1-16-16V56A16,16,0,0,1,40,40H216A16,16,0,0,1,232,56Z" opacity="0.2"/><path d="M205.66,85.66l-96,96a8,8,0,0,1-11.32,0l-40-40a8,8,0,0,1,11.32-11.32L104,164.69l90.34-90.35a8,8,0,0,1,11.32,11.32Z"/>`]]);qu.styles=ge`
    :host {
      display: contents;
    }
  `;I3([z({type:String,reflect:!0})],qu.prototype,"size",2);I3([z({type:String,reflect:!0})],qu.prototype,"weight",2);I3([z({type:String,reflect:!0})],qu.prototype,"color",2);I3([z({type:Boolean,reflect:!0})],qu.prototype,"mirrored",2);qu=I3([we("ph-check")],qu)});var gbe={};Se(gbe,{PhCircleHalf:()=>Wu});var zrt,Vrt,_3,Wu,ybe=m(()=>{Ge();Qe();tt();rt();nt();Je();zrt=Object.defineProperty,Vrt=Object.getOwnPropertyDescriptor,_3=(e,t,r,n)=>{for(var s=n>1?void 0:n?Vrt(t,r):t,o=e.length-1,i;o>=0;o--)(i=e[o])&&(s=(n?i(t,r,s):i(s))||s);return n&&s&&zrt(t,r,s),s},Wu=class extends he{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return ye`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${Wu.weightsMap.get((e=this.weight)!=null?e:"regular")}
    </svg>`}};Wu.weightsMap=new Map([["thin",M`<path d="M128,28A100,100,0,1,0,228,128,100.11,100.11,0,0,0,128,28Zm4,8.09a91.58,91.58,0,0,1,24,4.27V215.64a91.58,91.58,0,0,1-24,4.27Zm32,7.25a92.21,92.21,0,0,1,24,15V197.69a92.21,92.21,0,0,1-24,15ZM36,128a92.11,92.11,0,0,1,88-91.91V219.91A92.11,92.11,0,0,1,36,128Zm160,61.9V66.1a91.83,91.83,0,0,1,0,123.8Z"/>`],["light",M`<path d="M128,26A102,102,0,1,0,230,128,102.12,102.12,0,0,0,128,26Zm6,12.2a89.86,89.86,0,0,1,20,3.63V214.17a89.86,89.86,0,0,1-20,3.63Zm32,8.23a90.48,90.48,0,0,1,20,12.81V196.76a90.48,90.48,0,0,1-20,12.81ZM38,128a90.12,90.12,0,0,1,84-89.8V217.8A90.12,90.12,0,0,1,38,128Zm160,56.5V71.5a89.81,89.81,0,0,1,0,113Z"/>`],["regular",M`<path d="M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm8,16.37a86.4,86.4,0,0,1,16,3V212.67a86.4,86.4,0,0,1-16,3Zm32,9.26a87.81,87.81,0,0,1,16,10.54V195.83a87.81,87.81,0,0,1-16,10.54ZM40,128a88.11,88.11,0,0,1,80-87.63V215.63A88.11,88.11,0,0,1,40,128Zm160,50.54V77.46a87.82,87.82,0,0,1,0,101.08Z"/>`],["bold",M`<path d="M128,20A108,108,0,1,0,236,128,108.12,108.12,0,0,0,128,20Zm12,24.87a83.53,83.53,0,0,1,24,7.25V203.88a83.53,83.53,0,0,1-24,7.25ZM44,128a84.12,84.12,0,0,1,72-83.13V211.13A84.12,84.12,0,0,1,44,128Zm144,58.71V69.29a83.81,83.81,0,0,1,0,117.42Z"/>`],["fill",M`<path d="M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24ZM40,128a88.1,88.1,0,0,1,88-88V216A88.1,88.1,0,0,1,40,128Z"/>`],["duotone",M`<path d="M224,128a96,96,0,0,1-96,96V32A96,96,0,0,1,224,128Z" opacity="0.2"/><path d="M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24ZM40,128a88.11,88.11,0,0,1,80-87.63V215.63A88.11,88.11,0,0,1,40,128Zm96,87.63V40.37a88,88,0,0,1,0,175.26Z"/>`]]);Wu.styles=ge`
    :host {
      display: contents;
    }
  `;_3([z({type:String,reflect:!0})],Wu.prototype,"size",2);_3([z({type:String,reflect:!0})],Wu.prototype,"weight",2);_3([z({type:String,reflect:!0})],Wu.prototype,"color",2);_3([z({type:Boolean,reflect:!0})],Wu.prototype,"mirrored",2);Wu=_3([we("ph-circle-half")],Wu)});var wbe={};Se(wbe,{PhClock:()=>Ku});var qrt,Wrt,T3,Ku,bbe=m(()=>{Ge();Qe();tt();rt();nt();Je();qrt=Object.defineProperty,Wrt=Object.getOwnPropertyDescriptor,T3=(e,t,r,n)=>{for(var s=n>1?void 0:n?Wrt(t,r):t,o=e.length-1,i;o>=0;o--)(i=e[o])&&(s=(n?i(t,r,s):i(s))||s);return n&&s&&qrt(t,r,s),s},Ku=class extends he{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return ye`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${Ku.weightsMap.get((e=this.weight)!=null?e:"regular")}
    </svg>`}};Ku.weightsMap=new Map([["thin",M`<path d="M128,28A100,100,0,1,0,228,128,100.11,100.11,0,0,0,128,28Zm0,192a92,92,0,1,1,92-92A92.1,92.1,0,0,1,128,220Zm60-92a4,4,0,0,1-4,4H128a4,4,0,0,1-4-4V72a4,4,0,0,1,8,0v52h52A4,4,0,0,1,188,128Z"/>`],["light",M`<path d="M128,26A102,102,0,1,0,230,128,102.12,102.12,0,0,0,128,26Zm0,192a90,90,0,1,1,90-90A90.1,90.1,0,0,1,128,218Zm62-90a6,6,0,0,1-6,6H128a6,6,0,0,1-6-6V72a6,6,0,0,1,12,0v50h50A6,6,0,0,1,190,128Z"/>`],["regular",M`<path d="M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm0,192a88,88,0,1,1,88-88A88.1,88.1,0,0,1,128,216Zm64-88a8,8,0,0,1-8,8H128a8,8,0,0,1-8-8V72a8,8,0,0,1,16,0v48h48A8,8,0,0,1,192,128Z"/>`],["bold",M`<path d="M128,20A108,108,0,1,0,236,128,108.12,108.12,0,0,0,128,20Zm0,192a84,84,0,1,1,84-84A84.09,84.09,0,0,1,128,212Zm68-84a12,12,0,0,1-12,12H128a12,12,0,0,1-12-12V72a12,12,0,0,1,24,0v44h44A12,12,0,0,1,196,128Z"/>`],["fill",M`<path d="M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm56,112H128a8,8,0,0,1-8-8V72a8,8,0,0,1,16,0v48h48a8,8,0,0,1,0,16Z"/>`],["duotone",M`<path d="M224,128a96,96,0,1,1-96-96A96,96,0,0,1,224,128Z" opacity="0.2"/><path d="M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm0,192a88,88,0,1,1,88-88A88.1,88.1,0,0,1,128,216Zm64-88a8,8,0,0,1-8,8H128a8,8,0,0,1-8-8V72a8,8,0,0,1,16,0v48h48A8,8,0,0,1,192,128Z"/>`]]);Ku.styles=ge`
    :host {
      display: contents;
    }
  `;T3([z({type:String,reflect:!0})],Ku.prototype,"size",2);T3([z({type:String,reflect:!0})],Ku.prototype,"weight",2);T3([z({type:String,reflect:!0})],Ku.prototype,"color",2);T3([z({type:Boolean,reflect:!0})],Ku.prototype,"mirrored",2);Ku=T3([we("ph-clock")],Ku)});var xbe={};Se(xbe,{PhCompass:()=>Zu});var Krt,Zrt,P3,Zu,vbe=m(()=>{Ge();Qe();tt();rt();nt();Je();Krt=Object.defineProperty,Zrt=Object.getOwnPropertyDescriptor,P3=(e,t,r,n)=>{for(var s=n>1?void 0:n?Zrt(t,r):t,o=e.length-1,i;o>=0;o--)(i=e[o])&&(s=(n?i(t,r,s):i(s))||s);return n&&s&&Krt(t,r,s),s},Zu=class extends he{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return ye`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${Zu.weightsMap.get((e=this.weight)!=null?e:"regular")}
    </svg>`}};Zu.weightsMap=new Map([["thin",M`<path d="M128,28A100,100,0,1,0,228,128,100.11,100.11,0,0,0,128,28Zm0,192a92,92,0,1,1,92-92A92.1,92.1,0,0,1,128,220ZM174.21,76.42l-64,32a4.08,4.08,0,0,0-1.79,1.79l-32,64A4,4,0,0,0,80,180a4.05,4.05,0,0,0,1.79-.42l64-32a4.08,4.08,0,0,0,1.79-1.79l32-64a4,4,0,0,0-5.37-5.37ZM141,141l-52.08,26L115,115l52.08-26Z"/>`],["light",M`<path d="M128,26A102,102,0,1,0,230,128,102.12,102.12,0,0,0,128,26Zm0,192a90,90,0,1,1,90-90A90.1,90.1,0,0,1,128,218ZM173.32,74.63l-64,32a6,6,0,0,0-2.69,2.69l-32,64A6,6,0,0,0,80,182a6.06,6.06,0,0,0,2.68-.63l64-32a6,6,0,0,0,2.69-2.69l32-64a6,6,0,0,0-8.05-8.05Zm-33.79,64.9L93.42,162.58l23-46.11,46.11-23Z"/>`],["regular",M`<path d="M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm0,192a88,88,0,1,1,88-88A88.1,88.1,0,0,1,128,216ZM172.42,72.84l-64,32a8.05,8.05,0,0,0-3.58,3.58l-32,64A8,8,0,0,0,80,184a8.1,8.1,0,0,0,3.58-.84l64-32a8.05,8.05,0,0,0,3.58-3.58l32-64a8,8,0,0,0-10.74-10.74ZM138,138,97.89,158.11,118,118l40.15-20.07Z"/>`],["bold",M`<path d="M128,20A108,108,0,1,0,236,128,108.12,108.12,0,0,0,128,20Zm0,192a84,84,0,1,1,84-84A84.09,84.09,0,0,1,128,212ZM163.27,77l-56,24a12,12,0,0,0-6.3,6.3l-24,56A12,12,0,0,0,92.73,179l56-24a12,12,0,0,0,6.3-6.3l24-56A12,12,0,0,0,163.27,77Zm-28.41,57.89-24,10.29,10.29-24,24-10.29Z"/>`],["fill",M`<path d="M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm51.58,57.79-32,64a4.08,4.08,0,0,1-1.79,1.79l-64,32a4,4,0,0,1-5.37-5.37l32-64a4.08,4.08,0,0,1,1.79-1.79l64-32A4,4,0,0,1,179.58,81.79Z"/>`],["duotone",M`<path d="M128,32a96,96,0,1,0,96,96A96,96,0,0,0,128,32Zm16,112L80,176l32-64,64-32Z" opacity="0.2"/><path d="M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm0,192a88,88,0,1,1,88-88A88.1,88.1,0,0,1,128,216ZM172.42,72.84l-64,32a8.05,8.05,0,0,0-3.58,3.58l-32,64A8,8,0,0,0,80,184a8.1,8.1,0,0,0,3.58-.84l64-32a8.05,8.05,0,0,0,3.58-3.58l32-64a8,8,0,0,0-10.74-10.74ZM138,138,97.89,158.11,118,118l40.15-20.07Z"/>`]]);Zu.styles=ge`
    :host {
      display: contents;
    }
  `;P3([z({type:String,reflect:!0})],Zu.prototype,"size",2);P3([z({type:String,reflect:!0})],Zu.prototype,"weight",2);P3([z({type:String,reflect:!0})],Zu.prototype,"color",2);P3([z({type:Boolean,reflect:!0})],Zu.prototype,"mirrored",2);Zu=P3([we("ph-compass")],Zu)});var Ebe={};Se(Ebe,{PhCopy:()=>Gu});var Grt,Yrt,N3,Gu,Abe=m(()=>{Ge();Qe();tt();rt();nt();Je();Grt=Object.defineProperty,Yrt=Object.getOwnPropertyDescriptor,N3=(e,t,r,n)=>{for(var s=n>1?void 0:n?Yrt(t,r):t,o=e.length-1,i;o>=0;o--)(i=e[o])&&(s=(n?i(t,r,s):i(s))||s);return n&&s&&Grt(t,r,s),s},Gu=class extends he{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return ye`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${Gu.weightsMap.get((e=this.weight)!=null?e:"regular")}
    </svg>`}};Gu.weightsMap=new Map([["thin",M`<path d="M216,36H88a4,4,0,0,0-4,4V84H40a4,4,0,0,0-4,4V216a4,4,0,0,0,4,4H168a4,4,0,0,0,4-4V172h44a4,4,0,0,0,4-4V40A4,4,0,0,0,216,36ZM164,212H44V92H164Zm48-48H172V88a4,4,0,0,0-4-4H92V44H212Z"/>`],["light",M`<path d="M216,34H88a6,6,0,0,0-6,6V82H40a6,6,0,0,0-6,6V216a6,6,0,0,0,6,6H168a6,6,0,0,0,6-6V174h42a6,6,0,0,0,6-6V40A6,6,0,0,0,216,34ZM162,210H46V94H162Zm48-48H174V88a6,6,0,0,0-6-6H94V46H210Z"/>`],["regular",M`<path d="M216,32H88a8,8,0,0,0-8,8V80H40a8,8,0,0,0-8,8V216a8,8,0,0,0,8,8H168a8,8,0,0,0,8-8V176h40a8,8,0,0,0,8-8V40A8,8,0,0,0,216,32ZM160,208H48V96H160Zm48-48H176V88a8,8,0,0,0-8-8H96V48H208Z"/>`],["bold",M`<path d="M216,28H88A12,12,0,0,0,76,40V76H40A12,12,0,0,0,28,88V216a12,12,0,0,0,12,12H168a12,12,0,0,0,12-12V180h36a12,12,0,0,0,12-12V40A12,12,0,0,0,216,28ZM156,204H52V100H156Zm48-48H180V88a12,12,0,0,0-12-12H100V52H204Z"/>`],["fill",M`<path d="M216,32H88a8,8,0,0,0-8,8V80H40a8,8,0,0,0-8,8V216a8,8,0,0,0,8,8H168a8,8,0,0,0,8-8V176h40a8,8,0,0,0,8-8V40A8,8,0,0,0,216,32Zm-8,128H176V88a8,8,0,0,0-8-8H96V48H208Z"/>`],["duotone",M`<path d="M216,40V168H168V88H88V40Z" opacity="0.2"/><path d="M216,32H88a8,8,0,0,0-8,8V80H40a8,8,0,0,0-8,8V216a8,8,0,0,0,8,8H168a8,8,0,0,0,8-8V176h40a8,8,0,0,0,8-8V40A8,8,0,0,0,216,32ZM160,208H48V96H160Zm48-48H176V88a8,8,0,0,0-8-8H96V48H208Z"/>`]]);Gu.styles=ge`
    :host {
      display: contents;
    }
  `;N3([z({type:String,reflect:!0})],Gu.prototype,"size",2);N3([z({type:String,reflect:!0})],Gu.prototype,"weight",2);N3([z({type:String,reflect:!0})],Gu.prototype,"color",2);N3([z({type:Boolean,reflect:!0})],Gu.prototype,"mirrored",2);Gu=N3([we("ph-copy")],Gu)});var Cbe={};Se(Cbe,{PhCreditCard:()=>Yu});var Jrt,Qrt,R3,Yu,Sbe=m(()=>{Ge();Qe();tt();rt();nt();Je();Jrt=Object.defineProperty,Qrt=Object.getOwnPropertyDescriptor,R3=(e,t,r,n)=>{for(var s=n>1?void 0:n?Qrt(t,r):t,o=e.length-1,i;o>=0;o--)(i=e[o])&&(s=(n?i(t,r,s):i(s))||s);return n&&s&&Jrt(t,r,s),s},Yu=class extends he{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return ye`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${Yu.weightsMap.get((e=this.weight)!=null?e:"regular")}
    </svg>`}};Yu.weightsMap=new Map([["thin",M`<path d="M224,52H32A12,12,0,0,0,20,64V192a12,12,0,0,0,12,12H224a12,12,0,0,0,12-12V64A12,12,0,0,0,224,52ZM32,60H224a4,4,0,0,1,4,4V92H28V64A4,4,0,0,1,32,60ZM224,196H32a4,4,0,0,1-4-4V100H228v92A4,4,0,0,1,224,196Zm-20-28a4,4,0,0,1-4,4H168a4,4,0,0,1,0-8h32A4,4,0,0,1,204,168Zm-64,0a4,4,0,0,1-4,4H120a4,4,0,0,1,0-8h16A4,4,0,0,1,140,168Z"/>`],["light",M`<path d="M224,50H32A14,14,0,0,0,18,64V192a14,14,0,0,0,14,14H224a14,14,0,0,0,14-14V64A14,14,0,0,0,224,50ZM32,62H224a2,2,0,0,1,2,2V90H30V64A2,2,0,0,1,32,62ZM224,194H32a2,2,0,0,1-2-2V102H226v90A2,2,0,0,1,224,194Zm-18-26a6,6,0,0,1-6,6H168a6,6,0,0,1,0-12h32A6,6,0,0,1,206,168Zm-64,0a6,6,0,0,1-6,6H120a6,6,0,0,1,0-12h16A6,6,0,0,1,142,168Z"/>`],["regular",M`<path d="M224,48H32A16,16,0,0,0,16,64V192a16,16,0,0,0,16,16H224a16,16,0,0,0,16-16V64A16,16,0,0,0,224,48Zm0,16V88H32V64Zm0,128H32V104H224v88Zm-16-24a8,8,0,0,1-8,8H168a8,8,0,0,1,0-16h32A8,8,0,0,1,208,168Zm-64,0a8,8,0,0,1-8,8H120a8,8,0,0,1,0-16h16A8,8,0,0,1,144,168Z"/>`],["bold",M`<path d="M224,44H32A20,20,0,0,0,12,64V192a20,20,0,0,0,20,20H224a20,20,0,0,0,20-20V64A20,20,0,0,0,224,44Zm-4,24V88H36V68ZM36,188V112H220v76Zm172-24a12,12,0,0,1-12,12H164a12,12,0,0,1,0-24h32A12,12,0,0,1,208,164Zm-68,0a12,12,0,0,1-12,12H116a12,12,0,0,1,0-24h12A12,12,0,0,1,140,164Z"/>`],["fill",M`<path d="M224,48H32A16,16,0,0,0,16,64V192a16,16,0,0,0,16,16H224a16,16,0,0,0,16-16V64A16,16,0,0,0,224,48ZM136,176H120a8,8,0,0,1,0-16h16a8,8,0,0,1,0,16Zm64,0H168a8,8,0,0,1,0-16h32a8,8,0,0,1,0,16ZM32,88V64H224V88Z"/>`],["duotone",M`<path d="M232,96v96a8,8,0,0,1-8,8H32a8,8,0,0,1-8-8V96Z" opacity="0.2"/><path d="M224,48H32A16,16,0,0,0,16,64V192a16,16,0,0,0,16,16H224a16,16,0,0,0,16-16V64A16,16,0,0,0,224,48Zm0,16V88H32V64Zm0,128H32V104H224v88Zm-16-24a8,8,0,0,1-8,8H168a8,8,0,0,1,0-16h32A8,8,0,0,1,208,168Zm-64,0a8,8,0,0,1-8,8H120a8,8,0,0,1,0-16h16A8,8,0,0,1,144,168Z"/>`]]);Yu.styles=ge`
    :host {
      display: contents;
    }
  `;R3([z({type:String,reflect:!0})],Yu.prototype,"size",2);R3([z({type:String,reflect:!0})],Yu.prototype,"weight",2);R3([z({type:String,reflect:!0})],Yu.prototype,"color",2);R3([z({type:Boolean,reflect:!0})],Yu.prototype,"mirrored",2);Yu=R3([we("ph-credit-card")],Yu)});var Ibe={};Se(Ibe,{PhCurrencyDollar:()=>Ju});var Xrt,ent,O3,Ju,_be=m(()=>{Ge();Qe();tt();rt();nt();Je();Xrt=Object.defineProperty,ent=Object.getOwnPropertyDescriptor,O3=(e,t,r,n)=>{for(var s=n>1?void 0:n?ent(t,r):t,o=e.length-1,i;o>=0;o--)(i=e[o])&&(s=(n?i(t,r,s):i(s))||s);return n&&s&&Xrt(t,r,s),s},Ju=class extends he{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return ye`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${Ju.weightsMap.get((e=this.weight)!=null?e:"regular")}
    </svg>`}};Ju.weightsMap=new Map([["thin",M`<path d="M152,124H132V52h12a36,36,0,0,1,36,36,4,4,0,0,0,8,0,44.05,44.05,0,0,0-44-44H132V24a4,4,0,0,0-8,0V44H112a44,44,0,0,0,0,88h12v72H104a36,36,0,0,1-36-36,4,4,0,0,0-8,0,44.05,44.05,0,0,0,44,44h20v20a4,4,0,0,0,8,0V212h20a44,44,0,0,0,0-88Zm-40,0a36,36,0,0,1,0-72h12v72Zm40,80H132V132h20a36,36,0,0,1,0,72Z"/>`],["light",M`<path d="M152,122H134V54h10a34,34,0,0,1,34,34,6,6,0,0,0,12,0,46.06,46.06,0,0,0-46-46H134V24a6,6,0,0,0-12,0V42H112a46,46,0,0,0,0,92h10v68H104a34,34,0,0,1-34-34,6,6,0,0,0-12,0,46.06,46.06,0,0,0,46,46h18v18a6,6,0,0,0,12,0V214h18a46,46,0,0,0,0-92Zm-40,0a34,34,0,0,1,0-68h10v68Zm40,80H134V134h18a34,34,0,0,1,0,68Z"/>`],["regular",M`<path d="M152,120H136V56h8a32,32,0,0,1,32,32,8,8,0,0,0,16,0,48.05,48.05,0,0,0-48-48h-8V24a8,8,0,0,0-16,0V40h-8a48,48,0,0,0,0,96h8v64H104a32,32,0,0,1-32-32,8,8,0,0,0-16,0,48.05,48.05,0,0,0,48,48h16v16a8,8,0,0,0,16,0V216h16a48,48,0,0,0,0-96Zm-40,0a32,32,0,0,1,0-64h8v64Zm40,80H136V136h16a32,32,0,0,1,0,64Z"/>`],["bold",M`<path d="M152,116H140V60h4a28,28,0,0,1,28,28,12,12,0,0,0,24,0,52.06,52.06,0,0,0-52-52h-4V24a12,12,0,0,0-24,0V36h-4a52,52,0,0,0,0,104h4v56H104a28,28,0,0,1-28-28,12,12,0,0,0-24,0,52.06,52.06,0,0,0,52,52h12v12a12,12,0,0,0,24,0V220h12a52,52,0,0,0,0-104Zm-40,0a28,28,0,0,1,0-56h4v56Zm40,80H140V140h12a28,28,0,0,1,0,56Z"/>`],["fill",M`<path d="M160,152a16,16,0,0,1-16,16h-8V136h8A16,16,0,0,1,160,152Zm72-24A104,104,0,1,1,128,24,104.11,104.11,0,0,1,232,128Zm-56,24a32,32,0,0,0-32-32h-8V88h4a16,16,0,0,1,16,16,8,8,0,0,0,16,0,32,32,0,0,0-32-32h-4V64a8,8,0,0,0-16,0v8h-4a32,32,0,0,0,0,64h4v32h-8a16,16,0,0,1-16-16,8,8,0,0,0-16,0,32,32,0,0,0,32,32h8v8a8,8,0,0,0,16,0v-8h8A32,32,0,0,0,176,152Zm-76-48a16,16,0,0,0,16,16h4V88h-4A16,16,0,0,0,100,104Z"/>`],["duotone",M`<path d="M192,168a40,40,0,0,1-40,40H128V128h24A40,40,0,0,1,192,168ZM112,48a40,40,0,0,0,0,80h16V48Z" opacity="0.2"/><path d="M152,120H136V56h8a32,32,0,0,1,32,32,8,8,0,0,0,16,0,48.05,48.05,0,0,0-48-48h-8V24a8,8,0,0,0-16,0V40h-8a48,48,0,0,0,0,96h8v64H104a32,32,0,0,1-32-32,8,8,0,0,0-16,0,48.05,48.05,0,0,0,48,48h16v16a8,8,0,0,0,16,0V216h16a48,48,0,0,0,0-96Zm-40,0a32,32,0,0,1,0-64h8v64Zm40,80H136V136h16a32,32,0,0,1,0,64Z"/>`]]);Ju.styles=ge`
    :host {
      display: contents;
    }
  `;O3([z({type:String,reflect:!0})],Ju.prototype,"size",2);O3([z({type:String,reflect:!0})],Ju.prototype,"weight",2);O3([z({type:String,reflect:!0})],Ju.prototype,"color",2);O3([z({type:Boolean,reflect:!0})],Ju.prototype,"mirrored",2);Ju=O3([we("ph-currency-dollar")],Ju)});var Tbe={};Se(Tbe,{PhDesktop:()=>Qu});var tnt,rnt,k3,Qu,Pbe=m(()=>{Ge();Qe();tt();rt();nt();Je();tnt=Object.defineProperty,rnt=Object.getOwnPropertyDescriptor,k3=(e,t,r,n)=>{for(var s=n>1?void 0:n?rnt(t,r):t,o=e.length-1,i;o>=0;o--)(i=e[o])&&(s=(n?i(t,r,s):i(s))||s);return n&&s&&tnt(t,r,s),s},Qu=class extends he{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return ye`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${Qu.weightsMap.get((e=this.weight)!=null?e:"regular")}
    </svg>`}};Qu.weightsMap=new Map([["thin",M`<path d="M208,44H48A20,20,0,0,0,28,64V176a20,20,0,0,0,20,20h76v24H96a4,4,0,0,0,0,8h64a4,4,0,0,0,0-8H132V196h76a20,20,0,0,0,20-20V64A20,20,0,0,0,208,44ZM48,52H208a12,12,0,0,1,12,12v84H36V64A12,12,0,0,1,48,52ZM208,188H48a12,12,0,0,1-12-12V156H220v20A12,12,0,0,1,208,188Z"/>`],["light",M`<path d="M208,42H48A22,22,0,0,0,26,64V176a22,22,0,0,0,22,22h74v20H96a6,6,0,0,0,0,12h64a6,6,0,0,0,0-12H134V198h74a22,22,0,0,0,22-22V64A22,22,0,0,0,208,42ZM48,54H208a10,10,0,0,1,10,10v82H38V64A10,10,0,0,1,48,54ZM208,186H48a10,10,0,0,1-10-10V158H218v18A10,10,0,0,1,208,186Z"/>`],["regular",M`<path d="M208,40H48A24,24,0,0,0,24,64V176a24,24,0,0,0,24,24h72v16H96a8,8,0,0,0,0,16h64a8,8,0,0,0,0-16H136V200h72a24,24,0,0,0,24-24V64A24,24,0,0,0,208,40ZM48,56H208a8,8,0,0,1,8,8v80H40V64A8,8,0,0,1,48,56ZM208,184H48a8,8,0,0,1-8-8V160H216v16A8,8,0,0,1,208,184Z"/>`],["bold",M`<path d="M208,36H48A28,28,0,0,0,20,64V172a28,28,0,0,0,28,28h68v12H96a12,12,0,0,0,0,24h64a12,12,0,0,0,0-24H140V200h68a28,28,0,0,0,28-28V64A28,28,0,0,0,208,36ZM48,60H208a4,4,0,0,1,4,4v72H44V64A4,4,0,0,1,48,60ZM208,176H48a4,4,0,0,1-4-4V160H212v12A4,4,0,0,1,208,176Z"/>`],["fill",M`<path d="M208,40H48A24,24,0,0,0,24,64V176a24,24,0,0,0,24,24h72v16H96a8,8,0,0,0,0,16h64a8,8,0,0,0,0-16H136V200h72a24,24,0,0,0,24-24V64A24,24,0,0,0,208,40Zm0,144H48a8,8,0,0,1-8-8V160H216v16A8,8,0,0,1,208,184Z"/>`],["duotone",M`<path d="M224,64v88H32V64A16,16,0,0,1,48,48H208A16,16,0,0,1,224,64Z" opacity="0.2"/><path d="M208,40H48A24,24,0,0,0,24,64V176a24,24,0,0,0,24,24h72v16H96a8,8,0,0,0,0,16h64a8,8,0,0,0,0-16H136V200h72a24,24,0,0,0,24-24V64A24,24,0,0,0,208,40ZM48,56H208a8,8,0,0,1,8,8v80H40V64A8,8,0,0,1,48,56ZM208,184H48a8,8,0,0,1-8-8V160H216v16A8,8,0,0,1,208,184Z"/>`]]);Qu.styles=ge`
    :host {
      display: contents;
    }
  `;k3([z({type:String,reflect:!0})],Qu.prototype,"size",2);k3([z({type:String,reflect:!0})],Qu.prototype,"weight",2);k3([z({type:String,reflect:!0})],Qu.prototype,"color",2);k3([z({type:Boolean,reflect:!0})],Qu.prototype,"mirrored",2);Qu=k3([we("ph-desktop")],Qu)});var Nbe={};Se(Nbe,{PhDeviceMobile:()=>Xu});var nnt,snt,B3,Xu,Rbe=m(()=>{Ge();Qe();tt();rt();nt();Je();nnt=Object.defineProperty,snt=Object.getOwnPropertyDescriptor,B3=(e,t,r,n)=>{for(var s=n>1?void 0:n?snt(t,r):t,o=e.length-1,i;o>=0;o--)(i=e[o])&&(s=(n?i(t,r,s):i(s))||s);return n&&s&&nnt(t,r,s),s},Xu=class extends he{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return ye`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${Xu.weightsMap.get((e=this.weight)!=null?e:"regular")}
    </svg>`}};Xu.weightsMap=new Map([["thin",M`<path d="M176,20H80A20,20,0,0,0,60,40V216a20,20,0,0,0,20,20h96a20,20,0,0,0,20-20V40A20,20,0,0,0,176,20ZM68,60H188V196H68ZM80,28h96a12,12,0,0,1,12,12V52H68V40A12,12,0,0,1,80,28Zm96,200H80a12,12,0,0,1-12-12V204H188v12A12,12,0,0,1,176,228Z"/>`],["light",M`<path d="M176,18H80A22,22,0,0,0,58,40V216a22,22,0,0,0,22,22h96a22,22,0,0,0,22-22V40A22,22,0,0,0,176,18ZM70,62H186V194H70ZM80,30h96a10,10,0,0,1,10,10V50H70V40A10,10,0,0,1,80,30Zm96,196H80a10,10,0,0,1-10-10V206H186v10A10,10,0,0,1,176,226Z"/>`],["regular",M`<path d="M176,16H80A24,24,0,0,0,56,40V216a24,24,0,0,0,24,24h96a24,24,0,0,0,24-24V40A24,24,0,0,0,176,16ZM72,64H184V192H72Zm8-32h96a8,8,0,0,1,8,8v8H72V40A8,8,0,0,1,80,32Zm96,192H80a8,8,0,0,1-8-8v-8H184v8A8,8,0,0,1,176,224Z"/>`],["bold",M`<path d="M176,12H80A28,28,0,0,0,52,40V216a28,28,0,0,0,28,28h96a28,28,0,0,0,28-28V40A28,28,0,0,0,176,12ZM76,76H180V180H76Zm4-40h96a4,4,0,0,1,4,4V52H76V40A4,4,0,0,1,80,36Zm96,184H80a4,4,0,0,1-4-4V204H180v12A4,4,0,0,1,176,220Z"/>`],["fill",M`<path d="M176,16H80A24,24,0,0,0,56,40V216a24,24,0,0,0,24,24h96a24,24,0,0,0,24-24V40A24,24,0,0,0,176,16ZM80,32h96a8,8,0,0,1,8,8v8H72V40A8,8,0,0,1,80,32Zm96,192H80a8,8,0,0,1-8-8v-8H184v8A8,8,0,0,1,176,224Z"/>`],["duotone",M`<path d="M192,56V200H64V56Z" opacity="0.2"/><path d="M176,16H80A24,24,0,0,0,56,40V216a24,24,0,0,0,24,24h96a24,24,0,0,0,24-24V40A24,24,0,0,0,176,16ZM72,64H184V192H72Zm8-32h96a8,8,0,0,1,8,8v8H72V40A8,8,0,0,1,80,32Zm96,192H80a8,8,0,0,1-8-8v-8H184v8A8,8,0,0,1,176,224Z"/>`]]);Xu.styles=ge`
    :host {
      display: contents;
    }
  `;B3([z({type:String,reflect:!0})],Xu.prototype,"size",2);B3([z({type:String,reflect:!0})],Xu.prototype,"weight",2);B3([z({type:String,reflect:!0})],Xu.prototype,"color",2);B3([z({type:Boolean,reflect:!0})],Xu.prototype,"mirrored",2);Xu=B3([we("ph-device-mobile")],Xu)});var Obe={};Se(Obe,{PhDotsThree:()=>ed});var ont,int,D3,ed,kbe=m(()=>{Ge();Qe();tt();rt();nt();Je();ont=Object.defineProperty,int=Object.getOwnPropertyDescriptor,D3=(e,t,r,n)=>{for(var s=n>1?void 0:n?int(t,r):t,o=e.length-1,i;o>=0;o--)(i=e[o])&&(s=(n?i(t,r,s):i(s))||s);return n&&s&&ont(t,r,s),s},ed=class extends he{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return ye`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${ed.weightsMap.get((e=this.weight)!=null?e:"regular")}
    </svg>`}};ed.weightsMap=new Map([["thin",M`<path d="M136,128a8,8,0,1,1-8-8A8,8,0,0,1,136,128Zm-76-8a8,8,0,1,0,8,8A8,8,0,0,0,60,120Zm136,0a8,8,0,1,0,8,8A8,8,0,0,0,196,120Z"/>`],["light",M`<path d="M138,128a10,10,0,1,1-10-10A10,10,0,0,1,138,128ZM60,118a10,10,0,1,0,10,10A10,10,0,0,0,60,118Zm136,0a10,10,0,1,0,10,10A10,10,0,0,0,196,118Z"/>`],["regular",M`<path d="M140,128a12,12,0,1,1-12-12A12,12,0,0,1,140,128Zm56-12a12,12,0,1,0,12,12A12,12,0,0,0,196,116ZM60,116a12,12,0,1,0,12,12A12,12,0,0,0,60,116Z"/>`],["bold",M`<path d="M144,128a16,16,0,1,1-16-16A16,16,0,0,1,144,128ZM60,112a16,16,0,1,0,16,16A16,16,0,0,0,60,112Zm136,0a16,16,0,1,0,16,16A16,16,0,0,0,196,112Z"/>`],["fill",M`<path d="M224,80H32A16,16,0,0,0,16,96v64a16,16,0,0,0,16,16H224a16,16,0,0,0,16-16V96A16,16,0,0,0,224,80ZM60,140a12,12,0,1,1,12-12A12,12,0,0,1,60,140Zm68,0a12,12,0,1,1,12-12A12,12,0,0,1,128,140Zm68,0a12,12,0,1,1,12-12A12,12,0,0,1,196,140Z"/>`],["duotone",M`<path d="M240,96v64a16,16,0,0,1-16,16H32a16,16,0,0,1-16-16V96A16,16,0,0,1,32,80H224A16,16,0,0,1,240,96Z" opacity="0.2"/><path d="M140,128a12,12,0,1,1-12-12A12,12,0,0,1,140,128Zm56-12a12,12,0,1,0,12,12A12,12,0,0,0,196,116ZM60,116a12,12,0,1,0,12,12A12,12,0,0,0,60,116Z"/>`]]);ed.styles=ge`
    :host {
      display: contents;
    }
  `;D3([z({type:String,reflect:!0})],ed.prototype,"size",2);D3([z({type:String,reflect:!0})],ed.prototype,"weight",2);D3([z({type:String,reflect:!0})],ed.prototype,"color",2);D3([z({type:Boolean,reflect:!0})],ed.prototype,"mirrored",2);ed=D3([we("ph-dots-three")],ed)});var Bbe={};Se(Bbe,{PhVault:()=>td});var ant,cnt,U3,td,Dbe=m(()=>{Ge();Qe();tt();rt();nt();Je();ant=Object.defineProperty,cnt=Object.getOwnPropertyDescriptor,U3=(e,t,r,n)=>{for(var s=n>1?void 0:n?cnt(t,r):t,o=e.length-1,i;o>=0;o--)(i=e[o])&&(s=(n?i(t,r,s):i(s))||s);return n&&s&&ant(t,r,s),s},td=class extends he{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return ye`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${td.weightsMap.get((e=this.weight)!=null?e:"regular")}
    </svg>`}};td.weightsMap=new Map([["thin",M`<path d="M216,44H40A12,12,0,0,0,28,56V192a12,12,0,0,0,12,12H60v20a4,4,0,0,0,8,0V204H188v20a4,4,0,0,0,8,0V204h20a12,12,0,0,0,12-12V56A12,12,0,0,0,216,44Zm0,152H40a4,4,0,0,1-4-4V56a4,4,0,0,1,4-4H216a4,4,0,0,1,4,4v68H195.81a44,44,0,1,0,0,8H220v60A4,4,0,0,1,216,196Zm-52.7-72a12,12,0,1,0,0,8h24.47a36,36,0,1,1,0-8Z"/>`],["light",M`<path d="M216,42H40A14,14,0,0,0,26,56V192a14,14,0,0,0,14,14H58v18a6,6,0,0,0,12,0V206H186v18a6,6,0,0,0,12,0V206h18a14,14,0,0,0,14-14V56A14,14,0,0,0,216,42Zm0,152H40a2,2,0,0,1-2-2V56a2,2,0,0,1,2-2H216a2,2,0,0,1,2,2v66H197.6a46,46,0,1,0,0,12H218v58A2,2,0,0,1,216,194Zm-51.37-72a14,14,0,1,0,0,12h20.83a34,34,0,1,1,0-12Z"/>`],["regular",M`<path d="M216,40H40A16,16,0,0,0,24,56V192a16,16,0,0,0,16,16H56v16a8,8,0,0,0,16,0V208H184v16a8,8,0,0,0,16,0V208h16a16,16,0,0,0,16-16V56A16,16,0,0,0,216,40Zm0,152H40V56H216v64H199.32a48,48,0,1,0,0,16H216v56Zm-50.16-72a16,16,0,1,0,0,16H183a32,32,0,1,1,0-16Z"/>`],["bold",M`<path d="M216,36H40A20,20,0,0,0,20,56V192a20,20,0,0,0,20,20H52v12a12,12,0,0,0,24,0V212H180v12a12,12,0,0,0,24,0V212h12a20,20,0,0,0,20-20V56A20,20,0,0,0,216,36ZM44,188V60H212v52H190.32a44,44,0,1,0,0,24H212v52Zm124-64a20,20,0,1,1-20-20A20,20,0,0,1,168,124Z"/>`],["fill",M`<path d="M216,40H40A16,16,0,0,0,24,56V192a16,16,0,0,0,16,16H56v16a8,8,0,0,0,16,0V208H184v16a8,8,0,0,0,16,0V208h16a16,16,0,0,0,16-16V56A16,16,0,0,0,216,40Zm-8,96H179.09a36,36,0,1,1,0-16H208a8,8,0,0,1,0,16Zm-44-8a20,20,0,1,1-20-20A20,20,0,0,1,164,128Z"/>`],["duotone",M`<path d="M216,48H40a8,8,0,0,0-8,8V192a8,8,0,0,0,8,8H216a8,8,0,0,0,8-8V56A8,8,0,0,0,216,48ZM152,168a40,40,0,1,1,40-40A40,40,0,0,1,152,168Z" opacity="0.2"/><path d="M216,40H40A16,16,0,0,0,24,56V192a16,16,0,0,0,16,16H56v16a8,8,0,0,0,16,0V208H184v16a8,8,0,0,0,16,0V208h16a16,16,0,0,0,16-16V56A16,16,0,0,0,216,40Zm0,152H40V56H216v64H199.32a48,48,0,1,0,0,16H216v56Zm-50.16-72a16,16,0,1,0,0,16H183a32,32,0,1,1,0-16Z"/>`]]);td.styles=ge`
    :host {
      display: contents;
    }
  `;U3([z({type:String,reflect:!0})],td.prototype,"size",2);U3([z({type:String,reflect:!0})],td.prototype,"weight",2);U3([z({type:String,reflect:!0})],td.prototype,"color",2);U3([z({type:Boolean,reflect:!0})],td.prototype,"mirrored",2);td=U3([we("ph-vault")],td)});var Ube={};Se(Ube,{PhEnvelope:()=>rd});var lnt,unt,L3,rd,Lbe=m(()=>{Ge();Qe();tt();rt();nt();Je();lnt=Object.defineProperty,unt=Object.getOwnPropertyDescriptor,L3=(e,t,r,n)=>{for(var s=n>1?void 0:n?unt(t,r):t,o=e.length-1,i;o>=0;o--)(i=e[o])&&(s=(n?i(t,r,s):i(s))||s);return n&&s&&lnt(t,r,s),s},rd=class extends he{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return ye`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${rd.weightsMap.get((e=this.weight)!=null?e:"regular")}
    </svg>`}};rd.weightsMap=new Map([["thin",M`<path d="M224,52H32a4,4,0,0,0-4,4V192a12,12,0,0,0,12,12H216a12,12,0,0,0,12-12V56A4,4,0,0,0,224,52Zm-96,86.57L42.28,60H213.72ZM104.63,128,36,190.91V65.09Zm5.92,5.43L125.3,147a4,4,0,0,0,5.4,0l14.75-13.52L213.72,196H42.28ZM151.37,128,220,65.09V190.91Z"/>`],["light",M`<path d="M224,50H32a6,6,0,0,0-6,6V192a14,14,0,0,0,14,14H216a14,14,0,0,0,14-14V56A6,6,0,0,0,224,50Zm-96,85.86L47.42,62H208.58ZM101.67,128,38,186.36V69.64Zm8.88,8.14L124,148.42a6,6,0,0,0,8.1,0l13.4-12.28L208.58,194H47.43ZM154.33,128,218,69.64V186.36Z"/>`],["regular",M`<path d="M224,48H32a8,8,0,0,0-8,8V192a16,16,0,0,0,16,16H216a16,16,0,0,0,16-16V56A8,8,0,0,0,224,48Zm-96,85.15L52.57,64H203.43ZM98.71,128,40,181.81V74.19Zm11.84,10.85,12,11.05a8,8,0,0,0,10.82,0l12-11.05,58,53.15H52.57ZM157.29,128,216,74.18V181.82Z"/>`],["bold",M`<path d="M224,44H32A12,12,0,0,0,20,56V192a20,20,0,0,0,20,20H216a20,20,0,0,0,20-20V56A12,12,0,0,0,224,44Zm-96,83.72L62.85,68h130.3ZM92.79,128,44,172.72V83.28Zm17.76,16.28,9.34,8.57a12,12,0,0,0,16.22,0l9.34-8.57L193.15,188H62.85ZM163.21,128,212,83.28v89.44Z"/>`],["fill",M`<path d="M224,48H32a8,8,0,0,0-8,8V192a16,16,0,0,0,16,16H216a16,16,0,0,0,16-16V56A8,8,0,0,0,224,48ZM98.71,128,40,181.81V74.19Zm11.84,10.85,12,11.05a8,8,0,0,0,10.82,0l12-11.05,58,53.15H52.57ZM157.29,128,216,74.18V181.82Z"/>`],["duotone",M`<path d="M224,56l-96,88L32,56Z" opacity="0.2"/><path d="M224,48H32a8,8,0,0,0-8,8V192a16,16,0,0,0,16,16H216a16,16,0,0,0,16-16V56A8,8,0,0,0,224,48Zm-96,85.15L52.57,64H203.43ZM98.71,128,40,181.81V74.19Zm11.84,10.85,12,11.05a8,8,0,0,0,10.82,0l12-11.05,58,53.15H52.57ZM157.29,128,216,74.18V181.82Z"/>`]]);rd.styles=ge`
    :host {
      display: contents;
    }
  `;L3([z({type:String,reflect:!0})],rd.prototype,"size",2);L3([z({type:String,reflect:!0})],rd.prototype,"weight",2);L3([z({type:String,reflect:!0})],rd.prototype,"color",2);L3([z({type:Boolean,reflect:!0})],rd.prototype,"mirrored",2);rd=L3([we("ph-envelope")],rd)});var Mbe={};Se(Mbe,{PhFunnelSimple:()=>nd});var dnt,pnt,M3,nd,Hbe=m(()=>{Ge();Qe();tt();rt();nt();Je();dnt=Object.defineProperty,pnt=Object.getOwnPropertyDescriptor,M3=(e,t,r,n)=>{for(var s=n>1?void 0:n?pnt(t,r):t,o=e.length-1,i;o>=0;o--)(i=e[o])&&(s=(n?i(t,r,s):i(s))||s);return n&&s&&dnt(t,r,s),s},nd=class extends he{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return ye`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${nd.weightsMap.get((e=this.weight)!=null?e:"regular")}
    </svg>`}};nd.weightsMap=new Map([["thin",M`<path d="M196,136a4,4,0,0,1-4,4H64a4,4,0,0,1,0-8H192A4,4,0,0,1,196,136Zm36-52H24a4,4,0,0,0,0,8H232a4,4,0,0,0,0-8Zm-80,96H104a4,4,0,0,0,0,8h48a4,4,0,0,0,0-8Z"/>`],["light",M`<path d="M198,136a6,6,0,0,1-6,6H64a6,6,0,0,1,0-12H192A6,6,0,0,1,198,136Zm34-54H24a6,6,0,0,0,0,12H232a6,6,0,0,0,0-12Zm-80,96H104a6,6,0,0,0,0,12h48a6,6,0,0,0,0-12Z"/>`],["regular",M`<path d="M200,136a8,8,0,0,1-8,8H64a8,8,0,0,1,0-16H192A8,8,0,0,1,200,136Zm32-56H24a8,8,0,0,0,0,16H232a8,8,0,0,0,0-16Zm-80,96H104a8,8,0,0,0,0,16h48a8,8,0,0,0,0-16Z"/>`],["bold",M`<path d="M204,136a12,12,0,0,1-12,12H64a12,12,0,0,1,0-24H192A12,12,0,0,1,204,136Zm28-60H24a12,12,0,0,0,0,24H232a12,12,0,0,0,0-24Zm-80,96H104a12,12,0,0,0,0,24h48a12,12,0,0,0,0-24Z"/>`],["fill",M`<path d="M216,40H40A16,16,0,0,0,24,56V200a16,16,0,0,0,16,16H216a16,16,0,0,0,16-16V56A16,16,0,0,0,216,40ZM144,176H112a8,8,0,0,1,0-16h32a8,8,0,0,1,0,16Zm32-40H80a8,8,0,0,1,0-16h96a8,8,0,0,1,0,16Zm32-40H48a8,8,0,0,1,0-16H208a8,8,0,0,1,0,16Z"/>`],["duotone",M`<path d="M232,56V200a16,16,0,0,1-16,16H40a16,16,0,0,1-16-16V56A16,16,0,0,1,40,40H216A16,16,0,0,1,232,56Z" opacity="0.2"/><path d="M200,136a8,8,0,0,1-8,8H64a8,8,0,0,1,0-16H192A8,8,0,0,1,200,136Zm32-56H24a8,8,0,0,0,0,16H232a8,8,0,0,0,0-16Zm-80,96H104a8,8,0,0,0,0,16h48a8,8,0,0,0,0-16Z"/>`]]);nd.styles=ge`
    :host {
      display: contents;
    }
  `;M3([z({type:String,reflect:!0})],nd.prototype,"size",2);M3([z({type:String,reflect:!0})],nd.prototype,"weight",2);M3([z({type:String,reflect:!0})],nd.prototype,"color",2);M3([z({type:Boolean,reflect:!0})],nd.prototype,"mirrored",2);nd=M3([we("ph-funnel-simple")],nd)});var $be={};Se($be,{PhGlobe:()=>sd});var fnt,hnt,H3,sd,Fbe=m(()=>{Ge();Qe();tt();rt();nt();Je();fnt=Object.defineProperty,hnt=Object.getOwnPropertyDescriptor,H3=(e,t,r,n)=>{for(var s=n>1?void 0:n?hnt(t,r):t,o=e.length-1,i;o>=0;o--)(i=e[o])&&(s=(n?i(t,r,s):i(s))||s);return n&&s&&fnt(t,r,s),s},sd=class extends he{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return ye`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${sd.weightsMap.get((e=this.weight)!=null?e:"regular")}
    </svg>`}};sd.weightsMap=new Map([["thin",M`<path d="M128,28h0A100,100,0,1,0,228,128,100.11,100.11,0,0,0,128,28Zm0,190.61c-6.33-6.09-23-24.41-31.27-54.61h62.54C151,194.2,134.33,212.52,128,218.61ZM94.82,156a140.42,140.42,0,0,1,0-56h66.36a140.42,140.42,0,0,1,0,56ZM128,37.39c6.33,6.09,23,24.41,31.27,54.61H96.73C105,61.8,121.67,43.48,128,37.39ZM169.41,100h46.23a92.09,92.09,0,0,1,0,56H169.41a152.65,152.65,0,0,0,0-56Zm43.25-8h-45a129.39,129.39,0,0,0-29.19-55.4A92.25,92.25,0,0,1,212.66,92ZM117.54,36.6A129.39,129.39,0,0,0,88.35,92h-45A92.25,92.25,0,0,1,117.54,36.6ZM40.36,100H86.59a152.65,152.65,0,0,0,0,56H40.36a92.09,92.09,0,0,1,0-56Zm3,64h45a129.39,129.39,0,0,0,29.19,55.4A92.25,92.25,0,0,1,43.34,164Zm95.12,55.4A129.39,129.39,0,0,0,167.65,164h45A92.25,92.25,0,0,1,138.46,219.4Z"/>`],["light",M`<path d="M128,26A102,102,0,1,0,230,128,102.12,102.12,0,0,0,128,26Zm81.57,64H169.19a132.58,132.58,0,0,0-25.73-50.67A90.29,90.29,0,0,1,209.57,90ZM218,128a89.7,89.7,0,0,1-3.83,26H171.81a155.43,155.43,0,0,0,0-52h42.36A89.7,89.7,0,0,1,218,128Zm-90,87.83a110,110,0,0,1-15.19-19.45A124.24,124.24,0,0,1,99.35,166h57.3a124.24,124.24,0,0,1-13.46,30.38A110,110,0,0,1,128,215.83ZM96.45,154a139.18,139.18,0,0,1,0-52h63.1a139.18,139.18,0,0,1,0,52ZM38,128a89.7,89.7,0,0,1,3.83-26H84.19a155.43,155.43,0,0,0,0,52H41.83A89.7,89.7,0,0,1,38,128Zm90-87.83a110,110,0,0,1,15.19,19.45A124.24,124.24,0,0,1,156.65,90H99.35a124.24,124.24,0,0,1,13.46-30.38A110,110,0,0,1,128,40.17Zm-15.46-.84A132.58,132.58,0,0,0,86.81,90H46.43A90.29,90.29,0,0,1,112.54,39.33ZM46.43,166H86.81a132.58,132.58,0,0,0,25.73,50.67A90.29,90.29,0,0,1,46.43,166Zm97,50.67A132.58,132.58,0,0,0,169.19,166h40.38A90.29,90.29,0,0,1,143.46,216.67Z"/>`],["regular",M`<path d="M128,24h0A104,104,0,1,0,232,128,104.12,104.12,0,0,0,128,24Zm88,104a87.61,87.61,0,0,1-3.33,24H174.16a157.44,157.44,0,0,0,0-48h38.51A87.61,87.61,0,0,1,216,128ZM102,168H154a115.11,115.11,0,0,1-26,45A115.27,115.27,0,0,1,102,168Zm-3.9-16a140.84,140.84,0,0,1,0-48h59.88a140.84,140.84,0,0,1,0,48ZM40,128a87.61,87.61,0,0,1,3.33-24H81.84a157.44,157.44,0,0,0,0,48H43.33A87.61,87.61,0,0,1,40,128ZM154,88H102a115.11,115.11,0,0,1,26-45A115.27,115.27,0,0,1,154,88Zm52.33,0H170.71a135.28,135.28,0,0,0-22.3-45.6A88.29,88.29,0,0,1,206.37,88ZM107.59,42.4A135.28,135.28,0,0,0,85.29,88H49.63A88.29,88.29,0,0,1,107.59,42.4ZM49.63,168H85.29a135.28,135.28,0,0,0,22.3,45.6A88.29,88.29,0,0,1,49.63,168Zm98.78,45.6a135.28,135.28,0,0,0,22.3-45.6h35.66A88.29,88.29,0,0,1,148.41,213.6Z"/>`],["bold",M`<path d="M128,20A108,108,0,1,0,236,128,108.12,108.12,0,0,0,128,20Zm0,187a113.4,113.4,0,0,1-20.39-35h40.82a116.94,116.94,0,0,1-10,20.77A108.61,108.61,0,0,1,128,207Zm-26.49-59a135.42,135.42,0,0,1,0-40h53a135.42,135.42,0,0,1,0,40ZM44,128a83.49,83.49,0,0,1,2.43-20H77.25a160.63,160.63,0,0,0,0,40H46.43A83.49,83.49,0,0,1,44,128Zm84-79a113.4,113.4,0,0,1,20.39,35H107.59a116.94,116.94,0,0,1,10-20.77A108.61,108.61,0,0,1,128,49Zm50.73,59h30.82a83.52,83.52,0,0,1,0,40H178.75a160.63,160.63,0,0,0,0-40Zm20.77-24H173.71a140.82,140.82,0,0,0-15.5-34.36A84.51,84.51,0,0,1,199.52,84ZM97.79,49.64A140.82,140.82,0,0,0,82.29,84H56.48A84.51,84.51,0,0,1,97.79,49.64ZM56.48,172H82.29a140.82,140.82,0,0,0,15.5,34.36A84.51,84.51,0,0,1,56.48,172Zm101.73,34.36A140.82,140.82,0,0,0,173.71,172h25.81A84.51,84.51,0,0,1,158.21,206.36Z"/>`],["fill",M`<path d="M128,24h0A104,104,0,1,0,232,128,104.12,104.12,0,0,0,128,24Zm78.36,64H170.71a135.28,135.28,0,0,0-22.3-45.6A88.29,88.29,0,0,1,206.37,88ZM216,128a87.61,87.61,0,0,1-3.33,24H174.16a157.44,157.44,0,0,0,0-48h38.51A87.61,87.61,0,0,1,216,128ZM128,43a115.27,115.27,0,0,1,26,45H102A115.11,115.11,0,0,1,128,43ZM102,168H154a115.11,115.11,0,0,1-26,45A115.27,115.27,0,0,1,102,168Zm-3.9-16a140.84,140.84,0,0,1,0-48h59.88a140.84,140.84,0,0,1,0,48Zm50.35,61.6a135.28,135.28,0,0,0,22.3-45.6h35.66A88.29,88.29,0,0,1,148.41,213.6Z"/>`],["duotone",M`<path d="M224,128a96,96,0,1,1-96-96A96,96,0,0,1,224,128Z" opacity="0.2"/><path d="M128,24h0A104,104,0,1,0,232,128,104.12,104.12,0,0,0,128,24Zm88,104a87.61,87.61,0,0,1-3.33,24H174.16a157.44,157.44,0,0,0,0-48h38.51A87.61,87.61,0,0,1,216,128ZM102,168H154a115.11,115.11,0,0,1-26,45A115.27,115.27,0,0,1,102,168Zm-3.9-16a140.84,140.84,0,0,1,0-48h59.88a140.84,140.84,0,0,1,0,48ZM40,128a87.61,87.61,0,0,1,3.33-24H81.84a157.44,157.44,0,0,0,0,48H43.33A87.61,87.61,0,0,1,40,128ZM154,88H102a115.11,115.11,0,0,1,26-45A115.27,115.27,0,0,1,154,88Zm52.33,0H170.71a135.28,135.28,0,0,0-22.3-45.6A88.29,88.29,0,0,1,206.37,88ZM107.59,42.4A135.28,135.28,0,0,0,85.29,88H49.63A88.29,88.29,0,0,1,107.59,42.4ZM49.63,168H85.29a135.28,135.28,0,0,0,22.3,45.6A88.29,88.29,0,0,1,49.63,168Zm98.78,45.6a135.28,135.28,0,0,0,22.3-45.6h35.66A88.29,88.29,0,0,1,148.41,213.6Z"/>`]]);sd.styles=ge`
    :host {
      display: contents;
    }
  `;H3([z({type:String,reflect:!0})],sd.prototype,"size",2);H3([z({type:String,reflect:!0})],sd.prototype,"weight",2);H3([z({type:String,reflect:!0})],sd.prototype,"color",2);H3([z({type:Boolean,reflect:!0})],sd.prototype,"mirrored",2);sd=H3([we("ph-globe")],sd)});var jbe={};Se(jbe,{PhIdentificationCard:()=>od});var mnt,gnt,$3,od,zbe=m(()=>{Ge();Qe();tt();rt();nt();Je();mnt=Object.defineProperty,gnt=Object.getOwnPropertyDescriptor,$3=(e,t,r,n)=>{for(var s=n>1?void 0:n?gnt(t,r):t,o=e.length-1,i;o>=0;o--)(i=e[o])&&(s=(n?i(t,r,s):i(s))||s);return n&&s&&mnt(t,r,s),s},od=class extends he{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return ye`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${od.weightsMap.get((e=this.weight)!=null?e:"regular")}
    </svg>`}};od.weightsMap=new Map([["thin",M`<path d="M196,112a4,4,0,0,1-4,4H152a4,4,0,0,1,0-8h40A4,4,0,0,1,196,112Zm-4,28H152a4,4,0,0,0,0,8h40a4,4,0,0,0,0-8Zm36-84V200a12,12,0,0,1-12,12H40a12,12,0,0,1-12-12V56A12,12,0,0,1,40,44H216A12,12,0,0,1,228,56Zm-8,0a4,4,0,0,0-4-4H40a4,4,0,0,0-4,4V200a4,4,0,0,0,4,4H216a4,4,0,0,0,4-4ZM131.87,167a4,4,0,1,1-7.74,2C121.06,157,109,148,96,148s-25,9-28.13,21A4,4,0,0,1,64,172a3.87,3.87,0,0,1-1-.13A4,4,0,0,1,60.13,167a36.28,36.28,0,0,1,20.43-23.66,28,28,0,1,1,30.88,0A36.2,36.2,0,0,1,131.87,167ZM96,140a20,20,0,1,0-20-20A20,20,0,0,0,96,140Z"/>`],["light",M`<path d="M198,112a6,6,0,0,1-6,6H152a6,6,0,0,1,0-12h40A6,6,0,0,1,198,112Zm-6,26H152a6,6,0,0,0,0,12h40a6,6,0,0,0,0-12Zm38-82V200a14,14,0,0,1-14,14H40a14,14,0,0,1-14-14V56A14,14,0,0,1,40,42H216A14,14,0,0,1,230,56Zm-12,0a2,2,0,0,0-2-2H40a2,2,0,0,0-2,2V200a2,2,0,0,0,2,2H216a2,2,0,0,0,2-2ZM133.81,166.51a6,6,0,0,1-11.62,3C119.34,158.38,108.08,150,96,150s-23.33,8.38-26.19,19.5a6,6,0,0,1-11.62-3A38,38,0,0,1,76.78,143a30,30,0,1,1,38.45,0A38,38,0,0,1,133.81,166.51ZM96,138a18,18,0,1,0-18-18A18,18,0,0,0,96,138Z"/>`],["regular",M`<path d="M200,112a8,8,0,0,1-8,8H152a8,8,0,0,1,0-16h40A8,8,0,0,1,200,112Zm-8,24H152a8,8,0,0,0,0,16h40a8,8,0,0,0,0-16Zm40-80V200a16,16,0,0,1-16,16H40a16,16,0,0,1-16-16V56A16,16,0,0,1,40,40H216A16,16,0,0,1,232,56ZM216,200V56H40V200H216Zm-80.26-34a8,8,0,1,1-15.5,4c-2.63-10.26-13.06-18-24.25-18s-21.61,7.74-24.25,18a8,8,0,1,1-15.5-4,39.84,39.84,0,0,1,17.19-23.34,32,32,0,1,1,45.12,0A39.76,39.76,0,0,1,135.75,166ZM96,136a16,16,0,1,0-16-16A16,16,0,0,0,96,136Z"/>`],["bold",M`<path d="M148,108a12,12,0,0,1,12-12h28a12,12,0,0,1,0,24H160A12,12,0,0,1,148,108Zm40,28H168a12,12,0,0,0,0,24h20a12,12,0,0,0,0-24Zm48-80V200a20,20,0,0,1-20,20H40a20,20,0,0,1-20-20V56A20,20,0,0,1,40,36H216A20,20,0,0,1,236,56Zm-24,4H44V196H212ZM58.28,159.37A43.82,43.82,0,0,1,71.53,142a36,36,0,1,1,56.94,0,43.84,43.84,0,0,1,13.26,17.37,12,12,0,0,1-22.15,9.26C116.48,161.19,108.42,156,100,156s-16.47,5.2-19.59,12.63a12,12,0,1,1-22.13-9.26ZM88,120a12,12,0,1,0,12-12A12,12,0,0,0,88,120Z"/>`],["fill",M`<path d="M112,120a16,16,0,1,1-16-16A16,16,0,0,1,112,120ZM232,56V200a16,16,0,0,1-16,16H40a16,16,0,0,1-16-16V56A16,16,0,0,1,40,40H216A16,16,0,0,1,232,56ZM135.75,166a39.76,39.76,0,0,0-17.19-23.34,32,32,0,1,0-45.12,0A39.84,39.84,0,0,0,56.25,166a8,8,0,0,0,15.5,4c2.64-10.25,13.06-18,24.25-18s21.62,7.73,24.25,18a8,8,0,1,0,15.5-4ZM200,144a8,8,0,0,0-8-8H152a8,8,0,0,0,0,16h40A8,8,0,0,0,200,144Zm0-32a8,8,0,0,0-8-8H152a8,8,0,0,0,0,16h40A8,8,0,0,0,200,112Z"/>`],["duotone",M`<path d="M216,48H40a8,8,0,0,0-8,8V200a8,8,0,0,0,8,8H216a8,8,0,0,0,8-8V56A8,8,0,0,0,216,48ZM96,144a24,24,0,1,1,24-24A24,24,0,0,1,96,144Z" opacity="0.2"/><path d="M200,112a8,8,0,0,1-8,8H152a8,8,0,0,1,0-16h40A8,8,0,0,1,200,112Zm-8,24H152a8,8,0,0,0,0,16h40a8,8,0,0,0,0-16Zm40-80V200a16,16,0,0,1-16,16H40a16,16,0,0,1-16-16V56A16,16,0,0,1,40,40H216A16,16,0,0,1,232,56ZM216,200V56H40V200H216Zm-80.26-34a8,8,0,1,1-15.5,4c-2.63-10.26-13.06-18-24.25-18s-21.61,7.74-24.25,18a8,8,0,1,1-15.5-4,39.84,39.84,0,0,1,17.19-23.34,32,32,0,1,1,45.12,0A39.76,39.76,0,0,1,135.75,166ZM96,136a16,16,0,1,0-16-16A16,16,0,0,0,96,136Z"/>`]]);od.styles=ge`
    :host {
      display: contents;
    }
  `;$3([z({type:String,reflect:!0})],od.prototype,"size",2);$3([z({type:String,reflect:!0})],od.prototype,"weight",2);$3([z({type:String,reflect:!0})],od.prototype,"color",2);$3([z({type:Boolean,reflect:!0})],od.prototype,"mirrored",2);od=$3([we("ph-identification-card")],od)});var Vbe={};Se(Vbe,{PhImage:()=>id});var ynt,wnt,F3,id,qbe=m(()=>{Ge();Qe();tt();rt();nt();Je();ynt=Object.defineProperty,wnt=Object.getOwnPropertyDescriptor,F3=(e,t,r,n)=>{for(var s=n>1?void 0:n?wnt(t,r):t,o=e.length-1,i;o>=0;o--)(i=e[o])&&(s=(n?i(t,r,s):i(s))||s);return n&&s&&ynt(t,r,s),s},id=class extends he{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return ye`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${id.weightsMap.get((e=this.weight)!=null?e:"regular")}
    </svg>`}};id.weightsMap=new Map([["thin",M`<path d="M216,44H40A12,12,0,0,0,28,56V200a12,12,0,0,0,12,12H216a12,12,0,0,0,12-12V56A12,12,0,0,0,216,44ZM40,52H216a4,4,0,0,1,4,4V168.4l-32.89-32.89a12,12,0,0,0-17,0l-22.83,22.83-46.82-46.83a12,12,0,0,0-17,0L36,159V56A4,4,0,0,1,40,52ZM36,200V170.34l53.17-53.17a4,4,0,0,1,5.66,0L181.66,204H40A4,4,0,0,1,36,200Zm180,4H193l-40-40,22.83-22.83a4,4,0,0,1,5.66,0L220,179.71V200A4,4,0,0,1,216,204ZM148,100a8,8,0,1,1,8,8A8,8,0,0,1,148,100Z"/>`],["light",M`<path d="M216,42H40A14,14,0,0,0,26,56V200a14,14,0,0,0,14,14H216a14,14,0,0,0,14-14V56A14,14,0,0,0,216,42ZM40,54H216a2,2,0,0,1,2,2V163.57L188.53,134.1a14,14,0,0,0-19.8,0l-21.42,21.42L101.9,110.1a14,14,0,0,0-19.8,0L38,154.2V56A2,2,0,0,1,40,54ZM38,200V171.17l52.58-52.58a2,2,0,0,1,2.84,0L176.83,202H40A2,2,0,0,1,38,200Zm178,2H193.8l-38-38,21.41-21.42a2,2,0,0,1,2.83,0l38,38V200A2,2,0,0,1,216,202ZM146,100a10,10,0,1,1,10,10A10,10,0,0,1,146,100Z"/>`],["regular",M`<path d="M216,40H40A16,16,0,0,0,24,56V200a16,16,0,0,0,16,16H216a16,16,0,0,0,16-16V56A16,16,0,0,0,216,40Zm0,16V158.75l-26.07-26.06a16,16,0,0,0-22.63,0l-20,20-44-44a16,16,0,0,0-22.62,0L40,149.37V56ZM40,172l52-52,80,80H40Zm176,28H194.63l-36-36,20-20L216,181.38V200ZM144,100a12,12,0,1,1,12,12A12,12,0,0,1,144,100Z"/>`],["bold",M`<path d="M144,96a16,16,0,1,1,16,16A16,16,0,0,1,144,96Zm92-40V200a20,20,0,0,1-20,20H40a20,20,0,0,1-20-20V56A20,20,0,0,1,40,36H216A20,20,0,0,1,236,56ZM44,60v79.72l33.86-33.86a20,20,0,0,1,28.28,0L147.31,147l17.18-17.17a20,20,0,0,1,28.28,0L212,149.09V60Zm0,136H162.34L92,125.66l-48,48Zm168,0V183l-33.37-33.37L164.28,164l32,32Z"/>`],["fill",M`<path d="M216,40H40A16,16,0,0,0,24,56V200a16,16,0,0,0,16,16H216a16,16,0,0,0,16-16V56A16,16,0,0,0,216,40ZM156,88a12,12,0,1,1-12,12A12,12,0,0,1,156,88Zm60,112H40V160.69l46.34-46.35a8,8,0,0,1,11.32,0h0L165,181.66a8,8,0,0,0,11.32-11.32l-17.66-17.65L173,138.34a8,8,0,0,1,11.31,0L216,170.07V200Z"/>`],["duotone",M`<path d="M224,56V178.06l-39.72-39.72a8,8,0,0,0-11.31,0L147.31,164,97.66,114.34a8,8,0,0,0-11.32,0L32,168.69V56a8,8,0,0,1,8-8H216A8,8,0,0,1,224,56Z" opacity="0.2"/><path d="M216,40H40A16,16,0,0,0,24,56V200a16,16,0,0,0,16,16H216a16,16,0,0,0,16-16V56A16,16,0,0,0,216,40Zm0,16V158.75l-26.07-26.06a16,16,0,0,0-22.63,0l-20,20-44-44a16,16,0,0,0-22.62,0L40,149.37V56ZM40,172l52-52,80,80H40Zm176,28H194.63l-36-36,20-20L216,181.38V200ZM144,100a12,12,0,1,1,12,12A12,12,0,0,1,144,100Z"/>`]]);id.styles=ge`
    :host {
      display: contents;
    }
  `;F3([z({type:String,reflect:!0})],id.prototype,"size",2);F3([z({type:String,reflect:!0})],id.prototype,"weight",2);F3([z({type:String,reflect:!0})],id.prototype,"color",2);F3([z({type:Boolean,reflect:!0})],id.prototype,"mirrored",2);id=F3([we("ph-image")],id)});var Wbe={};Se(Wbe,{PhInfo:()=>ad});var bnt,xnt,j3,ad,Kbe=m(()=>{Ge();Qe();tt();rt();nt();Je();bnt=Object.defineProperty,xnt=Object.getOwnPropertyDescriptor,j3=(e,t,r,n)=>{for(var s=n>1?void 0:n?xnt(t,r):t,o=e.length-1,i;o>=0;o--)(i=e[o])&&(s=(n?i(t,r,s):i(s))||s);return n&&s&&bnt(t,r,s),s},ad=class extends he{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return ye`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${ad.weightsMap.get((e=this.weight)!=null?e:"regular")}
    </svg>`}};ad.weightsMap=new Map([["thin",M`<path d="M140,176a4,4,0,0,1-4,4,12,12,0,0,1-12-12V128a4,4,0,0,0-4-4,4,4,0,0,1,0-8,12,12,0,0,1,12,12v40a4,4,0,0,0,4,4A4,4,0,0,1,140,176ZM124,92a8,8,0,1,0-8-8A8,8,0,0,0,124,92Zm104,36A100,100,0,1,1,128,28,100.11,100.11,0,0,1,228,128Zm-8,0a92,92,0,1,0-92,92A92.1,92.1,0,0,0,220,128Z"/>`],["light",M`<path d="M142,176a6,6,0,0,1-6,6,14,14,0,0,1-14-14V128a2,2,0,0,0-2-2,6,6,0,0,1,0-12,14,14,0,0,1,14,14v40a2,2,0,0,0,2,2A6,6,0,0,1,142,176ZM124,94a10,10,0,1,0-10-10A10,10,0,0,0,124,94Zm106,34A102,102,0,1,1,128,26,102.12,102.12,0,0,1,230,128Zm-12,0a90,90,0,1,0-90,90A90.1,90.1,0,0,0,218,128Z"/>`],["regular",M`<path d="M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm0,192a88,88,0,1,1,88-88A88.1,88.1,0,0,1,128,216Zm16-40a8,8,0,0,1-8,8,16,16,0,0,1-16-16V128a8,8,0,0,1,0-16,16,16,0,0,1,16,16v40A8,8,0,0,1,144,176ZM112,84a12,12,0,1,1,12,12A12,12,0,0,1,112,84Z"/>`],["bold",M`<path d="M108,84a16,16,0,1,1,16,16A16,16,0,0,1,108,84Zm128,44A108,108,0,1,1,128,20,108.12,108.12,0,0,1,236,128Zm-24,0a84,84,0,1,0-84,84A84.09,84.09,0,0,0,212,128Zm-72,36.68V132a20,20,0,0,0-20-20,12,12,0,0,0-4,23.32V168a20,20,0,0,0,20,20,12,12,0,0,0,4-23.32Z"/>`],["fill",M`<path d="M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm-4,48a12,12,0,1,1-12,12A12,12,0,0,1,124,72Zm12,112a16,16,0,0,1-16-16V128a8,8,0,0,1,0-16,16,16,0,0,1,16,16v40a8,8,0,0,1,0,16Z"/>`],["duotone",M`<path d="M224,128a96,96,0,1,1-96-96A96,96,0,0,1,224,128Z" opacity="0.2"/><path d="M144,176a8,8,0,0,1-8,8,16,16,0,0,1-16-16V128a8,8,0,0,1,0-16,16,16,0,0,1,16,16v40A8,8,0,0,1,144,176Zm88-48A104,104,0,1,1,128,24,104.11,104.11,0,0,1,232,128Zm-16,0a88,88,0,1,0-88,88A88.1,88.1,0,0,0,216,128ZM124,96a12,12,0,1,0-12-12A12,12,0,0,0,124,96Z"/>`]]);ad.styles=ge`
    :host {
      display: contents;
    }
  `;j3([z({type:String,reflect:!0})],ad.prototype,"size",2);j3([z({type:String,reflect:!0})],ad.prototype,"weight",2);j3([z({type:String,reflect:!0})],ad.prototype,"color",2);j3([z({type:Boolean,reflect:!0})],ad.prototype,"mirrored",2);ad=j3([we("ph-info")],ad)});var Zbe={};Se(Zbe,{PhLightbulb:()=>cd});var vnt,Ent,z3,cd,Gbe=m(()=>{Ge();Qe();tt();rt();nt();Je();vnt=Object.defineProperty,Ent=Object.getOwnPropertyDescriptor,z3=(e,t,r,n)=>{for(var s=n>1?void 0:n?Ent(t,r):t,o=e.length-1,i;o>=0;o--)(i=e[o])&&(s=(n?i(t,r,s):i(s))||s);return n&&s&&vnt(t,r,s),s},cd=class extends he{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return ye`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${cd.weightsMap.get((e=this.weight)!=null?e:"regular")}
    </svg>`}};cd.weightsMap=new Map([["thin",M`<path d="M172,232a4,4,0,0,1-4,4H88a4,4,0,0,1,0-8h80A4,4,0,0,1,172,232Zm40-128a83.59,83.59,0,0,1-32.11,66.06A20.2,20.2,0,0,0,172,186v6a12,12,0,0,1-12,12H96a12,12,0,0,1-12-12v-6a20,20,0,0,0-7.76-15.81A83.58,83.58,0,0,1,44,104.47C43.75,59,80.52,21.09,126,20a84,84,0,0,1,86,84Zm-8,0a76,76,0,0,0-77.83-76C85,29,51.77,63.27,52,104.43a75.62,75.62,0,0,0,29.17,59.43A28,28,0,0,1,92,186v6a4,4,0,0,0,4,4h64a4,4,0,0,0,4-4v-6a28.14,28.14,0,0,1,10.94-22.2A75.62,75.62,0,0,0,204,104ZM136.66,52.06a4,4,0,0,0-1.32,7.88C153.53,63,169,78.45,172.06,96.67A4,4,0,0,0,176,100a3.88,3.88,0,0,0,.67-.06,4,4,0,0,0,3.27-4.61A53.51,53.51,0,0,0,136.66,52.06Z"/>`],["light",M`<path d="M174,232a6,6,0,0,1-6,6H88a6,6,0,0,1,0-12h80A6,6,0,0,1,174,232Zm40-128a85.56,85.56,0,0,1-32.88,67.64A18.23,18.23,0,0,0,174,186v6a14,14,0,0,1-14,14H96a14,14,0,0,1-14-14v-6a18,18,0,0,0-7-14.23h0a85.59,85.59,0,0,1-33-67.24C41.74,57.91,79.39,19.12,125.93,18A86,86,0,0,1,214,104Zm-12,0a74,74,0,0,0-75.79-74C86.17,31,53.78,64.34,54,104.42a73.67,73.67,0,0,0,28.4,57.87A29.92,29.92,0,0,1,94,186v6a2,2,0,0,0,2,2h64a2,2,0,0,0,2-2v-6a30.18,30.18,0,0,1,11.7-23.78A73.59,73.59,0,0,0,202,104Zm-20.08-9A55.58,55.58,0,0,0,137,50.08a6,6,0,1,0-2,11.84C152.38,64.84,167.13,79.6,170.08,97a6,6,0,0,0,5.91,5,6.87,6.87,0,0,0,1-.08A6,6,0,0,0,181.92,95Z"/>`],["regular",M`<path d="M176,232a8,8,0,0,1-8,8H88a8,8,0,0,1,0-16h80A8,8,0,0,1,176,232Zm40-128a87.55,87.55,0,0,1-33.64,69.21A16.24,16.24,0,0,0,176,186v6a16,16,0,0,1-16,16H96a16,16,0,0,1-16-16v-6a16,16,0,0,0-6.23-12.66A87.59,87.59,0,0,1,40,104.49C39.74,56.83,78.26,17.14,125.88,16A88,88,0,0,1,216,104Zm-16,0a72,72,0,0,0-73.74-72c-39,.92-70.47,33.39-70.26,72.39a71.65,71.65,0,0,0,27.64,56.3A32,32,0,0,1,96,186v6h64v-6a32.15,32.15,0,0,1,12.47-25.35A71.65,71.65,0,0,0,200,104Zm-16.11-9.34a57.6,57.6,0,0,0-46.56-46.55,8,8,0,0,0-2.66,15.78c16.57,2.79,30.63,16.85,33.44,33.45A8,8,0,0,0,176,104a9,9,0,0,0,1.35-.11A8,8,0,0,0,183.89,94.66Z"/>`],["bold",M`<path d="M180,232a12,12,0,0,1-12,12H88a12,12,0,0,1,0-24h80A12,12,0,0,1,180,232Zm40-128a91.51,91.51,0,0,1-35.17,72.35A12.26,12.26,0,0,0,180,186v2a20,20,0,0,1-20,20H96a20,20,0,0,1-20-20v-2a12,12,0,0,0-4.7-9.51A91.57,91.57,0,0,1,36,104.52C35.73,54.69,76,13.2,125.79,12A92,92,0,0,1,220,104Zm-24,0a68,68,0,0,0-69.65-68C89.56,36.88,59.8,67.55,60,104.38a67.71,67.71,0,0,0,26.1,53.19A35.87,35.87,0,0,1,100,184h56.1A36.13,36.13,0,0,1,170,157.49,67.68,67.68,0,0,0,196,104Zm-20.07-5.32a48.5,48.5,0,0,0-31.91-40,12,12,0,0,0-8,22.62,24.31,24.31,0,0,1,16.09,20,12,12,0,0,0,23.86-2.64Z"/>`],["fill",M`<path d="M176,232a8,8,0,0,1-8,8H88a8,8,0,0,1,0-16h80A8,8,0,0,1,176,232Zm40-128a87.55,87.55,0,0,1-33.64,69.21A16.24,16.24,0,0,0,176,186v6a16,16,0,0,1-16,16H96a16,16,0,0,1-16-16v-6a16,16,0,0,0-6.23-12.66A87.59,87.59,0,0,1,40,104.49C39.74,56.83,78.26,17.14,125.88,16A88,88,0,0,1,216,104Zm-32.11-9.34a57.6,57.6,0,0,0-46.56-46.55,8,8,0,0,0-2.66,15.78c16.57,2.79,30.63,16.85,33.44,33.45A8,8,0,0,0,176,104a9,9,0,0,0,1.35-.11A8,8,0,0,0,183.89,94.66Z"/>`],["duotone",M`<path d="M208,104a79.86,79.86,0,0,1-30.59,62.92A24.29,24.29,0,0,0,168,186v6a8,8,0,0,1-8,8H96a8,8,0,0,1-8-8v-6a24.11,24.11,0,0,0-9.3-19A79.87,79.87,0,0,1,48,104.45C47.76,61.09,82.72,25,126.07,24A80,80,0,0,1,208,104Z" opacity="0.2"/><path d="M176,232a8,8,0,0,1-8,8H88a8,8,0,0,1,0-16h80A8,8,0,0,1,176,232Zm40-128a87.55,87.55,0,0,1-33.64,69.21A16.24,16.24,0,0,0,176,186v6a16,16,0,0,1-16,16H96a16,16,0,0,1-16-16v-6a16,16,0,0,0-6.23-12.66A87.59,87.59,0,0,1,40,104.49C39.74,56.83,78.26,17.14,125.88,16A88,88,0,0,1,216,104Zm-16,0a72,72,0,0,0-73.74-72c-39,.92-70.47,33.39-70.26,72.39a71.65,71.65,0,0,0,27.64,56.3A32,32,0,0,1,96,186v6h64v-6a32.15,32.15,0,0,1,12.47-25.35A71.65,71.65,0,0,0,200,104Zm-16.11-9.34a57.6,57.6,0,0,0-46.56-46.55,8,8,0,0,0-2.66,15.78c16.57,2.79,30.63,16.85,33.44,33.45A8,8,0,0,0,176,104a9,9,0,0,0,1.35-.11A8,8,0,0,0,183.89,94.66Z"/>`]]);cd.styles=ge`
    :host {
      display: contents;
    }
  `;z3([z({type:String,reflect:!0})],cd.prototype,"size",2);z3([z({type:String,reflect:!0})],cd.prototype,"weight",2);z3([z({type:String,reflect:!0})],cd.prototype,"color",2);z3([z({type:Boolean,reflect:!0})],cd.prototype,"mirrored",2);cd=z3([we("ph-lightbulb")],cd)});var Ybe={};Se(Ybe,{PhMagnifyingGlass:()=>ld});var Ant,Cnt,V3,ld,Jbe=m(()=>{Ge();Qe();tt();rt();nt();Je();Ant=Object.defineProperty,Cnt=Object.getOwnPropertyDescriptor,V3=(e,t,r,n)=>{for(var s=n>1?void 0:n?Cnt(t,r):t,o=e.length-1,i;o>=0;o--)(i=e[o])&&(s=(n?i(t,r,s):i(s))||s);return n&&s&&Ant(t,r,s),s},ld=class extends he{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return ye`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${ld.weightsMap.get((e=this.weight)!=null?e:"regular")}
    </svg>`}};ld.weightsMap=new Map([["thin",M`<path d="M226.83,221.17l-52.7-52.7a84.1,84.1,0,1,0-5.66,5.66l52.7,52.7a4,4,0,0,0,5.66-5.66ZM36,112a76,76,0,1,1,76,76A76.08,76.08,0,0,1,36,112Z"/>`],["light",M`<path d="M228.24,219.76l-51.38-51.38a86.15,86.15,0,1,0-8.48,8.48l51.38,51.38a6,6,0,0,0,8.48-8.48ZM38,112a74,74,0,1,1,74,74A74.09,74.09,0,0,1,38,112Z"/>`],["regular",M`<path d="M229.66,218.34l-50.07-50.06a88.11,88.11,0,1,0-11.31,11.31l50.06,50.07a8,8,0,0,0,11.32-11.32ZM40,112a72,72,0,1,1,72,72A72.08,72.08,0,0,1,40,112Z"/>`],["bold",M`<path d="M232.49,215.51,185,168a92.12,92.12,0,1,0-17,17l47.53,47.54a12,12,0,0,0,17-17ZM44,112a68,68,0,1,1,68,68A68.07,68.07,0,0,1,44,112Z"/>`],["fill",M`<path d="M168,112a56,56,0,1,1-56-56A56,56,0,0,1,168,112Zm61.66,117.66a8,8,0,0,1-11.32,0l-50.06-50.07a88,88,0,1,1,11.32-11.31l50.06,50.06A8,8,0,0,1,229.66,229.66ZM112,184a72,72,0,1,0-72-72A72.08,72.08,0,0,0,112,184Z"/>`],["duotone",M`<path d="M192,112a80,80,0,1,1-80-80A80,80,0,0,1,192,112Z" opacity="0.2"/><path d="M229.66,218.34,179.6,168.28a88.21,88.21,0,1,0-11.32,11.31l50.06,50.07a8,8,0,0,0,11.32-11.32ZM40,112a72,72,0,1,1,72,72A72.08,72.08,0,0,1,40,112Z"/>`]]);ld.styles=ge`
    :host {
      display: contents;
    }
  `;V3([z({type:String,reflect:!0})],ld.prototype,"size",2);V3([z({type:String,reflect:!0})],ld.prototype,"weight",2);V3([z({type:String,reflect:!0})],ld.prototype,"color",2);V3([z({type:Boolean,reflect:!0})],ld.prototype,"mirrored",2);ld=V3([we("ph-magnifying-glass")],ld)});var Qbe={};Se(Qbe,{PhPaperPlaneRight:()=>ud});var Snt,Int,q3,ud,Xbe=m(()=>{Ge();Qe();tt();rt();nt();Je();Snt=Object.defineProperty,Int=Object.getOwnPropertyDescriptor,q3=(e,t,r,n)=>{for(var s=n>1?void 0:n?Int(t,r):t,o=e.length-1,i;o>=0;o--)(i=e[o])&&(s=(n?i(t,r,s):i(s))||s);return n&&s&&Snt(t,r,s),s},ud=class extends he{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return ye`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${ud.weightsMap.get((e=this.weight)!=null?e:"regular")}
    </svg>`}};ud.weightsMap=new Map([["thin",M`<path d="M229.89,117.43l-168-95.88A12,12,0,0,0,44.7,36l31.08,92L44.71,220A12,12,0,0,0,56,236a12.13,12.13,0,0,0,5.93-1.57l167.94-96.08a12,12,0,0,0,0-20.92Zm-4,14L58,227.47a4,4,0,0,1-5.72-4.83l0-.07L82.87,132H144a4,4,0,0,0,0-8H82.87L52.26,33.37A3.89,3.89,0,0,1,53.44,29,4.13,4.13,0,0,1,56,28a3.88,3.88,0,0,1,1.93.54l168,95.87a4,4,0,0,1,0,7Z"/>`],["light",M`<path d="M230.88,115.69l-168-95.88a14,14,0,0,0-20,16.87L73.66,128,42.81,219.33A14,14,0,0,0,56,238a14.15,14.15,0,0,0,6.93-1.83L230.84,140.1a14,14,0,0,0,0-24.41Zm-5.95,14L57,225.73a2,2,0,0,1-2.86-2.42.42.42,0,0,0,0-.1L84.3,134H144a6,6,0,0,0,0-12H84.3L54.17,32.8a.3.3,0,0,0,0-.1,1.87,1.87,0,0,1,.6-2.2A1.85,1.85,0,0,1,57,30.25l168,95.89a1.93,1.93,0,0,1,1,1.74A2,2,0,0,1,224.93,129.66Z"/>`],["regular",M`<path d="M231.87,114l-168-95.89A16,16,0,0,0,40.92,37.34L71.55,128,40.92,218.67A16,16,0,0,0,56,240a16.15,16.15,0,0,0,7.93-2.1l167.92-96.05a16,16,0,0,0,.05-27.89ZM56,224a.56.56,0,0,0,0-.12L85.74,136H144a8,8,0,0,0,0-16H85.74L56.06,32.16A.46.46,0,0,0,56,32l168,95.83Z"/>`],["bold",M`<path d="M233.86,110.48,65.8,14.58A20,20,0,0,0,37.15,38.64L67.33,128,37.15,217.36A20,20,0,0,0,56,244a20.1,20.1,0,0,0,9.81-2.58l.09-.06,168-96.07a20,20,0,0,0,0-34.81ZM63.19,215.26,88.61,140H144a12,12,0,0,0,0-24H88.61L63.18,40.72l152.76,87.17Z"/>`],["fill",M`<path d="M240,127.89a16,16,0,0,1-8.18,14L63.9,237.9A16.15,16.15,0,0,1,56,240a16,16,0,0,1-15-21.33l27-79.95A4,4,0,0,1,71.72,136H144a8,8,0,0,0,8-8.53,8.19,8.19,0,0,0-8.26-7.47h-72a4,4,0,0,1-3.79-2.72l-27-79.94A16,16,0,0,1,63.84,18.07l168,95.89A16,16,0,0,1,240,127.89Z"/>`],["duotone",M`<path d="M227.91,134.86,59.93,231a8,8,0,0,1-11.44-9.67L80,128,48.49,34.72a8,8,0,0,1,11.44-9.67l168,95.85A8,8,0,0,1,227.91,134.86Z" opacity="0.2"/><path d="M231.87,114l-168-95.89A16,16,0,0,0,40.92,37.34L71.55,128,40.92,218.67A16,16,0,0,0,56,240a16.15,16.15,0,0,0,7.93-2.1l167.92-96.05a16,16,0,0,0,.05-27.89ZM56,224a.56.56,0,0,0,0-.12L85.74,136H144a8,8,0,0,0,0-16H85.74L56.06,32.16A.46.46,0,0,0,56,32l168,95.83Z"/>`]]);ud.styles=ge`
    :host {
      display: contents;
    }
  `;q3([z({type:String,reflect:!0})],ud.prototype,"size",2);q3([z({type:String,reflect:!0})],ud.prototype,"weight",2);q3([z({type:String,reflect:!0})],ud.prototype,"color",2);q3([z({type:Boolean,reflect:!0})],ud.prototype,"mirrored",2);ud=q3([we("ph-paper-plane-right")],ud)});var e6e={};Se(e6e,{PhPlus:()=>dd});var _nt,Tnt,W3,dd,t6e=m(()=>{Ge();Qe();tt();rt();nt();Je();_nt=Object.defineProperty,Tnt=Object.getOwnPropertyDescriptor,W3=(e,t,r,n)=>{for(var s=n>1?void 0:n?Tnt(t,r):t,o=e.length-1,i;o>=0;o--)(i=e[o])&&(s=(n?i(t,r,s):i(s))||s);return n&&s&&_nt(t,r,s),s},dd=class extends he{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return ye`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${dd.weightsMap.get((e=this.weight)!=null?e:"regular")}
    </svg>`}};dd.weightsMap=new Map([["thin",M`<path d="M220,128a4,4,0,0,1-4,4H132v84a4,4,0,0,1-8,0V132H40a4,4,0,0,1,0-8h84V40a4,4,0,0,1,8,0v84h84A4,4,0,0,1,220,128Z"/>`],["light",M`<path d="M222,128a6,6,0,0,1-6,6H134v82a6,6,0,0,1-12,0V134H40a6,6,0,0,1,0-12h82V40a6,6,0,0,1,12,0v82h82A6,6,0,0,1,222,128Z"/>`],["regular",M`<path d="M224,128a8,8,0,0,1-8,8H136v80a8,8,0,0,1-16,0V136H40a8,8,0,0,1,0-16h80V40a8,8,0,0,1,16,0v80h80A8,8,0,0,1,224,128Z"/>`],["bold",M`<path d="M228,128a12,12,0,0,1-12,12H140v76a12,12,0,0,1-24,0V140H40a12,12,0,0,1,0-24h76V40a12,12,0,0,1,24,0v76h76A12,12,0,0,1,228,128Z"/>`],["fill",M`<path d="M208,32H48A16,16,0,0,0,32,48V208a16,16,0,0,0,16,16H208a16,16,0,0,0,16-16V48A16,16,0,0,0,208,32ZM184,136H136v48a8,8,0,0,1-16,0V136H72a8,8,0,0,1,0-16h48V72a8,8,0,0,1,16,0v48h48a8,8,0,0,1,0,16Z"/>`],["duotone",M`<path d="M216,56V200a16,16,0,0,1-16,16H56a16,16,0,0,1-16-16V56A16,16,0,0,1,56,40H200A16,16,0,0,1,216,56Z" opacity="0.2"/><path d="M224,128a8,8,0,0,1-8,8H136v80a8,8,0,0,1-16,0V136H40a8,8,0,0,1,0-16h80V40a8,8,0,0,1,16,0v80h80A8,8,0,0,1,224,128Z"/>`]]);dd.styles=ge`
    :host {
      display: contents;
    }
  `;W3([z({type:String,reflect:!0})],dd.prototype,"size",2);W3([z({type:String,reflect:!0})],dd.prototype,"weight",2);W3([z({type:String,reflect:!0})],dd.prototype,"color",2);W3([z({type:Boolean,reflect:!0})],dd.prototype,"mirrored",2);dd=W3([we("ph-plus")],dd)});var r6e={};Se(r6e,{PhPower:()=>pd});var Pnt,Nnt,K3,pd,n6e=m(()=>{Ge();Qe();tt();rt();nt();Je();Pnt=Object.defineProperty,Nnt=Object.getOwnPropertyDescriptor,K3=(e,t,r,n)=>{for(var s=n>1?void 0:n?Nnt(t,r):t,o=e.length-1,i;o>=0;o--)(i=e[o])&&(s=(n?i(t,r,s):i(s))||s);return n&&s&&Pnt(t,r,s),s},pd=class extends he{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return ye`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${pd.weightsMap.get((e=this.weight)!=null?e:"regular")}
    </svg>`}};pd.weightsMap=new Map([["thin",M`<path d="M124,128V48a4,4,0,0,1,8,0v80a4,4,0,0,1-8,0Zm54.18-75.35a4,4,0,1,0-4.36,6.7C198.08,75.17,212,100.2,212,128a84,84,0,0,1-168,0c0-27.8,13.92-52.83,38.18-68.65a4,4,0,0,0-4.36-6.7C51.24,70,36,97.44,36,128a92,92,0,0,0,184,0C220,97.44,204.76,70,178.18,52.65Z"/>`],["light",M`<path d="M122,128V48a6,6,0,0,1,12,0v80a6,6,0,0,1-12,0Zm57.28-77A6,6,0,0,0,172.72,61C196.41,76.47,210,100.88,210,128a82,82,0,0,1-164,0c0-27.12,13.59-51.53,37.28-67A6,6,0,0,0,76.72,51C49.57,68.68,34,96.75,34,128a94,94,0,0,0,188,0C222,96.75,206.43,68.68,179.28,51Z"/>`],["regular",M`<path d="M120,128V48a8,8,0,0,1,16,0v80a8,8,0,0,1-16,0Zm60.37-78.7a8,8,0,0,0-8.74,13.4C194.74,77.77,208,101.57,208,128a80,80,0,0,1-160,0c0-26.43,13.26-50.23,36.37-65.3a8,8,0,0,0-8.74-13.4C47.9,67.38,32,96.06,32,128a96,96,0,0,0,192,0C224,96.06,208.1,67.38,180.37,49.3Z"/>`],["bold",M`<path d="M116,128V48a12,12,0,0,1,24,0v80a12,12,0,0,1-24,0Zm66.55-82a12,12,0,0,0-13.1,20.1C191.41,80.37,204,103,204,128a76,76,0,0,1-152,0c0-25,12.59-47.63,34.55-61.95A12,12,0,0,0,73.45,46C44.56,64.78,28,94.69,28,128a100,100,0,0,0,200,0C228,94.69,211.44,64.78,182.55,46Z"/>`],["fill",M`<path d="M128,24A104,104,0,1,0,232,128,104,104,0,0,0,128,24Zm-8,40a8,8,0,0,1,16,0v64a8,8,0,0,1-16,0Zm8,144A80,80,0,0,1,83.55,61.48a8,8,0,1,1,8.9,13.29,64,64,0,1,0,71.1,0,8,8,0,1,1,8.9-13.29A80,80,0,0,1,128,208Z"/>`],["duotone",M`<path d="M216,128a88,88,0,1,1-88-88A88,88,0,0,1,216,128Z" opacity="0.2"/><path d="M120,128V48a8,8,0,0,1,16,0v80a8,8,0,0,1-16,0Zm60.37-78.7a8,8,0,0,0-8.74,13.4C194.74,77.77,208,101.57,208,128a80,80,0,0,1-160,0c0-26.43,13.26-50.23,36.37-65.3a8,8,0,0,0-8.74-13.4C47.9,67.38,32,96.06,32,128a96,96,0,0,0,192,0C224,96.06,208.1,67.38,180.37,49.3Z"/>`]]);pd.styles=ge`
    :host {
      display: contents;
    }
  `;K3([z({type:String,reflect:!0})],pd.prototype,"size",2);K3([z({type:String,reflect:!0})],pd.prototype,"weight",2);K3([z({type:String,reflect:!0})],pd.prototype,"color",2);K3([z({type:Boolean,reflect:!0})],pd.prototype,"mirrored",2);pd=K3([we("ph-power")],pd)});var s6e={};Se(s6e,{PhPuzzlePiece:()=>fd});var Rnt,Ont,Z3,fd,o6e=m(()=>{Ge();Qe();tt();rt();nt();Je();Rnt=Object.defineProperty,Ont=Object.getOwnPropertyDescriptor,Z3=(e,t,r,n)=>{for(var s=n>1?void 0:n?Ont(t,r):t,o=e.length-1,i;o>=0;o--)(i=e[o])&&(s=(n?i(t,r,s):i(s))||s);return n&&s&&Rnt(t,r,s),s},fd=class extends he{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return ye`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${fd.weightsMap.get((e=this.weight)!=null?e:"regular")}
    </svg>`}};fd.weightsMap=new Map([["thin",M`<path d="M218.14,161.93a4,4,0,0,0-3.86-.24,24,24,0,0,1-34.23-23.25,24,24,0,0,1,34.23-20.13A4,4,0,0,0,220,114.7V72a12,12,0,0,0-12-12H167a32,32,0,1,0-62.91-10.33A32.57,32.57,0,0,0,105,60H64A12,12,0,0,0,52,72v37a32,32,0,1,0-10.33,62.91A32.28,32.28,0,0,0,52,171v37a12,12,0,0,0,12,12H208a12,12,0,0,0,12-12V165.31A4,4,0,0,0,218.14,161.93ZM212,208a4,4,0,0,1-4,4H64a4,4,0,0,1-4-4V165.31a4,4,0,0,0-1.86-3.38,4,4,0,0,0-3.85-.24,24,24,0,0,1-34.24-20.13,24,24,0,0,1,34.24-23.25A4,4,0,0,0,60,114.7V72a4,4,0,0,1,4-4h46.69a4,4,0,0,0,3.62-5.71,24,24,0,0,1,20.13-34.24,24,24,0,0,1,23.25,34.24A4,4,0,0,0,161.31,68H208a4,4,0,0,1,4,4v37a32.57,32.57,0,0,0-10.33-.94A32,32,0,1,0,212,171Z"/>`],["light",M`<path d="M219.21,160.24a6,6,0,0,0-5.78-.35,22,22,0,1,1-11.05-41.83,22.15,22.15,0,0,1,11.05,2.06A6,6,0,0,0,222,114.7V72a14,14,0,0,0-14-14H169.48a35,35,0,0,0,.52-6,34.1,34.1,0,0,0-10.73-24.78,33.64,33.64,0,0,0-25.45-9.15A34,34,0,0,0,102.54,58H64A14,14,0,0,0,50,72v34.53a34,34,0,0,0-30.79,10.2,34,34,0,0,0,22.31,57.18,34.34,34.34,0,0,0,8.48-.44V208a14,14,0,0,0,14,14H208a14,14,0,0,0,14-14V165.31A6,6,0,0,0,219.21,160.24ZM210,208a2,2,0,0,1-2,2H64a2,2,0,0,1-2-2V165.31a6,6,0,0,0-6-6,5.92,5.92,0,0,0-2.57.58,22,22,0,0,1-31.38-18.46,22,22,0,0,1,31.38-21.31A6,6,0,0,0,62,114.7V72a2,2,0,0,1,2-2h46.69a6,6,0,0,0,5.42-8.57,22.25,22.25,0,0,1-2-11,22,22,0,1,1,41.83,11A6,6,0,0,0,161.3,70H208a2,2,0,0,1,2,2v34.54a34,34,0,0,0-39.93,31.28,33.71,33.71,0,0,0,9.14,25.45A34.15,34.15,0,0,0,210,173.48Z"/>`],["regular",M`<path d="M220.27,158.54a8,8,0,0,0-7.7-.46,20,20,0,1,1,0-36.16A8,8,0,0,0,224,114.69V72a16,16,0,0,0-16-16H171.78a35.36,35.36,0,0,0,.22-4,36.11,36.11,0,0,0-11.36-26.24,36,36,0,0,0-60.55,23.62,36.56,36.56,0,0,0,.14,6.62H64A16,16,0,0,0,48,72v32.22a35.36,35.36,0,0,0-4-.22,36.12,36.12,0,0,0-26.24,11.36,35.7,35.7,0,0,0-9.69,27,36.08,36.08,0,0,0,33.31,33.6,35.68,35.68,0,0,0,6.62-.14V208a16,16,0,0,0,16,16H208a16,16,0,0,0,16-16V165.31A8,8,0,0,0,220.27,158.54ZM208,208H64V165.31a8,8,0,0,0-11.43-7.23,20,20,0,1,1,0-36.16A8,8,0,0,0,64,114.69V72h46.69a8,8,0,0,0,7.23-11.43,20,20,0,1,1,36.16,0A8,8,0,0,0,161.31,72H208v32.23a35.68,35.68,0,0,0-6.62-.14A36,36,0,0,0,204,176a35.36,35.36,0,0,0,4-.22Z"/>`],["bold",M`<path d="M222.41,155.16a12,12,0,0,0-11.56-.69A16,16,0,0,1,188,139,16.2,16.2,0,0,1,202.8,124a15.83,15.83,0,0,1,8,1.5A12,12,0,0,0,228,114.7V72a20,20,0,0,0-20-20H176a40.15,40.15,0,0,0-12.62-29.16,39.67,39.67,0,0,0-29.94-10.76,40.08,40.08,0,0,0-37.34,37C96,50.07,96,51,96,52H64A20,20,0,0,0,44,72v28a40.15,40.15,0,0,0-29.16,12.62A40,40,0,0,0,41.1,179.9a28.3,28.3,0,0,0,2.9.1v28a20,20,0,0,0,20,20H208a20,20,0,0,0,20-20V165.31A12,12,0,0,0,222.41,155.16ZM204,204H68V165.31a12,12,0,0,0-17.15-10.84A15.9,15.9,0,0,1,42.8,156,16.2,16.2,0,0,1,28,141.06a16,16,0,0,1,22.82-15.52A12,12,0,0,0,68,114.7V76h42.7a12,12,0,0,0,10.83-17.15A15.9,15.9,0,0,1,120,50.8,16.19,16.19,0,0,1,134.94,36a16,16,0,0,1,15.53,22.81A12,12,0,0,0,161.31,76H204v24c-1,0-1.93,0-2.9.11A40,40,0,0,0,204,180h0Z"/>`],["fill",M`<path d="M165.78,224H208a16,16,0,0,0,16-16V170.35A8,8,0,0,0,212.94,163a23.37,23.37,0,0,1-8.94,1.77c-13.23,0-24-11.1-24-24.73s10.77-24.73,24-24.73a23.37,23.37,0,0,1,8.94,1.77A8,8,0,0,0,224,109.65V72a16,16,0,0,0-16-16H171.78a35.36,35.36,0,0,0,.22-4,36,36,0,0,0-72,0,35.36,35.36,0,0,0,.22,4H64A16,16,0,0,0,48,72v32.22a35.36,35.36,0,0,0-4-.22,36,36,0,0,0,0,72,35.36,35.36,0,0,0,4-.22V208a16,16,0,0,0,16,16h42.22"/>`],["duotone",M`<path d="M204,168a28,28,0,0,0,12-2.69V208a8,8,0,0,1-8,8H64a8,8,0,0,1-8-8V165.31a28,28,0,1,1,0-50.62V72a8,8,0,0,1,8-8h46.69a28,28,0,1,1,50.61,0H208a8,8,0,0,1,8,8v42.69A28,28,0,1,0,204,168Z" opacity="0.2"/><path d="M220.27,158.54a8,8,0,0,0-7.7-.46,20,20,0,1,1,0-36.16A8,8,0,0,0,224,114.69V72a16,16,0,0,0-16-16H171.78a35.36,35.36,0,0,0,.22-4,36.15,36.15,0,0,0-11.36-26.25,36,36,0,0,0-60.55,23.63,36.56,36.56,0,0,0,.14,6.62H64A16,16,0,0,0,48,72v32.22a35.36,35.36,0,0,0-4-.22,36.12,36.12,0,0,0-26.24,11.36,35.7,35.7,0,0,0-9.69,27,36.08,36.08,0,0,0,33.31,33.6,36.56,36.56,0,0,0,6.62-.14V208a16,16,0,0,0,16,16H208a16,16,0,0,0,16-16V165.31A8,8,0,0,0,220.27,158.54ZM208,208H64V165.31a8,8,0,0,0-11.43-7.23,20,20,0,1,1,0-36.16A8,8,0,0,0,64,114.69V72h46.69a8,8,0,0,0,7.23-11.43,20,20,0,1,1,36.16,0A8,8,0,0,0,161.31,72H208v32.23a35.68,35.68,0,0,0-6.62-.14A36,36,0,0,0,204,176a35.36,35.36,0,0,0,4-.22Z"/>`]]);fd.styles=ge`
    :host {
      display: contents;
    }
  `;Z3([z({type:String,reflect:!0})],fd.prototype,"size",2);Z3([z({type:String,reflect:!0})],fd.prototype,"weight",2);Z3([z({type:String,reflect:!0})],fd.prototype,"color",2);Z3([z({type:Boolean,reflect:!0})],fd.prototype,"mirrored",2);fd=Z3([we("ph-puzzle-piece")],fd)});var i6e={};Se(i6e,{PhQrCode:()=>hd});var knt,Bnt,G3,hd,a6e=m(()=>{Ge();Qe();tt();rt();nt();Je();knt=Object.defineProperty,Bnt=Object.getOwnPropertyDescriptor,G3=(e,t,r,n)=>{for(var s=n>1?void 0:n?Bnt(t,r):t,o=e.length-1,i;o>=0;o--)(i=e[o])&&(s=(n?i(t,r,s):i(s))||s);return n&&s&&knt(t,r,s),s},hd=class extends he{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return ye`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${hd.weightsMap.get((e=this.weight)!=null?e:"regular")}
    </svg>`}};hd.weightsMap=new Map([["thin",M`<path d="M104,44H56A12,12,0,0,0,44,56v48a12,12,0,0,0,12,12h48a12,12,0,0,0,12-12V56A12,12,0,0,0,104,44Zm4,60a4,4,0,0,1-4,4H56a4,4,0,0,1-4-4V56a4,4,0,0,1,4-4h48a4,4,0,0,1,4,4Zm-4,36H56a12,12,0,0,0-12,12v48a12,12,0,0,0,12,12h48a12,12,0,0,0,12-12V152A12,12,0,0,0,104,140Zm4,60a4,4,0,0,1-4,4H56a4,4,0,0,1-4-4V152a4,4,0,0,1,4-4h48a4,4,0,0,1,4,4ZM200,44H152a12,12,0,0,0-12,12v48a12,12,0,0,0,12,12h48a12,12,0,0,0,12-12V56A12,12,0,0,0,200,44Zm4,60a4,4,0,0,1-4,4H152a4,4,0,0,1-4-4V56a4,4,0,0,1,4-4h48a4,4,0,0,1,4,4Zm-64,72V144a4,4,0,0,1,8,0v32a4,4,0,0,1-8,0Zm72-16a4,4,0,0,1-4,4H180v44a4,4,0,0,1-4,4H144a4,4,0,0,1,0-8h28V144a4,4,0,0,1,8,0v12h28A4,4,0,0,1,212,160Zm0,32v16a4,4,0,0,1-8,0V192a4,4,0,0,1,8,0Z"/>`],["light",M`<path d="M104,42H56A14,14,0,0,0,42,56v48a14,14,0,0,0,14,14h48a14,14,0,0,0,14-14V56A14,14,0,0,0,104,42Zm2,62a2,2,0,0,1-2,2H56a2,2,0,0,1-2-2V56a2,2,0,0,1,2-2h48a2,2,0,0,1,2,2Zm-2,34H56a14,14,0,0,0-14,14v48a14,14,0,0,0,14,14h48a14,14,0,0,0,14-14V152A14,14,0,0,0,104,138Zm2,62a2,2,0,0,1-2,2H56a2,2,0,0,1-2-2V152a2,2,0,0,1,2-2h48a2,2,0,0,1,2,2ZM200,42H152a14,14,0,0,0-14,14v48a14,14,0,0,0,14,14h48a14,14,0,0,0,14-14V56A14,14,0,0,0,200,42Zm2,62a2,2,0,0,1-2,2H152a2,2,0,0,1-2-2V56a2,2,0,0,1,2-2h48a2,2,0,0,1,2,2Zm-64,72V144a6,6,0,0,1,12,0v32a6,6,0,0,1-12,0Zm76-16a6,6,0,0,1-6,6H182v42a6,6,0,0,1-6,6H144a6,6,0,0,1,0-12h26V144a6,6,0,0,1,12,0v10h26A6,6,0,0,1,214,160Zm0,32v16a6,6,0,0,1-12,0V192a6,6,0,0,1,12,0Z"/>`],["regular",M`<path d="M104,40H56A16,16,0,0,0,40,56v48a16,16,0,0,0,16,16h48a16,16,0,0,0,16-16V56A16,16,0,0,0,104,40Zm0,64H56V56h48v48Zm0,32H56a16,16,0,0,0-16,16v48a16,16,0,0,0,16,16h48a16,16,0,0,0,16-16V152A16,16,0,0,0,104,136Zm0,64H56V152h48v48ZM200,40H152a16,16,0,0,0-16,16v48a16,16,0,0,0,16,16h48a16,16,0,0,0,16-16V56A16,16,0,0,0,200,40Zm0,64H152V56h48v48Zm-64,72V144a8,8,0,0,1,16,0v32a8,8,0,0,1-16,0Zm80-16a8,8,0,0,1-8,8H184v40a8,8,0,0,1-8,8H144a8,8,0,0,1,0-16h24V144a8,8,0,0,1,16,0v8h24A8,8,0,0,1,216,160Zm0,32v16a8,8,0,0,1-16,0V192a8,8,0,0,1,16,0Z"/>`],["bold",M`<path d="M100,36H56A20,20,0,0,0,36,56v44a20,20,0,0,0,20,20h44a20,20,0,0,0,20-20V56A20,20,0,0,0,100,36ZM96,96H60V60H96Zm4,40H56a20,20,0,0,0-20,20v44a20,20,0,0,0,20,20h44a20,20,0,0,0,20-20V156A20,20,0,0,0,100,136Zm-4,60H60V160H96ZM200,36H156a20,20,0,0,0-20,20v44a20,20,0,0,0,20,20h44a20,20,0,0,0,20-20V56A20,20,0,0,0,200,36Zm-4,60H160V60h36Zm-60,76V148a12,12,0,0,1,24,0v24a12,12,0,0,1-24,0Zm84-8a12,12,0,0,1-12,12H196v32a12,12,0,0,1-12,12H148a12,12,0,0,1,0-24h24V148a12,12,0,0,1,24,0v4h12A12,12,0,0,1,220,164Z"/>`],["fill",M`<path d="M120,56v48a16,16,0,0,1-16,16H56a16,16,0,0,1-16-16V56A16,16,0,0,1,56,40h48A16,16,0,0,1,120,56Zm-16,80H56a16,16,0,0,0-16,16v48a16,16,0,0,0,16,16h48a16,16,0,0,0,16-16V152A16,16,0,0,0,104,136Zm96-96H152a16,16,0,0,0-16,16v48a16,16,0,0,0,16,16h48a16,16,0,0,0,16-16V56A16,16,0,0,0,200,40ZM144,184a8,8,0,0,0,8-8V144a8,8,0,0,0-16,0v32A8,8,0,0,0,144,184Zm64-32H184v-8a8,8,0,0,0-16,0v56H144a8,8,0,0,0,0,16h32a8,8,0,0,0,8-8V168h24a8,8,0,0,0,0-16Zm0,32a8,8,0,0,0-8,8v16a8,8,0,0,0,16,0V192A8,8,0,0,0,208,184Z"/>`],["duotone",M`<path d="M112,56v48a8,8,0,0,1-8,8H56a8,8,0,0,1-8-8V56a8,8,0,0,1,8-8h48A8,8,0,0,1,112,56Zm-8,88H56a8,8,0,0,0-8,8v48a8,8,0,0,0,8,8h48a8,8,0,0,0,8-8V152A8,8,0,0,0,104,144Zm96-96H152a8,8,0,0,0-8,8v48a8,8,0,0,0,8,8h48a8,8,0,0,0,8-8V56A8,8,0,0,0,200,48Z" opacity="0.2"/><path d="M104,40H56A16,16,0,0,0,40,56v48a16,16,0,0,0,16,16h48a16,16,0,0,0,16-16V56A16,16,0,0,0,104,40Zm0,64H56V56h48v48Zm0,32H56a16,16,0,0,0-16,16v48a16,16,0,0,0,16,16h48a16,16,0,0,0,16-16V152A16,16,0,0,0,104,136Zm0,64H56V152h48v48ZM200,40H152a16,16,0,0,0-16,16v48a16,16,0,0,0,16,16h48a16,16,0,0,0,16-16V56A16,16,0,0,0,200,40Zm0,64H152V56h48v48Zm-64,72V144a8,8,0,0,1,16,0v32a8,8,0,0,1-16,0Zm80-16a8,8,0,0,1-8,8H184v40a8,8,0,0,1-8,8H144a8,8,0,0,1,0-16h24V144a8,8,0,0,1,16,0v8h24A8,8,0,0,1,216,160Zm0,32v16a8,8,0,0,1-16,0V192a8,8,0,0,1,16,0Z"/>`]]);hd.styles=ge`
    :host {
      display: contents;
    }
  `;G3([z({type:String,reflect:!0})],hd.prototype,"size",2);G3([z({type:String,reflect:!0})],hd.prototype,"weight",2);G3([z({type:String,reflect:!0})],hd.prototype,"color",2);G3([z({type:Boolean,reflect:!0})],hd.prototype,"mirrored",2);hd=G3([we("ph-qr-code")],hd)});var c6e={};Se(c6e,{PhQuestion:()=>md});var Dnt,Unt,Y3,md,l6e=m(()=>{Ge();Qe();tt();rt();nt();Je();Dnt=Object.defineProperty,Unt=Object.getOwnPropertyDescriptor,Y3=(e,t,r,n)=>{for(var s=n>1?void 0:n?Unt(t,r):t,o=e.length-1,i;o>=0;o--)(i=e[o])&&(s=(n?i(t,r,s):i(s))||s);return n&&s&&Dnt(t,r,s),s},md=class extends he{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return ye`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${md.weightsMap.get((e=this.weight)!=null?e:"regular")}
    </svg>`}};md.weightsMap=new Map([["thin",M`<path d="M136,180a8,8,0,1,1-8-8A8,8,0,0,1,136,180ZM128,76c-19.85,0-36,14.36-36,32v4a4,4,0,0,0,8,0v-4c0-13.23,12.56-24,28-24s28,10.77,28,24-12.56,24-28,24a4,4,0,0,0-4,4v8a4,4,0,0,0,8,0v-4.2c18-1.77,32-15.36,32-31.8C164,90.36,147.85,76,128,76Zm100,52A100,100,0,1,1,128,28,100.11,100.11,0,0,1,228,128Zm-8,0a92,92,0,1,0-92,92A92.1,92.1,0,0,0,220,128Z"/>`],["light",M`<path d="M138,180a10,10,0,1,1-10-10A10,10,0,0,1,138,180ZM128,74c-21,0-38,15.25-38,34v4a6,6,0,0,0,12,0v-4c0-12.13,11.66-22,26-22s26,9.87,26,22-11.66,22-26,22a6,6,0,0,0-6,6v8a6,6,0,0,0,12,0v-2.42c18.11-2.58,32-16.66,32-33.58C166,89.25,149,74,128,74Zm102,54A102,102,0,1,1,128,26,102.12,102.12,0,0,1,230,128Zm-12,0a90,90,0,1,0-90,90A90.1,90.1,0,0,0,218,128Z"/>`],["regular",M`<path d="M140,180a12,12,0,1,1-12-12A12,12,0,0,1,140,180ZM128,72c-22.06,0-40,16.15-40,36v4a8,8,0,0,0,16,0v-4c0-11,10.77-20,24-20s24,9,24,20-10.77,20-24,20a8,8,0,0,0-8,8v8a8,8,0,0,0,16,0v-.72c18.24-3.35,32-17.9,32-35.28C168,88.15,150.06,72,128,72Zm104,56A104,104,0,1,1,128,24,104.11,104.11,0,0,1,232,128Zm-16,0a88,88,0,1,0-88,88A88.1,88.1,0,0,0,216,128Z"/>`],["bold",M`<path d="M144,180a16,16,0,1,1-16-16A16,16,0,0,1,144,180Zm92-52A108,108,0,1,1,128,20,108.12,108.12,0,0,1,236,128Zm-24,0a84,84,0,1,0-84,84A84.09,84.09,0,0,0,212,128ZM128,64c-24.26,0-44,17.94-44,40v4a12,12,0,0,0,24,0v-4c0-8.82,9-16,20-16s20,7.18,20,16-9,16-20,16a12,12,0,0,0-12,12v8a12,12,0,0,0,23.73,2.56C158.31,137.88,172,122.37,172,104,172,81.94,152.26,64,128,64Z"/>`],["fill",M`<path d="M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm0,168a12,12,0,1,1,12-12A12,12,0,0,1,128,192Zm8-48.72V144a8,8,0,0,1-16,0v-8a8,8,0,0,1,8-8c13.23,0,24-9,24-20s-10.77-20-24-20-24,9-24,20v4a8,8,0,0,1-16,0v-4c0-19.85,17.94-36,40-36s40,16.15,40,36C168,125.38,154.24,139.93,136,143.28Z"/>`],["duotone",M`<path d="M224,128a96,96,0,1,1-96-96A96,96,0,0,1,224,128Z" opacity="0.2"/><path d="M140,180a12,12,0,1,1-12-12A12,12,0,0,1,140,180ZM128,72c-22.06,0-40,16.15-40,36v4a8,8,0,0,0,16,0v-4c0-11,10.77-20,24-20s24,9,24,20-10.77,20-24,20a8,8,0,0,0-8,8v8a8,8,0,0,0,16,0v-.72c18.24-3.35,32-17.9,32-35.28C168,88.15,150.06,72,128,72Zm104,56A104,104,0,1,1,128,24,104.11,104.11,0,0,1,232,128Zm-16,0a88,88,0,1,0-88,88A88.1,88.1,0,0,0,216,128Z"/>`]]);md.styles=ge`
    :host {
      display: contents;
    }
  `;Y3([z({type:String,reflect:!0})],md.prototype,"size",2);Y3([z({type:String,reflect:!0})],md.prototype,"weight",2);Y3([z({type:String,reflect:!0})],md.prototype,"color",2);Y3([z({type:Boolean,reflect:!0})],md.prototype,"mirrored",2);md=Y3([we("ph-question")],md)});var u6e={};Se(u6e,{PhQuestionMark:()=>gd});var Lnt,Mnt,J3,gd,d6e=m(()=>{Ge();Qe();tt();rt();nt();Je();Lnt=Object.defineProperty,Mnt=Object.getOwnPropertyDescriptor,J3=(e,t,r,n)=>{for(var s=n>1?void 0:n?Mnt(t,r):t,o=e.length-1,i;o>=0;o--)(i=e[o])&&(s=(n?i(t,r,s):i(s))||s);return n&&s&&Lnt(t,r,s),s},gd=class extends he{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return ye`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${gd.weightsMap.get((e=this.weight)!=null?e:"regular")}
    </svg>`}};gd.weightsMap=new Map([["thin",M`<path d="M188,96c0,27.51-24.77,50.09-56,51.89V160a4,4,0,0,1-8,0V144a4,4,0,0,1,4-4c28.67,0,52-19.74,52-44s-23.33-44-52-44S76,71.74,76,96a4,4,0,0,1-8,0c0-28.67,26.92-52,60-52S188,67.33,188,96ZM128,196a12,12,0,1,0,12,12A12,12,0,0,0,128,196Z"/>`],["light",M`<path d="M190,96c0,28-24.62,51.11-56,53.75V160a6,6,0,0,1-12,0V144a6,6,0,0,1,6-6c27.57,0,50-18.84,50-42s-22.43-42-50-42S78,72.84,78,96a6,6,0,0,1-12,0c0-29.78,27.81-54,62-54S190,66.22,190,96Zm-62,98a14,14,0,1,0,14,14A14,14,0,0,0,128,194Z"/>`],["regular",M`<path d="M192,96c0,28.51-24.47,52.11-56,55.56V160a8,8,0,0,1-16,0V144a8,8,0,0,1,8-8c26.47,0,48-17.94,48-40s-21.53-40-48-40S80,73.94,80,96a8,8,0,0,1-16,0c0-30.88,28.71-56,64-56S192,65.12,192,96Zm-64,96a16,16,0,1,0,16,16A16,16,0,0,0,128,192Z"/>`],["bold",M`<path d="M196,96c0,29.47-24.21,54.05-56,59.06V156a12,12,0,0,1-24,0V144a12,12,0,0,1,12-12c24.26,0,44-16.15,44-36s-19.74-36-44-36S84,76.15,84,96a12,12,0,0,1-24,0c0-33.08,30.5-60,68-60S196,62.92,196,96Zm-68,92a20,20,0,1,0,20,20A20,20,0,0,0,128,188Z"/>`],["fill",M`<path d="M200,24H56A16,16,0,0,0,40,40V216a16,16,0,0,0,16,16H200a16,16,0,0,0,16-16V40A16,16,0,0,0,200,24ZM136,143.28V144a8,8,0,0,1-16,0v-8a8,8,0,0,1,8-8c13.23,0,24-9,24-20s-10.77-20-24-20-24,9-24,20v4a8,8,0,0,1-16,0v-4c0-19.85,17.94-36,40-36s40,16.15,40,36C168,125.38,154.23,139.93,136,143.28ZM140,180a12,12,0,1,1-12-12A12,12,0,0,1,140,180Z"/>`],["duotone",M`<path d="M216,40V216a16,16,0,0,1-16,16H56a16,16,0,0,1-16-16V40A16,16,0,0,1,56,24H200A16,16,0,0,1,216,40Z" opacity="0.2"/><path d="M192,96c0,28.51-24.47,52.11-56,55.56V160a8,8,0,0,1-16,0V144a8,8,0,0,1,8-8c26.47,0,48-17.94,48-40s-21.53-40-48-40S80,73.94,80,96a8,8,0,0,1-16,0c0-30.88,28.71-56,64-56S192,65.12,192,96Zm-64,96a16,16,0,1,0,16,16A16,16,0,0,0,128,192Z"/>`]]);gd.styles=ge`
    :host {
      display: contents;
    }
  `;J3([z({type:String,reflect:!0})],gd.prototype,"size",2);J3([z({type:String,reflect:!0})],gd.prototype,"weight",2);J3([z({type:String,reflect:!0})],gd.prototype,"color",2);J3([z({type:Boolean,reflect:!0})],gd.prototype,"mirrored",2);gd=J3([we("ph-question-mark")],gd)});var p6e={};Se(p6e,{PhSealCheck:()=>yd});var Hnt,$nt,Q3,yd,f6e=m(()=>{Ge();Qe();tt();rt();nt();Je();Hnt=Object.defineProperty,$nt=Object.getOwnPropertyDescriptor,Q3=(e,t,r,n)=>{for(var s=n>1?void 0:n?$nt(t,r):t,o=e.length-1,i;o>=0;o--)(i=e[o])&&(s=(n?i(t,r,s):i(s))||s);return n&&s&&Hnt(t,r,s),s},yd=class extends he{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return ye`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${yd.weightsMap.get((e=this.weight)!=null?e:"regular")}
    </svg>`}};yd.weightsMap=new Map([["thin",M`<path d="M223,105.58c-4-4.2-8.2-8.54-10-12.8-1.65-4-1.73-9.53-1.82-15.41-.14-9-.29-19.19-6.83-25.74s-16.74-6.69-25.74-6.83c-5.88-.09-11.43-.17-15.41-1.82-4.26-1.76-8.6-5.93-12.8-9.95-6.68-6.41-13.59-13-22.42-13s-15.74,6.62-22.42,13c-4.2,4-8.54,8.2-12.8,10-4,1.65-9.53,1.73-15.41,1.82-9,.14-19.19.29-25.74,6.83S44.94,68.37,44.8,77.37c-.09,5.88-.17,11.43-1.82,15.41-1.76,4.26-5.93,8.6-9.95,12.8-6.41,6.68-13,13.59-13,22.42s6.62,15.74,13,22.42c4,4.2,8.2,8.54,10,12.8,1.65,4,1.73,9.53,1.82,15.41.14,9,.29,19.19,6.83,25.74s16.74,6.69,25.74,6.83c5.88.09,11.43.17,15.41,1.82,4.26,1.76,8.6,5.93,12.8,9.95,6.68,6.41,13.59,13,22.42,13s15.74-6.62,22.42-13c4.2-4,8.54-8.2,12.8-10,4-1.65,9.53-1.73,15.41-1.82,9-.14,19.19-.29,25.74-6.83s6.69-16.74,6.83-25.74c.09-5.88.17-11.43,1.82-15.41,1.76-4.26,5.93-8.6,9.95-12.8,6.41-6.68,13-13.59,13-22.42S229.38,112.26,223,105.58Zm-5.78,39.3c-4.54,4.73-9.24,9.63-11.57,15.28-2.23,5.39-2.33,12-2.43,18.35-.12,8.2-.24,16-4.49,20.2s-12,4.37-20.2,4.49c-6.37.1-13,.2-18.35,2.43-5.65,2.33-10.55,7-15.28,11.57C139.09,222.75,133.62,228,128,228s-11.09-5.25-16.88-10.8c-4.73-4.54-9.63-9.24-15.28-11.57-5.39-2.23-12-2.33-18.35-2.43-8.2-.12-15.95-.24-20.2-4.49s-4.37-12-4.49-20.2c-.1-6.37-.2-13-2.43-18.35-2.33-5.65-7-10.55-11.57-15.28C33.25,139.09,28,133.62,28,128s5.25-11.09,10.8-16.88c4.54-4.73,9.24-9.63,11.57-15.28,2.23-5.39,2.33-12,2.43-18.35.12-8.2.24-15.95,4.49-20.2s12-4.37,20.2-4.49c6.37-.1,13-.2,18.35-2.43,5.65-2.33,10.55-7,15.28-11.57C116.91,33.25,122.38,28,128,28s11.09,5.25,16.88,10.8c4.73,4.54,9.63,9.24,15.28,11.57,5.39,2.23,12,2.33,18.35,2.43,8.2.12,16,.24,20.2,4.49s4.37,12,4.49,20.2c.1,6.37.2,13,2.43,18.35,2.33,5.65,7,10.55,11.57,15.28,5.55,5.79,10.8,11.26,10.8,16.88S222.75,139.09,217.2,144.88Zm-46.37-43.71a4,4,0,0,1,0,5.66l-56,56a4,4,0,0,1-5.66,0l-24-24a4,4,0,0,1,5.66-5.66L112,154.34l53.17-53.17A4,4,0,0,1,170.83,101.17Z"/>`],["light",M`<path d="M224.42,104.2c-3.9-4.07-7.93-8.27-9.55-12.18-1.5-3.63-1.58-9-1.67-14.68-.14-9.38-.3-20-7.42-27.12S188,42.94,178.66,42.8c-5.68-.09-11-.17-14.68-1.67-3.91-1.62-8.11-5.65-12.18-9.55C145.16,25.22,137.64,18,128,18s-17.16,7.22-23.8,13.58c-4.07,3.9-8.27,7.93-12.18,9.55-3.63,1.5-9,1.58-14.68,1.67-9.38.14-20,.3-27.12,7.42S42.94,68,42.8,77.34c-.09,5.68-.17,11-1.67,14.68-1.62,3.91-5.65,8.11-9.55,12.18C25.22,110.84,18,118.36,18,128s7.22,17.16,13.58,23.8c3.9,4.07,7.93,8.27,9.55,12.18,1.5,3.63,1.58,9,1.67,14.68.14,9.38.3,20,7.42,27.12S68,213.06,77.34,213.2c5.68.09,11,.17,14.68,1.67,3.91,1.62,8.11,5.65,12.18,9.55C110.84,230.78,118.36,238,128,238s17.16-7.22,23.8-13.58c4.07-3.9,8.27-7.93,12.18-9.55,3.63-1.5,9-1.58,14.68-1.67,9.38-.14,20-.3,27.12-7.42s7.28-17.74,7.42-27.12c.09-5.68.17-11,1.67-14.68,1.62-3.91,5.65-8.11,9.55-12.18C230.78,145.16,238,137.64,238,128S230.78,110.84,224.42,104.2Zm-8.66,39.3c-4.67,4.86-9.5,9.9-12,15.9-2.38,5.74-2.48,12.52-2.58,19.08-.11,7.44-.23,15.14-3.9,18.82s-11.38,3.79-18.82,3.9c-6.56.1-13.34.2-19.08,2.58-6,2.48-11,7.31-15.91,12-5.25,5-10.68,10.24-15.49,10.24s-10.24-5.21-15.5-10.24c-4.86-4.67-9.9-9.5-15.9-12-5.74-2.38-12.52-2.48-19.08-2.58-7.44-.11-15.14-.23-18.82-3.9s-3.79-11.38-3.9-18.82c-.1-6.56-.2-13.34-2.58-19.08-2.48-6-7.31-11-12-15.91C35.21,138.24,30,132.81,30,128s5.21-10.24,10.24-15.5c4.67-4.86,9.5-9.9,12-15.9,2.38-5.74,2.48-12.52,2.58-19.08.11-7.44.23-15.14,3.9-18.82s11.38-3.79,18.82-3.9c6.56-.1,13.34-.2,19.08-2.58,6-2.48,11-7.31,15.91-12C117.76,35.21,123.19,30,128,30s10.24,5.21,15.5,10.24c4.86,4.67,9.9,9.5,15.9,12,5.74,2.38,12.52,2.48,19.08,2.58,7.44.11,15.14.23,18.82,3.9s3.79,11.38,3.9,18.82c.1,6.56.2,13.34,2.58,19.08,2.48,6,7.31,11,12,15.91,5,5.25,10.24,10.68,10.24,15.49S220.79,138.24,215.76,143.5ZM172.24,99.76a6,6,0,0,1,0,8.48l-56,56a6,6,0,0,1-8.48,0l-24-24a6,6,0,0,1,8.48-8.48L112,151.51l51.76-51.75A6,6,0,0,1,172.24,99.76Z"/>`],["regular",M`<path d="M225.86,102.82c-3.77-3.94-7.67-8-9.14-11.57-1.36-3.27-1.44-8.69-1.52-13.94-.15-9.76-.31-20.82-8-28.51s-18.75-7.85-28.51-8c-5.25-.08-10.67-.16-13.94-1.52-3.56-1.47-7.63-5.37-11.57-9.14C146.28,23.51,138.44,16,128,16s-18.27,7.51-25.18,14.14c-3.94,3.77-8,7.67-11.57,9.14C88,40.64,82.56,40.72,77.31,40.8c-9.76.15-20.82.31-28.51,8S41,67.55,40.8,77.31c-.08,5.25-.16,10.67-1.52,13.94-1.47,3.56-5.37,7.63-9.14,11.57C23.51,109.72,16,117.56,16,128s7.51,18.27,14.14,25.18c3.77,3.94,7.67,8,9.14,11.57,1.36,3.27,1.44,8.69,1.52,13.94.15,9.76.31,20.82,8,28.51s18.75,7.85,28.51,8c5.25.08,10.67.16,13.94,1.52,3.56,1.47,7.63,5.37,11.57,9.14C109.72,232.49,117.56,240,128,240s18.27-7.51,25.18-14.14c3.94-3.77,8-7.67,11.57-9.14,3.27-1.36,8.69-1.44,13.94-1.52,9.76-.15,20.82-.31,28.51-8s7.85-18.75,8-28.51c.08-5.25.16-10.67,1.52-13.94,1.47-3.56,5.37-7.63,9.14-11.57C232.49,146.28,240,138.44,240,128S232.49,109.73,225.86,102.82Zm-11.55,39.29c-4.79,5-9.75,10.17-12.38,16.52-2.52,6.1-2.63,13.07-2.73,19.82-.1,7-.21,14.33-3.32,17.43s-10.39,3.22-17.43,3.32c-6.75.1-13.72.21-19.82,2.73-6.35,2.63-11.52,7.59-16.52,12.38S132,224,128,224s-9.15-4.92-14.11-9.69-10.17-9.75-16.52-12.38c-6.1-2.52-13.07-2.63-19.82-2.73-7-.1-14.33-.21-17.43-3.32s-3.22-10.39-3.32-17.43c-.1-6.75-.21-13.72-2.73-19.82-2.63-6.35-7.59-11.52-12.38-16.52S32,132,32,128s4.92-9.15,9.69-14.11,9.75-10.17,12.38-16.52c2.52-6.1,2.63-13.07,2.73-19.82.1-7,.21-14.33,3.32-17.43S70.51,56.9,77.55,56.8c6.75-.1,13.72-.21,19.82-2.73,6.35-2.63,11.52-7.59,16.52-12.38S124,32,128,32s9.15,4.92,14.11,9.69,10.17,9.75,16.52,12.38c6.1,2.52,13.07,2.63,19.82,2.73,7,.1,14.33.21,17.43,3.32s3.22,10.39,3.32,17.43c.1,6.75.21,13.72,2.73,19.82,2.63,6.35,7.59,11.52,12.38,16.52S224,124,224,128,219.08,137.15,214.31,142.11ZM173.66,98.34a8,8,0,0,1,0,11.32l-56,56a8,8,0,0,1-11.32,0l-24-24a8,8,0,0,1,11.32-11.32L112,148.69l50.34-50.35A8,8,0,0,1,173.66,98.34Z"/>`],["bold",M`<path d="M228.75,100.05c-3.52-3.67-7.15-7.46-8.34-10.33-1.06-2.56-1.14-7.83-1.21-12.47-.15-10-.34-22.44-9.18-31.27s-21.27-9-31.27-9.18c-4.64-.07-9.91-.15-12.47-1.21-2.87-1.19-6.66-4.82-10.33-8.34C148.87,20.46,140.05,12,128,12s-20.87,8.46-27.95,15.25c-3.67,3.52-7.46,7.15-10.33,8.34-2.56,1.06-7.83,1.14-12.47,1.21C67.25,37,54.81,37.14,46,46S37,67.25,36.8,77.25c-.07,4.64-.15,9.91-1.21,12.47-1.19,2.87-4.82,6.66-8.34,10.33C20.46,107.13,12,116,12,128S20.46,148.87,27.25,156c3.52,3.67,7.15,7.46,8.34,10.33,1.06,2.56,1.14,7.83,1.21,12.47.15,10,.34,22.44,9.18,31.27s21.27,9,31.27,9.18c4.64.07,9.91.15,12.47,1.21,2.87,1.19,6.66,4.82,10.33,8.34C107.13,235.54,116,244,128,244s20.87-8.46,27.95-15.25c3.67-3.52,7.46-7.15,10.33-8.34,2.56-1.06,7.83-1.14,12.47-1.21,10-.15,22.44-.34,31.27-9.18s9-21.27,9.18-31.27c.07-4.64.15-9.91,1.21-12.47,1.19-2.87,4.82-6.66,8.34-10.33C235.54,148.87,244,140.05,244,128S235.54,107.13,228.75,100.05Zm-17.32,39.29c-4.82,5-10.28,10.72-13.19,17.76-2.82,6.8-2.93,14.16-3,21.29-.08,5.36-.19,12.71-2.15,14.66s-9.3,2.07-14.66,2.15c-7.13.11-14.49.22-21.29,3-7,2.91-12.73,8.37-17.76,13.19C135.78,214.84,130.4,220,128,220s-7.78-5.16-11.34-8.57c-5-4.82-10.72-10.28-17.76-13.19-6.8-2.82-14.16-2.93-21.29-3-5.36-.08-12.71-.19-14.66-2.15s-2.07-9.3-2.15-14.66c-.11-7.13-.22-14.49-3-21.29-2.91-7-8.37-12.73-13.19-17.76C41.16,135.78,36,130.4,36,128s5.16-7.78,8.57-11.34c4.82-5,10.28-10.72,13.19-17.76,2.82-6.8,2.93-14.16,3-21.29C60.88,72.25,61,64.9,63,63s9.3-2.07,14.66-2.15c7.13-.11,14.49-.22,21.29-3,7-2.91,12.73-8.37,17.76-13.19C120.22,41.16,125.6,36,128,36s7.78,5.16,11.34,8.57c5,4.82,10.72,10.28,17.76,13.19,6.8,2.82,14.16,2.93,21.29,3,5.36.08,12.71.19,14.66,2.15s2.07,9.3,2.15,14.66c.11,7.13.22,14.49,3,21.29,2.91,7,8.37,12.73,13.19,17.76,3.41,3.56,8.57,8.94,8.57,11.34S214.84,135.78,211.43,139.34ZM176.49,95.51a12,12,0,0,1,0,17l-56,56a12,12,0,0,1-17,0l-24-24a12,12,0,1,1,17-17L112,143l47.51-47.52A12,12,0,0,1,176.49,95.51Z"/>`],["fill",M`<path d="M225.86,102.82c-3.77-3.94-7.67-8-9.14-11.57-1.36-3.27-1.44-8.69-1.52-13.94-.15-9.76-.31-20.82-8-28.51s-18.75-7.85-28.51-8c-5.25-.08-10.67-.16-13.94-1.52-3.56-1.47-7.63-5.37-11.57-9.14C146.28,23.51,138.44,16,128,16s-18.27,7.51-25.18,14.14c-3.94,3.77-8,7.67-11.57,9.14C88,40.64,82.56,40.72,77.31,40.8c-9.76.15-20.82.31-28.51,8S41,67.55,40.8,77.31c-.08,5.25-.16,10.67-1.52,13.94-1.47,3.56-5.37,7.63-9.14,11.57C23.51,109.72,16,117.56,16,128s7.51,18.27,14.14,25.18c3.77,3.94,7.67,8,9.14,11.57,1.36,3.27,1.44,8.69,1.52,13.94.15,9.76.31,20.82,8,28.51s18.75,7.85,28.51,8c5.25.08,10.67.16,13.94,1.52,3.56,1.47,7.63,5.37,11.57,9.14C109.72,232.49,117.56,240,128,240s18.27-7.51,25.18-14.14c3.94-3.77,8-7.67,11.57-9.14,3.27-1.36,8.69-1.44,13.94-1.52,9.76-.15,20.82-.31,28.51-8s7.85-18.75,8-28.51c.08-5.25.16-10.67,1.52-13.94,1.47-3.56,5.37-7.63,9.14-11.57C232.49,146.28,240,138.44,240,128S232.49,109.73,225.86,102.82Zm-52.2,6.84-56,56a8,8,0,0,1-11.32,0l-24-24a8,8,0,0,1,11.32-11.32L112,148.69l50.34-50.35a8,8,0,0,1,11.32,11.32Z"/>`],["duotone",M`<path d="M232,128c0,12.51-17.82,21.95-22.68,33.69-4.68,11.32,1.42,30.65-7.78,39.85s-28.53,3.1-39.85,7.78C150,214.18,140.5,232,128,232s-22-17.82-33.69-22.68c-11.32-4.68-30.65,1.42-39.85-7.78s-3.1-28.53-7.78-39.85C41.82,150,24,140.5,24,128s17.82-22,22.68-33.69C51.36,83,45.26,63.66,54.46,54.46S83,51.36,94.31,46.68C106.05,41.82,115.5,24,128,24S150,41.82,161.69,46.68c11.32,4.68,30.65-1.42,39.85,7.78s3.1,28.53,7.78,39.85C214.18,106.05,232,115.5,232,128Z" opacity="0.2"/><path d="M225.86,102.82c-3.77-3.94-7.67-8-9.14-11.57-1.36-3.27-1.44-8.69-1.52-13.94-.15-9.76-.31-20.82-8-28.51s-18.75-7.85-28.51-8c-5.25-.08-10.67-.16-13.94-1.52-3.56-1.47-7.63-5.37-11.57-9.14C146.28,23.51,138.44,16,128,16s-18.27,7.51-25.18,14.14c-3.94,3.77-8,7.67-11.57,9.14C88,40.64,82.56,40.72,77.31,40.8c-9.76.15-20.82.31-28.51,8S41,67.55,40.8,77.31c-.08,5.25-.16,10.67-1.52,13.94-1.47,3.56-5.37,7.63-9.14,11.57C23.51,109.72,16,117.56,16,128s7.51,18.27,14.14,25.18c3.77,3.94,7.67,8,9.14,11.57,1.36,3.27,1.44,8.69,1.52,13.94.15,9.76.31,20.82,8,28.51s18.75,7.85,28.51,8c5.25.08,10.67.16,13.94,1.52,3.56,1.47,7.63,5.37,11.57,9.14C109.72,232.49,117.56,240,128,240s18.27-7.51,25.18-14.14c3.94-3.77,8-7.67,11.57-9.14,3.27-1.36,8.69-1.44,13.94-1.52,9.76-.15,20.82-.31,28.51-8s7.85-18.75,8-28.51c.08-5.25.16-10.67,1.52-13.94,1.47-3.56,5.37-7.63,9.14-11.57C232.49,146.28,240,138.44,240,128S232.49,109.73,225.86,102.82Zm-11.55,39.29c-4.79,5-9.75,10.17-12.38,16.52-2.52,6.1-2.63,13.07-2.73,19.82-.1,7-.21,14.33-3.32,17.43s-10.39,3.22-17.43,3.32c-6.75.1-13.72.21-19.82,2.73-6.35,2.63-11.52,7.59-16.52,12.38S132,224,128,224s-9.15-4.92-14.11-9.69-10.17-9.75-16.52-12.38c-6.1-2.52-13.07-2.63-19.82-2.73-7-.1-14.33-.21-17.43-3.32s-3.22-10.39-3.32-17.43c-.1-6.75-.21-13.72-2.73-19.82-2.63-6.35-7.59-11.52-12.38-16.52S32,132,32,128s4.92-9.15,9.69-14.11,9.75-10.17,12.38-16.52c2.52-6.1,2.63-13.07,2.73-19.82.1-7,.21-14.33,3.32-17.43S70.51,56.9,77.55,56.8c6.75-.1,13.72-.21,19.82-2.73,6.35-2.63,11.52-7.59,16.52-12.38S124,32,128,32s9.15,4.92,14.11,9.69,10.17,9.75,16.52,12.38c6.1,2.52,13.07,2.63,19.82,2.73,7,.1,14.33.21,17.43,3.32s3.22,10.39,3.32,17.43c.1,6.75.21,13.72,2.73,19.82,2.63,6.35,7.59,11.52,12.38,16.52S224,124,224,128,219.08,137.15,214.31,142.11ZM173.66,98.34a8,8,0,0,1,0,11.32l-56,56a8,8,0,0,1-11.32,0l-24-24a8,8,0,0,1,11.32-11.32L112,148.69l50.34-50.35A8,8,0,0,1,173.66,98.34Z"/>`]]);yd.styles=ge`
    :host {
      display: contents;
    }
  `;Q3([z({type:String,reflect:!0})],yd.prototype,"size",2);Q3([z({type:String,reflect:!0})],yd.prototype,"weight",2);Q3([z({type:String,reflect:!0})],yd.prototype,"color",2);Q3([z({type:Boolean,reflect:!0})],yd.prototype,"mirrored",2);yd=Q3([we("ph-seal-check")],yd)});var h6e={};Se(h6e,{PhSignOut:()=>wd});var Fnt,jnt,X3,wd,m6e=m(()=>{Ge();Qe();tt();rt();nt();Je();Fnt=Object.defineProperty,jnt=Object.getOwnPropertyDescriptor,X3=(e,t,r,n)=>{for(var s=n>1?void 0:n?jnt(t,r):t,o=e.length-1,i;o>=0;o--)(i=e[o])&&(s=(n?i(t,r,s):i(s))||s);return n&&s&&Fnt(t,r,s),s},wd=class extends he{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return ye`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${wd.weightsMap.get((e=this.weight)!=null?e:"regular")}
    </svg>`}};wd.weightsMap=new Map([["thin",M`<path d="M116,216a4,4,0,0,1-4,4H48a4,4,0,0,1-4-4V40a4,4,0,0,1,4-4h64a4,4,0,0,1,0,8H52V212h60A4,4,0,0,1,116,216Zm110.83-90.83-40-40a4,4,0,0,0-5.66,5.66L214.34,124H112a4,4,0,0,0,0,8H214.34l-33.17,33.17a4,4,0,0,0,5.66,5.66l40-40A4,4,0,0,0,226.83,125.17Z"/>`],["light",M`<path d="M118,216a6,6,0,0,1-6,6H48a6,6,0,0,1-6-6V40a6,6,0,0,1,6-6h64a6,6,0,0,1,0,12H54V210h58A6,6,0,0,1,118,216Zm110.24-92.24-40-40a6,6,0,0,0-8.48,8.48L209.51,122H112a6,6,0,0,0,0,12h97.51l-29.75,29.76a6,6,0,1,0,8.48,8.48l40-40A6,6,0,0,0,228.24,123.76Z"/>`],["regular",M`<path d="M120,216a8,8,0,0,1-8,8H48a8,8,0,0,1-8-8V40a8,8,0,0,1,8-8h64a8,8,0,0,1,0,16H56V208h56A8,8,0,0,1,120,216Zm109.66-93.66-40-40a8,8,0,0,0-11.32,11.32L204.69,120H112a8,8,0,0,0,0,16h92.69l-26.35,26.34a8,8,0,0,0,11.32,11.32l40-40A8,8,0,0,0,229.66,122.34Z"/>`],["bold",M`<path d="M124,216a12,12,0,0,1-12,12H48a12,12,0,0,1-12-12V40A12,12,0,0,1,48,28h64a12,12,0,0,1,0,24H60V204h52A12,12,0,0,1,124,216Zm108.49-96.49-40-40a12,12,0,0,0-17,17L195,116H112a12,12,0,0,0,0,24h83l-19.52,19.51a12,12,0,0,0,17,17l40-40A12,12,0,0,0,232.49,119.51Z"/>`],["fill",M`<path d="M120,216a8,8,0,0,1-8,8H48a8,8,0,0,1-8-8V40a8,8,0,0,1,8-8h64a8,8,0,0,1,0,16H56V208h56A8,8,0,0,1,120,216Zm109.66-93.66-40-40A8,8,0,0,0,176,88v32H112a8,8,0,0,0,0,16h64v32a8,8,0,0,0,13.66,5.66l40-40A8,8,0,0,0,229.66,122.34Z"/>`],["duotone",M`<path d="M224,56V200a16,16,0,0,1-16,16H48V40H208A16,16,0,0,1,224,56Z" opacity="0.2"/><path d="M120,216a8,8,0,0,1-8,8H48a8,8,0,0,1-8-8V40a8,8,0,0,1,8-8h64a8,8,0,0,1,0,16H56V208h56A8,8,0,0,1,120,216Zm109.66-93.66-40-40a8,8,0,0,0-11.32,11.32L204.69,120H112a8,8,0,0,0,0,16h92.69l-26.35,26.34a8,8,0,0,0,11.32,11.32l40-40A8,8,0,0,0,229.66,122.34Z"/>`]]);wd.styles=ge`
    :host {
      display: contents;
    }
  `;X3([z({type:String,reflect:!0})],wd.prototype,"size",2);X3([z({type:String,reflect:!0})],wd.prototype,"weight",2);X3([z({type:String,reflect:!0})],wd.prototype,"color",2);X3([z({type:Boolean,reflect:!0})],wd.prototype,"mirrored",2);wd=X3([we("ph-sign-out")],wd)});var g6e={};Se(g6e,{PhSpinner:()=>bd});var znt,Vnt,e5,bd,y6e=m(()=>{Ge();Qe();tt();rt();nt();Je();znt=Object.defineProperty,Vnt=Object.getOwnPropertyDescriptor,e5=(e,t,r,n)=>{for(var s=n>1?void 0:n?Vnt(t,r):t,o=e.length-1,i;o>=0;o--)(i=e[o])&&(s=(n?i(t,r,s):i(s))||s);return n&&s&&znt(t,r,s),s},bd=class extends he{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return ye`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${bd.weightsMap.get((e=this.weight)!=null?e:"regular")}
    </svg>`}};bd.weightsMap=new Map([["thin",M`<path d="M132,32V64a4,4,0,0,1-8,0V32a4,4,0,0,1,8,0Zm41.25,54.75a4,4,0,0,0,2.83-1.18L198.71,63a4,4,0,0,0-5.66-5.66L170.43,79.92a4,4,0,0,0,2.82,6.83ZM224,124H192a4,4,0,0,0,0,8h32a4,4,0,0,0,0-8Zm-47.92,46.43a4,4,0,1,0-5.65,5.65l22.62,22.63a4,4,0,0,0,5.66-5.66ZM128,188a4,4,0,0,0-4,4v32a4,4,0,0,0,8,0V192A4,4,0,0,0,128,188ZM79.92,170.43,57.29,193.05A4,4,0,0,0,63,198.71l22.62-22.63a4,4,0,1,0-5.65-5.65ZM68,128a4,4,0,0,0-4-4H32a4,4,0,0,0,0,8H64A4,4,0,0,0,68,128ZM63,57.29A4,4,0,0,0,57.29,63L79.92,85.57a4,4,0,1,0,5.65-5.65Z"/>`],["light",M`<path d="M134,32V64a6,6,0,0,1-12,0V32a6,6,0,0,1,12,0Zm39.25,56.75A6,6,0,0,0,177.5,87l22.62-22.63a6,6,0,0,0-8.48-8.48L169,78.5a6,6,0,0,0,4.24,10.25ZM224,122H192a6,6,0,0,0,0,12h32a6,6,0,0,0,0-12Zm-46.5,47A6,6,0,0,0,169,177.5l22.63,22.62a6,6,0,0,0,8.48-8.48ZM128,186a6,6,0,0,0-6,6v32a6,6,0,0,0,12,0V192A6,6,0,0,0,128,186ZM78.5,169,55.88,191.64a6,6,0,1,0,8.48,8.48L87,177.5A6,6,0,1,0,78.5,169ZM70,128a6,6,0,0,0-6-6H32a6,6,0,0,0,0,12H64A6,6,0,0,0,70,128ZM64.36,55.88a6,6,0,0,0-8.48,8.48L78.5,87A6,6,0,1,0,87,78.5Z"/>`],["regular",M`<path d="M136,32V64a8,8,0,0,1-16,0V32a8,8,0,0,1,16,0Zm37.25,58.75a8,8,0,0,0,5.66-2.35l22.63-22.62a8,8,0,0,0-11.32-11.32L167.6,77.09a8,8,0,0,0,5.65,13.66ZM224,120H192a8,8,0,0,0,0,16h32a8,8,0,0,0,0-16Zm-45.09,47.6a8,8,0,0,0-11.31,11.31l22.62,22.63a8,8,0,0,0,11.32-11.32ZM128,184a8,8,0,0,0-8,8v32a8,8,0,0,0,16,0V192A8,8,0,0,0,128,184ZM77.09,167.6,54.46,190.22a8,8,0,0,0,11.32,11.32L88.4,178.91A8,8,0,0,0,77.09,167.6ZM72,128a8,8,0,0,0-8-8H32a8,8,0,0,0,0,16H64A8,8,0,0,0,72,128ZM65.78,54.46A8,8,0,0,0,54.46,65.78L77.09,88.4A8,8,0,0,0,88.4,77.09Z"/>`],["bold",M`<path d="M140,32V64a12,12,0,0,1-24,0V32a12,12,0,0,1,24,0Zm33.25,62.75a12,12,0,0,0,8.49-3.52L204.37,68.6a12,12,0,0,0-17-17L164.77,74.26a12,12,0,0,0,8.48,20.49ZM224,116H192a12,12,0,0,0,0,24h32a12,12,0,0,0,0-24Zm-42.26,48.77a12,12,0,1,0-17,17l22.63,22.63a12,12,0,0,0,17-17ZM128,180a12,12,0,0,0-12,12v32a12,12,0,0,0,24,0V192A12,12,0,0,0,128,180ZM74.26,164.77,51.63,187.4a12,12,0,0,0,17,17l22.63-22.63a12,12,0,1,0-17-17ZM76,128a12,12,0,0,0-12-12H32a12,12,0,0,0,0,24H64A12,12,0,0,0,76,128ZM68.6,51.63a12,12,0,1,0-17,17L74.26,91.23a12,12,0,0,0,17-17Z"/>`],["fill",M`<path d="M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm33.94,58.75,17-17a8,8,0,0,1,11.32,11.32l-17,17a8,8,0,0,1-11.31-11.31ZM48,136a8,8,0,0,1,0-16H72a8,8,0,0,1,0,16Zm46.06,37.25-17,17a8,8,0,0,1-11.32-11.32l17-17a8,8,0,0,1,11.31,11.31Zm0-79.19a8,8,0,0,1-11.31,0l-17-17A8,8,0,0,1,77.09,65.77l17,17A8,8,0,0,1,94.06,94.06ZM136,208a8,8,0,0,1-16,0V184a8,8,0,0,1,16,0Zm0-136a8,8,0,0,1-16,0V48a8,8,0,0,1,16,0Zm54.23,118.23a8,8,0,0,1-11.32,0l-17-17a8,8,0,0,1,11.31-11.31l17,17A8,8,0,0,1,190.23,190.23ZM208,136H184a8,8,0,0,1,0-16h24a8,8,0,0,1,0,16Z"/>`],["duotone",M`<path d="M224,128a96,96,0,1,1-96-96A96,96,0,0,1,224,128Z" opacity="0.2"/><path d="M136,32V64a8,8,0,0,1-16,0V32a8,8,0,0,1,16,0Zm37.25,58.75a8,8,0,0,0,5.66-2.35l22.63-22.62a8,8,0,0,0-11.32-11.32L167.6,77.09a8,8,0,0,0,5.65,13.66ZM224,120H192a8,8,0,0,0,0,16h32a8,8,0,0,0,0-16Zm-45.09,47.6a8,8,0,0,0-11.31,11.31l22.62,22.63a8,8,0,0,0,11.32-11.32ZM128,184a8,8,0,0,0-8,8v32a8,8,0,0,0,16,0V192A8,8,0,0,0,128,184ZM77.09,167.6,54.46,190.22a8,8,0,0,0,11.32,11.32L88.4,178.91A8,8,0,0,0,77.09,167.6ZM72,128a8,8,0,0,0-8-8H32a8,8,0,0,0,0,16H64A8,8,0,0,0,72,128ZM65.78,54.46A8,8,0,0,0,54.46,65.78L77.09,88.4A8,8,0,0,0,88.4,77.09Z"/>`]]);bd.styles=ge`
    :host {
      display: contents;
    }
  `;e5([z({type:String,reflect:!0})],bd.prototype,"size",2);e5([z({type:String,reflect:!0})],bd.prototype,"weight",2);e5([z({type:String,reflect:!0})],bd.prototype,"color",2);e5([z({type:Boolean,reflect:!0})],bd.prototype,"mirrored",2);bd=e5([we("ph-spinner")],bd)});var w6e={};Se(w6e,{PhTrash:()=>xd});var qnt,Wnt,t5,xd,b6e=m(()=>{Ge();Qe();tt();rt();nt();Je();qnt=Object.defineProperty,Wnt=Object.getOwnPropertyDescriptor,t5=(e,t,r,n)=>{for(var s=n>1?void 0:n?Wnt(t,r):t,o=e.length-1,i;o>=0;o--)(i=e[o])&&(s=(n?i(t,r,s):i(s))||s);return n&&s&&qnt(t,r,s),s},xd=class extends he{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return ye`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${xd.weightsMap.get((e=this.weight)!=null?e:"regular")}
    </svg>`}};xd.weightsMap=new Map([["thin",M`<path d="M216,52H172V40a20,20,0,0,0-20-20H104A20,20,0,0,0,84,40V52H40a4,4,0,0,0,0,8H52V208a12,12,0,0,0,12,12H192a12,12,0,0,0,12-12V60h12a4,4,0,0,0,0-8ZM92,40a12,12,0,0,1,12-12h48a12,12,0,0,1,12,12V52H92ZM196,208a4,4,0,0,1-4,4H64a4,4,0,0,1-4-4V60H196ZM108,104v64a4,4,0,0,1-8,0V104a4,4,0,0,1,8,0Zm48,0v64a4,4,0,0,1-8,0V104a4,4,0,0,1,8,0Z"/>`],["light",M`<path d="M216,50H174V40a22,22,0,0,0-22-22H104A22,22,0,0,0,82,40V50H40a6,6,0,0,0,0,12H50V208a14,14,0,0,0,14,14H192a14,14,0,0,0,14-14V62h10a6,6,0,0,0,0-12ZM94,40a10,10,0,0,1,10-10h48a10,10,0,0,1,10,10V50H94ZM194,208a2,2,0,0,1-2,2H64a2,2,0,0,1-2-2V62H194ZM110,104v64a6,6,0,0,1-12,0V104a6,6,0,0,1,12,0Zm48,0v64a6,6,0,0,1-12,0V104a6,6,0,0,1,12,0Z"/>`],["regular",M`<path d="M216,48H176V40a24,24,0,0,0-24-24H104A24,24,0,0,0,80,40v8H40a8,8,0,0,0,0,16h8V208a16,16,0,0,0,16,16H192a16,16,0,0,0,16-16V64h8a8,8,0,0,0,0-16ZM96,40a8,8,0,0,1,8-8h48a8,8,0,0,1,8,8v8H96Zm96,168H64V64H192ZM112,104v64a8,8,0,0,1-16,0V104a8,8,0,0,1,16,0Zm48,0v64a8,8,0,0,1-16,0V104a8,8,0,0,1,16,0Z"/>`],["bold",M`<path d="M216,48H180V36A28,28,0,0,0,152,8H104A28,28,0,0,0,76,36V48H40a12,12,0,0,0,0,24h4V208a20,20,0,0,0,20,20H192a20,20,0,0,0,20-20V72h4a12,12,0,0,0,0-24ZM100,36a4,4,0,0,1,4-4h48a4,4,0,0,1,4,4V48H100Zm88,168H68V72H188ZM116,104v64a12,12,0,0,1-24,0V104a12,12,0,0,1,24,0Zm48,0v64a12,12,0,0,1-24,0V104a12,12,0,0,1,24,0Z"/>`],["fill",M`<path d="M216,48H176V40a24,24,0,0,0-24-24H104A24,24,0,0,0,80,40v8H40a8,8,0,0,0,0,16h8V208a16,16,0,0,0,16,16H192a16,16,0,0,0,16-16V64h8a8,8,0,0,0,0-16ZM112,168a8,8,0,0,1-16,0V104a8,8,0,0,1,16,0Zm48,0a8,8,0,0,1-16,0V104a8,8,0,0,1,16,0Zm0-120H96V40a8,8,0,0,1,8-8h48a8,8,0,0,1,8,8Z"/>`],["duotone",M`<path d="M200,56V208a8,8,0,0,1-8,8H64a8,8,0,0,1-8-8V56Z" opacity="0.2"/><path d="M216,48H176V40a24,24,0,0,0-24-24H104A24,24,0,0,0,80,40v8H40a8,8,0,0,0,0,16h8V208a16,16,0,0,0,16,16H192a16,16,0,0,0,16-16V64h8a8,8,0,0,0,0-16ZM96,40a8,8,0,0,1,8-8h48a8,8,0,0,1,8,8v8H96Zm96,168H64V64H192ZM112,104v64a8,8,0,0,1-16,0V104a8,8,0,0,1,16,0Zm48,0v64a8,8,0,0,1-16,0V104a8,8,0,0,1,16,0Z"/>`]]);xd.styles=ge`
    :host {
      display: contents;
    }
  `;t5([z({type:String,reflect:!0})],xd.prototype,"size",2);t5([z({type:String,reflect:!0})],xd.prototype,"weight",2);t5([z({type:String,reflect:!0})],xd.prototype,"color",2);t5([z({type:Boolean,reflect:!0})],xd.prototype,"mirrored",2);xd=t5([we("ph-trash")],xd)});var x6e={};Se(x6e,{PhUser:()=>vd});var Knt,Znt,r5,vd,v6e=m(()=>{Ge();Qe();tt();rt();nt();Je();Knt=Object.defineProperty,Znt=Object.getOwnPropertyDescriptor,r5=(e,t,r,n)=>{for(var s=n>1?void 0:n?Znt(t,r):t,o=e.length-1,i;o>=0;o--)(i=e[o])&&(s=(n?i(t,r,s):i(s))||s);return n&&s&&Knt(t,r,s),s},vd=class extends he{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return ye`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${vd.weightsMap.get((e=this.weight)!=null?e:"regular")}
    </svg>`}};vd.weightsMap=new Map([["thin",M`<path d="M227.46,214c-16.52-28.56-43-48.06-73.68-55.09a68,68,0,1,0-51.56,0c-30.64,7-57.16,26.53-73.68,55.09a4,4,0,0,0,6.92,4C55,184.19,89.62,164,128,164s73,20.19,92.54,54a4,4,0,0,0,3.46,2,3.93,3.93,0,0,0,2-.54A4,4,0,0,0,227.46,214ZM68,96a60,60,0,1,1,60,60A60.07,60.07,0,0,1,68,96Z"/>`],["light",M`<path d="M229.19,213c-15.81-27.32-40.63-46.49-69.47-54.62a70,70,0,1,0-63.44,0C67.44,166.5,42.62,185.67,26.81,213a6,6,0,1,0,10.38,6C56.4,185.81,90.34,166,128,166s71.6,19.81,90.81,53a6,6,0,1,0,10.38-6ZM70,96a58,58,0,1,1,58,58A58.07,58.07,0,0,1,70,96Z"/>`],["regular",M`<path d="M230.92,212c-15.23-26.33-38.7-45.21-66.09-54.16a72,72,0,1,0-73.66,0C63.78,166.78,40.31,185.66,25.08,212a8,8,0,1,0,13.85,8c18.84-32.56,52.14-52,89.07-52s70.23,19.44,89.07,52a8,8,0,1,0,13.85-8ZM72,96a56,56,0,1,1,56,56A56.06,56.06,0,0,1,72,96Z"/>`],["bold",M`<path d="M234.38,210a123.36,123.36,0,0,0-60.78-53.23,76,76,0,1,0-91.2,0A123.36,123.36,0,0,0,21.62,210a12,12,0,1,0,20.77,12c18.12-31.32,50.12-50,85.61-50s67.49,18.69,85.61,50a12,12,0,0,0,20.77-12ZM76,96a52,52,0,1,1,52,52A52.06,52.06,0,0,1,76,96Z"/>`],["fill",M`<path d="M230.93,220a8,8,0,0,1-6.93,4H32a8,8,0,0,1-6.92-12c15.23-26.33,38.7-45.21,66.09-54.16a72,72,0,1,1,73.66,0c27.39,8.95,50.86,27.83,66.09,54.16A8,8,0,0,1,230.93,220Z"/>`],["duotone",M`<path d="M192,96a64,64,0,1,1-64-64A64,64,0,0,1,192,96Z" opacity="0.2"/><path d="M230.92,212c-15.23-26.33-38.7-45.21-66.09-54.16a72,72,0,1,0-73.66,0C63.78,166.78,40.31,185.66,25.08,212a8,8,0,1,0,13.85,8c18.84-32.56,52.14-52,89.07-52s70.23,19.44,89.07,52a8,8,0,1,0,13.85-8ZM72,96a56,56,0,1,1,56,56A56.06,56.06,0,0,1,72,96Z"/>`]]);vd.styles=ge`
    :host {
      display: contents;
    }
  `;r5([z({type:String,reflect:!0})],vd.prototype,"size",2);r5([z({type:String,reflect:!0})],vd.prototype,"weight",2);r5([z({type:String,reflect:!0})],vd.prototype,"color",2);r5([z({type:Boolean,reflect:!0})],vd.prototype,"mirrored",2);vd=r5([we("ph-user")],vd)});var E6e={};Se(E6e,{PhWallet:()=>Ed});var Gnt,Ynt,n5,Ed,A6e=m(()=>{Ge();Qe();tt();rt();nt();Je();Gnt=Object.defineProperty,Ynt=Object.getOwnPropertyDescriptor,n5=(e,t,r,n)=>{for(var s=n>1?void 0:n?Ynt(t,r):t,o=e.length-1,i;o>=0;o--)(i=e[o])&&(s=(n?i(t,r,s):i(s))||s);return n&&s&&Gnt(t,r,s),s},Ed=class extends he{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return ye`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${Ed.weightsMap.get((e=this.weight)!=null?e:"regular")}
    </svg>`}};Ed.weightsMap=new Map([["thin",M`<path d="M216,68H56a12,12,0,0,1,0-24H192a4,4,0,0,0,0-8H56A20,20,0,0,0,36,56V184a20,20,0,0,0,20,20H216a12,12,0,0,0,12-12V80A12,12,0,0,0,216,68Zm4,124a4,4,0,0,1-4,4H56a12,12,0,0,1-12-12V72a19.86,19.86,0,0,0,12,4H216a4,4,0,0,1,4,4Zm-32-60a8,8,0,1,1-8-8A8,8,0,0,1,188,132Z"/>`],["light",M`<path d="M216,66H56a10,10,0,0,1,0-20H192a6,6,0,0,0,0-12H56A22,22,0,0,0,34,56V184a22,22,0,0,0,22,22H216a14,14,0,0,0,14-14V80A14,14,0,0,0,216,66Zm2,126a2,2,0,0,1-2,2H56a10,10,0,0,1-10-10V75.59A21.84,21.84,0,0,0,56,78H216a2,2,0,0,1,2,2Zm-28-60a10,10,0,1,1-10-10A10,10,0,0,1,190,132Z"/>`],["regular",M`<path d="M216,64H56a8,8,0,0,1,0-16H192a8,8,0,0,0,0-16H56A24,24,0,0,0,32,56V184a24,24,0,0,0,24,24H216a16,16,0,0,0,16-16V80A16,16,0,0,0,216,64Zm0,128H56a8,8,0,0,1-8-8V78.63A23.84,23.84,0,0,0,56,80H216Zm-48-60a12,12,0,1,1,12,12A12,12,0,0,1,168,132Z"/>`],["bold",M`<path d="M196,136a16,16,0,1,1-16-16A16,16,0,0,1,196,136Zm40-36v80a32,32,0,0,1-32,32H60a32,32,0,0,1-32-32V60.92A32,32,0,0,1,60,28H192a12,12,0,0,1,0,24H60a8,8,0,0,0-8,8.26v.08A8.32,8.32,0,0,0,60.48,68H204A32,32,0,0,1,236,100Zm-24,0a8,8,0,0,0-8-8H60.48A33.72,33.72,0,0,1,52,90.92V180a8,8,0,0,0,8,8H204a8,8,0,0,0,8-8Z"/>`],["fill",M`<path d="M216,64H56a8,8,0,0,1,0-16H192a8,8,0,0,0,0-16H56A24,24,0,0,0,32,56V184a24,24,0,0,0,24,24H216a16,16,0,0,0,16-16V80A16,16,0,0,0,216,64Zm-36,80a12,12,0,1,1,12-12A12,12,0,0,1,180,144Z"/>`],["duotone",M`<path d="M224,80V192a8,8,0,0,1-8,8H56a16,16,0,0,1-16-16V56A16,16,0,0,0,56,72H216A8,8,0,0,1,224,80Z" opacity="0.2"/><path d="M216,64H56a8,8,0,0,1,0-16H192a8,8,0,0,0,0-16H56A24,24,0,0,0,32,56V184a24,24,0,0,0,24,24H216a16,16,0,0,0,16-16V80A16,16,0,0,0,216,64Zm0,128H56a8,8,0,0,1-8-8V78.63A23.84,23.84,0,0,0,56,80H216Zm-48-60a12,12,0,1,1,12,12A12,12,0,0,1,168,132Z"/>`]]);Ed.styles=ge`
    :host {
      display: contents;
    }
  `;n5([z({type:String,reflect:!0})],Ed.prototype,"size",2);n5([z({type:String,reflect:!0})],Ed.prototype,"weight",2);n5([z({type:String,reflect:!0})],Ed.prototype,"color",2);n5([z({type:Boolean,reflect:!0})],Ed.prototype,"mirrored",2);Ed=n5([we("ph-wallet")],Ed)});var C6e={};Se(C6e,{PhWarning:()=>Ad});var Jnt,Qnt,s5,Ad,S6e=m(()=>{Ge();Qe();tt();rt();nt();Je();Jnt=Object.defineProperty,Qnt=Object.getOwnPropertyDescriptor,s5=(e,t,r,n)=>{for(var s=n>1?void 0:n?Qnt(t,r):t,o=e.length-1,i;o>=0;o--)(i=e[o])&&(s=(n?i(t,r,s):i(s))||s);return n&&s&&Jnt(t,r,s),s},Ad=class extends he{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return ye`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${Ad.weightsMap.get((e=this.weight)!=null?e:"regular")}
    </svg>`}};Ad.weightsMap=new Map([["thin",M`<path d="M233.34,190.09,145.88,38.22h0a20.75,20.75,0,0,0-35.76,0L22.66,190.09a19.52,19.52,0,0,0,0,19.71A20.36,20.36,0,0,0,40.54,220H215.46a20.36,20.36,0,0,0,17.86-10.2A19.52,19.52,0,0,0,233.34,190.09ZM226.4,205.8a12.47,12.47,0,0,1-10.94,6.2H40.54a12.47,12.47,0,0,1-10.94-6.2,11.45,11.45,0,0,1,0-11.72L117.05,42.21a12.76,12.76,0,0,1,21.9,0L226.4,194.08A11.45,11.45,0,0,1,226.4,205.8ZM124,144V104a4,4,0,0,1,8,0v40a4,4,0,0,1-8,0Zm12,36a8,8,0,1,1-8-8A8,8,0,0,1,136,180Z"/>`],["light",M`<path d="M235.07,189.09,147.61,37.22h0a22.75,22.75,0,0,0-39.22,0L20.93,189.09a21.53,21.53,0,0,0,0,21.72A22.35,22.35,0,0,0,40.55,222h174.9a22.35,22.35,0,0,0,19.6-11.19A21.53,21.53,0,0,0,235.07,189.09ZM224.66,204.8a10.46,10.46,0,0,1-9.21,5.2H40.55a10.46,10.46,0,0,1-9.21-5.2,9.51,9.51,0,0,1,0-9.72L118.79,43.21a10.75,10.75,0,0,1,18.42,0l87.46,151.87A9.51,9.51,0,0,1,224.66,204.8ZM122,144V104a6,6,0,0,1,12,0v40a6,6,0,0,1-12,0Zm16,36a10,10,0,1,1-10-10A10,10,0,0,1,138,180Z"/>`],["regular",M`<path d="M236.8,188.09,149.35,36.22h0a24.76,24.76,0,0,0-42.7,0L19.2,188.09a23.51,23.51,0,0,0,0,23.72A24.35,24.35,0,0,0,40.55,224h174.9a24.35,24.35,0,0,0,21.33-12.19A23.51,23.51,0,0,0,236.8,188.09ZM222.93,203.8a8.5,8.5,0,0,1-7.48,4.2H40.55a8.5,8.5,0,0,1-7.48-4.2,7.59,7.59,0,0,1,0-7.72L120.52,44.21a8.75,8.75,0,0,1,15,0l87.45,151.87A7.59,7.59,0,0,1,222.93,203.8ZM120,144V104a8,8,0,0,1,16,0v40a8,8,0,0,1-16,0Zm20,36a12,12,0,1,1-12-12A12,12,0,0,1,140,180Z"/>`],["bold",M`<path d="M240.26,186.1,152.81,34.23h0a28.74,28.74,0,0,0-49.62,0L15.74,186.1a27.45,27.45,0,0,0,0,27.71A28.31,28.31,0,0,0,40.55,228h174.9a28.31,28.31,0,0,0,24.79-14.19A27.45,27.45,0,0,0,240.26,186.1Zm-20.8,15.7a4.46,4.46,0,0,1-4,2.2H40.55a4.46,4.46,0,0,1-4-2.2,3.56,3.56,0,0,1,0-3.73L124,46.2a4.77,4.77,0,0,1,8,0l87.44,151.87A3.56,3.56,0,0,1,219.46,201.8ZM116,136V104a12,12,0,0,1,24,0v32a12,12,0,0,1-24,0Zm28,40a16,16,0,1,1-16-16A16,16,0,0,1,144,176Z"/>`],["fill",M`<path d="M236.8,188.09,149.35,36.22h0a24.76,24.76,0,0,0-42.7,0L19.2,188.09a23.51,23.51,0,0,0,0,23.72A24.35,24.35,0,0,0,40.55,224h174.9a24.35,24.35,0,0,0,21.33-12.19A23.51,23.51,0,0,0,236.8,188.09ZM120,104a8,8,0,0,1,16,0v40a8,8,0,0,1-16,0Zm8,88a12,12,0,1,1,12-12A12,12,0,0,1,128,192Z"/>`],["duotone",M`<path d="M215.46,216H40.54C27.92,216,20,202.79,26.13,192.09L113.59,40.22c6.3-11,22.52-11,28.82,0l87.46,151.87C236,202.79,228.08,216,215.46,216Z" opacity="0.2"/><path d="M236.8,188.09,149.35,36.22h0a24.76,24.76,0,0,0-42.7,0L19.2,188.09a23.51,23.51,0,0,0,0,23.72A24.35,24.35,0,0,0,40.55,224h174.9a24.35,24.35,0,0,0,21.33-12.19A23.51,23.51,0,0,0,236.8,188.09ZM222.93,203.8a8.5,8.5,0,0,1-7.48,4.2H40.55a8.5,8.5,0,0,1-7.48-4.2,7.59,7.59,0,0,1,0-7.72L120.52,44.21a8.75,8.75,0,0,1,15,0l87.45,151.87A7.59,7.59,0,0,1,222.93,203.8ZM120,144V104a8,8,0,0,1,16,0v40a8,8,0,0,1-16,0Zm20,36a12,12,0,1,1-12-12A12,12,0,0,1,140,180Z"/>`]]);Ad.styles=ge`
    :host {
      display: contents;
    }
  `;s5([z({type:String,reflect:!0})],Ad.prototype,"size",2);s5([z({type:String,reflect:!0})],Ad.prototype,"weight",2);s5([z({type:String,reflect:!0})],Ad.prototype,"color",2);s5([z({type:Boolean,reflect:!0})],Ad.prototype,"mirrored",2);Ad=s5([we("ph-warning")],Ad)});var I6e={};Se(I6e,{PhWarningCircle:()=>Cd});var Xnt,est,o5,Cd,_6e=m(()=>{Ge();Qe();tt();rt();nt();Je();Xnt=Object.defineProperty,est=Object.getOwnPropertyDescriptor,o5=(e,t,r,n)=>{for(var s=n>1?void 0:n?est(t,r):t,o=e.length-1,i;o>=0;o--)(i=e[o])&&(s=(n?i(t,r,s):i(s))||s);return n&&s&&Xnt(t,r,s),s},Cd=class extends he{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return ye`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${Cd.weightsMap.get((e=this.weight)!=null?e:"regular")}
    </svg>`}};Cd.weightsMap=new Map([["thin",M`<path d="M128,28A100,100,0,1,0,228,128,100.11,100.11,0,0,0,128,28Zm0,192a92,92,0,1,1,92-92A92.1,92.1,0,0,1,128,220Zm-4-84V80a4,4,0,0,1,8,0v56a4,4,0,0,1-8,0Zm12,36a8,8,0,1,1-8-8A8,8,0,0,1,136,172Z"/>`],["light",M`<path d="M128,26A102,102,0,1,0,230,128,102.12,102.12,0,0,0,128,26Zm0,192a90,90,0,1,1,90-90A90.1,90.1,0,0,1,128,218Zm-6-82V80a6,6,0,0,1,12,0v56a6,6,0,0,1-12,0Zm16,36a10,10,0,1,1-10-10A10,10,0,0,1,138,172Z"/>`],["regular",M`<path d="M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm0,192a88,88,0,1,1,88-88A88.1,88.1,0,0,1,128,216Zm-8-80V80a8,8,0,0,1,16,0v56a8,8,0,0,1-16,0Zm20,36a12,12,0,1,1-12-12A12,12,0,0,1,140,172Z"/>`],["bold",M`<path d="M128,20A108,108,0,1,0,236,128,108.12,108.12,0,0,0,128,20Zm0,192a84,84,0,1,1,84-84A84.09,84.09,0,0,1,128,212Zm-12-80V80a12,12,0,0,1,24,0v52a12,12,0,0,1-24,0Zm28,40a16,16,0,1,1-16-16A16,16,0,0,1,144,172Z"/>`],["fill",M`<path d="M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm-8,56a8,8,0,0,1,16,0v56a8,8,0,0,1-16,0Zm8,104a12,12,0,1,1,12-12A12,12,0,0,1,128,184Z"/>`],["duotone",M`<path d="M224,128a96,96,0,1,1-96-96A96,96,0,0,1,224,128Z" opacity="0.2"/><path d="M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm0,192a88,88,0,1,1,88-88A88.1,88.1,0,0,1,128,216Zm-8-80V80a8,8,0,0,1,16,0v56a8,8,0,0,1-16,0Zm20,36a12,12,0,1,1-12-12A12,12,0,0,1,140,172Z"/>`]]);Cd.styles=ge`
    :host {
      display: contents;
    }
  `;o5([z({type:String,reflect:!0})],Cd.prototype,"size",2);o5([z({type:String,reflect:!0})],Cd.prototype,"weight",2);o5([z({type:String,reflect:!0})],Cd.prototype,"color",2);o5([z({type:Boolean,reflect:!0})],Cd.prototype,"mirrored",2);Cd=o5([we("ph-warning-circle")],Cd)});var T6e={};Se(T6e,{PhX:()=>Sd});var tst,rst,i5,Sd,P6e=m(()=>{Ge();Qe();tt();rt();nt();Je();tst=Object.defineProperty,rst=Object.getOwnPropertyDescriptor,i5=(e,t,r,n)=>{for(var s=n>1?void 0:n?rst(t,r):t,o=e.length-1,i;o>=0;o--)(i=e[o])&&(s=(n?i(t,r,s):i(s))||s);return n&&s&&tst(t,r,s),s},Sd=class extends he{constructor(){super(...arguments),this.size="1em",this.weight="regular",this.color="currentColor",this.mirrored=!1}render(){var e;return ye`<svg
      xmlns="http://www.w3.org/2000/svg"
      width="${this.size}"
      height="${this.size}"
      fill="${this.color}"
      viewBox="0 0 256 256"
      transform=${this.mirrored?"scale(-1, 1)":null}
    >
      ${Sd.weightsMap.get((e=this.weight)!=null?e:"regular")}
    </svg>`}};Sd.weightsMap=new Map([["thin",M`<path d="M202.83,197.17a4,4,0,0,1-5.66,5.66L128,133.66,58.83,202.83a4,4,0,0,1-5.66-5.66L122.34,128,53.17,58.83a4,4,0,0,1,5.66-5.66L128,122.34l69.17-69.17a4,4,0,1,1,5.66,5.66L133.66,128Z"/>`],["light",M`<path d="M204.24,195.76a6,6,0,1,1-8.48,8.48L128,136.49,60.24,204.24a6,6,0,0,1-8.48-8.48L119.51,128,51.76,60.24a6,6,0,0,1,8.48-8.48L128,119.51l67.76-67.75a6,6,0,0,1,8.48,8.48L136.49,128Z"/>`],["regular",M`<path d="M205.66,194.34a8,8,0,0,1-11.32,11.32L128,139.31,61.66,205.66a8,8,0,0,1-11.32-11.32L116.69,128,50.34,61.66A8,8,0,0,1,61.66,50.34L128,116.69l66.34-66.35a8,8,0,0,1,11.32,11.32L139.31,128Z"/>`],["bold",M`<path d="M208.49,191.51a12,12,0,0,1-17,17L128,145,64.49,208.49a12,12,0,0,1-17-17L111,128,47.51,64.49a12,12,0,0,1,17-17L128,111l63.51-63.52a12,12,0,0,1,17,17L145,128Z"/>`],["fill",M`<path d="M208,32H48A16,16,0,0,0,32,48V208a16,16,0,0,0,16,16H208a16,16,0,0,0,16-16V48A16,16,0,0,0,208,32ZM181.66,170.34a8,8,0,0,1-11.32,11.32L128,139.31,85.66,181.66a8,8,0,0,1-11.32-11.32L116.69,128,74.34,85.66A8,8,0,0,1,85.66,74.34L128,116.69l42.34-42.35a8,8,0,0,1,11.32,11.32L139.31,128Z"/>`],["duotone",M`<path d="M216,56V200a16,16,0,0,1-16,16H56a16,16,0,0,1-16-16V56A16,16,0,0,1,56,40H200A16,16,0,0,1,216,56Z" opacity="0.2"/><path d="M205.66,194.34a8,8,0,0,1-11.32,11.32L128,139.31,61.66,205.66a8,8,0,0,1-11.32-11.32L116.69,128,50.34,61.66A8,8,0,0,1,61.66,50.34L128,116.69l66.34-66.35a8,8,0,0,1,11.32,11.32L139.31,128Z"/>`]]);Sd.styles=ge`
    :host {
      display: contents;
    }
  `;i5([z({type:String,reflect:!0})],Sd.prototype,"size",2);i5([z({type:String,reflect:!0})],Sd.prototype,"weight",2);i5([z({type:String,reflect:!0})],Sd.prototype,"color",2);i5([z({type:Boolean,reflect:!0})],Sd.prototype,"mirrored",2);Sd=i5([we("ph-x")],Sd)});var a5,nst,sst,ost,ist,Wg,as=m(()=>{le();Me();iye();cye();uye();pye();hye();gye();wye();xye();Eye();Cye();Iye();Tye();Nye();Oye();Bye();Uye();Mye();$ye();jye();Vye();Wye();Zye();Yye();Qye();nwe();swe();Nt();Mt();kt();iwe();a5=function(e,t,r,n){var s=arguments.length,o=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,r,o):i(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o},nst={add:"ph-plus",allWallets:"ph-dots-three",arrowBottom:"ph-arrow-down",arrowBottomCircle:"ph-arrow-circle-down",arrowClockWise:"ph-arrow-clockwise",arrowLeft:"ph-arrow-left",arrowRight:"ph-arrow-right",arrowTop:"ph-arrow-up",arrowTopRight:"ph-arrow-up-right",bank:"ph-bank",bin:"ph-trash",browser:"ph-browser",card:"ph-credit-card",checkmarkBold:"ph-check",chevronBottom:"ph-caret-down",chevronLeft:"ph-caret-left",chevronRight:"ph-caret-right",chevronTop:"ph-caret-up",clock:"ph-clock",close:"ph-x",coinPlaceholder:"ph-circle-half",compass:"ph-compass",copy:"ph-copy",desktop:"ph-desktop",dollar:"ph-currency-dollar",download:"ph-vault",exclamationCircle:"ph-warning-circle",extension:"ph-puzzle-piece",externalLink:"ph-arrow-square-out",filters:"ph-funnel-simple",helpCircle:"ph-question",id:"ph-identification-card",image:"ph-image",info:"ph-info",lightbulb:"ph-lightbulb",mail:"ph-envelope",mobile:"ph-device-mobile",more:"ph-dots-three",networkPlaceholder:"ph-globe",nftPlaceholder:"ph-image",plus:"ph-plus",power:"ph-power",qrCode:"ph-qr-code",questionMark:"ph-question",refresh:"ph-arrow-clockwise",recycleHorizontal:"ph-arrows-clockwise",search:"ph-magnifying-glass",sealCheck:"ph-seal-check",send:"ph-paper-plane-right",signOut:"ph-sign-out",spinner:"ph-spinner",swapHorizontal:"ph-arrows-left-right",swapVertical:"ph-arrows-down-up",threeDots:"ph-dots-three",user:"ph-user",verify:"ph-seal-check",verifyFilled:"ph-seal-check",wallet:"ph-wallet",warning:"ph-warning",warningCircle:"ph-warning-circle",appStore:"",apple:"",bitcoin:"",coins:"",chromeStore:"",cursor:"",discord:"",ethereum:"",etherscan:"",facebook:"",farcaster:"",github:"",google:"",playStore:"",paperPlaneTitle:"",reown:"",solana:"",ton:"",telegram:"",twitch:"",twitterIcon:"",twitter:"",walletConnect:"",walletConnectBrown:"",walletConnectLightBrown:"",x:"",infoSeal:"",checkmark:""},sst={"ph-arrow-circle-down":()=>Promise.resolve().then(()=>(Dwe(),Bwe)),"ph-arrow-clockwise":()=>Promise.resolve().then(()=>(Lwe(),Uwe)),"ph-arrow-down":()=>Promise.resolve().then(()=>(Hwe(),Mwe)),"ph-arrow-left":()=>Promise.resolve().then(()=>(Fwe(),$we)),"ph-arrow-right":()=>Promise.resolve().then(()=>(zwe(),jwe)),"ph-arrow-square-out":()=>Promise.resolve().then(()=>(qwe(),Vwe)),"ph-arrows-down-up":()=>Promise.resolve().then(()=>(Kwe(),Wwe)),"ph-arrows-left-right":()=>Promise.resolve().then(()=>(Gwe(),Zwe)),"ph-arrow-up":()=>Promise.resolve().then(()=>(Jwe(),Ywe)),"ph-arrow-up-right":()=>Promise.resolve().then(()=>(Xwe(),Qwe)),"ph-arrows-clockwise":()=>Promise.resolve().then(()=>(tbe(),ebe)),"ph-bank":()=>Promise.resolve().then(()=>(nbe(),rbe)),"ph-browser":()=>Promise.resolve().then(()=>(obe(),sbe)),"ph-caret-down":()=>Promise.resolve().then(()=>(abe(),ibe)),"ph-caret-left":()=>Promise.resolve().then(()=>(lbe(),cbe)),"ph-caret-right":()=>Promise.resolve().then(()=>(dbe(),ube)),"ph-caret-up":()=>Promise.resolve().then(()=>(fbe(),pbe)),"ph-check":()=>Promise.resolve().then(()=>(mbe(),hbe)),"ph-circle-half":()=>Promise.resolve().then(()=>(ybe(),gbe)),"ph-clock":()=>Promise.resolve().then(()=>(bbe(),wbe)),"ph-compass":()=>Promise.resolve().then(()=>(vbe(),xbe)),"ph-copy":()=>Promise.resolve().then(()=>(Abe(),Ebe)),"ph-credit-card":()=>Promise.resolve().then(()=>(Sbe(),Cbe)),"ph-currency-dollar":()=>Promise.resolve().then(()=>(_be(),Ibe)),"ph-desktop":()=>Promise.resolve().then(()=>(Pbe(),Tbe)),"ph-device-mobile":()=>Promise.resolve().then(()=>(Rbe(),Nbe)),"ph-dots-three":()=>Promise.resolve().then(()=>(kbe(),Obe)),"ph-vault":()=>Promise.resolve().then(()=>(Dbe(),Bbe)),"ph-envelope":()=>Promise.resolve().then(()=>(Lbe(),Ube)),"ph-funnel-simple":()=>Promise.resolve().then(()=>(Hbe(),Mbe)),"ph-globe":()=>Promise.resolve().then(()=>(Fbe(),$be)),"ph-identification-card":()=>Promise.resolve().then(()=>(zbe(),jbe)),"ph-image":()=>Promise.resolve().then(()=>(qbe(),Vbe)),"ph-info":()=>Promise.resolve().then(()=>(Kbe(),Wbe)),"ph-lightbulb":()=>Promise.resolve().then(()=>(Gbe(),Zbe)),"ph-magnifying-glass":()=>Promise.resolve().then(()=>(Jbe(),Ybe)),"ph-paper-plane-right":()=>Promise.resolve().then(()=>(Xbe(),Qbe)),"ph-plus":()=>Promise.resolve().then(()=>(t6e(),e6e)),"ph-power":()=>Promise.resolve().then(()=>(n6e(),r6e)),"ph-puzzle-piece":()=>Promise.resolve().then(()=>(o6e(),s6e)),"ph-qr-code":()=>Promise.resolve().then(()=>(a6e(),i6e)),"ph-question":()=>Promise.resolve().then(()=>(l6e(),c6e)),"ph-question-circle":()=>Promise.resolve().then(()=>(d6e(),u6e)),"ph-seal-check":()=>Promise.resolve().then(()=>(f6e(),p6e)),"ph-sign-out":()=>Promise.resolve().then(()=>(m6e(),h6e)),"ph-spinner":()=>Promise.resolve().then(()=>(y6e(),g6e)),"ph-trash":()=>Promise.resolve().then(()=>(b6e(),w6e)),"ph-user":()=>Promise.resolve().then(()=>(v6e(),x6e)),"ph-wallet":()=>Promise.resolve().then(()=>(A6e(),E6e)),"ph-warning":()=>Promise.resolve().then(()=>(S6e(),C6e)),"ph-warning-circle":()=>Promise.resolve().then(()=>(_6e(),I6e)),"ph-x":()=>Promise.resolve().then(()=>(P6e(),T6e))},ost={appStore:aye,apple:lye,bitcoin:dye,coins:yye,chromeStore:mye,cursor:bye,discord:vye,ethereum:Aye,etherscan:Sye,facebook:_ye,farcaster:Pye,github:Rye,google:kye,playStore:Hye,paperPlaneTitle:Lye,reown:Fye,solana:zye,ton:Kye,telegram:qye,twitch:Gye,twitter:wz,twitterIcon:Jye,walletConnect:Xye,walletConnectInvert:ewe,walletConnectBrown:rwe,walletConnectLightBrown:twe,x:wz,infoSeal:Dye,checkmark:fye},ist={"accent-primary":Ht.tokens.core.iconAccentPrimary,"accent-certified":Ht.tokens.core.iconAccentCertified,"foreground-secondary":Ht.tokens.theme.foregroundSecondary,default:Ht.tokens.theme.iconDefault,success:Ht.tokens.core.iconSuccess,error:Ht.tokens.core.iconError,warning:Ht.tokens.core.iconWarning,inverse:Ht.tokens.theme.iconInverse},Wg=class extends re{constructor(){super(...arguments),this.size="md",this.name="copy",this.weight="bold",this.color="inherit"}render(){let t={xxs:"2",xs:"3",sm:"3",md:"4",mdl:"5",lg:"5",xl:"6",xxl:"7",inherit:"inherit"};this.style.cssText=`
      --local-width: ${this.size==="inherit"?"inherit":`var(--apkt-spacing-${t[this.size]})`};
      --local-color: ${this.color==="inherit"?"inherit":ist[this.color]}
    `;let r=nst[this.name];if(r&&r!==""){let n=sst[r];n&&n();let s=sye(r);return yz`<${s} size=${{xxs:"0.5em",xs:"0.75em",sm:"0.75em",md:"1em",mdl:"1.25em",lg:"1.25em",xl:"1.5em",xxl:"1.75em"}[this.size]} weight="${this.weight}"></${s}>`}return ost[this.name]||yz``}};Wg.styles=[Ue,owe];a5([F()],Wg.prototype,"size",void 0);a5([F()],Wg.prototype,"name",void 0);a5([F()],Wg.prototype,"weight",void 0);a5([F()],Wg.prototype,"color",void 0);Wg=a5([ee("wui-icon")],Wg)});var dT,c5,h6,l5=m(()=>{dT={ATTRIBUTE:1,CHILD:2,PROPERTY:3,BOOLEAN_ATTRIBUTE:4,EVENT:5,ELEMENT:6},c5=e=>(...t)=>({_$litDirective$:e,values:t}),h6=class{constructor(t){}get _$AU(){return this._$AM._$AU}_$AT(t,r,n){this._$Ct=t,this._$AM=r,this._$Ci=n}_$AS(t,r){return this.update(t,r)}update(t,r){return this.render(...r)}}});var m6,N6e=m(()=>{cf();l5();m6=c5(class extends h6{constructor(e){if(super(e),e.type!==dT.ATTRIBUTE||e.name!=="class"||e.strings?.length>2)throw Error("`classMap()` can only be used in the `class` attribute and must be the only part in the attribute.")}render(e){return" "+Object.keys(e).filter(t=>e[t]).join(" ")+" "}update(e,[t]){if(this.st===void 0){this.st=new Set,e.strings!==void 0&&(this.nt=new Set(e.strings.join(" ").split(/\s/).filter(n=>n!=="")));for(let n in t)t[n]&&!this.nt?.has(n)&&this.st.add(n);return this.render(t)}let r=e.element.classList;for(let n of this.st)n in t||(r.remove(n),this.st.delete(n));for(let n in t){let s=!!t[n];s===this.st.has(n)||this.nt?.has(n)||(s?(r.add(n),this.st.add(n)):(r.remove(n),this.st.delete(n)))}return af}})});var pT=m(()=>{N6e()});var R6e,O6e=m(()=>{Nt();R6e=ce`
  slot {
    width: 100%;
    display: inline-block;
    font-style: normal;
    overflow: inherit;
    text-overflow: inherit;
    text-align: var(--local-align);
    color: var(--local-color);
  }

  .wui-line-clamp-1 {
    overflow: hidden;
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-line-clamp: 1;
  }

  .wui-line-clamp-2 {
    overflow: hidden;
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-line-clamp: 2;
  }

  /* -- Headings --------------------------------------------------- */
  .wui-font-h1-regular-mono {
    font-size: ${({textSize:e})=>e.h1};
    line-height: ${({typography:e})=>e["h1-regular-mono"].lineHeight};
    letter-spacing: ${({typography:e})=>e["h1-regular-mono"].letterSpacing};
    font-weight: ${({fontWeight:e})=>e.regular};
    font-family: ${({fontFamily:e})=>e.mono};
  }

  .wui-font-h1-regular {
    font-size: ${({textSize:e})=>e.h1};
    line-height: ${({typography:e})=>e["h1-regular"].lineHeight};
    letter-spacing: ${({typography:e})=>e["h1-regular"].letterSpacing};
    font-weight: ${({fontWeight:e})=>e.regular};
    font-family: ${({fontFamily:e})=>e.regular};
    font-feature-settings:
      'liga' off,
      'clig' off;
  }

  .wui-font-h1-medium {
    font-size: ${({textSize:e})=>e.h1};
    line-height: ${({typography:e})=>e["h1-medium"].lineHeight};
    letter-spacing: ${({typography:e})=>e["h1-medium"].letterSpacing};
    font-weight: ${({fontWeight:e})=>e.medium};
    font-family: ${({fontFamily:e})=>e.regular};
    font-feature-settings:
      'liga' off,
      'clig' off;
  }

  .wui-font-h2-regular-mono {
    font-size: ${({textSize:e})=>e.h2};
    line-height: ${({typography:e})=>e["h2-regular-mono"].lineHeight};
    letter-spacing: ${({typography:e})=>e["h2-regular-mono"].letterSpacing};
    font-weight: ${({fontWeight:e})=>e.regular};
    font-family: ${({fontFamily:e})=>e.mono};
  }

  .wui-font-h2-regular {
    font-size: ${({textSize:e})=>e.h2};
    line-height: ${({typography:e})=>e["h2-regular"].lineHeight};
    letter-spacing: ${({typography:e})=>e["h2-regular"].letterSpacing};
    font-weight: ${({fontWeight:e})=>e.regular};
    font-family: ${({fontFamily:e})=>e.regular};
    font-feature-settings:
      'liga' off,
      'clig' off;
  }

  .wui-font-h2-medium {
    font-size: ${({textSize:e})=>e.h2};
    line-height: ${({typography:e})=>e["h2-medium"].lineHeight};
    letter-spacing: ${({typography:e})=>e["h2-medium"].letterSpacing};
    font-weight: ${({fontWeight:e})=>e.medium};
    font-family: ${({fontFamily:e})=>e.regular};
    font-feature-settings:
      'liga' off,
      'clig' off;
  }

  .wui-font-h3-regular-mono {
    font-size: ${({textSize:e})=>e.h3};
    line-height: ${({typography:e})=>e["h3-regular-mono"].lineHeight};
    letter-spacing: ${({typography:e})=>e["h3-regular-mono"].letterSpacing};
    font-weight: ${({fontWeight:e})=>e.regular};
    font-family: ${({fontFamily:e})=>e.mono};
  }

  .wui-font-h3-regular {
    font-size: ${({textSize:e})=>e.h3};
    line-height: ${({typography:e})=>e["h3-regular"].lineHeight};
    letter-spacing: ${({typography:e})=>e["h3-regular"].letterSpacing};
    font-weight: ${({fontWeight:e})=>e.regular};
    font-family: ${({fontFamily:e})=>e.regular};
    font-feature-settings:
      'liga' off,
      'clig' off;
  }

  .wui-font-h3-medium {
    font-size: ${({textSize:e})=>e.h3};
    line-height: ${({typography:e})=>e["h3-medium"].lineHeight};
    letter-spacing: ${({typography:e})=>e["h3-medium"].letterSpacing};
    font-weight: ${({fontWeight:e})=>e.medium};
    font-family: ${({fontFamily:e})=>e.regular};
    font-feature-settings:
      'liga' off,
      'clig' off;
  }

  .wui-font-h4-regular-mono {
    font-size: ${({textSize:e})=>e.h4};
    line-height: ${({typography:e})=>e["h4-regular-mono"].lineHeight};
    letter-spacing: ${({typography:e})=>e["h4-regular-mono"].letterSpacing};
    font-weight: ${({fontWeight:e})=>e.regular};
    font-family: ${({fontFamily:e})=>e.mono};
  }

  .wui-font-h4-regular {
    font-size: ${({textSize:e})=>e.h4};
    line-height: ${({typography:e})=>e["h4-regular"].lineHeight};
    letter-spacing: ${({typography:e})=>e["h4-regular"].letterSpacing};
    font-weight: ${({fontWeight:e})=>e.regular};
    font-family: ${({fontFamily:e})=>e.regular};
    font-feature-settings:
      'liga' off,
      'clig' off;
  }

  .wui-font-h4-medium {
    font-size: ${({textSize:e})=>e.h4};
    line-height: ${({typography:e})=>e["h4-medium"].lineHeight};
    letter-spacing: ${({typography:e})=>e["h4-medium"].letterSpacing};
    font-weight: ${({fontWeight:e})=>e.medium};
    font-family: ${({fontFamily:e})=>e.regular};
    font-feature-settings:
      'liga' off,
      'clig' off;
  }

  .wui-font-h5-regular-mono {
    font-size: ${({textSize:e})=>e.h5};
    line-height: ${({typography:e})=>e["h5-regular-mono"].lineHeight};
    letter-spacing: ${({typography:e})=>e["h5-regular-mono"].letterSpacing};
    font-weight: ${({fontWeight:e})=>e.regular};
    font-family: ${({fontFamily:e})=>e.mono};
  }

  .wui-font-h5-regular {
    font-size: ${({textSize:e})=>e.h5};
    line-height: ${({typography:e})=>e["h5-regular"].lineHeight};
    letter-spacing: ${({typography:e})=>e["h5-regular"].letterSpacing};
    font-weight: ${({fontWeight:e})=>e.regular};
    font-family: ${({fontFamily:e})=>e.regular};
    font-feature-settings:
      'liga' off,
      'clig' off;
  }

  .wui-font-h5-medium {
    font-size: ${({textSize:e})=>e.h5};
    line-height: ${({typography:e})=>e["h5-medium"].lineHeight};
    letter-spacing: ${({typography:e})=>e["h5-medium"].letterSpacing};
    font-weight: ${({fontWeight:e})=>e.medium};
    font-family: ${({fontFamily:e})=>e.regular};
    font-feature-settings:
      'liga' off,
      'clig' off;
  }

  .wui-font-h6-regular-mono {
    font-size: ${({textSize:e})=>e.h6};
    line-height: ${({typography:e})=>e["h6-regular-mono"].lineHeight};
    letter-spacing: ${({typography:e})=>e["h6-regular-mono"].letterSpacing};
    font-weight: ${({fontWeight:e})=>e.regular};
    font-family: ${({fontFamily:e})=>e.mono};
  }

  .wui-font-h6-regular {
    font-size: ${({textSize:e})=>e.h6};
    line-height: ${({typography:e})=>e["h6-regular"].lineHeight};
    letter-spacing: ${({typography:e})=>e["h6-regular"].letterSpacing};
    font-weight: ${({fontWeight:e})=>e.regular};
    font-family: ${({fontFamily:e})=>e.regular};
    font-feature-settings:
      'liga' off,
      'clig' off;
  }

  .wui-font-h6-medium {
    font-size: ${({textSize:e})=>e.h6};
    line-height: ${({typography:e})=>e["h6-medium"].lineHeight};
    letter-spacing: ${({typography:e})=>e["h6-medium"].letterSpacing};
    font-weight: ${({fontWeight:e})=>e.medium};
    font-family: ${({fontFamily:e})=>e.regular};
    font-feature-settings:
      'liga' off,
      'clig' off;
  }

  .wui-font-lg-regular-mono {
    font-size: ${({textSize:e})=>e.large};
    line-height: ${({typography:e})=>e["lg-regular-mono"].lineHeight};
    letter-spacing: ${({typography:e})=>e["lg-regular-mono"].letterSpacing};
    font-weight: ${({fontWeight:e})=>e.regular};
    font-family: ${({fontFamily:e})=>e.mono};
  }

  .wui-font-lg-regular {
    font-size: ${({textSize:e})=>e.large};
    line-height: ${({typography:e})=>e["lg-regular"].lineHeight};
    letter-spacing: ${({typography:e})=>e["lg-regular"].letterSpacing};
    font-weight: ${({fontWeight:e})=>e.regular};
    font-family: ${({fontFamily:e})=>e.regular};
    font-feature-settings:
      'liga' off,
      'clig' off;
  }

  .wui-font-lg-medium {
    font-size: ${({textSize:e})=>e.large};
    line-height: ${({typography:e})=>e["lg-medium"].lineHeight};
    letter-spacing: ${({typography:e})=>e["lg-medium"].letterSpacing};
    font-weight: ${({fontWeight:e})=>e.medium};
    font-family: ${({fontFamily:e})=>e.regular};
    font-feature-settings:
      'liga' off,
      'clig' off;
  }

  .wui-font-md-regular-mono {
    font-size: ${({textSize:e})=>e.medium};
    line-height: ${({typography:e})=>e["md-regular-mono"].lineHeight};
    letter-spacing: ${({typography:e})=>e["md-regular-mono"].letterSpacing};
    font-weight: ${({fontWeight:e})=>e.regular};
    font-family: ${({fontFamily:e})=>e.mono};
  }

  .wui-font-md-regular {
    font-size: ${({textSize:e})=>e.medium};
    line-height: ${({typography:e})=>e["md-regular"].lineHeight};
    letter-spacing: ${({typography:e})=>e["md-regular"].letterSpacing};
    font-weight: ${({fontWeight:e})=>e.regular};
    font-family: ${({fontFamily:e})=>e.regular};
    font-feature-settings:
      'liga' off,
      'clig' off;
  }

  .wui-font-md-medium {
    font-size: ${({textSize:e})=>e.medium};
    line-height: ${({typography:e})=>e["md-medium"].lineHeight};
    letter-spacing: ${({typography:e})=>e["md-medium"].letterSpacing};
    font-weight: ${({fontWeight:e})=>e.medium};
    font-family: ${({fontFamily:e})=>e.regular};
    font-feature-settings:
      'liga' off,
      'clig' off;
  }

  .wui-font-sm-regular-mono {
    font-size: ${({textSize:e})=>e.small};
    line-height: ${({typography:e})=>e["sm-regular-mono"].lineHeight};
    letter-spacing: ${({typography:e})=>e["sm-regular-mono"].letterSpacing};
    font-weight: ${({fontWeight:e})=>e.regular};
    font-family: ${({fontFamily:e})=>e.mono};
  }

  .wui-font-sm-regular {
    font-size: ${({textSize:e})=>e.small};
    line-height: ${({typography:e})=>e["sm-regular"].lineHeight};
    letter-spacing: ${({typography:e})=>e["sm-regular"].letterSpacing};
    font-weight: ${({fontWeight:e})=>e.regular};
    font-family: ${({fontFamily:e})=>e.regular};
    font-feature-settings:
      'liga' off,
      'clig' off;
  }

  .wui-font-sm-medium {
    font-size: ${({textSize:e})=>e.small};
    line-height: ${({typography:e})=>e["sm-medium"].lineHeight};
    letter-spacing: ${({typography:e})=>e["sm-medium"].letterSpacing};
    font-weight: ${({fontWeight:e})=>e.medium};
    font-family: ${({fontFamily:e})=>e.regular};
    font-feature-settings:
      'liga' off,
      'clig' off;
  }
`});var g6,ast,wm,So=m(()=>{le();Me();pT();Nt();Mt();kt();O6e();g6=function(e,t,r,n){var s=arguments.length,o=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,r,o):i(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o},ast={primary:Ht.tokens.theme.textPrimary,secondary:Ht.tokens.theme.textSecondary,tertiary:Ht.tokens.theme.textTertiary,invert:Ht.tokens.theme.textInvert,error:Ht.tokens.core.textError,success:Ht.tokens.core.textSuccess,warning:Ht.tokens.core.textWarning,"accent-primary":Ht.tokens.core.textAccentPrimary},wm=class extends re{constructor(){super(...arguments),this.variant="md-regular",this.color="inherit",this.align="left",this.lineClamp=void 0,this.display="inline-flex"}render(){let t={[`wui-font-${this.variant}`]:!0,[`wui-line-clamp-${this.lineClamp}`]:!!this.lineClamp};return this.style.cssText=`
      display: ${this.display};
      --local-align: ${this.align};
      --local-color: ${this.color==="inherit"?"inherit":ast[this.color??"primary"]};
      `,H`<slot class=${m6(t)}></slot>`}};wm.styles=[Ue,R6e];g6([F()],wm.prototype,"variant",void 0);g6([F()],wm.prototype,"color",void 0);g6([F()],wm.prototype,"align",void 0);g6([F()],wm.prototype,"lineClamp",void 0);g6([F()],wm.prototype,"display",void 0);wm=g6([ee("wui-text")],wm)});var k6e,B6e=m(()=>{Nt();k6e=ce`
  :host {
    display: inline-flex;
    justify-content: center;
    align-items: center;
    border-radius: ${({borderRadius:e})=>e[2]};
    padding: ${({spacing:e})=>e[1]} !important;
    background-color: ${({tokens:e})=>e.theme.backgroundPrimary};
    position: relative;
  }

  :host([data-padding='2']) {
    padding: ${({spacing:e})=>e[2]} !important;
  }

  :host:after {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    border-radius: ${({borderRadius:e})=>e[2]};
  }

  :host > wui-icon {
    z-index: 10;
  }

  /* -- Colors --------------------------------------------------- */
  :host([data-color='accent-primary']) {
    color: ${({tokens:e})=>e.core.iconAccentPrimary};
  }

  :host([data-color='accent-primary']):after {
    background-color: ${({tokens:e})=>e.core.foregroundAccent010};
  }

  :host([data-color='default']),
  :host([data-color='secondary']) {
    color: ${({tokens:e})=>e.theme.iconDefault};
  }

  :host([data-color='default']):after {
    background-color: ${({tokens:e})=>e.theme.foregroundPrimary};
  }

  :host([data-color='secondary']):after {
    background-color: ${({tokens:e})=>e.theme.foregroundSecondary};
  }

  :host([data-color='success']) {
    color: ${({tokens:e})=>e.core.iconSuccess};
  }

  :host([data-color='success']):after {
    background-color: ${({tokens:e})=>e.core.backgroundSuccess};
  }

  :host([data-color='error']) {
    color: ${({tokens:e})=>e.core.iconError};
  }

  :host([data-color='error']):after {
    background-color: ${({tokens:e})=>e.core.backgroundError};
  }

  :host([data-color='warning']) {
    color: ${({tokens:e})=>e.core.iconWarning};
  }

  :host([data-color='warning']):after {
    background-color: ${({tokens:e})=>e.core.backgroundWarning};
  }

  :host([data-color='inverse']) {
    color: ${({tokens:e})=>e.theme.iconInverse};
  }

  :host([data-color='inverse']):after {
    background-color: transparent;
  }
`});var u5,Kg,y6=m(()=>{le();Me();Ur();as();Mt();kt();B6e();u5=function(e,t,r,n){var s=arguments.length,o=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,r,o):i(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o},Kg=class extends re{constructor(){super(...arguments),this.icon="copy",this.size="md",this.padding="1",this.color="default"}render(){return this.dataset.padding=this.padding,this.dataset.color=this.color,H`
      <wui-icon size=${Ee(this.size)} name=${this.icon} color="inherit"></wui-icon>
    `}};Kg.styles=[Ue,Qt,k6e];u5([F()],Kg.prototype,"icon",void 0);u5([F()],Kg.prototype,"size",void 0);u5([F()],Kg.prototype,"padding",void 0);u5([F()],Kg.prototype,"color",void 0);Kg=u5([ee("wui-icon-box")],Kg)});var D6e,U6e=m(()=>{Nt();D6e=ce`
  :host {
    display: block;
    width: var(--local-width);
    height: var(--local-height);
  }

  img {
    display: block;
    width: 100%;
    height: 100%;
    object-fit: cover;
    object-position: center center;
    border-radius: inherit;
    user-select: none;
    user-drag: none;
    -webkit-user-drag: none;
    -khtml-user-drag: none;
    -moz-user-drag: none;
    -o-user-drag: none;
  }

  :host([data-boxed='true']) {
    width: 40px;
    height: 40px;
    display: flex;
    align-items: center;
    justify-content: center;
    background-color: ${({tokens:e})=>e.theme.foregroundPrimary};
    border-radius: ${({borderRadius:e})=>e[2]};
  }

  :host([data-boxed='true']) img {
    width: 20px;
    height: 20px;
    border-radius: ${({borderRadius:e})=>e[16]};
  }

  :host([data-full='true']) img {
    width: 100%;
    height: 100%;
  }

  :host([data-boxed='true']) wui-icon {
    width: 20px;
    height: 20px;
  }

  :host([data-icon='error']) {
    background-color: ${({tokens:e})=>e.core.backgroundError};
  }

  :host([data-rounded='true']) {
    border-radius: ${({borderRadius:e})=>e[16]};
  }
`});var Id,wc,Zg=m(()=>{le();Me();Ur();Mt();kt();U6e();Id=function(e,t,r,n){var s=arguments.length,o=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,r,o):i(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o},wc=class extends re{constructor(){super(...arguments),this.src="./path/to/image.jpg",this.alt="Image",this.size=void 0,this.boxed=!1,this.rounded=!1,this.fullSize=!1}render(){let t={inherit:"inherit",xxs:"2",xs:"3",sm:"4",md:"4",mdl:"5",lg:"5",xl:"6",xxl:"7","3xl":"8","4xl":"9","5xl":"10"};return this.style.cssText=`
      --local-width: ${this.size?`var(--apkt-spacing-${t[this.size]});`:"100%"};
      --local-height: ${this.size?`var(--apkt-spacing-${t[this.size]});`:"100%"};
      `,this.dataset.boxed=this.boxed?"true":"false",this.dataset.rounded=this.rounded?"true":"false",this.dataset.full=this.fullSize?"true":"false",this.dataset.icon=this.iconColor||"inherit",this.icon?H`<wui-icon
        color=${this.iconColor||"inherit"}
        name=${this.icon}
        size="lg"
      ></wui-icon> `:this.logo?H`<wui-icon size="lg" color="inherit" name=${this.logo}></wui-icon> `:H`<img src=${Ee(this.src)} alt=${this.alt} @error=${this.handleImageError} />`}handleImageError(){this.dispatchEvent(new CustomEvent("onLoadError",{bubbles:!0,composed:!0}))}};wc.styles=[Ue,D6e];Id([F()],wc.prototype,"src",void 0);Id([F()],wc.prototype,"logo",void 0);Id([F()],wc.prototype,"icon",void 0);Id([F()],wc.prototype,"iconColor",void 0);Id([F()],wc.prototype,"alt",void 0);Id([F()],wc.prototype,"size",void 0);Id([F({type:Boolean})],wc.prototype,"boxed",void 0);Id([F({type:Boolean})],wc.prototype,"rounded",void 0);Id([F({type:Boolean})],wc.prototype,"fullSize",void 0);wc=Id([ee("wui-image")],wc)});var L6e,M6e=m(()=>{Nt();L6e=ce`
  :host {
    position: relative;
    background-color: ${({tokens:e})=>e.theme.foregroundTertiary};
    display: flex;
    justify-content: center;
    align-items: center;
    border-radius: inherit;
    border-radius: var(--local-border-radius);
  }

  :host([data-image='true']) {
    background-color: transparent;
  }

  :host > wui-flex {
    overflow: hidden;
    border-radius: inherit;
    border-radius: var(--local-border-radius);
  }

  :host([data-size='sm']) {
    width: 32px;
    height: 32px;
  }

  :host([data-size='md']) {
    width: 40px;
    height: 40px;
  }

  :host([data-size='lg']) {
    width: 56px;
    height: 56px;
  }

  :host([name='Extension'])::after {
    border: 1px solid ${({colors:e})=>e.accent010};
  }

  :host([data-wallet-icon='allWallets'])::after {
    border: 1px solid ${({colors:e})=>e.accent010};
  }

  wui-icon[data-parent-size='inherit'] {
    width: 75%;
    height: 75%;
    align-items: center;
  }

  wui-icon {
    color: ${({tokens:e})=>e.theme.iconDefault};
  }

  wui-icon[data-parent-size='sm'] {
    width: 24px;
    height: 24px;
  }

  wui-icon[data-parent-size='md'] {
    width: 32px;
    height: 32px;
  }

  :host > wui-icon-box {
    position: absolute;
    overflow: hidden;
    right: -1px;
    bottom: -2px;
    z-index: 1;
    border: 2px solid ${({tokens:e})=>e.theme.backgroundPrimary};
    padding: 1px;
  }
`});var Gg,df,fT=m(()=>{le();Me();as();Zg();Mt();kt();y6();M6e();Gg=function(e,t,r,n){var s=arguments.length,o=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,r,o):i(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o},df=class extends re{constructor(){super(...arguments),this.size="md",this.name="",this.installed=!1,this.badgeSize="xs"}render(){let t="1";return this.size==="lg"?t="4":this.size==="md"?t="2":this.size==="sm"&&(t="1"),this.style.cssText=`
       --local-border-radius: var(--apkt-borderRadius-${t});
   `,this.dataset.size=this.size,this.imageSrc&&(this.dataset.image="true"),this.walletIcon&&(this.dataset.walletIcon=this.walletIcon),H`
      <wui-flex justifyContent="center" alignItems="center"> ${this.templateVisual()} </wui-flex>
    `}templateVisual(){return this.imageSrc?H`<wui-image src=${this.imageSrc} alt=${this.name}></wui-image>`:this.walletIcon?H`<wui-icon size="md" color="default" name=${this.walletIcon}></wui-icon>`:H`<wui-icon
      data-parent-size=${this.size}
      size="inherit"
      color="inherit"
      name="wallet"
    ></wui-icon>`}};df.styles=[Ue,L6e];Gg([F()],df.prototype,"size",void 0);Gg([F()],df.prototype,"name",void 0);Gg([F()],df.prototype,"imageSrc",void 0);Gg([F()],df.prototype,"walletIcon",void 0);Gg([F({type:Boolean})],df.prototype,"installed",void 0);Gg([F()],df.prototype,"badgeSize",void 0);df=Gg([ee("wui-wallet-image")],df)});var H6e,$6e=m(()=>{Nt();H6e=ce`
  :host {
    position: relative;
    border-radius: ${({borderRadius:e})=>e[2]};
    width: 40px;
    height: 40px;
    overflow: hidden;
    background: ${({tokens:e})=>e.theme.foregroundPrimary};
    display: flex;
    justify-content: center;
    align-items: center;
    flex-wrap: wrap;
    column-gap: ${({spacing:e})=>e[1]};
    padding: ${({spacing:e})=>e[1]};
  }

  :host > wui-wallet-image {
    width: 14px;
    height: 14px;
    border-radius: 2px;
  }
`});var F6e,_z,hT,j6e=m(()=>{le();Me();Ur();Mt();kt();y6();fT();$6e();F6e=function(e,t,r,n){var s=arguments.length,o=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,r,o):i(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o},_z=4,hT=class extends re{constructor(){super(...arguments),this.walletImages=[]}render(){let t=this.walletImages.length<_z;return H`${this.walletImages.slice(0,_z).map(({src:r,walletName:n})=>H`
          <wui-wallet-image
            size="sm"
            imageSrc=${r}
            name=${Ee(n)}
          ></wui-wallet-image>
        `)}
    ${t?[...Array(_z-this.walletImages.length)].map(()=>H` <wui-wallet-image size="sm" name=""></wui-wallet-image>`):null} `}};hT.styles=[Ue,H6e];F6e([F({type:Array})],hT.prototype,"walletImages",void 0);hT=F6e([ee("wui-all-wallets-image")],hT)});var z6e,V6e=m(()=>{Nt();z6e=ce`
  :host {
    display: flex;
    justify-content: center;
    align-items: center;
    gap: ${({spacing:e})=>e[1]};
    text-transform: uppercase;
    white-space: nowrap;
  }

  :host([data-variant='accent']) {
    background-color: ${({tokens:e})=>e.core.foregroundAccent010};
    color: ${({tokens:e})=>e.core.textAccentPrimary};
  }

  :host([data-variant='info']) {
    background-color: ${({tokens:e})=>e.theme.foregroundSecondary};
    color: ${({tokens:e})=>e.theme.textSecondary};
  }

  :host([data-variant='success']) {
    background-color: ${({tokens:e})=>e.core.backgroundSuccess};
    color: ${({tokens:e})=>e.core.textSuccess};
  }

  :host([data-variant='warning']) {
    background-color: ${({tokens:e})=>e.core.backgroundWarning};
    color: ${({tokens:e})=>e.core.textWarning};
  }

  :host([data-variant='error']) {
    background-color: ${({tokens:e})=>e.core.backgroundError};
    color: ${({tokens:e})=>e.core.textError};
  }

  :host([data-variant='certified']) {
    background-color: ${({tokens:e})=>e.theme.foregroundSecondary};
    color: ${({tokens:e})=>e.theme.textSecondary};
  }

  :host([data-size='md']) {
    height: 30px;
    padding: 0 ${({spacing:e})=>e[2]};
    border-radius: ${({borderRadius:e})=>e[2]};
  }

  :host([data-size='sm']) {
    height: 20px;
    padding: 0 ${({spacing:e})=>e[1]};
    border-radius: ${({borderRadius:e})=>e[1]};
  }
`});var mT,w6,Tz=m(()=>{le();Me();as();So();Mt();kt();V6e();mT=function(e,t,r,n){var s=arguments.length,o=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,r,o):i(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o},w6=class extends re{constructor(){super(...arguments),this.variant="accent",this.size="md",this.icon=void 0}render(){this.dataset.variant=this.variant,this.dataset.size=this.size;let t=this.size==="md"?"md-medium":"sm-medium",r=this.size==="md"?"md":"sm";return H`
      ${this.icon?H`<wui-icon size=${r} name=${this.icon}></wui-icon>`:null}
      <wui-text
        display="inline"
        data-variant=${this.variant}
        variant=${t}
        color="inherit"
      >
        <slot></slot>
      </wui-text>
    `}};w6.styles=[Ue,z6e];mT([F()],w6.prototype,"variant",void 0);mT([F()],w6.prototype,"size",void 0);mT([F()],w6.prototype,"icon",void 0);w6=mT([ee("wui-tag")],w6)});var q6e,W6e=m(()=>{Nt();q6e=ce`
  :host {
    width: 100%;
  }

  button {
    column-gap: ${({spacing:e})=>e[2]};
    padding: ${({spacing:e})=>e[3]};
    width: 100%;
    background-color: transparent;
    border-radius: ${({borderRadius:e})=>e[4]};
    color: ${({tokens:e})=>e.theme.textPrimary};
  }

  button > wui-wallet-image {
    background: ${({tokens:e})=>e.theme.foregroundSecondary};
  }

  button > wui-text:nth-child(2) {
    display: flex;
    flex: 1;
  }

  button:hover:enabled {
    background-color: ${({tokens:e})=>e.theme.foregroundPrimary};
  }

  button[data-all-wallets='true'] {
    background-color: ${({tokens:e})=>e.theme.foregroundPrimary};
  }

  button[data-all-wallets='true']:hover:enabled {
    background-color: ${({tokens:e})=>e.theme.foregroundSecondary};
  }

  button:focus-visible:enabled {
    background-color: ${({tokens:e})=>e.theme.foregroundPrimary};
    box-shadow: 0 0 0 4px ${({tokens:e})=>e.core.foregroundAccent020};
  }

  button:disabled {
    background-color: ${({tokens:e})=>e.theme.foregroundPrimary};
    opacity: 0.5;
    cursor: not-allowed;
  }

  button:disabled > wui-tag {
    background-color: ${({tokens:e})=>e.core.glass010};
    color: ${({tokens:e})=>e.theme.foregroundTertiary};
  }

  wui-flex.namespace-icon {
    width: 16px;
    height: 16px;
    border-radius: ${({borderRadius:e})=>e.round};
    background-color: ${({tokens:e})=>e.theme.foregroundSecondary};
    box-shadow: 0 0 0 2px ${({tokens:e})=>e.theme.backgroundPrimary};
    transition: box-shadow var(--apkt-durations-lg) var(--apkt-easings-ease-out-power-2);
  }

  button:hover:enabled wui-flex.namespace-icon {
    box-shadow: 0 0 0 2px ${({tokens:e})=>e.theme.foregroundPrimary};
  }

  wui-flex.namespace-icon > wui-icon {
    width: 10px;
    height: 10px;
  }

  wui-flex.namespace-icon:not(:first-child) {
    margin-left: -4px;
  }
`});var Yi,cst,Io,K6e=m(()=>{le();Me();Ur();as();So();y6();Mt();kt();j6e();Tz();fT();W6e();Yi=function(e,t,r,n){var s=arguments.length,o=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,r,o):i(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o},cst={eip155:"ethereum",solana:"solana",bip122:"bitcoin",polkadot:void 0,cosmos:void 0,sui:void 0,stacks:void 0,ton:"ton"},Io=class extends re{constructor(){super(...arguments),this.walletImages=[],this.imageSrc="",this.name="",this.size="md",this.tabIdx=void 0,this.namespaces=[],this.disabled=!1,this.showAllWallets=!1,this.loading=!1,this.loadingSpinnerColor="accent-100"}render(){return this.dataset.size=this.size,H`
      <button
        ?disabled=${this.disabled}
        data-all-wallets=${this.showAllWallets}
        tabindex=${Ee(this.tabIdx)}
      >
        ${this.templateAllWallets()} ${this.templateWalletImage()}
        <wui-flex flexDirection="column" justifyContent="center" alignItems="flex-start" gap="1">
          <wui-text variant="lg-regular" color="inherit">${this.name}</wui-text>
          ${this.templateNamespaces()}
        </wui-flex>
        ${this.templateStatus()}
        <wui-icon name="chevronRight" size="lg" color="default"></wui-icon>
      </button>
    `}templateNamespaces(){return this.namespaces?.length?H`<wui-flex alignItems="center" gap="0">
        ${this.namespaces.map((t,r)=>H`<wui-flex
              alignItems="center"
              justifyContent="center"
              zIndex=${(this.namespaces?.length??0)*2-r}
              class="namespace-icon"
            >
              <wui-icon
                name=${Ee(cst[t])}
                size="sm"
                color="default"
              ></wui-icon>
            </wui-flex>`)}
      </wui-flex>`:null}templateAllWallets(){return this.showAllWallets&&this.imageSrc?H` <wui-all-wallets-image .imageeSrc=${this.imageSrc}> </wui-all-wallets-image> `:this.showAllWallets&&this.walletIcon?H` <wui-wallet-image .walletIcon=${this.walletIcon} size="sm"> </wui-wallet-image> `:null}templateWalletImage(){return!this.showAllWallets&&this.imageSrc?H`<wui-wallet-image
        size=${Ee(this.size==="sm"?"sm":"md")}
        imageSrc=${this.imageSrc}
        name=${this.name}
      ></wui-wallet-image>`:!this.showAllWallets&&!this.imageSrc?H`<wui-wallet-image size="sm" name=${this.name}></wui-wallet-image>`:null}templateStatus(){return this.loading?H`<wui-loading-spinner size="lg" color="accent-primary"></wui-loading-spinner>`:this.tagLabel&&this.tagVariant?H`<wui-tag size="sm" variant=${this.tagVariant}>${this.tagLabel}</wui-tag>`:null}};Io.styles=[Ue,Qt,q6e];Yi([F({type:Array})],Io.prototype,"walletImages",void 0);Yi([F()],Io.prototype,"imageSrc",void 0);Yi([F()],Io.prototype,"name",void 0);Yi([F()],Io.prototype,"size",void 0);Yi([F()],Io.prototype,"tagLabel",void 0);Yi([F()],Io.prototype,"tagVariant",void 0);Yi([F()],Io.prototype,"walletIcon",void 0);Yi([F()],Io.prototype,"tabIdx",void 0);Yi([F({type:Array})],Io.prototype,"namespaces",void 0);Yi([F({type:Boolean})],Io.prototype,"disabled",void 0);Yi([F({type:Boolean})],Io.prototype,"showAllWallets",void 0);Yi([F({type:Boolean})],Io.prototype,"loading",void 0);Yi([F({type:String})],Io.prototype,"loadingSpinnerColor",void 0);Io=Yi([ee("wui-list-wallet")],Io)});var Pz=m(()=>{K6e()});var b6,Yg,Z6e=m(()=>{le();Me();Ur();at();st();Fe();Pz();b6=function(e,t,r,n){var s=arguments.length,o=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,r,o):i(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o},Yg=class extends re{constructor(){super(),this.unsubscribe=[],this.tabIdx=void 0,this.connectors=X.state.connectors,this.count=pe.state.count,this.filteredCount=pe.state.filteredWallets.length,this.isFetchingRecommendedWallets=pe.state.isFetchingRecommendedWallets,this.unsubscribe.push(X.subscribeKey("connectors",t=>this.connectors=t),pe.subscribeKey("count",t=>this.count=t),pe.subscribeKey("filteredWallets",t=>this.filteredCount=t.length),pe.subscribeKey("isFetchingRecommendedWallets",t=>this.isFetchingRecommendedWallets=t))}disconnectedCallback(){this.unsubscribe.forEach(t=>t())}render(){let t=this.connectors.find(l=>l.id==="walletConnect"),{allWallets:r}=W.state;if(!t||r==="HIDE"||r==="ONLY_MOBILE"&&!te.isMobile())return null;let n=pe.state.featured.length,s=this.count+n,o=s<10?s:Math.floor(s/10)*10,i=this.filteredCount>0?this.filteredCount:o,a=`${i}`;this.filteredCount>0?a=`${this.filteredCount}`:i<s&&(a=`${i}+`);let c=Q.hasAnyConnection(V.CONNECTOR_ID.WALLET_CONNECT);return H`
      <wui-list-wallet
        name="Search Wallet"
        walletIcon="search"
        showAllWallets
        @click=${this.onAllWallets.bind(this)}
        tagLabel=${a}
        tagVariant="info"
        data-testid="all-wallets"
        tabIdx=${Ee(this.tabIdx)}
        .loading=${this.isFetchingRecommendedWallets}
        ?disabled=${c}
        size="sm"
      ></wui-list-wallet>
    `}onAllWallets(){ve.sendEvent({type:"track",event:"CLICK_ALL_WALLETS"}),K.push("AllWallets",{redirectView:K.state.data?.redirectView})}};b6([F()],Yg.prototype,"tabIdx",void 0);b6([oe()],Yg.prototype,"connectors",void 0);b6([oe()],Yg.prototype,"count",void 0);b6([oe()],Yg.prototype,"filteredCount",void 0);b6([oe()],Yg.prototype,"isFetchingRecommendedWallets",void 0);Yg=b6([ee("w3m-all-wallets-widget")],Yg)});var G6e,Y6e=m(()=>{Fe();G6e=ce`
  :host {
    margin-top: ${({spacing:e})=>e[1]};
  }
  wui-separator {
    margin: ${({spacing:e})=>e[3]} calc(${({spacing:e})=>e[3]} * -1)
      ${({spacing:e})=>e[2]} calc(${({spacing:e})=>e[3]} * -1);
    width: calc(100% + ${({spacing:e})=>e[3]} * 2);
  }
`});var x6,bm,J6e=m(()=>{le();Me();Ur();at();st();Fe();Wr();Sl();Y6e();x6=function(e,t,r,n){var s=arguments.length,o=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,r,o):i(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o},bm=class extends re{constructor(){super(),this.unsubscribe=[],this.explorerWallets=pe.state.explorerWallets,this.connections=Q.state.connections,this.connectorImages=Vn.state.connectorImages,this.loadingTelegram=!1,this.unsubscribe.push(Q.subscribeKey("connections",t=>this.connections=t),Vn.subscribeKey("connectorImages",t=>this.connectorImages=t),pe.subscribeKey("explorerFilteredWallets",t=>{this.explorerWallets=t?.length?t:pe.state.explorerWallets}),pe.subscribeKey("explorerWallets",t=>{this.explorerWallets?.length||(this.explorerWallets=t)})),te.isTelegram()&&te.isIos()&&(this.loadingTelegram=!Q.state.wcUri,this.unsubscribe.push(Q.subscribeKey("wcUri",t=>this.loadingTelegram=!t)))}disconnectedCallback(){this.unsubscribe.forEach(t=>t())}render(){return H`
      <wui-flex flexDirection="column" gap="2"> ${this.connectorListTemplate()} </wui-flex>
    `}connectorListTemplate(){return Bn.connectorList().map((t,r)=>t.kind==="connector"?this.renderConnector(t,r):this.renderWallet(t,r))}getConnectorNamespaces(t){return t.subtype==="walletConnect"?[]:t.subtype==="multiChain"?t.connector.connectors?.map(r=>r.chain)||[]:[t.connector.chain]}renderConnector(t,r){let n=t.connector,s=St.getConnectorImage(n)||this.connectorImages[n?.imageId??""],i=(this.connections.get(n.chain)??[]).some(d=>on.isLowerCaseMatch(d.connectorId,n.id)),a,c;t.subtype==="walletConnect"?(a="qr code",c="accent"):t.subtype==="injected"||t.subtype==="announced"?(a=i?"connected":"installed",c=i?"info":"success"):(a=void 0,c=void 0);let l=Q.hasAnyConnection(V.CONNECTOR_ID.WALLET_CONNECT),u=t.subtype==="walletConnect"||t.subtype==="external"?l:!1;return H`
      <w3m-list-wallet
        displayIndex=${r}
        imageSrc=${Ee(s)}
        .installed=${!0}
        name=${n.name??"Unknown"}
        .tagVariant=${c}
        tagLabel=${Ee(a)}
        data-testid=${`wallet-selector-${n.id.toLowerCase()}`}
        size="sm"
        @click=${()=>this.onClickConnector(t)}
        tabIdx=${Ee(this.tabIdx)}
        ?disabled=${u}
        rdnsId=${Ee(n.explorerWallet?.rdns||void 0)}
        walletRank=${Ee(n.explorerWallet?.order)}
        .namespaces=${this.getConnectorNamespaces(t)}
      >
      </w3m-list-wallet>
    `}onClickConnector(t){let r=K.state.data?.redirectView;if(t.subtype==="walletConnect"){X.setActiveConnector(t.connector),te.isMobile()?K.push("AllWallets"):K.push("ConnectingWalletConnect",{redirectView:r});return}if(t.subtype==="multiChain"){X.setActiveConnector(t.connector),K.push("ConnectingMultiChain",{redirectView:r});return}if(t.subtype==="injected"){X.setActiveConnector(t.connector),K.push("ConnectingExternal",{connector:t.connector,redirectView:r,wallet:t.connector.explorerWallet});return}if(t.subtype==="announced"){if(t.connector.id==="walletConnect"){te.isMobile()?K.push("AllWallets"):K.push("ConnectingWalletConnect",{redirectView:r});return}K.push("ConnectingExternal",{connector:t.connector,redirectView:r,wallet:t.connector.explorerWallet});return}K.push("ConnectingExternal",{connector:t.connector,redirectView:r})}renderWallet(t,r){let n=t.wallet,s=St.getWalletImage(n),i=Q.hasAnyConnection(V.CONNECTOR_ID.WALLET_CONNECT),a=this.loadingTelegram,c=t.subtype==="recent"?"recent":void 0,l=t.subtype==="recent"?"info":void 0;return H`
      <w3m-list-wallet
        displayIndex=${r}
        imageSrc=${Ee(s)}
        name=${n.name??"Unknown"}
        @click=${()=>this.onClickWallet(t)}
        size="sm"
        data-testid=${`wallet-selector-${n.id}`}
        tabIdx=${Ee(this.tabIdx)}
        ?loading=${a}
        ?disabled=${i}
        rdnsId=${Ee(n.rdns||void 0)}
        walletRank=${Ee(n.order)}
        tagLabel=${Ee(c)}
        .tagVariant=${l}
      >
      </w3m-list-wallet>
    `}onClickWallet(t){let r=K.state.data?.redirectView,n=R.state.activeChain;if(t.subtype==="featured"){X.selectWalletConnector(t.wallet);return}if(t.subtype==="recent"){if(this.loadingTelegram)return;X.selectWalletConnector(t.wallet);return}if(t.subtype==="custom"){if(this.loadingTelegram)return;K.push("ConnectingWalletConnect",{wallet:t.wallet,redirectView:r});return}if(this.loadingTelegram)return;let s=n?X.getConnector({id:t.wallet.id,namespace:n}):void 0;s?K.push("ConnectingExternal",{connector:s,redirectView:r}):K.push("ConnectingWalletConnect",{wallet:t.wallet,redirectView:r})}};bm.styles=G6e;x6([F({type:Number})],bm.prototype,"tabIdx",void 0);x6([oe()],bm.prototype,"explorerWallets",void 0);x6([oe()],bm.prototype,"connections",void 0);x6([oe()],bm.prototype,"connectorImages",void 0);x6([oe()],bm.prototype,"loadingTelegram",void 0);bm=x6([ee("w3m-connector-list")],bm)});var Q6e,X6e=m(()=>{Nt();Q6e=ce`
  :host {
    flex: 1;
    height: 100%;
  }

  button {
    width: 100%;
    height: 100%;
    display: inline-flex;
    align-items: center;
    padding: ${({spacing:e})=>e[1]} ${({spacing:e})=>e[2]};
    column-gap: ${({spacing:e})=>e[1]};
    color: ${({tokens:e})=>e.theme.textSecondary};
    border-radius: ${({borderRadius:e})=>e[20]};
    background-color: transparent;
    transition: background-color ${({durations:e})=>e.lg}
      ${({easings:e})=>e["ease-out-power-2"]};
    will-change: background-color;
  }

  /* -- Hover & Active states ----------------------------------------------------------- */
  button[data-active='true'] {
    color: ${({tokens:e})=>e.theme.textPrimary};
    background-color: ${({tokens:e})=>e.theme.foregroundTertiary};
  }

  button:hover:enabled:not([data-active='true']),
  button:active:enabled:not([data-active='true']) {
    wui-text,
    wui-icon {
      color: ${({tokens:e})=>e.theme.textPrimary};
    }
  }
`});var d5,lst,ust,Jg,e8e=m(()=>{le();Me();as();So();Mt();kt();X6e();d5=function(e,t,r,n){var s=arguments.length,o=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,r,o):i(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o},lst={lg:"lg-regular",md:"md-regular",sm:"sm-regular"},ust={lg:"md",md:"sm",sm:"sm"},Jg=class extends re{constructor(){super(...arguments),this.icon="mobile",this.size="md",this.label="",this.active=!1}render(){return H`
      <button data-active=${this.active}>
        ${this.icon?H`<wui-icon size=${ust[this.size]} name=${this.icon}></wui-icon>`:""}
        <wui-text variant=${lst[this.size]}> ${this.label} </wui-text>
      </button>
    `}};Jg.styles=[Ue,Qt,Q6e];d5([F()],Jg.prototype,"icon",void 0);d5([F()],Jg.prototype,"size",void 0);d5([F()],Jg.prototype,"label",void 0);d5([F({type:Boolean})],Jg.prototype,"active",void 0);Jg=d5([ee("wui-tab-item")],Jg)});var t8e,r8e=m(()=>{Nt();t8e=ce`
  :host {
    display: inline-flex;
    align-items: center;
    background-color: ${({tokens:e})=>e.theme.foregroundSecondary};
    border-radius: ${({borderRadius:e})=>e[32]};
    padding: ${({spacing:e})=>e["01"]};
    box-sizing: border-box;
  }

  :host([data-size='sm']) {
    height: 26px;
  }

  :host([data-size='md']) {
    height: 36px;
  }
`});var p5,Qg,n8e=m(()=>{le();Me();Mt();kt();e8e();r8e();p5=function(e,t,r,n){var s=arguments.length,o=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,r,o):i(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o},Qg=class extends re{constructor(){super(...arguments),this.tabs=[],this.onTabChange=()=>null,this.size="md",this.activeTab=0}render(){return this.dataset.size=this.size,this.tabs.map((t,r)=>{let n=r===this.activeTab;return H`
        <wui-tab-item
          @click=${()=>this.onTabClick(r)}
          icon=${t.icon}
          size=${this.size}
          label=${t.label}
          ?active=${n}
          data-active=${n}
          data-testid="tab-${t.label?.toLowerCase()}"
        ></wui-tab-item>
      `})}onTabClick(t){this.activeTab=t,this.onTabChange(t)}};Qg.styles=[Ue,Qt,t8e];p5([F({type:Array})],Qg.prototype,"tabs",void 0);p5([F()],Qg.prototype,"onTabChange",void 0);p5([F()],Qg.prototype,"size",void 0);p5([oe()],Qg.prototype,"activeTab",void 0);Qg=p5([ee("wui-tabs")],Qg)});var s8e=m(()=>{n8e()});var Nz,gT,o8e=m(()=>{le();Me();Fe();Wr();s8e();Nz=function(e,t,r,n){var s=arguments.length,o=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,r,o):i(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o},gT=class extends re{constructor(){super(...arguments),this.platformTabs=[],this.unsubscribe=[],this.platforms=[],this.onSelectPlatfrom=void 0}disconnectCallback(){this.unsubscribe.forEach(t=>t())}render(){let t=this.generateTabs();return H`
      <wui-flex justifyContent="center" .padding=${["0","0","4","0"]}>
        <wui-tabs .tabs=${t} .onTabChange=${this.onTabChange.bind(this)}></wui-tabs>
      </wui-flex>
    `}generateTabs(){let t=this.platforms.map(r=>r==="browser"?{label:"Browser",icon:"extension",platform:"browser"}:r==="mobile"?{label:"Mobile",icon:"mobile",platform:"mobile"}:r==="qrcode"?{label:"Mobile",icon:"mobile",platform:"qrcode"}:r==="web"?{label:"Webapp",icon:"browser",platform:"web"}:r==="desktop"?{label:"Desktop",icon:"desktop",platform:"desktop"}:{label:"Browser",icon:"extension",platform:"unsupported"});return this.platformTabs=t.map(({platform:r})=>r),t}onTabChange(t){let r=this.platformTabs[t];r&&this.onSelectPlatfrom?.(r)}};Nz([F({type:Array})],gT.prototype,"platforms",void 0);Nz([F()],gT.prototype,"onSelectPlatfrom",void 0);gT=Nz([ee("w3m-connecting-header")],gT)});var i8e,a8e=m(()=>{le();i8e=Sr`
  :host {
    display: flex;
  }

  :host([data-size='sm']) > svg {
    width: 12px;
    height: 12px;
  }

  :host([data-size='md']) > svg {
    width: 16px;
    height: 16px;
  }

  :host([data-size='lg']) > svg {
    width: 24px;
    height: 24px;
  }

  :host([data-size='xl']) > svg {
    width: 32px;
    height: 32px;
  }

  svg {
    animation: rotate 1.4s linear infinite;
    color: var(--local-color);
  }

  :host([data-size='md']) > svg > circle {
    stroke-width: 6px;
  }

  :host([data-size='sm']) > svg > circle {
    stroke-width: 8px;
  }

  @keyframes rotate {
    100% {
      transform: rotate(360deg);
    }
  }
`});var Rz,f5,h5=m(()=>{le();Me();Nt();Mt();kt();a8e();Rz=function(e,t,r,n){var s=arguments.length,o=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,r,o):i(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o},f5=class extends re{constructor(){super(...arguments),this.color="primary",this.size="lg"}render(){let t={primary:Ht.tokens.theme.textPrimary,secondary:Ht.tokens.theme.textSecondary,tertiary:Ht.tokens.theme.textTertiary,invert:Ht.tokens.theme.textInvert,error:Ht.tokens.core.textError,warning:Ht.tokens.core.textWarning,"accent-primary":Ht.tokens.core.textAccentPrimary};return this.style.cssText=`
      --local-color: ${this.color==="inherit"?"inherit":t[this.color]};
      `,this.dataset.size=this.size,H`<svg viewBox="0 0 16 17" fill="none">
      <path
        d="M8.75 2.65625V4.65625C8.75 4.85516 8.67098 5.04593 8.53033 5.18658C8.38968 5.32723 8.19891 5.40625 8 5.40625C7.80109 5.40625 7.61032 5.32723 7.46967 5.18658C7.32902 5.04593 7.25 4.85516 7.25 4.65625V2.65625C7.25 2.45734 7.32902 2.26657 7.46967 2.12592C7.61032 1.98527 7.80109 1.90625 8 1.90625C8.19891 1.90625 8.38968 1.98527 8.53033 2.12592C8.67098 2.26657 8.75 2.45734 8.75 2.65625ZM14 7.90625H12C11.8011 7.90625 11.6103 7.98527 11.4697 8.12592C11.329 8.26657 11.25 8.45734 11.25 8.65625C11.25 8.85516 11.329 9.04593 11.4697 9.18658C11.6103 9.32723 11.8011 9.40625 12 9.40625H14C14.1989 9.40625 14.3897 9.32723 14.5303 9.18658C14.671 9.04593 14.75 8.85516 14.75 8.65625C14.75 8.45734 14.671 8.26657 14.5303 8.12592C14.3897 7.98527 14.1989 7.90625 14 7.90625ZM11.3588 10.9544C11.289 10.8846 11.2062 10.8293 11.115 10.7915C11.0239 10.7538 10.9262 10.7343 10.8275 10.7343C10.7288 10.7343 10.6311 10.7538 10.54 10.7915C10.4488 10.8293 10.366 10.8846 10.2963 10.9544C10.2265 11.0241 10.1711 11.107 10.1334 11.1981C10.0956 11.2893 10.0762 11.387 10.0762 11.4856C10.0762 11.5843 10.0956 11.682 10.1334 11.7731C10.1711 11.8643 10.2265 11.9471 10.2963 12.0169L11.7106 13.4312C11.8515 13.5721 12.0426 13.6513 12.2419 13.6513C12.4411 13.6513 12.6322 13.5721 12.7731 13.4312C12.914 13.2904 12.9932 13.0993 12.9932 12.9C12.9932 12.7007 12.914 12.5096 12.7731 12.3687L11.3588 10.9544ZM8 11.9062C7.80109 11.9062 7.61032 11.9853 7.46967 12.1259C7.32902 12.2666 7.25 12.4573 7.25 12.6562V14.6562C7.25 14.8552 7.32902 15.0459 7.46967 15.1866C7.61032 15.3272 7.80109 15.4062 8 15.4062C8.19891 15.4062 8.38968 15.3272 8.53033 15.1866C8.67098 15.0459 8.75 14.8552 8.75 14.6562V12.6562C8.75 12.4573 8.67098 12.2666 8.53033 12.1259C8.38968 11.9853 8.19891 11.9062 8 11.9062ZM4.64125 10.9544L3.22688 12.3687C3.08598 12.5096 3.00682 12.7007 3.00682 12.9C3.00682 13.0993 3.08598 13.2904 3.22688 13.4312C3.36777 13.5721 3.55887 13.6513 3.75813 13.6513C3.95738 13.6513 4.14848 13.5721 4.28937 13.4312L5.70375 12.0169C5.84465 11.876 5.9238 11.6849 5.9238 11.4856C5.9238 11.2864 5.84465 11.0953 5.70375 10.9544C5.56285 10.8135 5.37176 10.7343 5.1725 10.7343C4.97324 10.7343 4.78215 10.8135 4.64125 10.9544ZM4.75 8.65625C4.75 8.45734 4.67098 8.26657 4.53033 8.12592C4.38968 7.98527 4.19891 7.90625 4 7.90625H2C1.80109 7.90625 1.61032 7.98527 1.46967 8.12592C1.32902 8.26657 1.25 8.45734 1.25 8.65625C1.25 8.85516 1.32902 9.04593 1.46967 9.18658C1.61032 9.32723 1.80109 9.40625 2 9.40625H4C4.19891 9.40625 4.38968 9.32723 4.53033 9.18658C4.67098 9.04593 4.75 8.85516 4.75 8.65625ZM4.2875 3.88313C4.1466 3.74223 3.95551 3.66307 3.75625 3.66307C3.55699 3.66307 3.3659 3.74223 3.225 3.88313C3.0841 4.02402 3.00495 4.21512 3.00495 4.41438C3.00495 4.61363 3.0841 4.80473 3.225 4.94562L4.64125 6.35813C4.78215 6.49902 4.97324 6.57818 5.1725 6.57818C5.37176 6.57818 5.56285 6.49902 5.70375 6.35813C5.84465 6.21723 5.9238 6.02613 5.9238 5.82688C5.9238 5.62762 5.84465 5.43652 5.70375 5.29563L4.2875 3.88313Z"
        fill="currentColor"
      />
    </svg>`}};f5.styles=[Ue,i8e];Rz([F()],f5.prototype,"color",void 0);Rz([F()],f5.prototype,"size",void 0);f5=Rz([ee("wui-loading-spinner")],f5)});var c8e,l8e=m(()=>{Nt();c8e=ce`
  :host {
    width: var(--local-width);
  }

  button {
    width: var(--local-width);
    white-space: nowrap;
    column-gap: ${({spacing:e})=>e[2]};
    transition:
      scale ${({durations:e})=>e.lg} ${({easings:e})=>e["ease-out-power-1"]},
      background-color ${({durations:e})=>e.lg}
        ${({easings:e})=>e["ease-out-power-2"]},
      border-radius ${({durations:e})=>e.lg}
        ${({easings:e})=>e["ease-out-power-1"]};
    will-change: scale, background-color, border-radius;
    cursor: pointer;
  }

  /* -- Sizes --------------------------------------------------- */
  button[data-size='sm'] {
    border-radius: ${({borderRadius:e})=>e[2]};
    padding: 0 ${({spacing:e})=>e[2]};
    height: 28px;
  }

  button[data-size='md'] {
    border-radius: ${({borderRadius:e})=>e[3]};
    padding: 0 ${({spacing:e})=>e[4]};
    height: 38px;
  }

  button[data-size='lg'] {
    border-radius: ${({borderRadius:e})=>e[4]};
    padding: 0 ${({spacing:e})=>e[5]};
    height: 48px;
  }

  /* -- Variants --------------------------------------------------------- */
  button[data-variant='accent-primary'] {
    background-color: ${({tokens:e})=>e.core.backgroundAccentPrimary};
    color: ${({tokens:e})=>e.theme.textInvert};
  }

  button[data-variant='accent-secondary'] {
    background-color: ${({tokens:e})=>e.core.foregroundAccent010};
    color: ${({tokens:e})=>e.core.textAccentPrimary};
  }

  button[data-variant='neutral-primary'] {
    background-color: ${({tokens:e})=>e.theme.backgroundInvert};
    color: ${({tokens:e})=>e.theme.textInvert};
  }

  button[data-variant='neutral-secondary'] {
    background-color: transparent;
    border: 1px solid ${({tokens:e})=>e.theme.borderSecondary};
    color: ${({tokens:e})=>e.theme.textPrimary};
  }

  button[data-variant='neutral-tertiary'] {
    background-color: ${({tokens:e})=>e.theme.foregroundPrimary};
    color: ${({tokens:e})=>e.theme.textPrimary};
  }

  button[data-variant='error-primary'] {
    background-color: ${({tokens:e})=>e.core.textError};
    color: ${({tokens:e})=>e.theme.textInvert};
  }

  button[data-variant='error-secondary'] {
    background-color: ${({tokens:e})=>e.core.backgroundError};
    color: ${({tokens:e})=>e.core.textError};
  }

  button[data-variant='shade'] {
    background: var(--wui-color-gray-glass-002);
    color: var(--wui-color-fg-200);
    border: none;
    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-005);
  }

  /* -- Focus states --------------------------------------------------- */
  button[data-size='sm']:focus-visible:enabled {
    border-radius: 28px;
  }

  button[data-size='md']:focus-visible:enabled {
    border-radius: 38px;
  }

  button[data-size='lg']:focus-visible:enabled {
    border-radius: 48px;
  }
  button[data-variant='shade']:focus-visible:enabled {
    background: var(--wui-color-gray-glass-005);
    box-shadow:
      inset 0 0 0 1px var(--wui-color-gray-glass-010),
      0 0 0 4px var(--wui-color-gray-glass-002);
  }

  /* -- Hover & Active states ----------------------------------------------------------- */
  @media (hover: hover) {
    button[data-size='sm']:hover:enabled {
      border-radius: 28px;
    }

    button[data-size='md']:hover:enabled {
      border-radius: 38px;
    }

    button[data-size='lg']:hover:enabled {
      border-radius: 48px;
    }

    button[data-variant='shade']:hover:enabled {
      background: var(--wui-color-gray-glass-002);
    }

    button[data-variant='shade']:active:enabled {
      background: var(--wui-color-gray-glass-005);
    }
  }

  button[data-size='sm']:active:enabled {
    border-radius: 28px;
  }

  button[data-size='md']:active:enabled {
    border-radius: 38px;
  }

  button[data-size='lg']:active:enabled {
    border-radius: 48px;
  }

  /* -- Disabled states --------------------------------------------------- */
  button:disabled {
    opacity: 0.3;
  }
`});var Xg,dst,pst,pf,Oz=m(()=>{le();Me();as();h5();So();Mt();kt();l8e();Xg=function(e,t,r,n){var s=arguments.length,o=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,r,o):i(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o},dst={lg:"lg-regular-mono",md:"md-regular-mono",sm:"sm-regular-mono"},pst={lg:"md",md:"md",sm:"sm"},pf=class extends re{constructor(){super(...arguments),this.size="lg",this.disabled=!1,this.fullWidth=!1,this.loading=!1,this.variant="accent-primary"}render(){this.style.cssText=`
    --local-width: ${this.fullWidth?"100%":"auto"};
     `;let t=this.textVariant??dst[this.size];return H`
      <button data-variant=${this.variant} data-size=${this.size} ?disabled=${this.disabled}>
        ${this.loadingTemplate()}
        <slot name="iconLeft"></slot>
        <wui-text variant=${t} color="inherit">
          <slot></slot>
        </wui-text>
        <slot name="iconRight"></slot>
      </button>
    `}loadingTemplate(){if(this.loading){let t=pst[this.size],r=this.variant==="neutral-primary"||this.variant==="accent-primary"?"invert":"primary";return H`<wui-loading-spinner color=${r} size=${t}></wui-loading-spinner>`}return null}};pf.styles=[Ue,Qt,c8e];Xg([F()],pf.prototype,"size",void 0);Xg([F({type:Boolean})],pf.prototype,"disabled",void 0);Xg([F({type:Boolean})],pf.prototype,"fullWidth",void 0);Xg([F({type:Boolean})],pf.prototype,"loading",void 0);Xg([F()],pf.prototype,"variant",void 0);Xg([F()],pf.prototype,"textVariant",void 0);pf=Xg([ee("wui-button")],pf)});var m5=m(()=>{Oz()});var ff=m(()=>{as()});var yT=m(()=>{y6()});var u8e,d8e=m(()=>{Nt();u8e=ce`
  button {
    border: none;
    background: transparent;
    height: 20px;
    padding: ${({spacing:e})=>e[2]};
    column-gap: ${({spacing:e})=>e[1]};
    border-radius: ${({borderRadius:e})=>e[1]};
    padding: 0 ${({spacing:e})=>e[1]};
    border-radius: ${({spacing:e})=>e[1]};
  }

  /* -- Variants --------------------------------------------------------- */
  button[data-variant='accent'] {
    color: ${({tokens:e})=>e.core.textAccentPrimary};
  }

  button[data-variant='secondary'] {
    color: ${({tokens:e})=>e.theme.textSecondary};
  }

  /* -- Focus states --------------------------------------------------- */
  button:focus-visible:enabled {
    box-shadow: 0px 0px 0px 4px rgba(9, 136, 240, 0.2);
  }

  button[data-variant='accent']:focus-visible:enabled {
    background-color: ${({tokens:e})=>e.core.foregroundAccent010};
  }

  button[data-variant='secondary']:focus-visible:enabled {
    background-color: ${({tokens:e})=>e.theme.foregroundSecondary};
  }

  /* -- Hover & Active states ----------------------------------------------------------- */
  button[data-variant='accent']:hover:enabled {
    background-color: ${({tokens:e})=>e.core.foregroundAccent010};
  }

  button[data-variant='secondary']:hover:enabled {
    background-color: ${({tokens:e})=>e.theme.foregroundSecondary};
  }

  button[data-variant='accent']:focus-visible {
    background-color: ${({tokens:e})=>e.core.foregroundAccent010};
  }

  button[data-variant='secondary']:focus-visible {
    background-color: ${({tokens:e})=>e.theme.foregroundSecondary};
    box-shadow: 0px 0px 0px 4px rgba(9, 136, 240, 0.2);
  }

  button[disabled] {
    opacity: 0.5;
    cursor: not-allowed;
  }
`});var g5,fst,hst,e2,p8e=m(()=>{le();Me();as();So();Mt();kt();d8e();g5=function(e,t,r,n){var s=arguments.length,o=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,r,o):i(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o},fst={sm:"sm-medium",md:"md-medium"},hst={accent:"accent-primary",secondary:"secondary"},e2=class extends re{constructor(){super(...arguments),this.size="md",this.disabled=!1,this.variant="accent",this.icon=void 0}render(){return H`
      <button ?disabled=${this.disabled} data-variant=${this.variant}>
        <slot name="iconLeft"></slot>
        <wui-text
          color=${hst[this.variant]}
          variant=${fst[this.size]}
        >
          <slot></slot>
        </wui-text>
        ${this.iconTemplate()}
      </button>
    `}iconTemplate(){return this.icon?H`<wui-icon name=${this.icon} size="sm"></wui-icon>`:null}};e2.styles=[Ue,Qt,u8e];g5([F()],e2.prototype,"size",void 0);g5([F({type:Boolean})],e2.prototype,"disabled",void 0);g5([F()],e2.prototype,"variant",void 0);g5([F()],e2.prototype,"icon",void 0);e2=g5([ee("wui-link")],e2)});var wT=m(()=>{p8e()});var f8e,h8e=m(()=>{Nt();f8e=ce`
  :host {
    display: block;
    width: 100px;
    height: 100px;
  }

  svg {
    width: 100px;
    height: 100px;
  }

  rect {
    fill: none;
    stroke: ${e=>e.colors.accent100};
    stroke-width: 3px;
    stroke-linecap: round;
    animation: dash 1s linear infinite;
  }

  @keyframes dash {
    to {
      stroke-dashoffset: 0px;
    }
  }
`});var m8e,bT,g8e=m(()=>{le();Me();Mt();kt();h8e();m8e=function(e,t,r,n){var s=arguments.length,o=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,r,o):i(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o},bT=class extends re{constructor(){super(...arguments),this.radius=36}render(){return this.svgLoaderTemplate()}svgLoaderTemplate(){let t=this.radius>50?50:this.radius,n=36-t,s=116+n,o=245+n,i=360+n*1.75;return H`
      <svg viewBox="0 0 110 110" width="110" height="110">
        <rect
          x="2"
          y="2"
          width="106"
          height="106"
          rx=${t}
          stroke-dasharray="${s} ${o}"
          stroke-dashoffset=${i}
        />
      </svg>
    `}};bT.styles=[Ue,f8e];m8e([F({type:Number})],bT.prototype,"radius",void 0);bT=m8e([ee("wui-loading-thumbnail")],bT)});var y8e=m(()=>{g8e()});var Wn=m(()=>{So()});var y5=m(()=>{fT()});var w8e,b8e=m(()=>{Nt();w8e=ce`
  wui-flex {
    width: 100%;
    height: 52px;
    box-sizing: border-box;
    background-color: ${({tokens:e})=>e.theme.foregroundPrimary};
    border-radius: ${({borderRadius:e})=>e[5]};
    padding-left: ${({spacing:e})=>e[3]};
    padding-right: ${({spacing:e})=>e[3]};
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: ${({spacing:e})=>e[6]};
  }

  wui-text {
    color: ${({tokens:e})=>e.theme.textSecondary};
  }

  wui-icon {
    width: 12px;
    height: 12px;
  }
`});var xT,v6,x8e=m(()=>{le();Me();as();So();Fg();Mt();kt();Oz();b8e();xT=function(e,t,r,n){var s=arguments.length,o=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,r,o):i(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o},v6=class extends re{constructor(){super(...arguments),this.disabled=!1,this.label="",this.buttonLabel=""}render(){return H`
      <wui-flex justifyContent="space-between" alignItems="center">
        <wui-text variant="lg-regular" color="inherit">${this.label}</wui-text>
        <wui-button variant="accent-secondary" size="sm">
          ${this.buttonLabel}
          <wui-icon name="chevronRight" color="inherit" size="inherit" slot="iconRight"></wui-icon>
        </wui-button>
      </wui-flex>
    `}};v6.styles=[Ue,Qt,w8e];xT([F({type:Boolean})],v6.prototype,"disabled",void 0);xT([F()],v6.prototype,"label",void 0);xT([F()],v6.prototype,"buttonLabel",void 0);v6=xT([ee("wui-cta-button")],v6)});var v8e=m(()=>{x8e()});var E8e,A8e=m(()=>{Fe();E8e=ce`
  :host {
    display: block;
    padding: 0 ${({spacing:e})=>e[5]} ${({spacing:e})=>e[5]};
  }
`});var C8e,vT,ET=m(()=>{le();Me();st();Fe();v8e();A8e();C8e=function(e,t,r,n){var s=arguments.length,o=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,r,o):i(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o},vT=class extends re{constructor(){super(...arguments),this.wallet=void 0}render(){if(!this.wallet)return this.style.display="none",null;let{name:t,app_store:r,play_store:n,chrome_store:s,homepage:o}=this.wallet,i=te.isMobile(),a=te.isIos(),c=te.isAndroid(),l=[r,n,o,s].filter(Boolean).length>1,u=gr.getTruncateString({string:t,charsStart:12,charsEnd:0,truncate:"end"});return l&&!i?H`
        <wui-cta-button
          label=${`Don't have ${u}?`}
          buttonLabel="Get"
          @click=${()=>K.push("Downloads",{wallet:this.wallet})}
        ></wui-cta-button>
      `:!l&&o?H`
        <wui-cta-button
          label=${`Don't have ${u}?`}
          buttonLabel="Get"
          @click=${this.onHomePage.bind(this)}
        ></wui-cta-button>
      `:r&&a?H`
        <wui-cta-button
          label=${`Don't have ${u}?`}
          buttonLabel="Get"
          @click=${this.onAppStore.bind(this)}
        ></wui-cta-button>
      `:n&&c?H`
        <wui-cta-button
          label=${`Don't have ${u}?`}
          buttonLabel="Get"
          @click=${this.onPlayStore.bind(this)}
        ></wui-cta-button>
      `:(this.style.display="none",null)}onAppStore(){this.wallet?.app_store&&te.openHref(this.wallet.app_store,"_blank")}onPlayStore(){this.wallet?.play_store&&te.openHref(this.wallet.play_store,"_blank")}onHomePage(){this.wallet?.homepage&&te.openHref(this.wallet.homepage,"_blank")}};vT.styles=[E8e];C8e([F({type:Object})],vT.prototype,"wallet",void 0);vT=C8e([ee("w3m-mobile-download-links")],vT)});var S8e,I8e=m(()=>{Fe();S8e=ce`
  @keyframes shake {
    0% {
      transform: translateX(0);
    }
    25% {
      transform: translateX(3px);
    }
    50% {
      transform: translateX(-3px);
    }
    75% {
      transform: translateX(3px);
    }
    100% {
      transform: translateX(0);
    }
  }

  wui-flex:first-child:not(:only-child) {
    position: relative;
  }

  wui-wallet-image {
    width: 56px;
    height: 56px;
  }

  wui-loading-thumbnail {
    position: absolute;
  }

  wui-icon-box {
    position: absolute;
    right: calc(${({spacing:e})=>e[1]} * -1);
    bottom: calc(${({spacing:e})=>e[1]} * -1);
    opacity: 0;
    transform: scale(0.5);
    transition-property: opacity, transform;
    transition-duration: ${({durations:e})=>e.lg};
    transition-timing-function: ${({easings:e})=>e["ease-out-power-2"]};
    will-change: opacity, transform;
  }

  wui-text[align='center'] {
    width: 100%;
    padding: 0px ${({spacing:e})=>e[4]};
  }

  [data-error='true'] wui-icon-box {
    opacity: 1;
    transform: scale(1);
  }

  [data-error='true'] > wui-flex:first-child {
    animation: shake 250ms ${({easings:e})=>e["ease-out-power-2"]} both;
  }

  [data-retry='false'] wui-link {
    display: none;
  }

  [data-retry='true'] wui-link {
    display: block;
    opacity: 1;
  }

  w3m-mobile-download-links {
    padding: 0px;
    width: 100%;
  }
`});var Il,an,E6=m(()=>{le();Me();Ur();st();m5();Wr();ff();yT();wT();y8e();Wn();y5();ET();I8e();Il=function(e,t,r,n){var s=arguments.length,o=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,r,o):i(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o},an=class extends re{constructor(){super(),this.wallet=K.state.data?.wallet,this.connector=K.state.data?.connector,this.timeout=void 0,this.secondaryBtnIcon="refresh",this.onConnect=void 0,this.onRender=void 0,this.onAutoConnect=void 0,this.isWalletConnect=!0,this.unsubscribe=[],this.imageSrc=St.getConnectorImage(this.connector)??St.getWalletImage(this.wallet),this.name=this.wallet?.name??this.connector?.name??"Wallet",this.isRetrying=!1,this.uri=Q.state.wcUri,this.error=Q.state.wcError,this.ready=!1,this.showRetry=!1,this.label=void 0,this.secondaryBtnLabel="Try again",this.secondaryLabel="Accept connection request in the wallet",this.isLoading=!1,this.isMobile=!1,this.onRetry=void 0,this.unsubscribe.push(Q.subscribeKey("wcUri",t=>{this.uri=t,this.isRetrying&&this.onRetry&&(this.isRetrying=!1,this.onConnect?.())}),Q.subscribeKey("wcError",t=>this.error=t)),(te.isTelegram()||te.isSafari())&&te.isIos()&&Q.state.wcUri&&this.onConnect?.()}firstUpdated(){this.onAutoConnect?.(),this.showRetry=!this.onAutoConnect}disconnectedCallback(){this.unsubscribe.forEach(t=>t()),Q.setWcError(!1),clearTimeout(this.timeout)}render(){this.onRender?.(),this.onShowRetry();let t=this.error?"Connection can be declined if a previous request is still active":this.secondaryLabel,r="";return this.label?r=this.label:(r=`Continue in ${this.name}`,this.error&&(r="Connection declined")),H`
      <wui-flex
        data-error=${Ee(this.error)}
        data-retry=${this.showRetry}
        flexDirection="column"
        alignItems="center"
        .padding=${["10","5","5","5"]}
        gap="6"
      >
        <wui-flex gap="2" justifyContent="center" alignItems="center">
          <wui-wallet-image size="lg" imageSrc=${Ee(this.imageSrc)}></wui-wallet-image>

          ${this.error?null:this.loaderTemplate()}

          <wui-icon-box
            color="error"
            icon="close"
            size="sm"
            border
            borderColor="wui-color-bg-125"
          ></wui-icon-box>
        </wui-flex>

        <wui-flex flexDirection="column" alignItems="center" gap="6"> <wui-flex
          flexDirection="column"
          alignItems="center"
          gap="2"
          .padding=${["2","0","0","0"]}
        >
          <wui-text align="center" variant="lg-medium" color=${this.error?"error":"primary"}>
            ${r}
          </wui-text>
          <wui-text align="center" variant="lg-regular" color="secondary">${t}</wui-text>
        </wui-flex>

        ${this.secondaryBtnLabel?H`
                <wui-button
                  variant="neutral-secondary"
                  size="md"
                  ?disabled=${this.isRetrying||this.isLoading}
                  @click=${this.onTryAgain.bind(this)}
                  data-testid="w3m-connecting-widget-secondary-button"
                >
                  <wui-icon
                    color="inherit"
                    slot="iconLeft"
                    name=${this.secondaryBtnIcon}
                  ></wui-icon>
                  ${this.secondaryBtnLabel}
                </wui-button>
              `:null}
      </wui-flex>

      ${this.isWalletConnect?H`
              <wui-flex .padding=${["0","5","5","5"]} justifyContent="center">
                <wui-link
                  @click=${this.onCopyUri}
                  variant="secondary"
                  icon="copy"
                  data-testid="wui-link-copy"
                >
                  Copy link
                </wui-link>
              </wui-flex>
            `:null}

      <w3m-mobile-download-links .wallet=${this.wallet}></w3m-mobile-download-links></wui-flex>
      </wui-flex>
    `}onShowRetry(){this.error&&!this.showRetry&&(this.showRetry=!0,this.shadowRoot?.querySelector("wui-button")?.animate([{opacity:0},{opacity:1}],{fill:"forwards",easing:"ease"}))}onTryAgain(){Q.setWcError(!1),this.onRetry?(this.isRetrying=!0,this.onRetry?.()):this.onConnect?.()}loaderTemplate(){let t=rn.state.themeVariables["--w3m-border-radius-master"],r=t?parseInt(t.replace("px",""),10):4;return H`<wui-loading-thumbnail radius=${r*9}></wui-loading-thumbnail>`}onCopyUri(){try{this.uri&&(te.copyToClopboard(this.uri),Ze.showSuccess("Link copied"))}catch{Ze.showError("Failed to copy")}}};an.styles=S8e;Il([oe()],an.prototype,"isRetrying",void 0);Il([oe()],an.prototype,"uri",void 0);Il([oe()],an.prototype,"error",void 0);Il([oe()],an.prototype,"ready",void 0);Il([oe()],an.prototype,"showRetry",void 0);Il([oe()],an.prototype,"label",void 0);Il([oe()],an.prototype,"secondaryBtnLabel",void 0);Il([oe()],an.prototype,"secondaryLabel",void 0);Il([oe()],an.prototype,"isLoading",void 0);Il([F({type:Boolean})],an.prototype,"isMobile",void 0);Il([F()],an.prototype,"onRetry",void 0)});var mst,_8e,T8e=m(()=>{at();st();Fe();E6();mst=function(e,t,r,n){var s=arguments.length,o=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,r,o):i(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o},_8e=class extends an{constructor(){if(super(),!this.wallet)throw new Error("w3m-connecting-wc-browser: No wallet provided");this.onConnect=this.onConnectProxy.bind(this),this.onAutoConnect=this.onConnectProxy.bind(this),ve.sendEvent({type:"track",event:"SELECT_WALLET",properties:{name:this.wallet.name,platform:"browser",displayIndex:this.wallet?.display_index,walletRank:this.wallet.order,view:K.state.view}})}async onConnectProxy(){try{this.error=!1;let{connectors:t}=X.state,r=t.find(n=>n.type==="ANNOUNCED"&&n.info?.rdns===this.wallet?.rdns||n.type==="INJECTED"||n.name===this.wallet?.name);if(r)await Q.connectExternal(r,r.chain);else throw new Error("w3m-connecting-wc-browser: No connector found");ke.close()}catch(t){t instanceof cc&&t.originalName===Ho.PROVIDER_RPC_ERROR_NAME.USER_REJECTED_REQUEST?ve.sendEvent({type:"track",event:"USER_REJECTED",properties:{message:t.message}}):ve.sendEvent({type:"track",event:"CONNECT_ERROR",properties:{message:t?.message??"Unknown"}}),this.error=!0}}};_8e=mst([ee("w3m-connecting-wc-browser")],_8e)});var gst,P8e,N8e=m(()=>{st();Fe();E6();gst=function(e,t,r,n){var s=arguments.length,o=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,r,o):i(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o},P8e=class extends an{constructor(){if(super(),!this.wallet)throw new Error("w3m-connecting-wc-desktop: No wallet provided");this.onConnect=this.onConnectProxy.bind(this),this.onRender=this.onRenderProxy.bind(this),ve.sendEvent({type:"track",event:"SELECT_WALLET",properties:{name:this.wallet.name,platform:"desktop",displayIndex:this.wallet?.display_index,walletRank:this.wallet.order,view:K.state.view}})}onRenderProxy(){!this.ready&&this.uri&&(this.ready=!0,this.onConnect?.())}onConnectProxy(){if(this.wallet?.desktop_link&&this.uri)try{this.error=!1;let{desktop_link:t,name:r}=this.wallet,{redirect:n,href:s}=te.formatNativeUrl(t,this.uri);Q.setWcLinking({name:r,href:s}),Q.setRecentWallet(this.wallet),te.openHref(n,"_blank")}catch{this.error=!0}}};P8e=gst([ee("w3m-connecting-wc-desktop")],P8e)});var A6,t2,R8e=m(()=>{Me();st();Fe();E6();A6=function(e,t,r,n){var s=arguments.length,o=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,r,o):i(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o},t2=class extends an{constructor(){if(super(),this.btnLabelTimeout=void 0,this.redirectDeeplink=void 0,this.redirectUniversalLink=void 0,this.target=void 0,this.preferUniversalLinks=W.state.experimental_preferUniversalLinks,this.isLoading=!0,this.onConnect=()=>{$p.onConnectMobile(this.wallet)},!this.wallet)throw new Error("w3m-connecting-wc-mobile: No wallet provided");this.secondaryBtnLabel="Open",this.secondaryLabel=Ke.CONNECT_LABELS.MOBILE,this.secondaryBtnIcon="externalLink",this.onHandleURI(),this.unsubscribe.push(Q.subscribeKey("wcUri",()=>{this.onHandleURI()})),ve.sendEvent({type:"track",event:"SELECT_WALLET",properties:{name:this.wallet.name,platform:"mobile",displayIndex:this.wallet?.display_index,walletRank:this.wallet.order,view:K.state.view}})}disconnectedCallback(){super.disconnectedCallback(),clearTimeout(this.btnLabelTimeout)}onHandleURI(){this.isLoading=!this.uri,!this.ready&&this.uri&&(this.ready=!0,this.onConnect?.())}onTryAgain(){Q.setWcError(!1),this.onConnect?.()}};A6([oe()],t2.prototype,"redirectDeeplink",void 0);A6([oe()],t2.prototype,"redirectUniversalLink",void 0);A6([oe()],t2.prototype,"target",void 0);A6([oe()],t2.prototype,"preferUniversalLinks",void 0);A6([oe()],t2.prototype,"isLoading",void 0);t2=A6([ee("w3m-connecting-wc-mobile")],t2)});var k8e=Ve((fpr,O8e)=>{O8e.exports=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}});var xm=Ve(r2=>{var kz,yst=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];r2.getSymbolSize=function(t){if(!t)throw new Error('"version" cannot be null or undefined');if(t<1||t>40)throw new Error('"version" should be in range from 1 to 40');return t*4+17};r2.getSymbolTotalCodewords=function(t){return yst[t]};r2.getBCHDigit=function(e){let t=0;for(;e!==0;)t++,e>>>=1;return t};r2.setToSJISFunction=function(t){if(typeof t!="function")throw new Error('"toSJISFunc" is not a valid function.');kz=t};r2.isKanjiModeEnabled=function(){return typeof kz<"u"};r2.toSJIS=function(t){return kz(t)}});var AT=Ve(bc=>{bc.L={bit:1};bc.M={bit:0};bc.Q={bit:3};bc.H={bit:2};function wst(e){if(typeof e!="string")throw new Error("Param is not a string");switch(e.toLowerCase()){case"l":case"low":return bc.L;case"m":case"medium":return bc.M;case"q":case"quartile":return bc.Q;case"h":case"high":return bc.H;default:throw new Error("Unknown EC Level: "+e)}}bc.isValid=function(t){return t&&typeof t.bit<"u"&&t.bit>=0&&t.bit<4};bc.from=function(t,r){if(bc.isValid(t))return t;try{return wst(t)}catch{return r}}});var U8e=Ve((gpr,D8e)=>{function B8e(){this.buffer=[],this.length=0}B8e.prototype={get:function(e){let t=Math.floor(e/8);return(this.buffer[t]>>>7-e%8&1)===1},put:function(e,t){for(let r=0;r<t;r++)this.putBit((e>>>t-r-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(e){let t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}};D8e.exports=B8e});var M8e=Ve((ypr,L8e)=>{function w5(e){if(!e||e<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=e,this.data=new Uint8Array(e*e),this.reservedBit=new Uint8Array(e*e)}w5.prototype.set=function(e,t,r,n){let s=e*this.size+t;this.data[s]=r,n&&(this.reservedBit[s]=!0)};w5.prototype.get=function(e,t){return this.data[e*this.size+t]};w5.prototype.xor=function(e,t,r){this.data[e*this.size+t]^=r};w5.prototype.isReserved=function(e,t){return this.reservedBit[e*this.size+t]};L8e.exports=w5});var H8e=Ve(CT=>{var bst=xm().getSymbolSize;CT.getRowColCoords=function(t){if(t===1)return[];let r=Math.floor(t/7)+2,n=bst(t),s=n===145?26:Math.ceil((n-13)/(2*r-2))*2,o=[n-7];for(let i=1;i<r-1;i++)o[i]=o[i-1]-s;return o.push(6),o.reverse()};CT.getPositions=function(t){let r=[],n=CT.getRowColCoords(t),s=n.length;for(let o=0;o<s;o++)for(let i=0;i<s;i++)o===0&&i===0||o===0&&i===s-1||o===s-1&&i===0||r.push([n[o],n[i]]);return r}});var j8e=Ve(F8e=>{var xst=xm().getSymbolSize,$8e=7;F8e.getPositions=function(t){let r=xst(t);return[[0,0],[r-$8e,0],[0,r-$8e]]}});var z8e=Ve(Kr=>{Kr.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};var n2={N1:3,N2:3,N3:40,N4:10};Kr.isValid=function(t){return t!=null&&t!==""&&!isNaN(t)&&t>=0&&t<=7};Kr.from=function(t){return Kr.isValid(t)?parseInt(t,10):void 0};Kr.getPenaltyN1=function(t){let r=t.size,n=0,s=0,o=0,i=null,a=null;for(let c=0;c<r;c++){s=o=0,i=a=null;for(let l=0;l<r;l++){let u=t.get(c,l);u===i?s++:(s>=5&&(n+=n2.N1+(s-5)),i=u,s=1),u=t.get(l,c),u===a?o++:(o>=5&&(n+=n2.N1+(o-5)),a=u,o=1)}s>=5&&(n+=n2.N1+(s-5)),o>=5&&(n+=n2.N1+(o-5))}return n};Kr.getPenaltyN2=function(t){let r=t.size,n=0;for(let s=0;s<r-1;s++)for(let o=0;o<r-1;o++){let i=t.get(s,o)+t.get(s,o+1)+t.get(s+1,o)+t.get(s+1,o+1);(i===4||i===0)&&n++}return n*n2.N2};Kr.getPenaltyN3=function(t){let r=t.size,n=0,s=0,o=0;for(let i=0;i<r;i++){s=o=0;for(let a=0;a<r;a++)s=s<<1&2047|t.get(i,a),a>=10&&(s===1488||s===93)&&n++,o=o<<1&2047|t.get(a,i),a>=10&&(o===1488||o===93)&&n++}return n*n2.N3};Kr.getPenaltyN4=function(t){let r=0,n=t.data.length;for(let o=0;o<n;o++)r+=t.data[o];return Math.abs(Math.ceil(r*100/n/5)-10)*n2.N4};function vst(e,t,r){switch(e){case Kr.Patterns.PATTERN000:return(t+r)%2===0;case Kr.Patterns.PATTERN001:return t%2===0;case Kr.Patterns.PATTERN010:return r%3===0;case Kr.Patterns.PATTERN011:return(t+r)%3===0;case Kr.Patterns.PATTERN100:return(Math.floor(t/2)+Math.floor(r/3))%2===0;case Kr.Patterns.PATTERN101:return t*r%2+t*r%3===0;case Kr.Patterns.PATTERN110:return(t*r%2+t*r%3)%2===0;case Kr.Patterns.PATTERN111:return(t*r%3+(t+r)%2)%2===0;default:throw new Error("bad maskPattern:"+e)}}Kr.applyMask=function(t,r){let n=r.size;for(let s=0;s<n;s++)for(let o=0;o<n;o++)r.isReserved(o,s)||r.xor(o,s,vst(t,o,s))};Kr.getBestMask=function(t,r){let n=Object.keys(Kr.Patterns).length,s=0,o=1/0;for(let i=0;i<n;i++){r(i),Kr.applyMask(i,t);let a=Kr.getPenaltyN1(t)+Kr.getPenaltyN2(t)+Kr.getPenaltyN3(t)+Kr.getPenaltyN4(t);Kr.applyMask(i,t),a<o&&(o=a,s=i)}return s}});var Dz=Ve(Bz=>{var vm=AT(),ST=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],IT=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];Bz.getBlocksCount=function(t,r){switch(r){case vm.L:return ST[(t-1)*4+0];case vm.M:return ST[(t-1)*4+1];case vm.Q:return ST[(t-1)*4+2];case vm.H:return ST[(t-1)*4+3];default:return}};Bz.getTotalCodewordsCount=function(t,r){switch(r){case vm.L:return IT[(t-1)*4+0];case vm.M:return IT[(t-1)*4+1];case vm.Q:return IT[(t-1)*4+2];case vm.H:return IT[(t-1)*4+3];default:return}}});var V8e=Ve(TT=>{var b5=new Uint8Array(512),_T=new Uint8Array(256);(function(){let t=1;for(let r=0;r<255;r++)b5[r]=t,_T[t]=r,t<<=1,t&256&&(t^=285);for(let r=255;r<512;r++)b5[r]=b5[r-255]})();TT.log=function(t){if(t<1)throw new Error("log("+t+")");return _T[t]};TT.exp=function(t){return b5[t]};TT.mul=function(t,r){return t===0||r===0?0:b5[_T[t]+_T[r]]}});var q8e=Ve(x5=>{var Uz=V8e();x5.mul=function(t,r){let n=new Uint8Array(t.length+r.length-1);for(let s=0;s<t.length;s++)for(let o=0;o<r.length;o++)n[s+o]^=Uz.mul(t[s],r[o]);return n};x5.mod=function(t,r){let n=new Uint8Array(t);for(;n.length-r.length>=0;){let s=n[0];for(let i=0;i<r.length;i++)n[i]^=Uz.mul(r[i],s);let o=0;for(;o<n.length&&n[o]===0;)o++;n=n.slice(o)}return n};x5.generateECPolynomial=function(t){let r=new Uint8Array([1]);for(let n=0;n<t;n++)r=x5.mul(r,new Uint8Array([1,Uz.exp(n)]));return r}});var Z8e=Ve((Cpr,K8e)=>{var W8e=q8e();function Lz(e){this.genPoly=void 0,this.degree=e,this.degree&&this.initialize(this.degree)}Lz.prototype.initialize=function(t){this.degree=t,this.genPoly=W8e.generateECPolynomial(this.degree)};Lz.prototype.encode=function(t){if(!this.genPoly)throw new Error("Encoder not initialized");let r=new Uint8Array(t.length+this.degree);r.set(t);let n=W8e.mod(r,this.genPoly),s=this.degree-n.length;if(s>0){let o=new Uint8Array(this.degree);return o.set(n,s),o}return n};K8e.exports=Lz});var Mz=Ve(G8e=>{G8e.isValid=function(t){return!isNaN(t)&&t>=1&&t<=40}});var Hz=Ve(hf=>{var Y8e="[0-9]+",Est="[A-Z $%*+\\-./:]+",v5="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";v5=v5.replace(/u/g,"\\u");var Ast="(?:(?![A-Z0-9 $%*+\\-./:]|"+v5+`)(?:.|[\r
]))+`;hf.KANJI=new RegExp(v5,"g");hf.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");hf.BYTE=new RegExp(Ast,"g");hf.NUMERIC=new RegExp(Y8e,"g");hf.ALPHANUMERIC=new RegExp(Est,"g");var Cst=new RegExp("^"+v5+"$"),Sst=new RegExp("^"+Y8e+"$"),Ist=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");hf.testKanji=function(t){return Cst.test(t)};hf.testNumeric=function(t){return Sst.test(t)};hf.testAlphanumeric=function(t){return Ist.test(t)}});var Em=Ve(Kn=>{var _st=Mz(),$z=Hz();Kn.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]};Kn.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]};Kn.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]};Kn.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]};Kn.MIXED={bit:-1};Kn.getCharCountIndicator=function(t,r){if(!t.ccBits)throw new Error("Invalid mode: "+t);if(!_st.isValid(r))throw new Error("Invalid version: "+r);return r>=1&&r<10?t.ccBits[0]:r<27?t.ccBits[1]:t.ccBits[2]};Kn.getBestModeForData=function(t){return $z.testNumeric(t)?Kn.NUMERIC:$z.testAlphanumeric(t)?Kn.ALPHANUMERIC:$z.testKanji(t)?Kn.KANJI:Kn.BYTE};Kn.toString=function(t){if(t&&t.id)return t.id;throw new Error("Invalid mode")};Kn.isValid=function(t){return t&&t.bit&&t.ccBits};function Tst(e){if(typeof e!="string")throw new Error("Param is not a string");switch(e.toLowerCase()){case"numeric":return Kn.NUMERIC;case"alphanumeric":return Kn.ALPHANUMERIC;case"kanji":return Kn.KANJI;case"byte":return Kn.BYTE;default:throw new Error("Unknown mode: "+e)}}Kn.from=function(t,r){if(Kn.isValid(t))return t;try{return Tst(t)}catch{return r}}});var txe=Ve(s2=>{var PT=xm(),Pst=Dz(),J8e=AT(),Am=Em(),Fz=Mz(),X8e=7973,Q8e=PT.getBCHDigit(X8e);function Nst(e,t,r){for(let n=1;n<=40;n++)if(t<=s2.getCapacity(n,r,e))return n}function exe(e,t){return Am.getCharCountIndicator(e,t)+4}function Rst(e,t){let r=0;return e.forEach(function(n){let s=exe(n.mode,t);r+=s+n.getBitsLength()}),r}function Ost(e,t){for(let r=1;r<=40;r++)if(Rst(e,r)<=s2.getCapacity(r,t,Am.MIXED))return r}s2.from=function(t,r){return Fz.isValid(t)?parseInt(t,10):r};s2.getCapacity=function(t,r,n){if(!Fz.isValid(t))throw new Error("Invalid QR Code version");typeof n>"u"&&(n=Am.BYTE);let s=PT.getSymbolTotalCodewords(t),o=Pst.getTotalCodewordsCount(t,r),i=(s-o)*8;if(n===Am.MIXED)return i;let a=i-exe(n,t);switch(n){case Am.NUMERIC:return Math.floor(a/10*3);case Am.ALPHANUMERIC:return Math.floor(a/11*2);case Am.KANJI:return Math.floor(a/13);case Am.BYTE:default:return Math.floor(a/8)}};s2.getBestVersionForData=function(t,r){let n,s=J8e.from(r,J8e.M);if(Array.isArray(t)){if(t.length>1)return Ost(t,s);if(t.length===0)return 1;n=t[0]}else n=t;return Nst(n.mode,n.getLength(),s)};s2.getEncodedBits=function(t){if(!Fz.isValid(t)||t<7)throw new Error("Invalid QR Code version");let r=t<<12;for(;PT.getBCHDigit(r)-Q8e>=0;)r^=X8e<<PT.getBCHDigit(r)-Q8e;return t<<12|r}});var oxe=Ve(sxe=>{var jz=xm(),nxe=1335,kst=21522,rxe=jz.getBCHDigit(nxe);sxe.getEncodedBits=function(t,r){let n=t.bit<<3|r,s=n<<10;for(;jz.getBCHDigit(s)-rxe>=0;)s^=nxe<<jz.getBCHDigit(s)-rxe;return(n<<10|s)^kst}});var axe=Ve((Npr,ixe)=>{var Bst=Em();function C6(e){this.mode=Bst.NUMERIC,this.data=e.toString()}C6.getBitsLength=function(t){return 10*Math.floor(t/3)+(t%3?t%3*3+1:0)};C6.prototype.getLength=function(){return this.data.length};C6.prototype.getBitsLength=function(){return C6.getBitsLength(this.data.length)};C6.prototype.write=function(t){let r,n,s;for(r=0;r+3<=this.data.length;r+=3)n=this.data.substr(r,3),s=parseInt(n,10),t.put(s,10);let o=this.data.length-r;o>0&&(n=this.data.substr(r),s=parseInt(n,10),t.put(s,o*3+1))};ixe.exports=C6});var lxe=Ve((Rpr,cxe)=>{var Dst=Em(),zz=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function S6(e){this.mode=Dst.ALPHANUMERIC,this.data=e}S6.getBitsLength=function(t){return 11*Math.floor(t/2)+6*(t%2)};S6.prototype.getLength=function(){return this.data.length};S6.prototype.getBitsLength=function(){return S6.getBitsLength(this.data.length)};S6.prototype.write=function(t){let r;for(r=0;r+2<=this.data.length;r+=2){let n=zz.indexOf(this.data[r])*45;n+=zz.indexOf(this.data[r+1]),t.put(n,11)}this.data.length%2&&t.put(zz.indexOf(this.data[r]),6)};cxe.exports=S6});var dxe=Ve((Opr,uxe)=>{"use strict";uxe.exports=function(t){for(var r=[],n=t.length,s=0;s<n;s++){var o=t.charCodeAt(s);if(o>=55296&&o<=56319&&n>s+1){var i=t.charCodeAt(s+1);i>=56320&&i<=57343&&(o=(o-55296)*1024+i-56320+65536,s+=1)}if(o<128){r.push(o);continue}if(o<2048){r.push(o>>6|192),r.push(o&63|128);continue}if(o<55296||o>=57344&&o<65536){r.push(o>>12|224),r.push(o>>6&63|128),r.push(o&63|128);continue}if(o>=65536&&o<=1114111){r.push(o>>18|240),r.push(o>>12&63|128),r.push(o>>6&63|128),r.push(o&63|128);continue}r.push(239,191,189)}return new Uint8Array(r).buffer}});var fxe=Ve((kpr,pxe)=>{var Ust=dxe(),Lst=Em();function I6(e){this.mode=Lst.BYTE,typeof e=="string"&&(e=Ust(e)),this.data=new Uint8Array(e)}I6.getBitsLength=function(t){return t*8};I6.prototype.getLength=function(){return this.data.length};I6.prototype.getBitsLength=function(){return I6.getBitsLength(this.data.length)};I6.prototype.write=function(e){for(let t=0,r=this.data.length;t<r;t++)e.put(this.data[t],8)};pxe.exports=I6});var mxe=Ve((Bpr,hxe)=>{var Mst=Em(),Hst=xm();function _6(e){this.mode=Mst.KANJI,this.data=e}_6.getBitsLength=function(t){return t*13};_6.prototype.getLength=function(){return this.data.length};_6.prototype.getBitsLength=function(){return _6.getBitsLength(this.data.length)};_6.prototype.write=function(e){let t;for(t=0;t<this.data.length;t++){let r=Hst.toSJIS(this.data[t]);if(r>=33088&&r<=40956)r-=33088;else if(r>=57408&&r<=60351)r-=49472;else throw new Error("Invalid SJIS character: "+this.data[t]+`
Make sure your charset is UTF-8`);r=(r>>>8&255)*192+(r&255),e.put(r,13)}};hxe.exports=_6});var gxe=Ve((Dpr,Vz)=>{"use strict";var E5={single_source_shortest_paths:function(e,t,r){var n={},s={};s[t]=0;var o=E5.PriorityQueue.make();o.push(t,0);for(var i,a,c,l,u,d,p,f,h;!o.empty();){i=o.pop(),a=i.value,l=i.cost,u=e[a]||{};for(c in u)u.hasOwnProperty(c)&&(d=u[c],p=l+d,f=s[c],h=typeof s[c]>"u",(h||f>p)&&(s[c]=p,o.push(c,p),n[c]=a))}if(typeof r<"u"&&typeof s[r]>"u"){var g=["Could not find a path from ",t," to ",r,"."].join("");throw new Error(g)}return n},extract_shortest_path_from_predecessor_list:function(e,t){for(var r=[],n=t,s;n;)r.push(n),s=e[n],n=e[n];return r.reverse(),r},find_path:function(e,t,r){var n=E5.single_source_shortest_paths(e,t,r);return E5.extract_shortest_path_from_predecessor_list(n,r)},PriorityQueue:{make:function(e){var t=E5.PriorityQueue,r={},n;e=e||{};for(n in t)t.hasOwnProperty(n)&&(r[n]=t[n]);return r.queue=[],r.sorter=e.sorter||t.default_sorter,r},default_sorter:function(e,t){return e.cost-t.cost},push:function(e,t){var r={value:e,cost:t};this.queue.push(r),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};typeof Vz<"u"&&(Vz.exports=E5)});var Cxe=Ve(T6=>{var yr=Em(),bxe=axe(),xxe=lxe(),vxe=fxe(),Exe=mxe(),A5=Hz(),NT=xm(),$st=gxe();function yxe(e){return unescape(encodeURIComponent(e)).length}function C5(e,t,r){let n=[],s;for(;(s=e.exec(r))!==null;)n.push({data:s[0],index:s.index,mode:t,length:s[0].length});return n}function Axe(e){let t=C5(A5.NUMERIC,yr.NUMERIC,e),r=C5(A5.ALPHANUMERIC,yr.ALPHANUMERIC,e),n,s;return NT.isKanjiModeEnabled()?(n=C5(A5.BYTE,yr.BYTE,e),s=C5(A5.KANJI,yr.KANJI,e)):(n=C5(A5.BYTE_KANJI,yr.BYTE,e),s=[]),t.concat(r,n,s).sort(function(i,a){return i.index-a.index}).map(function(i){return{data:i.data,mode:i.mode,length:i.length}})}function qz(e,t){switch(t){case yr.NUMERIC:return bxe.getBitsLength(e);case yr.ALPHANUMERIC:return xxe.getBitsLength(e);case yr.KANJI:return Exe.getBitsLength(e);case yr.BYTE:return vxe.getBitsLength(e)}}function Fst(e){return e.reduce(function(t,r){let n=t.length-1>=0?t[t.length-1]:null;return n&&n.mode===r.mode?(t[t.length-1].data+=r.data,t):(t.push(r),t)},[])}function jst(e){let t=[];for(let r=0;r<e.length;r++){let n=e[r];switch(n.mode){case yr.NUMERIC:t.push([n,{data:n.data,mode:yr.ALPHANUMERIC,length:n.length},{data:n.data,mode:yr.BYTE,length:n.length}]);break;case yr.ALPHANUMERIC:t.push([n,{data:n.data,mode:yr.BYTE,length:n.length}]);break;case yr.KANJI:t.push([n,{data:n.data,mode:yr.BYTE,length:yxe(n.data)}]);break;case yr.BYTE:t.push([{data:n.data,mode:yr.BYTE,length:yxe(n.data)}])}}return t}function zst(e,t){let r={},n={start:{}},s=["start"];for(let o=0;o<e.length;o++){let i=e[o],a=[];for(let c=0;c<i.length;c++){let l=i[c],u=""+o+c;a.push(u),r[u]={node:l,lastCount:0},n[u]={};for(let d=0;d<s.length;d++){let p=s[d];r[p]&&r[p].node.mode===l.mode?(n[p][u]=qz(r[p].lastCount+l.length,l.mode)-qz(r[p].lastCount,l.mode),r[p].lastCount+=l.length):(r[p]&&(r[p].lastCount=l.length),n[p][u]=qz(l.length,l.mode)+4+yr.getCharCountIndicator(l.mode,t))}}s=a}for(let o=0;o<s.length;o++)n[s[o]].end=0;return{map:n,table:r}}function wxe(e,t){let r,n=yr.getBestModeForData(e);if(r=yr.from(t,n),r!==yr.BYTE&&r.bit<n.bit)throw new Error('"'+e+'" cannot be encoded with mode '+yr.toString(r)+`.
 Suggested mode is: `+yr.toString(n));switch(r===yr.KANJI&&!NT.isKanjiModeEnabled()&&(r=yr.BYTE),r){case yr.NUMERIC:return new bxe(e);case yr.ALPHANUMERIC:return new xxe(e);case yr.KANJI:return new Exe(e);case yr.BYTE:return new vxe(e)}}T6.fromArray=function(t){return t.reduce(function(r,n){return typeof n=="string"?r.push(wxe(n,null)):n.data&&r.push(wxe(n.data,n.mode)),r},[])};T6.fromString=function(t,r){let n=Axe(t,NT.isKanjiModeEnabled()),s=jst(n),o=zst(s,r),i=$st.find_path(o.map,"start","end"),a=[];for(let c=1;c<i.length-1;c++)a.push(o.table[i[c]].node);return T6.fromArray(Fst(a))};T6.rawSplit=function(t){return T6.fromArray(Axe(t,NT.isKanjiModeEnabled()))}});var Ixe=Ve(Sxe=>{var OT=xm(),Wz=AT(),Vst=U8e(),qst=M8e(),Wst=H8e(),Kst=j8e(),Gz=z8e(),Yz=Dz(),Zst=Z8e(),RT=txe(),Gst=oxe(),Yst=Em(),Kz=Cxe();function Jst(e,t){let r=e.size,n=Kst.getPositions(t);for(let s=0;s<n.length;s++){let o=n[s][0],i=n[s][1];for(let a=-1;a<=7;a++)if(!(o+a<=-1||r<=o+a))for(let c=-1;c<=7;c++)i+c<=-1||r<=i+c||(a>=0&&a<=6&&(c===0||c===6)||c>=0&&c<=6&&(a===0||a===6)||a>=2&&a<=4&&c>=2&&c<=4?e.set(o+a,i+c,!0,!0):e.set(o+a,i+c,!1,!0))}}function Qst(e){let t=e.size;for(let r=8;r<t-8;r++){let n=r%2===0;e.set(r,6,n,!0),e.set(6,r,n,!0)}}function Xst(e,t){let r=Wst.getPositions(t);for(let n=0;n<r.length;n++){let s=r[n][0],o=r[n][1];for(let i=-2;i<=2;i++)for(let a=-2;a<=2;a++)i===-2||i===2||a===-2||a===2||i===0&&a===0?e.set(s+i,o+a,!0,!0):e.set(s+i,o+a,!1,!0)}}function eot(e,t){let r=e.size,n=RT.getEncodedBits(t),s,o,i;for(let a=0;a<18;a++)s=Math.floor(a/3),o=a%3+r-8-3,i=(n>>a&1)===1,e.set(s,o,i,!0),e.set(o,s,i,!0)}function Zz(e,t,r){let n=e.size,s=Gst.getEncodedBits(t,r),o,i;for(o=0;o<15;o++)i=(s>>o&1)===1,o<6?e.set(o,8,i,!0):o<8?e.set(o+1,8,i,!0):e.set(n-15+o,8,i,!0),o<8?e.set(8,n-o-1,i,!0):o<9?e.set(8,15-o-1+1,i,!0):e.set(8,15-o-1,i,!0);e.set(n-8,8,1,!0)}function tot(e,t){let r=e.size,n=-1,s=r-1,o=7,i=0;for(let a=r-1;a>0;a-=2)for(a===6&&a--;;){for(let c=0;c<2;c++)if(!e.isReserved(s,a-c)){let l=!1;i<t.length&&(l=(t[i]>>>o&1)===1),e.set(s,a-c,l),o--,o===-1&&(i++,o=7)}if(s+=n,s<0||r<=s){s-=n,n=-n;break}}}function rot(e,t,r){let n=new Vst;r.forEach(function(c){n.put(c.mode.bit,4),n.put(c.getLength(),Yst.getCharCountIndicator(c.mode,e)),c.write(n)});let s=OT.getSymbolTotalCodewords(e),o=Yz.getTotalCodewordsCount(e,t),i=(s-o)*8;for(n.getLengthInBits()+4<=i&&n.put(0,4);n.getLengthInBits()%8!==0;)n.putBit(0);let a=(i-n.getLengthInBits())/8;for(let c=0;c<a;c++)n.put(c%2?17:236,8);return not(n,e,t)}function not(e,t,r){let n=OT.getSymbolTotalCodewords(t),s=Yz.getTotalCodewordsCount(t,r),o=n-s,i=Yz.getBlocksCount(t,r),a=n%i,c=i-a,l=Math.floor(n/i),u=Math.floor(o/i),d=u+1,p=l-u,f=new Zst(p),h=0,g=new Array(i),y=new Array(i),E=0,A=new Uint8Array(e.buffer);for(let B=0;B<i;B++){let U=B<c?u:d;g[B]=A.slice(h,h+U),y[B]=f.encode(g[B]),h+=U,E=Math.max(E,U)}let b=new Uint8Array(n),w=0,C,_;for(C=0;C<E;C++)for(_=0;_<i;_++)C<g[_].length&&(b[w++]=g[_][C]);for(C=0;C<p;C++)for(_=0;_<i;_++)b[w++]=y[_][C];return b}function sot(e,t,r,n){let s;if(Array.isArray(e))s=Kz.fromArray(e);else if(typeof e=="string"){let l=t;if(!l){let u=Kz.rawSplit(e);l=RT.getBestVersionForData(u,r)}s=Kz.fromString(e,l||40)}else throw new Error("Invalid data");let o=RT.getBestVersionForData(s,r);if(!o)throw new Error("The amount of data is too big to be stored in a QR Code");if(!t)t=o;else if(t<o)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+o+`.
`);let i=rot(t,r,s),a=OT.getSymbolSize(t),c=new qst(a);return Jst(c,t),Qst(c),Xst(c,t),Zz(c,r,0),t>=7&&eot(c,t),tot(c,i),isNaN(n)&&(n=Gz.getBestMask(c,Zz.bind(null,c,r))),Gz.applyMask(n,c),Zz(c,r,n),{modules:c,version:t,errorCorrectionLevel:r,maskPattern:n,segments:s}}Sxe.create=function(t,r){if(typeof t>"u"||t==="")throw new Error("No input text");let n=Wz.M,s,o;return typeof r<"u"&&(n=Wz.from(r.errorCorrectionLevel,Wz.M),s=RT.from(r.version),o=Gz.from(r.maskPattern),r.toSJISFunc&&OT.setToSJISFunction(r.toSJISFunc)),sot(t,s,n,o)}});var Jz=Ve(o2=>{function _xe(e){if(typeof e=="number"&&(e=e.toString()),typeof e!="string")throw new Error("Color should be defined as hex string");let t=e.slice().replace("#","").split("");if(t.length<3||t.length===5||t.length>8)throw new Error("Invalid hex color: "+e);(t.length===3||t.length===4)&&(t=Array.prototype.concat.apply([],t.map(function(n){return[n,n]}))),t.length===6&&t.push("F","F");let r=parseInt(t.join(""),16);return{r:r>>24&255,g:r>>16&255,b:r>>8&255,a:r&255,hex:"#"+t.slice(0,6).join("")}}o2.getOptions=function(t){t||(t={}),t.color||(t.color={});let r=typeof t.margin>"u"||t.margin===null||t.margin<0?4:t.margin,n=t.width&&t.width>=21?t.width:void 0,s=t.scale||4;return{width:n,scale:n?4:s,margin:r,color:{dark:_xe(t.color.dark||"#000000ff"),light:_xe(t.color.light||"#ffffffff")},type:t.type,rendererOpts:t.rendererOpts||{}}};o2.getScale=function(t,r){return r.width&&r.width>=t+r.margin*2?r.width/(t+r.margin*2):r.scale};o2.getImageWidth=function(t,r){let n=o2.getScale(t,r);return Math.floor((t+r.margin*2)*n)};o2.qrToImageData=function(t,r,n){let s=r.modules.size,o=r.modules.data,i=o2.getScale(s,n),a=Math.floor((s+n.margin*2)*i),c=n.margin*i,l=[n.color.light,n.color.dark];for(let u=0;u<a;u++)for(let d=0;d<a;d++){let p=(u*a+d)*4,f=n.color.light;if(u>=c&&d>=c&&u<a-c&&d<a-c){let h=Math.floor((u-c)/i),g=Math.floor((d-c)/i);f=l[o[h*s+g]?1:0]}t[p++]=f.r,t[p++]=f.g,t[p++]=f.b,t[p]=f.a}}});var Txe=Ve(kT=>{var Qz=Jz();function oot(e,t,r){e.clearRect(0,0,t.width,t.height),t.style||(t.style={}),t.height=r,t.width=r,t.style.height=r+"px",t.style.width=r+"px"}function iot(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}kT.render=function(t,r,n){let s=n,o=r;typeof s>"u"&&(!r||!r.getContext)&&(s=r,r=void 0),r||(o=iot()),s=Qz.getOptions(s);let i=Qz.getImageWidth(t.modules.size,s),a=o.getContext("2d"),c=a.createImageData(i,i);return Qz.qrToImageData(c.data,t,s),oot(a,o,i),a.putImageData(c,0,0),o};kT.renderToDataURL=function(t,r,n){let s=n;typeof s>"u"&&(!r||!r.getContext)&&(s=r,r=void 0),s||(s={});let o=kT.render(t,r,s),i=s.type||"image/png",a=s.rendererOpts||{};return o.toDataURL(i,a.quality)}});var Rxe=Ve(Nxe=>{var aot=Jz();function Pxe(e,t){let r=e.a/255,n=t+'="'+e.hex+'"';return r<1?n+" "+t+'-opacity="'+r.toFixed(2).slice(1)+'"':n}function Xz(e,t,r){let n=e+t;return typeof r<"u"&&(n+=" "+r),n}function cot(e,t,r){let n="",s=0,o=!1,i=0;for(let a=0;a<e.length;a++){let c=Math.floor(a%t),l=Math.floor(a/t);!c&&!o&&(o=!0),e[a]?(i++,a>0&&c>0&&e[a-1]||(n+=o?Xz("M",c+r,.5+l+r):Xz("m",s,0),s=0,o=!1),c+1<t&&e[a+1]||(n+=Xz("h",i),i=0)):s++}return n}Nxe.render=function(t,r,n){let s=aot.getOptions(r),o=t.modules.size,i=t.modules.data,a=o+s.margin*2,c=s.color.light.a?"<path "+Pxe(s.color.light,"fill")+' d="M0 0h'+a+"v"+a+'H0z"/>':"",l="<path "+Pxe(s.color.dark,"stroke")+' d="'+cot(i,o,s.margin)+'"/>',u='viewBox="0 0 '+a+" "+a+'"',p='<svg xmlns="http://www.w3.org/2000/svg" '+(s.width?'width="'+s.width+'" height="'+s.width+'" ':"")+u+' shape-rendering="crispEdges">'+c+l+`</svg>
`;return typeof n=="function"&&n(null,p),p}});var kxe=Ve(S5=>{var lot=k8e(),eV=Ixe(),Oxe=Txe(),uot=Rxe();function tV(e,t,r,n,s){let o=[].slice.call(arguments,1),i=o.length,a=typeof o[i-1]=="function";if(!a&&!lot())throw new Error("Callback required as last argument");if(a){if(i<2)throw new Error("Too few arguments provided");i===2?(s=r,r=t,t=n=void 0):i===3&&(t.getContext&&typeof s>"u"?(s=n,n=void 0):(s=n,n=r,r=t,t=void 0))}else{if(i<1)throw new Error("Too few arguments provided");return i===1?(r=t,t=n=void 0):i===2&&!t.getContext&&(n=r,r=t,t=void 0),new Promise(function(c,l){try{let u=eV.create(r,n);c(e(u,t,n))}catch(u){l(u)}})}try{let c=eV.create(r,n);s(null,e(c,t,n))}catch(c){s(c)}}S5.create=eV.create;S5.toCanvas=tV.bind(null,Oxe.render);S5.toDataURL=tV.bind(null,Oxe.renderToDataURL);S5.toString=tV.bind(null,function(e,t,r){return uot.render(e,r)})});function rV(e,t,r){return e===t?!1:(e-t<0?t-e:e-t)<=r+dot}function pot(e,t){let r=Array.prototype.slice.call(Dxe.default.create(e,{errorCorrectionLevel:t}).modules.data,0),n=Math.sqrt(r.length);return r.reduce((s,o,i)=>(i%n===0?s.push([o]):s[s.length-1].push(o))&&s,[])}var Dxe,dot,Bxe,mf,Uxe,Lxe=m(()=>{Dxe=Bt(kxe(),1);le();dot=.1,Bxe=2.5,mf=7;Uxe={generate({uri:e,size:t,logoSize:r,padding:n=8,dotColor:s="var(--apkt-colors-black)"}){let i=[],a=pot(e,"Q"),c=(t-2*n)/a.length,l=[{x:0,y:0},{x:1,y:0},{x:0,y:1}];l.forEach(({x:g,y})=>{let E=(a.length-mf)*c*g+n,A=(a.length-mf)*c*y+n,b=.45;for(let w=0;w<l.length;w+=1){let C=c*(mf-w*2);i.push(Le`
            <rect
              fill=${w===2?"var(--apkt-colors-black)":"var(--apkt-colors-white)"}
              width=${w===0?C-10:C}
              rx= ${w===0?(C-10)*b:C*b}
              ry= ${w===0?(C-10)*b:C*b}
              stroke=${s}
              stroke-width=${w===0?10:0}
              height=${w===0?C-10:C}
              x= ${w===0?A+c*w+10/2:A+c*w}
              y= ${w===0?E+c*w+10/2:E+c*w}
            />
          `)}});let u=Math.floor((r+25)/c),d=a.length/2-u/2,p=a.length/2+u/2-1,f=[];a.forEach((g,y)=>{g.forEach((E,A)=>{if(a[y][A]&&!(y<mf&&A<mf||y>a.length-(mf+1)&&A<mf||y<mf&&A>a.length-(mf+1))&&!(y>d&&y<p&&A>d&&A<p)){let b=y*c+c/2+n,w=A*c+c/2+n;f.push([b,w])}})});let h={};return f.forEach(([g,y])=>{h[g]?h[g]?.push(y):h[g]=[y]}),Object.entries(h).map(([g,y])=>{let E=y.filter(A=>y.every(b=>!rV(A,b,c)));return[Number(g),E]}).forEach(([g,y])=>{y.forEach(E=>{i.push(Le`<circle cx=${g} cy=${E} fill=${s} r=${c/Bxe} />`)})}),Object.entries(h).filter(([g,y])=>y.length>1).map(([g,y])=>{let E=y.filter(A=>y.some(b=>rV(A,b,c)));return[Number(g),E]}).map(([g,y])=>{y.sort((A,b)=>A<b?-1:1);let E=[];for(let A of y){let b=E.find(w=>w.some(C=>rV(A,C,c)));b?b.push(A):E.push([A])}return[g,E.map(A=>[A[0],A[A.length-1]])]}).forEach(([g,y])=>{y.forEach(([E,A])=>{i.push(Le`
              <line
                x1=${g}
                x2=${g}
                y1=${E}
                y2=${A}
                stroke=${s}
                stroke-width=${c/(Bxe/2)}
                stroke-linecap="round"
              />
            `)})}),i}}});var Mxe,Hxe=m(()=>{Nt();Mxe=ce`
  :host {
    position: relative;
    user-select: none;
    display: block;
    overflow: hidden;
    aspect-ratio: 1 / 1;
    width: 100%;
    height: 100%;
    background-color: ${({colors:e})=>e.white};
    border: 1px solid ${({tokens:e})=>e.theme.borderPrimary};
  }

  :host {
    border-radius: ${({borderRadius:e})=>e[4]};
    display: flex;
    align-items: center;
    justify-content: center;
  }

  :host([data-clear='true']) > wui-icon {
    display: none;
  }

  svg:first-child,
  wui-image,
  wui-icon {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translateY(-50%) translateX(-50%);
    background-color: ${({tokens:e})=>e.theme.backgroundPrimary};
    box-shadow: inset 0 0 0 4px ${({tokens:e})=>e.theme.backgroundPrimary};
    border-radius: ${({borderRadius:e})=>e[6]};
  }

  wui-image {
    width: 25%;
    height: 25%;
    border-radius: ${({borderRadius:e})=>e[2]};
  }

  wui-icon {
    width: 100%;
    height: 100%;
    color: #3396ff !important;
    transform: translateY(-50%) translateX(-50%) scale(0.25);
  }

  wui-icon > svg {
    width: inherit;
    height: inherit;
  }
`});var Cm,_d,$xe=m(()=>{le();Me();as();Zg();Fg();Lxe();Mt();kt();Hxe();Cm=function(e,t,r,n){var s=arguments.length,o=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,r,o):i(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o},_d=class extends re{constructor(){super(...arguments),this.uri="",this.size=500,this.theme="dark",this.imageSrc=void 0,this.alt=void 0,this.arenaClear=void 0,this.farcaster=void 0}render(){return this.dataset.theme=this.theme,this.dataset.clear=String(this.arenaClear),H`<wui-flex
      alignItems="center"
      justifyContent="center"
      class="wui-qr-code"
      direction="column"
      gap="4"
      width="100%"
      style="height: 100%"
    >
      ${this.templateVisual()} ${this.templateSvg()}
    </wui-flex>`}templateSvg(){return Le`
      <svg viewBox="0 0 ${this.size} ${this.size}" width="100%" height="100%">
        ${Uxe.generate({uri:this.uri,size:this.size,logoSize:this.arenaClear?0:this.size/4})}
      </svg>
    `}templateVisual(){return this.imageSrc?H`<wui-image src=${this.imageSrc} alt=${this.alt??"logo"}></wui-image>`:this.farcaster?H`<wui-icon
        class="farcaster"
        size="inherit"
        color="inherit"
        name="farcaster"
      ></wui-icon>`:H`<wui-icon size="inherit" color="inherit" name="walletConnect"></wui-icon>`}};_d.styles=[Ue,Mxe];Cm([F()],_d.prototype,"uri",void 0);Cm([F({type:Number})],_d.prototype,"size",void 0);Cm([F()],_d.prototype,"theme",void 0);Cm([F()],_d.prototype,"imageSrc",void 0);Cm([F()],_d.prototype,"alt",void 0);Cm([F({type:Boolean})],_d.prototype,"arenaClear",void 0);Cm([F({type:Boolean})],_d.prototype,"farcaster",void 0);_d=Cm([ee("wui-qr-code")],_d)});var Fxe=m(()=>{$xe()});var jxe,zxe=m(()=>{Nt();jxe=ce`
  :host {
    display: block;
    background: linear-gradient(
      90deg,
      ${({tokens:e})=>e.theme.foregroundPrimary} 0%,
      ${({tokens:e})=>e.theme.foregroundSecondary} 50%,
      ${({tokens:e})=>e.theme.foregroundPrimary} 100%
    );
    background-size: 200% 100%;
    animation: shimmer 2s linear infinite;
    border-radius: ${({borderRadius:e})=>e[1]};
  }

  :host([data-rounded='true']) {
    border-radius: ${({borderRadius:e})=>e[16]};
  }

  @keyframes shimmer {
    0% {
      background-position: 100% 0;
    }
    100% {
      background-position: -100% 0;
    }
  }
`});var I5,i2,nV=m(()=>{le();Me();kt();zxe();I5=function(e,t,r,n){var s=arguments.length,o=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,r,o):i(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o},i2=class extends re{constructor(){super(...arguments),this.width="",this.height="",this.variant="default",this.rounded=!1}render(){return this.style.cssText=`
      width: ${this.width};
      height: ${this.height};
    `,this.dataset.rounded=this.rounded?"true":"false",H`<slot></slot>`}};i2.styles=[jxe];I5([F()],i2.prototype,"width",void 0);I5([F()],i2.prototype,"height",void 0);I5([F()],i2.prototype,"variant",void 0);I5([F({type:Boolean})],i2.prototype,"rounded",void 0);i2=I5([ee("wui-shimmer")],i2)});var _5=m(()=>{nV()});var Vxe,qxe=m(()=>{Vxe="https://reown.com"});var Wxe,Kxe=m(()=>{Nt();Wxe=ce`
  .reown-logo {
    height: 24px;
  }

  a {
    text-decoration: none;
    cursor: pointer;
    color: ${({tokens:e})=>e.theme.textSecondary};
  }

  a:hover {
    opacity: 0.9;
  }
`});var fot,sV,Zxe=m(()=>{le();as();So();Fg();qxe();Mt();kt();Kxe();fot=function(e,t,r,n){var s=arguments.length,o=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,r,o):i(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o},sV=class extends re{render(){return H`
      <a
        data-testid="ux-branding-reown"
        href=${Vxe}
        rel="noreferrer"
        target="_blank"
        style="text-decoration: none;"
      >
        <wui-flex
          justifyContent="center"
          alignItems="center"
          gap="1"
          .padding=${["01","0","3","0"]}
        >
          <wui-text variant="sm-regular" color="inherit"> UX by </wui-text>
          <wui-icon name="reown" size="inherit" class="reown-logo"></wui-icon>
        </wui-flex>
      </a>
    `}};sV.styles=[Ue,Qt,Wxe];sV=fot([ee("wui-ux-by-reown")],sV)});var oV=m(()=>{Zxe()});var Gxe,Yxe=m(()=>{Fe();Gxe=ce`
  wui-shimmer {
    width: 100%;
    aspect-ratio: 1 / 1;
    border-radius: ${({borderRadius:e})=>e[4]};
  }

  wui-qr-code {
    opacity: 0;
    animation-duration: ${({durations:e})=>e.xl};
    animation-timing-function: ${({easings:e})=>e["ease-out-power-2"]};
    animation-name: fade-in;
    animation-fill-mode: forwards;
  }

  @keyframes fade-in {
    from {
      opacity: 0;
    }
    to {
      opacity: 1;
    }
  }
`});var Jxe,BT,Qxe=m(()=>{le();Me();Ur();st();Fe();Wr();ff();wT();Fxe();_5();Wn();oV();E6();ET();Yxe();Jxe=function(e,t,r,n){var s=arguments.length,o=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,r,o):i(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o},BT=class extends an{constructor(){super(),this.basic=!1}firstUpdated(){this.basic||ve.sendEvent({type:"track",event:"SELECT_WALLET",properties:{name:this.wallet?.name??"WalletConnect",platform:"qrcode",displayIndex:this.wallet?.display_index,walletRank:this.wallet?.order,view:K.state.view}})}disconnectedCallback(){super.disconnectedCallback(),this.unsubscribe?.forEach(t=>t())}render(){return this.onRenderProxy(),H`
      <wui-flex
        flexDirection="column"
        alignItems="center"
        .padding=${["0","5","5","5"]}
        gap="5"
      >
        <wui-shimmer width="100%"> ${this.qrCodeTemplate()} </wui-shimmer>
        <wui-text variant="lg-medium" color="primary"> Scan this QR Code with your phone </wui-text>
        ${this.copyTemplate()}
      </wui-flex>
      <w3m-mobile-download-links .wallet=${this.wallet}></w3m-mobile-download-links>
    `}onRenderProxy(){!this.ready&&this.uri&&(this.ready=!0)}qrCodeTemplate(){if(!this.uri||!this.ready)return null;let t=this.wallet?this.wallet.name:void 0;Q.setWcLinking(void 0),Q.setRecentWallet(this.wallet);let r=rn.state.themeVariables["--apkt-qr-color"]??rn.state.themeVariables["--w3m-qr-color"];return H` <wui-qr-code
      theme=${rn.state.themeMode}
      uri=${this.uri}
      imageSrc=${Ee(St.getWalletImage(this.wallet))}
      color=${Ee(r)}
      alt=${Ee(t)}
      data-testid="wui-qr-code"
    ></wui-qr-code>`}copyTemplate(){let t=!this.uri||!this.ready;return H`<wui-button
      .disabled=${t}
      @click=${this.onCopyUri}
      variant="neutral-secondary"
      size="sm"
      data-testid="copy-wc2-uri"
    >
      Copy link
      <wui-icon size="sm" color="inherit" name="copy" slot="iconRight"></wui-icon>
    </wui-button>`}};BT.styles=Gxe;Jxe([F({type:Boolean})],BT.prototype,"basic",void 0);BT=Jxe([ee("w3m-connecting-wc-qrcode")],BT)});var hot,Xxe,e4e=m(()=>{le();Ur();st();Fe();Wr();Wn();y5();ET();hot=function(e,t,r,n){var s=arguments.length,o=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,r,o):i(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o},Xxe=class extends re{constructor(){if(super(),this.wallet=K.state.data?.wallet,!this.wallet)throw new Error("w3m-connecting-wc-unsupported: No wallet provided");ve.sendEvent({type:"track",event:"SELECT_WALLET",properties:{name:this.wallet.name,platform:"browser",displayIndex:this.wallet?.display_index,walletRank:this.wallet?.order,view:K.state.view}})}render(){return H`
      <wui-flex
        flexDirection="column"
        alignItems="center"
        .padding=${["10","5","5","5"]}
        gap="5"
      >
        <wui-wallet-image
          size="lg"
          imageSrc=${Ee(St.getWalletImage(this.wallet))}
        ></wui-wallet-image>

        <wui-text variant="md-regular" color="primary">Not Detected</wui-text>
      </wui-flex>

      <w3m-mobile-download-links .wallet=${this.wallet}></w3m-mobile-download-links>
    `}};Xxe=hot([ee("w3m-connecting-wc-unsupported")],Xxe)});var t4e,iV,r4e=m(()=>{Me();st();Fe();E6();t4e=function(e,t,r,n){var s=arguments.length,o=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,r,o):i(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o},iV=class extends an{constructor(){if(super(),this.isLoading=!0,!this.wallet)throw new Error("w3m-connecting-wc-web: No wallet provided");this.onConnect=this.onConnectProxy.bind(this),this.secondaryBtnLabel="Open",this.secondaryLabel=Ke.CONNECT_LABELS.MOBILE,this.secondaryBtnIcon="externalLink",this.updateLoadingState(),this.unsubscribe.push(Q.subscribeKey("wcUri",()=>{this.updateLoadingState()})),ve.sendEvent({type:"track",event:"SELECT_WALLET",properties:{name:this.wallet.name,platform:"web",displayIndex:this.wallet?.display_index,walletRank:this.wallet?.order,view:K.state.view}})}updateLoadingState(){this.isLoading=!this.uri}onConnectProxy(){if(this.wallet?.webapp_link&&this.uri)try{this.error=!1;let{webapp_link:t,name:r}=this.wallet,{redirect:n,href:s}=te.formatUniversalUrl(t,this.uri);Q.setWcLinking({name:r,href:s}),Q.setRecentWallet(this.wallet),te.openHref(n,"_blank")}catch{this.error=!0}}};t4e([oe()],iV.prototype,"isLoading",void 0);iV=t4e([ee("w3m-connecting-wc-web")],iV)});var n4e,s4e=m(()=>{Fe();n4e=ce`
  :host([data-mobile-fullscreen='true']) {
    height: 100%;
    display: flex;
    flex-direction: column;
  }

  :host([data-mobile-fullscreen='true']) wui-ux-by-reown {
    margin-top: auto;
  }
`});var a2,gf,o4e=m(()=>{le();Me();at();st();Fe();Sl();o8e();T8e();N8e();R8e();Qxe();e4e();r4e();s4e();a2=function(e,t,r,n){var s=arguments.length,o=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,r,o):i(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o},gf=class extends re{constructor(){super(),this.wallet=K.state.data?.wallet,this.unsubscribe=[],this.platform=void 0,this.platforms=[],this.isSiwxEnabled=!!W.state.siwx,this.remoteFeatures=W.state.remoteFeatures,this.displayBranding=!0,this.basic=!1,this.determinePlatforms(),this.initializeConnection(),this.unsubscribe.push(W.subscribeKey("remoteFeatures",t=>this.remoteFeatures=t))}disconnectedCallback(){this.unsubscribe.forEach(t=>t())}render(){return W.state.enableMobileFullScreen&&this.setAttribute("data-mobile-fullscreen","true"),H`
      ${this.headerTemplate()}
      <div class="platform-container">${this.platformTemplate()}</div>
      ${this.reownBrandingTemplate()}
    `}reownBrandingTemplate(){return!this.remoteFeatures?.reownBranding||!this.displayBranding?null:H`<wui-ux-by-reown></wui-ux-by-reown>`}async initializeConnection(t=!1){if(!(this.platform==="browser"||W.state.manualWCControl&&!t))try{let{wcPairingExpiry:r,status:n}=Q.state,{redirectView:s}=K.state.data??{};if(t||W.state.enableEmbedded||te.isPairingExpired(r)||n==="connecting"){let o=Q.getConnections(R.state.activeChain),i=this.remoteFeatures?.multiWallet,a=o.length>0;await Q.connectWalletConnect({cache:"never"}),this.isSiwxEnabled||(a&&i?(K.replace("ProfileWallets"),Ze.showSuccess("New Wallet Added")):s?K.replace(s):ke.close())}}catch(r){if(r instanceof Error&&r.message.includes("An error occurred when attempting to switch chain")&&!W.state.enableNetworkSwitch&&R.state.activeChain){R.setActiveCaipNetwork(_u.getUnsupportedNetwork(`${R.state.activeChain}:${R.state.activeCaipNetwork?.id}`)),R.showUnsupportedChainUI();return}r instanceof cc&&r.originalName===Ho.PROVIDER_RPC_ERROR_NAME.USER_REJECTED_REQUEST?ve.sendEvent({type:"track",event:"USER_REJECTED",properties:{message:r.message}}):ve.sendEvent({type:"track",event:"CONNECT_ERROR",properties:{message:r?.message??"Unknown"}}),Q.setWcError(!0),Ze.showError(r.message??"Connection error"),Q.resetWcConnection(),K.goBack()}}determinePlatforms(){if(!this.wallet){this.platforms.push("qrcode"),this.platform="qrcode";return}if(this.platform)return;let{mobile_link:t,desktop_link:r,webapp_link:n,injected:s,rdns:o}=this.wallet,i=s?.map(({injected_id:h})=>h).filter(Boolean),a=[...o?[o]:i??[]],c=W.state.isUniversalProvider?!1:a.length,l=t,u=n,d=Q.checkInstalled(a),p=c&&d,f=r&&!te.isMobile();p&&!R.state.noAdapters&&this.platforms.push("browser"),l&&this.platforms.push(te.isMobile()?"mobile":"qrcode"),u&&this.platforms.push("web"),f&&this.platforms.push("desktop"),!p&&c&&!R.state.noAdapters&&this.platforms.push("unsupported"),this.platform=this.platforms[0]}platformTemplate(){switch(this.platform){case"browser":return H`<w3m-connecting-wc-browser></w3m-connecting-wc-browser>`;case"web":return H`<w3m-connecting-wc-web></w3m-connecting-wc-web>`;case"desktop":return H`
          <w3m-connecting-wc-desktop .onRetry=${()=>this.initializeConnection(!0)}>
          </w3m-connecting-wc-desktop>
        `;case"mobile":return H`
          <w3m-connecting-wc-mobile isMobile .onRetry=${()=>this.initializeConnection(!0)}>
          </w3m-connecting-wc-mobile>
        `;case"qrcode":return H`<w3m-connecting-wc-qrcode ?basic=${this.basic}></w3m-connecting-wc-qrcode>`;default:return H`<w3m-connecting-wc-unsupported></w3m-connecting-wc-unsupported>`}}headerTemplate(){return this.platforms.length>1?H`
      <w3m-connecting-header
        .platforms=${this.platforms}
        .onSelectPlatfrom=${this.onSelectPlatform.bind(this)}
      >
      </w3m-connecting-header>
    `:null}async onSelectPlatform(t){let r=this.shadowRoot?.querySelector("div");r&&(await r.animate([{opacity:1},{opacity:0}],{duration:200,fill:"forwards",easing:"ease"}).finished,this.platform=t,r.animate([{opacity:0},{opacity:1}],{duration:200,fill:"forwards",easing:"ease"}))}};gf.styles=n4e;a2([oe()],gf.prototype,"platform",void 0);a2([oe()],gf.prototype,"platforms",void 0);a2([oe()],gf.prototype,"isSiwxEnabled",void 0);a2([oe()],gf.prototype,"remoteFeatures",void 0);a2([F({type:Boolean})],gf.prototype,"displayBranding",void 0);a2([F({type:Boolean})],gf.prototype,"basic",void 0);gf=a2([ee("w3m-connecting-wc-view")],gf)});var aV,T5,i4e=m(()=>{le();Me();st();Fe();Wr();Z6e();J6e();o4e();aV=function(e,t,r,n){var s=arguments.length,o=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,r,o):i(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o},T5=class extends re{constructor(){super(),this.unsubscribe=[],this.isMobile=te.isMobile(),this.remoteFeatures=W.state.remoteFeatures,this.unsubscribe.push(W.subscribeKey("remoteFeatures",t=>this.remoteFeatures=t))}disconnectedCallback(){this.unsubscribe.forEach(t=>t())}render(){if(this.isMobile){let{featured:t,recommended:r}=pe.state,{customWallets:n}=W.state,s=ae.getRecentWallets(),o=t.length||r.length||n?.length||s.length;return H`<wui-flex flexDirection="column" gap="2" .margin=${["1","3","3","3"]}>
        ${o?H`<w3m-connector-list></w3m-connector-list>`:null}
        <w3m-all-wallets-widget></w3m-all-wallets-widget>
      </wui-flex>`}return H`<wui-flex flexDirection="column" .padding=${["0","0","4","0"]}>
        <w3m-connecting-wc-view ?basic=${!0} .displayBranding=${!1}></w3m-connecting-wc-view>
        <wui-flex flexDirection="column" .padding=${["0","3","0","3"]}>
          <w3m-all-wallets-widget></w3m-all-wallets-widget>
        </wui-flex>
      </wui-flex>
      ${this.reownBrandingTemplate()} `}reownBrandingTemplate(){return this.remoteFeatures?.reownBranding?H` <wui-flex flexDirection="column" .padding=${["1","0","1","0"]}>
      <wui-ux-by-reown></wui-ux-by-reown>
    </wui-flex>`:null}};aV([oe()],T5.prototype,"isMobile",void 0);aV([oe()],T5.prototype,"remoteFeatures",void 0);T5=aV([ee("w3m-connecting-wc-basic-view")],T5)});var $hr,a4e,c4e=m(()=>{cf();({I:$hr}=x2e),a4e=e=>e.strings===void 0});function mot(e){this._$AN!==void 0?(DT(this),this._$AM=e,l4e(this)):this._$AM=e}function got(e,t=!1,r=0){let n=this._$AH,s=this._$AN;if(s!==void 0&&s.size!==0)if(t)if(Array.isArray(n))for(let o=r;o<n.length;o++)P5(n[o],!1),DT(n[o]);else n!=null&&(P5(n,!1),DT(n));else P5(this,e)}var P5,DT,l4e,yot,UT,u4e=m(()=>{c4e();l5();l5();P5=(e,t)=>{let r=e._$AN;if(r===void 0)return!1;for(let n of r)n._$AO?.(t,!1),P5(n,t);return!0},DT=e=>{let t,r;do{if((t=e._$AM)===void 0)break;r=t._$AN,r.delete(e),e=t}while(r?.size===0)},l4e=e=>{for(let t;t=e._$AM;e=t){let r=t._$AN;if(r===void 0)t._$AN=r=new Set;else if(r.has(e))break;r.add(e),yot(t)}};yot=e=>{e.type==dT.CHILD&&(e._$AP??(e._$AP=got),e._$AQ??(e._$AQ=mot))},UT=class extends h6{constructor(){super(...arguments),this._$AN=void 0}_$AT(t,r,n){super._$AT(t,r,n),l4e(this),this.isConnected=t._$AU}_$AO(t,r=!0){t!==this.isConnected&&(this.isConnected=t,t?this.reconnected?.():this.disconnected?.()),r&&(P5(this,t),DT(this))}setValue(t){if(a4e(this._$Ct))this._$Ct._$AI(t,this);else{let r=[...this._$Ct._$AH];r[this._$Ci]=t,this._$Ct._$AI(r,this,0)}}disconnected(){}reconnected(){}}});var P6,lV,cV,N6,d4e=m(()=>{cf();u4e();l5();P6=()=>new lV,lV=class{},cV=new WeakMap,N6=c5(class extends UT{render(e){return gn}update(e,[t]){let r=t!==this.G;return r&&this.G!==void 0&&this.rt(void 0),(r||this.lt!==this.ct)&&(this.G=t,this.ht=e.options?.host,this.rt(this.ct=e.element)),gn}rt(e){if(this.isConnected||(e=void 0),typeof this.G=="function"){let t=this.ht??globalThis,r=cV.get(t);r===void 0&&(r=new WeakMap,cV.set(t,r)),r.get(this.G)!==void 0&&this.G.call(this.ht,void 0),r.set(this.G,e),e!==void 0&&this.G.call(this.ht,e)}else this.G.value=e}get lt(){return typeof this.G=="function"?cV.get(this.ht??globalThis)?.get(this.G):this.G?.value}disconnected(){this.lt===this.ct&&this.rt(void 0)}reconnected(){this.rt(this.ct)}})});var LT=m(()=>{d4e()});var p4e,f4e=m(()=>{Nt();p4e=ce`
  :host {
    display: flex;
    align-items: center;
    justify-content: center;
  }

  label {
    position: relative;
    display: inline-block;
    user-select: none;
    transition:
      background-color ${({durations:e})=>e.lg}
        ${({easings:e})=>e["ease-out-power-2"]},
      color ${({durations:e})=>e.lg} ${({easings:e})=>e["ease-out-power-2"]},
      border ${({durations:e})=>e.lg} ${({easings:e})=>e["ease-out-power-2"]},
      box-shadow ${({durations:e})=>e.lg}
        ${({easings:e})=>e["ease-out-power-2"]},
      width ${({durations:e})=>e.lg} ${({easings:e})=>e["ease-out-power-2"]},
      height ${({durations:e})=>e.lg} ${({easings:e})=>e["ease-out-power-2"]},
      transform ${({durations:e})=>e.lg}
        ${({easings:e})=>e["ease-out-power-2"]},
      opacity ${({durations:e})=>e.lg} ${({easings:e})=>e["ease-out-power-2"]};
    will-change: background-color, color, border, box-shadow, width, height, transform, opacity;
  }

  input {
    width: 0;
    height: 0;
    opacity: 0;
  }

  span {
    position: absolute;
    cursor: pointer;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-color: ${({colors:e})=>e.neutrals300};
    border-radius: ${({borderRadius:e})=>e.round};
    border: 1px solid transparent;
    will-change: border;
    transition:
      background-color ${({durations:e})=>e.lg}
        ${({easings:e})=>e["ease-out-power-2"]},
      color ${({durations:e})=>e.lg} ${({easings:e})=>e["ease-out-power-2"]},
      border ${({durations:e})=>e.lg} ${({easings:e})=>e["ease-out-power-2"]},
      box-shadow ${({durations:e})=>e.lg}
        ${({easings:e})=>e["ease-out-power-2"]},
      width ${({durations:e})=>e.lg} ${({easings:e})=>e["ease-out-power-2"]},
      height ${({durations:e})=>e.lg} ${({easings:e})=>e["ease-out-power-2"]},
      transform ${({durations:e})=>e.lg}
        ${({easings:e})=>e["ease-out-power-2"]},
      opacity ${({durations:e})=>e.lg} ${({easings:e})=>e["ease-out-power-2"]};
    will-change: background-color, color, border, box-shadow, width, height, transform, opacity;
  }

  span:before {
    content: '';
    position: absolute;
    background-color: ${({colors:e})=>e.white};
    border-radius: 50%;
  }

  /* -- Sizes --------------------------------------------------------- */
  label[data-size='lg'] {
    width: 48px;
    height: 32px;
  }

  label[data-size='md'] {
    width: 40px;
    height: 28px;
  }

  label[data-size='sm'] {
    width: 32px;
    height: 22px;
  }

  label[data-size='lg'] > span:before {
    height: 24px;
    width: 24px;
    left: 4px;
    top: 3px;
  }

  label[data-size='md'] > span:before {
    height: 20px;
    width: 20px;
    left: 4px;
    top: 3px;
  }

  label[data-size='sm'] > span:before {
    height: 16px;
    width: 16px;
    left: 3px;
    top: 2px;
  }

  /* -- Focus states --------------------------------------------------- */
  input:focus-visible:not(:checked) + span,
  input:focus:not(:checked) + span {
    border: 1px solid ${({tokens:e})=>e.core.iconAccentPrimary};
    background-color: ${({tokens:e})=>e.theme.textTertiary};
    box-shadow: 0px 0px 0px 4px rgba(9, 136, 240, 0.2);
  }

  input:focus-visible:checked + span,
  input:focus:checked + span {
    border: 1px solid ${({tokens:e})=>e.core.iconAccentPrimary};
    box-shadow: 0px 0px 0px 4px rgba(9, 136, 240, 0.2);
  }

  /* -- Checked states --------------------------------------------------- */
  input:checked + span {
    background-color: ${({tokens:e})=>e.core.iconAccentPrimary};
  }

  label[data-size='lg'] > input:checked + span:before {
    transform: translateX(calc(100% - 9px));
  }

  label[data-size='md'] > input:checked + span:before {
    transform: translateX(calc(100% - 9px));
  }

  label[data-size='sm'] > input:checked + span:before {
    transform: translateX(calc(100% - 7px));
  }

  /* -- Hover states ------------------------------------------------------- */
  label:hover > input:not(:checked):not(:disabled) + span {
    background-color: ${({colors:e})=>e.neutrals400};
  }

  label:hover > input:checked:not(:disabled) + span {
    background-color: ${({colors:e})=>e.accent080};
  }

  /* -- Disabled state --------------------------------------------------- */
  label:has(input:disabled) {
    pointer-events: none;
    user-select: none;
  }

  input:not(:checked):disabled + span {
    background-color: ${({colors:e})=>e.neutrals700};
  }

  input:checked:disabled + span {
    background-color: ${({colors:e})=>e.neutrals700};
  }

  input:not(:checked):disabled + span::before {
    background-color: ${({colors:e})=>e.neutrals400};
  }

  input:checked:disabled + span::before {
    background-color: ${({tokens:e})=>e.theme.textTertiary};
  }
`});var MT,R6,h4e=m(()=>{le();Me();LT();Mt();kt();f4e();MT=function(e,t,r,n){var s=arguments.length,o=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,r,o):i(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o},R6=class extends re{constructor(){super(...arguments),this.inputElementRef=P6(),this.checked=!1,this.disabled=!1,this.size="md"}render(){return H`
      <label data-size=${this.size}>
        <input
          ${N6(this.inputElementRef)}
          type="checkbox"
          ?checked=${this.checked}
          ?disabled=${this.disabled}
          @change=${this.dispatchChangeEvent.bind(this)}
        />
        <span></span>
      </label>
    `}dispatchChangeEvent(){this.dispatchEvent(new CustomEvent("switchChange",{detail:this.inputElementRef.value?.checked,bubbles:!0,composed:!0}))}};R6.styles=[Ue,Qt,p4e];MT([F({type:Boolean})],R6.prototype,"checked",void 0);MT([F({type:Boolean})],R6.prototype,"disabled",void 0);MT([F()],R6.prototype,"size",void 0);R6=MT([ee("wui-toggle")],R6)});var m4e,g4e=m(()=>{Nt();m4e=ce`
  :host {
    height: auto;
  }

  :host > wui-flex {
    height: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
    column-gap: ${({spacing:e})=>e[2]};
    padding: ${({spacing:e})=>e[2]} ${({spacing:e})=>e[3]};
    background-color: ${({tokens:e})=>e.theme.foregroundPrimary};
    border-radius: ${({borderRadius:e})=>e[4]};
    box-shadow: inset 0 0 0 1px ${({tokens:e})=>e.theme.foregroundPrimary};
    transition: background-color ${({durations:e})=>e.lg}
      ${({easings:e})=>e["ease-out-power-2"]};
    will-change: background-color;
    cursor: pointer;
  }

  wui-switch {
    pointer-events: none;
  }
`});var y4e,HT,w4e=m(()=>{le();Me();Mt();kt();h4e();g4e();y4e=function(e,t,r,n){var s=arguments.length,o=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,r,o):i(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o},HT=class extends re{constructor(){super(...arguments),this.checked=!1}render(){return H`
      <wui-flex>
        <wui-icon size="xl" name="walletConnectBrown"></wui-icon>
        <wui-toggle
          ?checked=${this.checked}
          size="sm"
          @switchChange=${this.handleToggleChange.bind(this)}
        ></wui-toggle>
      </wui-flex>
    `}handleToggleChange(t){t.stopPropagation(),this.checked=t.detail,this.dispatchSwitchEvent()}dispatchSwitchEvent(){this.dispatchEvent(new CustomEvent("certifiedSwitchChange",{detail:this.checked,bubbles:!0,composed:!0}))}};HT.styles=[Ue,Qt,m4e];y4e([F({type:Boolean})],HT.prototype,"checked",void 0);HT=y4e([ee("wui-certified-switch")],HT)});var b4e=m(()=>{w4e()});var x4e,v4e=m(()=>{Nt();x4e=ce`
  :host {
    position: relative;
    width: 100%;
    display: inline-flex;
    flex-direction: column;
    gap: ${({spacing:e})=>e[3]};
    color: ${({tokens:e})=>e.theme.textPrimary};
    caret-color: ${({tokens:e})=>e.core.textAccentPrimary};
  }

  .wui-input-text-container {
    position: relative;
    display: flex;
  }

  input {
    width: 100%;
    border-radius: ${({borderRadius:e})=>e[4]};
    color: inherit;
    background: transparent;
    border: 1px solid ${({tokens:e})=>e.theme.borderPrimary};
    caret-color: ${({tokens:e})=>e.core.textAccentPrimary};
    padding: ${({spacing:e})=>e[3]} ${({spacing:e})=>e[3]}
      ${({spacing:e})=>e[3]} ${({spacing:e})=>e[10]};
    font-size: ${({textSize:e})=>e.large};
    line-height: ${({typography:e})=>e["lg-regular"].lineHeight};
    letter-spacing: ${({typography:e})=>e["lg-regular"].letterSpacing};
    font-weight: ${({fontWeight:e})=>e.regular};
    font-family: ${({fontFamily:e})=>e.regular};
  }

  input[data-size='lg'] {
    padding: ${({spacing:e})=>e[4]} ${({spacing:e})=>e[3]}
      ${({spacing:e})=>e[4]} ${({spacing:e})=>e[10]};
  }

  @media (hover: hover) and (pointer: fine) {
    input:hover:enabled {
      border: 1px solid ${({tokens:e})=>e.theme.borderSecondary};
    }
  }

  input:disabled {
    cursor: unset;
    border: 1px solid ${({tokens:e})=>e.theme.borderPrimary};
  }

  input::placeholder {
    color: ${({tokens:e})=>e.theme.textSecondary};
  }

  input:focus:enabled {
    border: 1px solid ${({tokens:e})=>e.theme.borderSecondary};
    background-color: ${({tokens:e})=>e.theme.foregroundPrimary};
    -webkit-box-shadow: 0px 0px 0px 4px ${({tokens:e})=>e.core.foregroundAccent040};
    -moz-box-shadow: 0px 0px 0px 4px ${({tokens:e})=>e.core.foregroundAccent040};
    box-shadow: 0px 0px 0px 4px ${({tokens:e})=>e.core.foregroundAccent040};
  }

  div.wui-input-text-container:has(input:disabled) {
    opacity: 0.5;
  }

  wui-icon.wui-input-text-left-icon {
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
    pointer-events: none;
    left: ${({spacing:e})=>e[4]};
    color: ${({tokens:e})=>e.theme.iconDefault};
  }

  button.wui-input-text-submit-button {
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
    right: ${({spacing:e})=>e[3]};
    width: 24px;
    height: 24px;
    border: none;
    background: transparent;
    border-radius: ${({borderRadius:e})=>e[2]};
    color: ${({tokens:e})=>e.core.textAccentPrimary};
  }

  button.wui-input-text-submit-button:disabled {
    opacity: 1;
  }

  button.wui-input-text-submit-button.loading wui-icon {
    animation: spin 1s linear infinite;
  }

  button.wui-input-text-submit-button:hover {
    background: ${({tokens:e})=>e.core.foregroundAccent010};
  }

  input:has(+ .wui-input-text-submit-button) {
    padding-right: ${({spacing:e})=>e[12]};
  }

  input[type='number'] {
    -moz-appearance: textfield;
  }

  input[type='search']::-webkit-search-decoration,
  input[type='search']::-webkit-search-cancel-button,
  input[type='search']::-webkit-search-results-button,
  input[type='search']::-webkit-search-results-decoration {
    -webkit-appearance: none;
  }

  /* -- Keyframes --------------------------------------------------- */
  @keyframes spin {
    from {
      transform: rotate(0deg);
    }
    to {
      transform: rotate(360deg);
    }
  }
`});var xc,Ji,E4e=m(()=>{le();Me();Ur();LT();as();So();Mt();kt();v4e();xc=function(e,t,r,n){var s=arguments.length,o=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,r,o):i(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o},Ji=class extends re{constructor(){super(...arguments),this.inputElementRef=P6(),this.disabled=!1,this.loading=!1,this.placeholder="",this.type="text",this.value="",this.size="md"}render(){return H` <div class="wui-input-text-container">
        ${this.templateLeftIcon()}
        <input
          data-size=${this.size}
          ${N6(this.inputElementRef)}
          data-testid="wui-input-text"
          type=${this.type}
          enterkeyhint=${Ee(this.enterKeyHint)}
          ?disabled=${this.disabled}
          placeholder=${this.placeholder}
          @input=${this.dispatchInputChangeEvent.bind(this)}
          @keydown=${this.onKeyDown}
          .value=${this.value||""}
        />
        ${this.templateSubmitButton()}
        <slot class="wui-input-text-slot"></slot>
      </div>
      ${this.templateError()} ${this.templateWarning()}`}templateLeftIcon(){return this.icon?H`<wui-icon
        class="wui-input-text-left-icon"
        size="md"
        data-size=${this.size}
        color="inherit"
        name=${this.icon}
      ></wui-icon>`:null}templateSubmitButton(){return this.onSubmit?H`<button
        class="wui-input-text-submit-button ${this.loading?"loading":""}"
        @click=${this.onSubmit?.bind(this)}
        ?disabled=${this.disabled||this.loading}
      >
        ${this.loading?H`<wui-icon name="spinner" size="md"></wui-icon>`:H`<wui-icon name="chevronRight" size="md"></wui-icon>`}
      </button>`:null}templateError(){return this.errorText?H`<wui-text variant="sm-regular" color="error">${this.errorText}</wui-text>`:null}templateWarning(){return this.warningText?H`<wui-text variant="sm-regular" color="warning">${this.warningText}</wui-text>`:null}dispatchInputChangeEvent(){this.dispatchEvent(new CustomEvent("inputChange",{detail:this.inputElementRef.value?.value,bubbles:!0,composed:!0}))}};Ji.styles=[Ue,Qt,x4e];xc([F()],Ji.prototype,"icon",void 0);xc([F({type:Boolean})],Ji.prototype,"disabled",void 0);xc([F({type:Boolean})],Ji.prototype,"loading",void 0);xc([F()],Ji.prototype,"placeholder",void 0);xc([F()],Ji.prototype,"type",void 0);xc([F()],Ji.prototype,"value",void 0);xc([F()],Ji.prototype,"errorText",void 0);xc([F()],Ji.prototype,"warningText",void 0);xc([F()],Ji.prototype,"onSubmit",void 0);xc([F()],Ji.prototype,"size",void 0);xc([F({attribute:!1})],Ji.prototype,"onKeyDown",void 0);Ji=xc([ee("wui-input-text")],Ji)});var A4e,C4e=m(()=>{Nt();A4e=ce`
  :host {
    position: relative;
    display: inline-block;
    width: 100%;
  }

  wui-icon {
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
    right: ${({spacing:e})=>e[3]};
    color: ${({tokens:e})=>e.theme.iconDefault};
    cursor: pointer;
    padding: ${({spacing:e})=>e[2]};
    background-color: transparent;
    border-radius: ${({borderRadius:e})=>e[4]};
    transition: background-color ${({durations:e})=>e.lg}
      ${({easings:e})=>e["ease-out-power-2"]};
  }

  @media (hover: hover) {
    wui-icon:hover {
      background-color: ${({tokens:e})=>e.theme.foregroundSecondary};
    }
  }
`});var S4e,$T,I4e=m(()=>{le();Me();LT();Mt();kt();E4e();C4e();S4e=function(e,t,r,n){var s=arguments.length,o=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,r,o):i(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o},$T=class extends re{constructor(){super(...arguments),this.inputComponentRef=P6(),this.inputValue=""}render(){return H`
      <wui-input-text
        ${N6(this.inputComponentRef)}
        placeholder="Search wallet"
        icon="search"
        type="search"
        enterKeyHint="search"
        size="sm"
        @inputChange=${this.onInputChange}
      >
        ${this.inputValue?H`<wui-icon
              @click=${this.clearValue}
              color="inherit"
              size="sm"
              name="close"
            ></wui-icon>`:null}
      </wui-input-text>
    `}onInputChange(t){this.inputValue=t.detail||""}clearValue(){let r=this.inputComponentRef.value?.inputElementRef.value;r&&(r.value="",this.inputValue="",r.focus(),r.dispatchEvent(new Event("input")))}};$T.styles=[Ue,A4e];S4e([F()],$T.prototype,"inputValue",void 0);$T=S4e([ee("wui-search-bar")],$T)});var _4e=m(()=>{I4e()});var FT,uV=m(()=>{le();FT=Le`<svg  viewBox="0 0 48 54" fill="none">
  <path
    d="M43.4605 10.7248L28.0485 1.61089C25.5438 0.129705 22.4562 0.129705 19.9515 1.61088L4.53951 10.7248C2.03626 12.2051 0.5 14.9365 0.5 17.886V36.1139C0.5 39.0635 2.03626 41.7949 4.53951 43.2752L19.9515 52.3891C22.4562 53.8703 25.5438 53.8703 28.0485 52.3891L43.4605 43.2752C45.9637 41.7949 47.5 39.0635 47.5 36.114V17.8861C47.5 14.9365 45.9637 12.2051 43.4605 10.7248Z"
  />
</svg>`});var T4e,P4e=m(()=>{Nt();T4e=ce`
  :host {
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    height: 104px;
    width: 104px;
    row-gap: ${({spacing:e})=>e[2]};
    background-color: ${({tokens:e})=>e.theme.foregroundPrimary};
    border-radius: ${({borderRadius:e})=>e[5]};
    position: relative;
  }

  wui-shimmer[data-type='network'] {
    border: none;
    -webkit-clip-path: var(--apkt-path-network);
    clip-path: var(--apkt-path-network);
  }

  svg {
    position: absolute;
    width: 48px;
    height: 54px;
    z-index: 1;
  }

  svg > path {
    stroke: ${({tokens:e})=>e.theme.foregroundSecondary};
    stroke-width: 1px;
  }

  @media (max-width: 350px) {
    :host {
      width: 100%;
    }
  }
`});var N4e,jT,R4e=m(()=>{le();Me();uV();nV();Mt();kt();P4e();N4e=function(e,t,r,n){var s=arguments.length,o=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,r,o):i(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o},jT=class extends re{constructor(){super(...arguments),this.type="wallet"}render(){return H`
      ${this.shimmerTemplate()}
      <wui-shimmer width="80px" height="20px"></wui-shimmer>
    `}shimmerTemplate(){return this.type==="network"?H` <wui-shimmer data-type=${this.type} width="48px" height="54px"></wui-shimmer>
        ${FT}`:H`<wui-shimmer width="56px" height="56px"></wui-shimmer>`}};jT.styles=[Ue,Qt,T4e];N4e([F()],jT.prototype,"type",void 0);jT=N4e([ee("wui-card-select-loader")],jT)});var O4e=m(()=>{R4e()});var k4e,B4e=m(()=>{le();k4e=Sr`
  :host {
    display: grid;
    width: inherit;
    height: inherit;
  }
`});var vc,Qi,D4e=m(()=>{le();Me();Mt();c6();kt();B4e();vc=function(e,t,r,n){var s=arguments.length,o=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,r,o):i(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o},Qi=class extends re{render(){return this.style.cssText=`
      grid-template-rows: ${this.gridTemplateRows};
      grid-template-columns: ${this.gridTemplateColumns};
      justify-items: ${this.justifyItems};
      align-items: ${this.alignItems};
      justify-content: ${this.justifyContent};
      align-content: ${this.alignContent};
      column-gap: ${this.columnGap&&`var(--apkt-spacing-${this.columnGap})`};
      row-gap: ${this.rowGap&&`var(--apkt-spacing-${this.rowGap})`};
      gap: ${this.gap&&`var(--apkt-spacing-${this.gap})`};
      padding-top: ${this.padding&&gr.getSpacingStyles(this.padding,0)};
      padding-right: ${this.padding&&gr.getSpacingStyles(this.padding,1)};
      padding-bottom: ${this.padding&&gr.getSpacingStyles(this.padding,2)};
      padding-left: ${this.padding&&gr.getSpacingStyles(this.padding,3)};
      margin-top: ${this.margin&&gr.getSpacingStyles(this.margin,0)};
      margin-right: ${this.margin&&gr.getSpacingStyles(this.margin,1)};
      margin-bottom: ${this.margin&&gr.getSpacingStyles(this.margin,2)};
      margin-left: ${this.margin&&gr.getSpacingStyles(this.margin,3)};
    `,H`<slot></slot>`}};Qi.styles=[Ue,k4e];vc([F()],Qi.prototype,"gridTemplateRows",void 0);vc([F()],Qi.prototype,"gridTemplateColumns",void 0);vc([F()],Qi.prototype,"justifyItems",void 0);vc([F()],Qi.prototype,"alignItems",void 0);vc([F()],Qi.prototype,"justifyContent",void 0);vc([F()],Qi.prototype,"alignContent",void 0);vc([F()],Qi.prototype,"columnGap",void 0);vc([F()],Qi.prototype,"rowGap",void 0);vc([F()],Qi.prototype,"gap",void 0);vc([F()],Qi.prototype,"padding",void 0);vc([F()],Qi.prototype,"margin",void 0);Qi=vc([ee("wui-grid")],Qi)});var dV=m(()=>{D4e()});var U4e,L4e=m(()=>{Fe();U4e=ce`
  button {
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    cursor: pointer;
    width: 104px;
    row-gap: ${({spacing:e})=>e[2]};
    padding: ${({spacing:e})=>e[3]} ${({spacing:e})=>e[0]};
    background-color: ${({tokens:e})=>e.theme.foregroundPrimary};
    border-radius: clamp(0px, ${({borderRadius:e})=>e[4]}, 20px);
    transition:
      color ${({durations:e})=>e.lg} ${({easings:e})=>e["ease-out-power-1"]},
      background-color ${({durations:e})=>e.lg}
        ${({easings:e})=>e["ease-out-power-1"]},
      border-radius ${({durations:e})=>e.lg}
        ${({easings:e})=>e["ease-out-power-1"]};
    will-change: background-color, color, border-radius;
    outline: none;
    border: none;
  }

  button > wui-flex > wui-text {
    color: ${({tokens:e})=>e.theme.textPrimary};
    max-width: 86px;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    justify-content: center;
  }

  button > wui-flex > wui-text.certified {
    max-width: 66px;
  }

  @media (hover: hover) and (pointer: fine) {
    button:hover:enabled {
      background-color: ${({tokens:e})=>e.theme.foregroundSecondary};
    }
  }

  button:disabled > wui-flex > wui-text {
    color: ${({tokens:e})=>e.core.glass010};
  }

  [data-selected='true'] {
    background-color: ${({colors:e})=>e.accent020};
  }

  @media (hover: hover) and (pointer: fine) {
    [data-selected='true']:hover:enabled {
      background-color: ${({colors:e})=>e.accent010};
    }
  }

  [data-selected='true']:active:enabled {
    background-color: ${({colors:e})=>e.accent010};
  }

  @media (max-width: 350px) {
    button {
      width: 100%;
    }
  }
`});var Td,Ec,pV=m(()=>{le();Me();Ur();st();Fe();Wr();ff();_5();Wn();y5();L4e();Td=function(e,t,r,n){var s=arguments.length,o=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,r,o):i(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o},Ec=class extends re{constructor(){super(),this.observer=new IntersectionObserver(()=>{}),this.visible=!1,this.imageSrc=void 0,this.imageLoading=!1,this.isImpressed=!1,this.explorerId="",this.walletQuery="",this.certified=!1,this.displayIndex=0,this.wallet=void 0,this.observer=new IntersectionObserver(t=>{t.forEach(r=>{r.isIntersecting?(this.visible=!0,this.fetchImageSrc(),this.sendImpressionEvent()):this.visible=!1})},{threshold:.01})}firstUpdated(){this.observer.observe(this)}disconnectedCallback(){this.observer.disconnect()}render(){let t=this.wallet?.badge_type==="certified";return H`
      <button>
        ${this.imageTemplate()}
        <wui-flex flexDirection="row" alignItems="center" justifyContent="center" gap="1">
          <wui-text
            variant="md-regular"
            color="inherit"
            class=${Ee(t?"certified":void 0)}
            >${this.wallet?.name}</wui-text
          >
          ${t?H`<wui-icon size="sm" name="walletConnectBrown"></wui-icon>`:null}
        </wui-flex>
      </button>
    `}imageTemplate(){return!this.visible&&!this.imageSrc||this.imageLoading?this.shimmerTemplate():H`
      <wui-wallet-image
        size="lg"
        imageSrc=${Ee(this.imageSrc)}
        name=${Ee(this.wallet?.name)}
        .installed=${this.wallet?.installed??!1}
        badgeSize="sm"
      >
      </wui-wallet-image>
    `}shimmerTemplate(){return H`<wui-shimmer width="56px" height="56px"></wui-shimmer>`}async fetchImageSrc(){this.wallet&&(this.imageSrc=St.getWalletImage(this.wallet),!this.imageSrc&&(this.imageLoading=!0,this.imageSrc=await St.fetchWalletImage(this.wallet.image_id),this.imageLoading=!1))}sendImpressionEvent(){!this.wallet||this.isImpressed||(this.isImpressed=!0,ve.sendWalletImpressionEvent({name:this.wallet.name,walletRank:this.wallet.order,explorerId:this.explorerId,view:K.state.view,query:this.walletQuery,certified:this.certified,displayIndex:this.displayIndex}))}};Ec.styles=U4e;Td([oe()],Ec.prototype,"visible",void 0);Td([oe()],Ec.prototype,"imageSrc",void 0);Td([oe()],Ec.prototype,"imageLoading",void 0);Td([oe()],Ec.prototype,"isImpressed",void 0);Td([F()],Ec.prototype,"explorerId",void 0);Td([F()],Ec.prototype,"walletQuery",void 0);Td([F()],Ec.prototype,"certified",void 0);Td([F()],Ec.prototype,"displayIndex",void 0);Td([F({type:Object})],Ec.prototype,"wallet",void 0);Ec=Td([ee("w3m-all-wallets-list-item")],Ec)});var M4e,H4e=m(()=>{Fe();M4e=ce`
  wui-grid {
    max-height: clamp(360px, 400px, 80vh);
    overflow: scroll;
    scrollbar-width: none;
    grid-auto-rows: min-content;
    grid-template-columns: repeat(auto-fill, 104px);
  }

  :host([data-mobile-fullscreen='true']) wui-grid {
    max-height: none;
  }

  @media (max-width: 350px) {
    wui-grid {
      grid-template-columns: repeat(2, 1fr);
    }
  }

  wui-grid[data-scroll='false'] {
    overflow: hidden;
  }

  wui-grid::-webkit-scrollbar {
    display: none;
  }

  w3m-all-wallets-list-item {
    opacity: 0;
    animation-duration: ${({durations:e})=>e.xl};
    animation-timing-function: ${({easings:e})=>e["ease-inout-power-2"]};
    animation-name: fade-in;
    animation-fill-mode: forwards;
  }

  @keyframes fade-in {
    from {
      opacity: 0;
    }
    to {
      opacity: 1;
    }
  }

  wui-loading-spinner {
    padding-top: ${({spacing:e})=>e[4]};
    padding-bottom: ${({spacing:e})=>e[4]};
    justify-content: center;
    grid-column: 1 / span 4;
  }
`});var N5,$4e,c2,F4e=m(()=>{le();Me();Ur();st();Fe();O4e();dV();pV();H4e();N5=function(e,t,r,n){var s=arguments.length,o=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,r,o):i(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o},$4e="local-paginator",c2=class extends re{constructor(){super(),this.unsubscribe=[],this.paginationObserver=void 0,this.loading=!pe.state.wallets.length,this.wallets=pe.state.wallets,this.mobileFullScreen=W.state.enableMobileFullScreen,this.unsubscribe.push(pe.subscribeKey("wallets",t=>this.wallets=t))}firstUpdated(){this.initialFetch(),this.createPaginationObserver()}disconnectedCallback(){this.unsubscribe.forEach(t=>t()),this.paginationObserver?.disconnect()}render(){return this.mobileFullScreen&&this.setAttribute("data-mobile-fullscreen","true"),H`
      <wui-grid
        data-scroll=${!this.loading}
        .padding=${["0","3","3","3"]}
        gap="2"
        justifyContent="space-between"
      >
        ${this.loading?this.shimmerTemplate(16):this.walletsTemplate()}
        ${this.paginationLoaderTemplate()}
      </wui-grid>
    `}async initialFetch(){this.loading=!0;let t=this.shadowRoot?.querySelector("wui-grid");t&&(await pe.fetchWalletsByPage({page:1}),await t.animate([{opacity:1},{opacity:0}],{duration:200,fill:"forwards",easing:"ease"}).finished,this.loading=!1,t.animate([{opacity:0},{opacity:1}],{duration:200,fill:"forwards",easing:"ease"}))}shimmerTemplate(t,r){return[...Array(t)].map(()=>H`
        <wui-card-select-loader type="wallet" id=${Ee(r)}></wui-card-select-loader>
      `)}walletsTemplate(){return lo.getWalletConnectWallets(this.wallets).map((t,r)=>H`
        <w3m-all-wallets-list-item
          data-testid="wallet-search-item-${t.id}"
          @click=${()=>this.onConnectWallet(t)}
          .wallet=${t}
          explorerId=${t.id}
          certified=${this.badge==="certified"}
          displayIndex=${r}
        ></w3m-all-wallets-list-item>
      `)}paginationLoaderTemplate(){let{wallets:t,recommended:r,featured:n,count:s,mobileFilteredOutWalletsLength:o}=pe.state,i=window.innerWidth<352?3:4,a=t.length+r.length,l=Math.ceil(a/i)*i-a+i;return l-=t.length?n.length%i:0,s===0&&n.length>0?null:s===0||[...n,...t,...r].length<s-(o??0)?this.shimmerTemplate(l,$4e):null}createPaginationObserver(){let t=this.shadowRoot?.querySelector(`#${$4e}`);t&&(this.paginationObserver=new IntersectionObserver(([r])=>{if(r?.isIntersecting&&!this.loading){let{page:n,count:s,wallets:o}=pe.state;o.length<s&&pe.fetchWalletsByPage({page:n+1})}}),this.paginationObserver.observe(t))}onConnectWallet(t){X.selectWalletConnector(t)}};c2.styles=M4e;N5([oe()],c2.prototype,"loading",void 0);N5([oe()],c2.prototype,"wallets",void 0);N5([oe()],c2.prototype,"badge",void 0);N5([oe()],c2.prototype,"mobileFullScreen",void 0);c2=N5([ee("w3m-all-wallets-list")],c2)});var R5=m(()=>{h5()});var j4e,z4e=m(()=>{le();j4e=Sr`
  wui-grid,
  wui-loading-spinner,
  wui-flex {
    height: 360px;
  }

  wui-grid {
    overflow: scroll;
    scrollbar-width: none;
    grid-auto-rows: min-content;
    grid-template-columns: repeat(auto-fill, 104px);
  }

  :host([data-mobile-fullscreen='true']) wui-grid {
    max-height: none;
    height: auto;
  }

  wui-grid[data-scroll='false'] {
    overflow: hidden;
  }

  wui-grid::-webkit-scrollbar {
    display: none;
  }

  wui-loading-spinner {
    justify-content: center;
    align-items: center;
  }

  @media (max-width: 350px) {
    wui-grid {
      grid-template-columns: repeat(2, 1fr);
    }
  }
`});var O5,l2,V4e=m(()=>{le();Me();st();Fe();Wr();dV();yT();R5();Wn();pV();z4e();O5=function(e,t,r,n){var s=arguments.length,o=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,r,o):i(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o},l2=class extends re{constructor(){super(...arguments),this.prevQuery="",this.prevBadge=void 0,this.loading=!0,this.mobileFullScreen=W.state.enableMobileFullScreen,this.query=""}render(){return this.mobileFullScreen&&this.setAttribute("data-mobile-fullscreen","true"),this.onSearch(),this.loading?H`<wui-loading-spinner color="accent-primary"></wui-loading-spinner>`:this.walletsTemplate()}async onSearch(){(this.query.trim()!==this.prevQuery.trim()||this.badge!==this.prevBadge)&&(this.prevQuery=this.query,this.prevBadge=this.badge,this.loading=!0,await pe.searchWallet({search:this.query,badge:this.badge}),this.loading=!1)}walletsTemplate(){let{search:t}=pe.state,r=lo.markWalletsAsInstalled(t),n=lo.filterWalletsByWcSupport(r);return n.length?H`
      <wui-grid
        data-testid="wallet-list"
        .padding=${["0","3","3","3"]}
        rowGap="4"
        columngap="2"
        justifyContent="space-between"
      >
        ${n.map((s,o)=>H`
            <w3m-all-wallets-list-item
              @click=${()=>this.onConnectWallet(s)}
              .wallet=${s}
              data-testid="wallet-search-item-${s.id}"
              explorerId=${s.id}
              certified=${this.badge==="certified"}
              walletQuery=${this.query}
              displayIndex=${o}
            ></w3m-all-wallets-list-item>
          `)}
      </wui-grid>
    `:H`
        <wui-flex
          data-testid="no-wallet-found"
          justifyContent="center"
          alignItems="center"
          gap="3"
          flexDirection="column"
        >
          <wui-icon-box size="lg" color="default" icon="wallet"></wui-icon-box>
          <wui-text data-testid="no-wallet-found-text" color="secondary" variant="md-medium">
            No Wallet found
          </wui-text>
        </wui-flex>
      `}onConnectWallet(t){X.selectWalletConnector(t)}};l2.styles=j4e;O5([oe()],l2.prototype,"loading",void 0);O5([oe()],l2.prototype,"mobileFullScreen",void 0);O5([F()],l2.prototype,"query",void 0);O5([F()],l2.prototype,"badge",void 0);l2=O5([ee("w3m-all-wallets-search")],l2)});var fV,k5,q4e=m(()=>{le();Me();st();Fe();b4e();Wr();yT();_4e();F4e();V4e();fV=function(e,t,r,n){var s=arguments.length,o=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,r,o):i(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o},k5=class extends re{constructor(){super(...arguments),this.search="",this.badge=void 0,this.onDebouncedSearch=te.debounce(t=>{this.search=t})}render(){let t=this.search.length>=2;return H`
      <wui-flex .padding=${["1","3","3","3"]} gap="2" alignItems="center">
        <wui-search-bar @inputChange=${this.onInputChange.bind(this)}></wui-search-bar>
        <wui-certified-switch
          ?checked=${this.badge==="certified"}
          @certifiedSwitchChange=${this.onCertifiedSwitchChange.bind(this)}
          data-testid="wui-certified-switch"
        ></wui-certified-switch>
        ${this.qrButtonTemplate()}
      </wui-flex>
      ${t||this.badge?H`<w3m-all-wallets-search
            query=${this.search}
            .badge=${this.badge}
          ></w3m-all-wallets-search>`:H`<w3m-all-wallets-list .badge=${this.badge}></w3m-all-wallets-list>`}
    `}onInputChange(t){this.onDebouncedSearch(t.detail)}onCertifiedSwitchChange(t){t.detail?(this.badge="certified",Ze.showSvg("Only WalletConnect certified",{icon:"walletConnectBrown",iconColor:"accent-100"})):this.badge=void 0}qrButtonTemplate(){return te.isMobile()?H`
        <wui-icon-box
          size="xl"
          iconSize="xl"
          color="accent-primary"
          icon="qrCode"
          border
          borderColor="wui-accent-glass-010"
          @click=${this.onWalletConnectQr.bind(this)}
        ></wui-icon-box>
      `:null}onWalletConnectQr(){K.push("ConnectingWalletConnect")}};fV([oe()],k5.prototype,"search",void 0);fV([oe()],k5.prototype,"badge",void 0);k5=fV([ee("w3m-all-wallets-view")],k5)});var W4e,K4e=m(()=>{Nt();W4e=ce`
  :host {
    width: 100%;
  }

  :host([data-type='primary']) > button {
    background-color: ${({tokens:e})=>e.theme.backgroundPrimary};
  }

  :host([data-type='secondary']) > button {
    background-color: ${({tokens:e})=>e.theme.foregroundPrimary};
  }

  button {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: ${({spacing:e})=>e[3]};
    width: 100%;
    border-radius: ${({borderRadius:e})=>e[4]};
    transition:
      background-color ${({durations:e})=>e.lg}
        ${({easings:e})=>e["ease-out-power-2"]},
      scale ${({durations:e})=>e.lg} ${({easings:e})=>e["ease-out-power-2"]};
    will-change: background-color, scale;
  }

  wui-text {
    text-transform: capitalize;
  }

  wui-image {
    color: ${({tokens:e})=>e.theme.textPrimary};
  }

  @media (hover: hover) {
    :host([data-type='primary']) > button:hover:enabled {
      background-color: ${({tokens:e})=>e.theme.foregroundPrimary};
    }

    :host([data-type='secondary']) > button:hover:enabled {
      background-color: ${({tokens:e})=>e.theme.foregroundSecondary};
    }
  }

  button:disabled {
    opacity: 0.5;
    cursor: not-allowed;
  }
`});var Xi,_o,Z4e=m(()=>{le();Me();Ur();h5();So();Mt();kt();K4e();Xi=function(e,t,r,n){var s=arguments.length,o=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,r,o):i(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o},_o=class extends re{constructor(){super(...arguments),this.type="primary",this.imageSrc="google",this.imageSize=void 0,this.loading=!1,this.boxColor="foregroundPrimary",this.disabled=!1,this.rightIcon=!0,this.boxed=!0,this.rounded=!1,this.fullSize=!1}render(){return this.dataset.rounded=this.rounded?"true":"false",this.dataset.type=this.type,H`
      <button
        ?disabled=${this.loading?!0:!!this.disabled}
        data-loading=${this.loading}
        tabindex=${Ee(this.tabIdx)}
      >
        <wui-flex gap="2" alignItems="center">
          ${this.templateLeftIcon()}
          <wui-flex gap="1">
            <slot></slot>
          </wui-flex>
        </wui-flex>
        ${this.templateRightIcon()}
      </button>
    `}templateLeftIcon(){return this.icon?H`<wui-image
        icon=${this.icon}
        iconColor=${Ee(this.iconColor)}
        ?boxed=${this.boxed}
        ?rounded=${this.rounded}
        boxColor=${this.boxColor}
      ></wui-image>`:H`<wui-image
      ?boxed=${this.boxed}
      ?rounded=${this.rounded}
      ?fullSize=${this.fullSize}
      size=${Ee(this.imageSize)}
      src=${this.imageSrc}
      boxColor=${this.boxColor}
    ></wui-image>`}templateRightIcon(){return this.rightIcon?this.loading?H`<wui-loading-spinner size="md" color="accent-primary"></wui-loading-spinner>`:H`<wui-icon name="chevronRight" size="lg" color="default"></wui-icon>`:null}};_o.styles=[Ue,Qt,W4e];Xi([F()],_o.prototype,"type",void 0);Xi([F()],_o.prototype,"imageSrc",void 0);Xi([F()],_o.prototype,"imageSize",void 0);Xi([F()],_o.prototype,"icon",void 0);Xi([F()],_o.prototype,"iconColor",void 0);Xi([F({type:Boolean})],_o.prototype,"loading",void 0);Xi([F()],_o.prototype,"tabIdx",void 0);Xi([F()],_o.prototype,"boxColor",void 0);Xi([F({type:Boolean})],_o.prototype,"disabled",void 0);Xi([F({type:Boolean})],_o.prototype,"rightIcon",void 0);Xi([F({type:Boolean})],_o.prototype,"boxed",void 0);Xi([F({type:Boolean})],_o.prototype,"rounded",void 0);Xi([F({type:Boolean})],_o.prototype,"fullSize",void 0);_o=Xi([ee("wui-list-item")],_o)});var hV=m(()=>{Z4e()});var wot,mV,G4e=m(()=>{le();st();Fe();Wr();hV();Wn();wot=function(e,t,r,n){var s=arguments.length,o=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,r,o):i(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o},mV=class extends re{constructor(){super(...arguments),this.wallet=K.state.data?.wallet}render(){if(!this.wallet)throw new Error("w3m-downloads-view");return H`
      <wui-flex gap="2" flexDirection="column" .padding=${["3","3","4","3"]}>
        ${this.chromeTemplate()} ${this.iosTemplate()} ${this.androidTemplate()}
        ${this.homepageTemplate()}
      </wui-flex>
    `}chromeTemplate(){return this.wallet?.chrome_store?H`<wui-list-item
      variant="icon"
      icon="chromeStore"
      iconVariant="square"
      @click=${this.onChromeStore.bind(this)}
      chevron
    >
      <wui-text variant="md-medium" color="primary">Chrome Extension</wui-text>
    </wui-list-item>`:null}iosTemplate(){return this.wallet?.app_store?H`<wui-list-item
      variant="icon"
      icon="appStore"
      iconVariant="square"
      @click=${this.onAppStore.bind(this)}
      chevron
    >
      <wui-text variant="md-medium" color="primary">iOS App</wui-text>
    </wui-list-item>`:null}androidTemplate(){return this.wallet?.play_store?H`<wui-list-item
      variant="icon"
      icon="playStore"
      iconVariant="square"
      @click=${this.onPlayStore.bind(this)}
      chevron
    >
      <wui-text variant="md-medium" color="primary">Android App</wui-text>
    </wui-list-item>`:null}homepageTemplate(){return this.wallet?.homepage?H`
      <wui-list-item
        variant="icon"
        icon="browser"
        iconVariant="square-blue"
        @click=${this.onHomePage.bind(this)}
        chevron
      >
        <wui-text variant="md-medium" color="primary">Website</wui-text>
      </wui-list-item>
    `:null}openStore(t){t.href&&this.wallet&&(ve.sendEvent({type:"track",event:"GET_WALLET",properties:{name:this.wallet.name,walletRank:this.wallet.order,explorerId:this.wallet.id,type:t.type}}),te.openHref(t.href,"_blank"))}onChromeStore(){this.wallet?.chrome_store&&this.openStore({href:this.wallet.chrome_store,type:"chrome_store"})}onAppStore(){this.wallet?.app_store&&this.openStore({href:this.wallet.app_store,type:"app_store"})}onPlayStore(){this.wallet?.play_store&&this.openStore({href:this.wallet.play_store,type:"play_store"})}onHomePage(){this.wallet?.homepage&&this.openStore({href:this.wallet.homepage,type:"homepage"})}};mV=wot([ee("w3m-downloads-view")],mV)});var Y4e={};Se(Y4e,{W3mAllWalletsView:()=>k5,W3mConnectingWcBasicView:()=>T5,W3mDownloadsView:()=>mV});var J4e=m(()=>{i4e();q4e();G4e()});var Q4e,X4e=m(()=>{Nt();Q4e=ce`
  :host {
    display: block;
    border-radius: clamp(0px, ${({borderRadius:e})=>e[8]}, 44px);
    box-shadow: 0 0 0 1px ${({tokens:e})=>e.theme.foregroundPrimary};
    overflow: hidden;
  }
`});var bot,gV,eve=m(()=>{le();Mt();kt();X4e();bot=function(e,t,r,n){var s=arguments.length,o=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,r,o):i(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o},gV=class extends re{render(){return H`<slot></slot>`}};gV.styles=[Ue,Q4e];gV=bot([ee("wui-card")],gV)});var tve=m(()=>{eve()});var rve,nve=m(()=>{Nt();rve=ce`
  :host {
    width: 100%;
  }

  :host > wui-flex {
    width: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: ${({spacing:e})=>e[2]};
    padding: ${({spacing:e})=>e[3]};
    border-radius: ${({borderRadius:e})=>e[6]};
    border: 1px solid ${({tokens:e})=>e.theme.borderPrimary};
    box-sizing: border-box;
    background-color: ${({tokens:e})=>e.theme.foregroundPrimary};
    box-shadow: 0px 0px 16px 0px rgba(0, 0, 0, 0.25);
    color: ${({tokens:e})=>e.theme.textPrimary};
  }

  :host > wui-flex[data-type='info'] {
    .icon-box {
      background-color: ${({tokens:e})=>e.theme.foregroundSecondary};

      wui-icon {
        color: ${({tokens:e})=>e.theme.iconDefault};
      }
    }
  }
  :host > wui-flex[data-type='success'] {
    .icon-box {
      background-color: ${({tokens:e})=>e.core.backgroundSuccess};

      wui-icon {
        color: ${({tokens:e})=>e.core.borderSuccess};
      }
    }
  }
  :host > wui-flex[data-type='warning'] {
    .icon-box {
      background-color: ${({tokens:e})=>e.core.backgroundWarning};

      wui-icon {
        color: ${({tokens:e})=>e.core.borderWarning};
      }
    }
  }
  :host > wui-flex[data-type='error'] {
    .icon-box {
      background-color: ${({tokens:e})=>e.core.backgroundError};

      wui-icon {
        color: ${({tokens:e})=>e.core.borderError};
      }
    }
  }

  wui-flex {
    width: 100%;
  }

  wui-text {
    word-break: break-word;
    flex: 1;
  }

  .close {
    cursor: pointer;
    color: ${({tokens:e})=>e.theme.iconDefault};
  }

  .icon-box {
    height: 40px;
    width: 40px;
    border-radius: ${({borderRadius:e})=>e[2]};
    background-color: var(--local-icon-bg-value);
  }
`});var yV,xot,B5,sve=m(()=>{le();Me();Ur();st();as();So();Fg();Mt();kt();nve();yV=function(e,t,r,n){var s=arguments.length,o=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,r,o):i(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o},xot={info:"info",success:"checkmark",warning:"warningCircle",error:"warning"},B5=class extends re{constructor(){super(...arguments),this.message="",this.type="info"}render(){return H`
      <wui-flex
        data-type=${Ee(this.type)}
        flexDirection="row"
        justifyContent="space-between"
        alignItems="center"
        gap="2"
      >
        <wui-flex columnGap="2" flexDirection="row" alignItems="center">
          <wui-flex
            flexDirection="row"
            alignItems="center"
            justifyContent="center"
            class="icon-box"
          >
            <wui-icon color="inherit" size="md" name=${xot[this.type]}></wui-icon>
          </wui-flex>
          <wui-text variant="md-medium" color="inherit" data-testid="wui-alertbar-text"
            >${this.message}</wui-text
          >
        </wui-flex>
        <wui-icon
          class="close"
          color="inherit"
          size="sm"
          name="close"
          @click=${this.onClose}
        ></wui-icon>
      </wui-flex>
    `}onClose(){sn.close()}};B5.styles=[Ue,rve];yV([F()],B5.prototype,"message",void 0);yV([F()],B5.prototype,"type",void 0);B5=yV([ee("wui-alertbar")],B5)});var ove=m(()=>{sve()});var ive,ave=m(()=>{Fe();ive=ce`
  :host {
    display: block;
    position: absolute;
    top: ${({spacing:e})=>e[3]};
    left: ${({spacing:e})=>e[4]};
    right: ${({spacing:e})=>e[4]};
    opacity: 0;
    pointer-events: none;
  }
`});var cve,vot,zT,lve=m(()=>{le();Me();st();Fe();ove();ave();cve=function(e,t,r,n){var s=arguments.length,o=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,r,o):i(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o},vot={info:{backgroundColor:"fg-350",iconColor:"fg-325",icon:"info"},success:{backgroundColor:"success-glass-reown-020",iconColor:"success-125",icon:"checkmark"},warning:{backgroundColor:"warning-glass-reown-020",iconColor:"warning-100",icon:"warningCircle"},error:{backgroundColor:"error-glass-reown-020",iconColor:"error-125",icon:"warning"}},zT=class extends re{constructor(){super(),this.unsubscribe=[],this.open=sn.state.open,this.onOpen(!0),this.unsubscribe.push(sn.subscribeKey("open",t=>{this.open=t,this.onOpen(!1)}))}disconnectedCallback(){this.unsubscribe.forEach(t=>t())}render(){let{message:t,variant:r}=sn.state,n=vot[r];return H`
      <wui-alertbar
        message=${t}
        backgroundColor=${n?.backgroundColor}
        iconColor=${n?.iconColor}
        icon=${n?.icon}
        type=${r}
      ></wui-alertbar>
    `}onOpen(t){this.open?(this.animate([{opacity:0,transform:"scale(0.85)"},{opacity:1,transform:"scale(1)"}],{duration:150,fill:"forwards",easing:"ease"}),this.style.cssText="pointer-events: auto"):t||(this.animate([{opacity:1,transform:"scale(1)"},{opacity:0,transform:"scale(0.85)"}],{duration:150,fill:"forwards",easing:"ease"}),this.style.cssText="pointer-events: none")}};zT.styles=ive;cve([oe()],zT.prototype,"open",void 0);zT=cve([ee("w3m-alertbar")],zT)});var uve,dve=m(()=>{Nt();uve=ce`
  :host {
    position: relative;
  }

  button {
    display: flex;
    justify-content: center;
    align-items: center;
    background-color: transparent;
    padding: ${({spacing:e})=>e[1]};
  }

  /* -- Colors --------------------------------------------------- */
  button[data-type='accent'] wui-icon {
    color: ${({tokens:e})=>e.core.iconAccentPrimary};
  }

  button[data-type='neutral'][data-variant='primary'] wui-icon {
    color: ${({tokens:e})=>e.theme.iconInverse};
  }

  button[data-type='neutral'][data-variant='secondary'] wui-icon {
    color: ${({tokens:e})=>e.theme.iconDefault};
  }

  button[data-type='success'] wui-icon {
    color: ${({tokens:e})=>e.core.iconSuccess};
  }

  button[data-type='error'] wui-icon {
    color: ${({tokens:e})=>e.core.iconError};
  }

  /* -- Sizes --------------------------------------------------- */
  button[data-size='xs'] {
    width: 16px;
    height: 16px;

    border-radius: ${({borderRadius:e})=>e[1]};
  }

  button[data-size='sm'] {
    width: 20px;
    height: 20px;
    border-radius: ${({borderRadius:e})=>e[1]};
  }

  button[data-size='md'] {
    width: 24px;
    height: 24px;
    border-radius: ${({borderRadius:e})=>e[2]};
  }

  button[data-size='lg'] {
    width: 28px;
    height: 28px;
    border-radius: ${({borderRadius:e})=>e[2]};
  }

  button[data-size='xs'] wui-icon {
    width: 8px;
    height: 8px;
  }

  button[data-size='sm'] wui-icon {
    width: 12px;
    height: 12px;
  }

  button[data-size='md'] wui-icon {
    width: 16px;
    height: 16px;
  }

  button[data-size='lg'] wui-icon {
    width: 20px;
    height: 20px;
  }

  /* -- Hover --------------------------------------------------- */
  @media (hover: hover) {
    button[data-type='accent']:hover:enabled {
      background-color: ${({tokens:e})=>e.core.foregroundAccent010};
    }

    button[data-variant='primary'][data-type='neutral']:hover:enabled {
      background-color: ${({tokens:e})=>e.theme.foregroundSecondary};
    }

    button[data-variant='secondary'][data-type='neutral']:hover:enabled {
      background-color: ${({tokens:e})=>e.theme.foregroundSecondary};
    }

    button[data-type='success']:hover:enabled {
      background-color: ${({tokens:e})=>e.core.backgroundSuccess};
    }

    button[data-type='error']:hover:enabled {
      background-color: ${({tokens:e})=>e.core.backgroundError};
    }
  }

  /* -- Focus --------------------------------------------------- */
  button:focus-visible {
    box-shadow: 0 0 0 4px ${({tokens:e})=>e.core.foregroundAccent020};
  }

  /* -- Properties --------------------------------------------------- */
  button[data-full-width='true'] {
    width: 100%;
  }

  :host([fullWidth]) {
    width: 100%;
  }

  button[disabled] {
    opacity: 0.5;
    cursor: not-allowed;
  }
`});var Sm,Pd,pve=m(()=>{le();Me();Ur();as();Mt();kt();dve();Sm=function(e,t,r,n){var s=arguments.length,o=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,r,o):i(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o},Pd=class extends re{constructor(){super(...arguments),this.icon="card",this.variant="primary",this.type="accent",this.size="md",this.iconSize=void 0,this.fullWidth=!1,this.disabled=!1}render(){return H`<button
      data-variant=${this.variant}
      data-type=${this.type}
      data-size=${this.size}
      data-full-width=${this.fullWidth}
      ?disabled=${this.disabled}
    >
      <wui-icon color="inherit" name=${this.icon} size=${Ee(this.iconSize)}></wui-icon>
    </button>`}};Pd.styles=[Ue,Qt,uve];Sm([F()],Pd.prototype,"icon",void 0);Sm([F()],Pd.prototype,"variant",void 0);Sm([F()],Pd.prototype,"type",void 0);Sm([F()],Pd.prototype,"size",void 0);Sm([F()],Pd.prototype,"iconSize",void 0);Sm([F({type:Boolean})],Pd.prototype,"fullWidth",void 0);Sm([F({type:Boolean})],Pd.prototype,"disabled",void 0);Pd=Sm([ee("wui-icon-button")],Pd)});var wV=m(()=>{pve()});var fve,hve=m(()=>{Nt();fve=ce`
  button {
    display: block;
    display: flex;
    align-items: center;
    padding: ${({spacing:e})=>e[1]};
    transition: background-color ${({durations:e})=>e.lg}
      ${({easings:e})=>e["ease-out-power-2"]};
    will-change: background-color;
    border-radius: ${({borderRadius:e})=>e[32]};
  }

  wui-image {
    border-radius: 100%;
  }

  wui-text {
    padding-left: ${({spacing:e})=>e[1]};
  }

  .left-icon-container,
  .right-icon-container {
    width: 24px;
    height: 24px;
    justify-content: center;
    align-items: center;
  }

  wui-icon {
    color: ${({tokens:e})=>e.theme.iconDefault};
  }

  /* -- Sizes --------------------------------------------------- */
  button[data-size='lg'] {
    height: 32px;
  }

  button[data-size='md'] {
    height: 28px;
  }

  button[data-size='sm'] {
    height: 24px;
  }

  button[data-size='lg'] wui-image {
    width: 24px;
    height: 24px;
  }

  button[data-size='md'] wui-image {
    width: 20px;
    height: 20px;
  }

  button[data-size='sm'] wui-image {
    width: 16px;
    height: 16px;
  }

  button[data-size='lg'] .left-icon-container {
    width: 24px;
    height: 24px;
  }

  button[data-size='md'] .left-icon-container {
    width: 20px;
    height: 20px;
  }

  button[data-size='sm'] .left-icon-container {
    width: 16px;
    height: 16px;
  }

  /* -- Variants --------------------------------------------------------- */
  button[data-type='filled-dropdown'] {
    background-color: ${({tokens:e})=>e.theme.foregroundPrimary};
  }

  button[data-type='text-dropdown'] {
    background-color: transparent;
  }

  /* -- Focus states --------------------------------------------------- */
  button:focus-visible:enabled {
    background-color: ${({tokens:e})=>e.theme.foregroundSecondary};
    box-shadow: 0 0 0 4px ${({tokens:e})=>e.core.foregroundAccent040};
  }

  /* -- Hover & Active states ----------------------------------------------------------- */
  @media (hover: hover) and (pointer: fine) {
    button:hover:enabled,
    button:active:enabled {
      background-color: ${({tokens:e})=>e.theme.foregroundSecondary};
    }
  }

  /* -- Disabled states --------------------------------------------------- */
  button:disabled {
    background-color: ${({tokens:e})=>e.theme.foregroundSecondary};
    opacity: 0.5;
  }
`});var O6,Eot,Aot,Im,mve=m(()=>{le();Me();as();Zg();So();Mt();kt();hve();O6=function(e,t,r,n){var s=arguments.length,o=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,r,o):i(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o},Eot={lg:"lg-regular",md:"md-regular",sm:"sm-regular"},Aot={lg:"lg",md:"md",sm:"sm"},Im=class extends re{constructor(){super(...arguments),this.imageSrc="",this.text="",this.size="lg",this.type="text-dropdown",this.disabled=!1}render(){return H`<button ?disabled=${this.disabled} data-size=${this.size} data-type=${this.type}>
      ${this.imageTemplate()} ${this.textTemplate()}
      <wui-flex class="right-icon-container">
        <wui-icon name="chevronBottom"></wui-icon>
      </wui-flex>
    </button>`}textTemplate(){let t=Eot[this.size];return this.text?H`<wui-text color="primary" variant=${t}>${this.text}</wui-text>`:null}imageTemplate(){if(this.imageSrc)return H`<wui-image src=${this.imageSrc} alt="select visual"></wui-image>`;let t=Aot[this.size];return H` <wui-flex class="left-icon-container">
      <wui-icon size=${t} name="networkPlaceholder"></wui-icon>
    </wui-flex>`}};Im.styles=[Ue,Qt,fve];O6([F()],Im.prototype,"imageSrc",void 0);O6([F()],Im.prototype,"text",void 0);O6([F()],Im.prototype,"size",void 0);O6([F()],Im.prototype,"type",void 0);O6([F({type:Boolean})],Im.prototype,"disabled",void 0);Im=O6([ee("wui-select")],Im)});var gve=m(()=>{mve()});var yve=m(()=>{Tz()});var yf,bV=m(()=>{yf={ACCOUNT_TABS:[{label:"Tokens"},{label:"Activity"}],SECURE_SITE_ORIGIN:(typeof process<"u"&&typeof process.env<"u"?process.env.NEXT_PUBLIC_SECURE_SITE_ORIGIN:void 0)||"https://secure.walletconnect.org",VIEW_DIRECTION:{Next:"next",Prev:"prev"},ANIMATION_DURATIONS:{HeaderText:120,ModalHeight:150,ViewTransition:150},VIEWS_WITH_LEGAL_FOOTER:["Connect","ConnectWallets","OnRampTokenSelect","OnRampFiatSelect","OnRampProviders"],VIEWS_WITH_DEFAULT_FOOTER:["Networks"]}});var wve,bve=m(()=>{Nt();wve=ce`
  button {
    background-color: transparent;
    padding: ${({spacing:e})=>e[1]};
  }

  button:focus-visible {
    box-shadow: 0 0 0 4px ${({tokens:e})=>e.core.foregroundAccent020};
  }

  button[data-variant='accent']:hover:enabled,
  button[data-variant='accent']:focus-visible {
    background-color: ${({tokens:e})=>e.core.foregroundAccent010};
  }

  button[data-variant='primary']:hover:enabled,
  button[data-variant='primary']:focus-visible,
  button[data-variant='secondary']:hover:enabled,
  button[data-variant='secondary']:focus-visible {
    background-color: ${({tokens:e})=>e.theme.foregroundSecondary};
  }

  button[data-size='xs'] > wui-icon {
    width: 8px;
    height: 8px;
  }

  button[data-size='sm'] > wui-icon {
    width: 12px;
    height: 12px;
  }

  button[data-size='xs'],
  button[data-size='sm'] {
    border-radius: ${({borderRadius:e})=>e[1]};
  }

  button[data-size='md'],
  button[data-size='lg'] {
    border-radius: ${({borderRadius:e})=>e[2]};
  }

  button[data-size='md'] > wui-icon {
    width: 16px;
    height: 16px;
  }

  button[data-size='lg'] > wui-icon {
    width: 20px;
    height: 20px;
  }

  button:disabled {
    background-color: transparent;
    cursor: not-allowed;
    opacity: 0.5;
  }

  button:hover:not(:disabled) {
    background-color: var(--wui-color-accent-glass-015);
  }

  button:focus-visible:not(:disabled) {
    background-color: var(--wui-color-accent-glass-015);
    box-shadow:
      inset 0 0 0 1px var(--wui-color-accent-100),
      0 0 0 4px var(--wui-color-accent-glass-020);
  }
`});var k6,_m,xve=m(()=>{le();Me();as();Mt();kt();bve();k6=function(e,t,r,n){var s=arguments.length,o=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,r,o):i(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o},_m=class extends re{constructor(){super(...arguments),this.size="md",this.disabled=!1,this.icon="copy",this.iconColor="default",this.variant="accent"}render(){let t={accent:"accent-primary",primary:"inverse",secondary:"default"};return H`
      <button data-variant=${this.variant} ?disabled=${this.disabled} data-size=${this.size}>
        <wui-icon
          color=${t[this.variant]||this.iconColor}
          size=${this.size}
          name=${this.icon}
        ></wui-icon>
      </button>
    `}};_m.styles=[Ue,Qt,wve];k6([F()],_m.prototype,"size",void 0);k6([F({type:Boolean})],_m.prototype,"disabled",void 0);k6([F()],_m.prototype,"icon",void 0);k6([F()],_m.prototype,"iconColor",void 0);k6([F()],_m.prototype,"variant",void 0);_m=k6([ee("wui-icon-link")],_m)});var vve=m(()=>{xve()});var VT=m(()=>{Zg()});var Eve,Ave=m(()=>{le();Eve=Le`<svg width="86" height="96" fill="none">
  <path
    d="M78.3244 18.926L50.1808 2.45078C45.7376 -0.150261 40.2624 -0.150262 35.8192 2.45078L7.6756 18.926C3.23322 21.5266 0.5 26.3301 0.5 31.5248V64.4752C0.5 69.6699 3.23322 74.4734 7.6756 77.074L35.8192 93.5492C40.2624 96.1503 45.7376 96.1503 50.1808 93.5492L78.3244 77.074C82.7668 74.4734 85.5 69.6699 85.5 64.4752V31.5248C85.5 26.3301 82.7668 21.5266 78.3244 18.926Z"
  />
</svg>`});var Cve,Sve=m(()=>{le();Cve=Le`
  <svg fill="none" viewBox="0 0 36 40">
    <path
      d="M15.4 2.1a5.21 5.21 0 0 1 5.2 0l11.61 6.7a5.21 5.21 0 0 1 2.61 4.52v13.4c0 1.87-1 3.59-2.6 4.52l-11.61 6.7c-1.62.93-3.6.93-5.22 0l-11.6-6.7a5.21 5.21 0 0 1-2.61-4.51v-13.4c0-1.87 1-3.6 2.6-4.52L15.4 2.1Z"
    />
  </svg>
`});var Ive,_ve=m(()=>{Nt();Ive=ce`
  :host {
    position: relative;
    border-radius: inherit;
    display: flex;
    justify-content: center;
    align-items: center;
    width: var(--local-width);
    height: var(--local-height);
  }

  :host([data-round='true']) {
    background: ${({tokens:e})=>e.theme.foregroundPrimary};
    border-radius: 100%;
    outline: 1px solid ${({tokens:e})=>e.core.glass010};
  }

  svg {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: 1;
  }

  svg > path {
    stroke: var(--local-stroke);
  }

  wui-image {
    width: 100%;
    height: 100%;
    -webkit-clip-path: var(--local-path);
    clip-path: var(--local-path);
    background: ${({tokens:e})=>e.theme.foregroundPrimary};
  }

  wui-icon {
    transform: translateY(-5%);
    width: var(--local-icon-size);
    height: var(--local-icon-size);
  }
`});var u2,wf,Tve=m(()=>{le();Me();Ave();uV();Sve();as();Zg();Mt();kt();_ve();u2=function(e,t,r,n){var s=arguments.length,o=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,r,o):i(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o},wf=class extends re{constructor(){super(...arguments),this.size="md",this.name="uknown",this.networkImagesBySize={sm:Cve,md:FT,lg:Eve},this.selected=!1,this.round=!1}render(){let t={sm:"4",md:"6",lg:"10"};return this.round?(this.dataset.round="true",this.style.cssText=`
      --local-width: var(--apkt-spacing-10);
      --local-height: var(--apkt-spacing-10);
      --local-icon-size: var(--apkt-spacing-4);
    `):this.style.cssText=`

      --local-path: var(--apkt-path-network-${this.size});
      --local-width:  var(--apkt-width-network-${this.size});
      --local-height:  var(--apkt-height-network-${this.size});
      --local-icon-size:  var(--apkt-spacing-${t[this.size]});
    `,H`${this.templateVisual()} ${this.svgTemplate()} `}svgTemplate(){return this.round?null:this.networkImagesBySize[this.size]}templateVisual(){return this.imageSrc?H`<wui-image src=${this.imageSrc} alt=${this.name}></wui-image>`:H`<wui-icon size="inherit" color="default" name="networkPlaceholder"></wui-icon>`}};wf.styles=[Ue,Ive];u2([F()],wf.prototype,"size",void 0);u2([F()],wf.prototype,"name",void 0);u2([F({type:Object})],wf.prototype,"networkImagesBySize",void 0);u2([F()],wf.prototype,"imageSrc",void 0);u2([F({type:Boolean})],wf.prototype,"selected",void 0);u2([F({type:Boolean})],wf.prototype,"round",void 0);wf=u2([ee("wui-network-image")],wf)});var Pve=m(()=>{Tve()});var Nve,Rve=m(()=>{Nt();Nve=ce`
  :host {
    position: relative;
    display: flex;
    width: 100%;
    height: 1px;
    background-color: ${({tokens:e})=>e.theme.borderPrimary};
    justify-content: center;
    align-items: center;
  }

  :host > wui-text {
    position: absolute;
    padding: 0px 8px;
    transition: background-color ${({durations:e})=>e.lg}
      ${({easings:e})=>e["ease-out-power-2"]};
    will-change: background-color;
  }

  :host([data-bg-color='primary']) > wui-text {
    background-color: ${({tokens:e})=>e.theme.backgroundPrimary};
  }

  :host([data-bg-color='secondary']) > wui-text {
    background-color: ${({tokens:e})=>e.theme.foregroundPrimary};
  }
`});var xV,D5,Ove=m(()=>{le();Me();So();Mt();kt();Rve();xV=function(e,t,r,n){var s=arguments.length,o=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,r,o):i(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o},D5=class extends re{constructor(){super(...arguments),this.text="",this.bgColor="primary"}render(){return this.dataset.bgColor=this.bgColor,H`${this.template()}`}template(){return this.text?H`<wui-text variant="md-regular" color="secondary">${this.text}</wui-text>`:null}};D5.styles=[Ue,Nve];xV([F()],D5.prototype,"text",void 0);xV([F()],D5.prototype,"bgColor",void 0);D5=xV([ee("wui-separator")],D5)});var vV=m(()=>{Ove()});var kve=m(()=>{Pb()});var ut,bf,Rt,B6=m(()=>{ut={INVALID_PAYMENT_CONFIG:"INVALID_PAYMENT_CONFIG",INVALID_RECIPIENT:"INVALID_RECIPIENT",INVALID_ASSET:"INVALID_ASSET",INVALID_AMOUNT:"INVALID_AMOUNT",UNKNOWN_ERROR:"UNKNOWN_ERROR",UNABLE_TO_INITIATE_PAYMENT:"UNABLE_TO_INITIATE_PAYMENT",INVALID_CHAIN_NAMESPACE:"INVALID_CHAIN_NAMESPACE",GENERIC_PAYMENT_ERROR:"GENERIC_PAYMENT_ERROR",UNABLE_TO_GET_EXCHANGES:"UNABLE_TO_GET_EXCHANGES",ASSET_NOT_SUPPORTED:"ASSET_NOT_SUPPORTED",UNABLE_TO_GET_PAY_URL:"UNABLE_TO_GET_PAY_URL",UNABLE_TO_GET_BUY_STATUS:"UNABLE_TO_GET_BUY_STATUS",UNABLE_TO_GET_TOKEN_BALANCES:"UNABLE_TO_GET_TOKEN_BALANCES",UNABLE_TO_GET_QUOTE:"UNABLE_TO_GET_QUOTE",UNABLE_TO_GET_QUOTE_STATUS:"UNABLE_TO_GET_QUOTE_STATUS",INVALID_RECIPIENT_ADDRESS_FOR_ASSET:"INVALID_RECIPIENT_ADDRESS_FOR_ASSET"},bf={[ut.INVALID_PAYMENT_CONFIG]:"Invalid payment configuration",[ut.INVALID_RECIPIENT]:"Invalid recipient address",[ut.INVALID_ASSET]:"Invalid asset specified",[ut.INVALID_AMOUNT]:"Invalid payment amount",[ut.INVALID_RECIPIENT_ADDRESS_FOR_ASSET]:"Invalid recipient address for the asset selected",[ut.UNKNOWN_ERROR]:"Unknown payment error occurred",[ut.UNABLE_TO_INITIATE_PAYMENT]:"Unable to initiate payment",[ut.INVALID_CHAIN_NAMESPACE]:"Invalid chain namespace",[ut.GENERIC_PAYMENT_ERROR]:"Unable to process payment",[ut.UNABLE_TO_GET_EXCHANGES]:"Unable to get exchanges",[ut.ASSET_NOT_SUPPORTED]:"Asset not supported by the selected exchange",[ut.UNABLE_TO_GET_PAY_URL]:"Unable to get payment URL",[ut.UNABLE_TO_GET_BUY_STATUS]:"Unable to get buy status",[ut.UNABLE_TO_GET_TOKEN_BALANCES]:"Unable to get token balances",[ut.UNABLE_TO_GET_QUOTE]:"Unable to get quote. Please choose a different token",[ut.UNABLE_TO_GET_QUOTE_STATUS]:"Unable to get quote status"},Rt=class e extends Error{get message(){return bf[this.code]}constructor(t,r){super(bf[t]),this.name="AppKitPayError",this.code=t,this.details=r,Error.captureStackTrace&&Error.captureStackTrace(this,e)}}});var Bve,EV,AV=m(()=>{Bve="https://rpc.walletconnect.org/v1/json-rpc",EV="reown_test"});function Dve(){let{chainNamespace:e}=it.parseCaipNetworkId(Ie.state.paymentAsset.network);if(!te.isAddress(Ie.state.recipient,e))throw new Rt(ut.INVALID_RECIPIENT_ADDRESS_FOR_ASSET,`Provide valid recipient address for namespace "${e}"`)}async function Uve(e,t,r){if(t!==V.CHAIN.EVM)throw new Rt(ut.INVALID_CHAIN_NAMESPACE);if(!r.fromAddress)throw new Rt(ut.INVALID_PAYMENT_CONFIG,"fromAddress is required for native EVM payments.");let n=typeof r.amount=="string"?parseFloat(r.amount):r.amount;if(isNaN(n))throw new Rt(ut.INVALID_PAYMENT_CONFIG);let s=e.metadata?.decimals??18,o=Q.parseUnits(n.toString(),s);if(typeof o!="bigint")throw new Rt(ut.GENERIC_PAYMENT_ERROR);return await Q.sendTransaction({chainNamespace:t,to:r.recipient,address:r.fromAddress,value:o,data:"0x"})??void 0}async function Lve(e,t){if(!t.fromAddress)throw new Rt(ut.INVALID_PAYMENT_CONFIG,"fromAddress is required for ERC20 EVM payments.");let r=e.asset,n=t.recipient,s=Number(e.metadata.decimals),o=Q.parseUnits(t.amount.toString(),s);if(o===void 0)throw new Rt(ut.GENERIC_PAYMENT_ERROR);return await Q.writeContract({fromAddress:t.fromAddress,tokenAddress:r,args:[n,o],method:"transfer",abi:hx.getERC20Abi(r),chainNamespace:V.CHAIN.EVM})??void 0}async function Mve(e,t){if(e!==V.CHAIN.SOLANA)throw new Rt(ut.INVALID_CHAIN_NAMESPACE);if(!t.fromAddress)throw new Rt(ut.INVALID_PAYMENT_CONFIG,"fromAddress is required for Solana payments.");let r=typeof t.amount=="string"?parseFloat(t.amount):t.amount;if(isNaN(r)||r<=0)throw new Rt(ut.INVALID_PAYMENT_CONFIG,"Invalid payment amount.");try{if(!ur.getProvider(e))throw new Rt(ut.GENERIC_PAYMENT_ERROR,"No Solana provider available.");let s=await Q.sendTransaction({chainNamespace:V.CHAIN.SOLANA,to:t.recipient,value:r,tokenMint:t.tokenMint});if(!s)throw new Rt(ut.GENERIC_PAYMENT_ERROR,"Transaction failed.");return s}catch(n){throw n instanceof Rt?n:new Rt(ut.GENERIC_PAYMENT_ERROR,`Solana payment failed: ${n}`)}}async function Hve({sourceToken:e,toToken:t,amount:r,recipient:n}){let s=Q.parseUnits(r,e.metadata.decimals),o=Q.parseUnits(r,t.metadata.decimals);return Promise.resolve({type:qT,origin:{amount:s?.toString()??"0",currency:e},destination:{amount:o?.toString()??"0",currency:t},fees:[{id:"service",label:"Service Fee",amount:"0",currency:t}],steps:[{requestId:qT,type:"deposit",deposit:{amount:s?.toString()??"0",currency:e.asset,receiver:n}}],timeInSeconds:6})}function U5(e){if(!e)return null;let t=e.steps[0];return!t||t.type!==$ve?null:t}function WT(e,t=0){if(!e)return[];let r=e.steps.filter(s=>s.type===Fve),n=r.filter((s,o)=>o+1>t);return r.length>0&&r.length<3?n:[]}var KT=m(()=>{at();st();xf();B6();B6()});function Cot(){let e=W.getSnapshot().projectId;return`${Bve}?projectId=${e}`}function IV(){let{projectId:e,sdkType:t,sdkVersion:r}=W.state;return{projectId:e,st:t||"appkit",sv:r||"html-wagmi-4.2.2"}}async function _V(e,t){let r=Cot(),{sdkType:n,sdkVersion:s,projectId:o}=W.getSnapshot(),i={jsonrpc:"2.0",id:1,method:e,params:{...t||{},st:n,sv:s,projectId:o}},c=await(await fetch(r,{method:"POST",body:JSON.stringify(i),headers:{"Content-Type":"application/json"}})).json();if(c.error)throw new CV(c.error.message);return c}async function TV(e){return(await _V("reown_getExchanges",e)).result}async function PV(e){return(await _V("reown_getExchangePayUrl",e)).result}async function jve(e){return(await _V("reown_getExchangeBuyStatus",e)).result}async function Sot(e){let t=pt.bigNumber(e.amount).times(10**e.toToken.metadata.decimals).toString(),{chainId:r,chainNamespace:n}=it.parseCaipNetworkId(e.sourceToken.network),{chainId:s,chainNamespace:o}=it.parseCaipNetworkId(e.toToken.network),i=e.sourceToken.asset==="native"?FM(n):e.sourceToken.asset,a=e.toToken.asset==="native"?FM(o):e.toToken.asset;return await SV.post({path:"/appkit/v1/transfers/quote",body:{user:e.address,originChainId:r.toString(),originCurrency:i,destinationChainId:s.toString(),destinationCurrency:a,recipient:e.recipient,amount:t},params:IV()})}async function zve(e){let t=on.isLowerCaseMatch(e.sourceToken.network,e.toToken.network),r=on.isLowerCaseMatch(e.sourceToken.asset,e.toToken.asset);return t&&r?Hve(e):Sot(e)}async function Vve(e){return await SV.get({path:"/appkit/v1/transfers/status",params:{requestId:e.requestId,...IV()}})}async function qve(e){return await SV.get({path:`/appkit/v1/transfers/assets/exchanges/${e}`,params:IV()})}var SV,CV,Wve=m(()=>{at();st();Sl();AV();KT();SV=new Ui({baseUrl:te.getApiUrl(),clientId:null}),CV=class extends Error{}});function ZT(e,t){let{chainNamespace:r,chainId:n}=it.parseCaipNetworkId(e),s=_ot[r];if(!s)throw new Error(`Unsupported chain namespace for CAIP-19 formatting: ${r}`);let o=s.native.assetNamespace,i=s.native.assetReference;return t!=="native"&&(o=s.defaultTokenNamespace,i=t),`${`${r}:${n}`}/${o}:${i}`}function Kve(e){let{chainNamespace:t}=it.parseCaipNetworkId(e);return Iot.includes(t)}function Zve(e){let r=R.getAllRequestedCaipNetworks().find(s=>s.caipNetworkId===e.chainId),n=e.address;if(!r)throw new Error(`Target network not found for balance chainId "${e.chainId}"`);if(on.isLowerCaseMatch(e.symbol,r.nativeCurrency.symbol))n="native";else if(te.isCaipAddress(n)){let{address:s}=it.parseCaipAddress(n);n=s}else if(!n)throw new Error(`Balance address not found for balance symbol "${e.symbol}"`);return{network:r.caipNetworkId,asset:n,metadata:{name:e.name,symbol:e.symbol,decimals:Number(e.quantity.decimals),logoURI:e.iconUrl},amount:e.quantity.numeric}}function Gve(e){return{chainId:e.network,address:`${e.network}:${e.asset}`,symbol:e.metadata.symbol,name:e.metadata.name,iconUrl:e.metadata.logoURI||"",price:0,quantity:{numeric:"0",decimals:e.metadata.decimals.toString()}}}function d2(e){let t=pt.bigNumber(e,{safe:!0});return t.lt(.001)?"<0.001":t.round(4).toString()}function Yve(e){let r=R.getAllRequestedCaipNetworks().find(n=>n.caipNetworkId===e.network);return r?!!r.testnet:!1}var Iot,_ot,L5=m(()=>{at();st();Sl();Iot=["eip155","solana"],_ot={eip155:{native:{assetNamespace:"slip44",assetReference:"60"},defaultTokenNamespace:"erc20"},solana:{native:{assetNamespace:"slip44",assetReference:"501"},defaultTokenNamespace:"token"}}});var Jve,NV,qT,$ve,Fve,se,Ie,xf=m(()=>{Fr();Hn();at();st();kve();Sl();B6();B6();Wve();L5();KT();Jve=0,NV="unknown",qT="direct-transfer",$ve="deposit",Fve="transaction",se=Xe({paymentAsset:{network:"eip155:1",asset:"0x0",metadata:{name:"0x0",symbol:"0x0",decimals:0}},recipient:"0x0",amount:0,isConfigured:!1,error:null,isPaymentInProgress:!1,exchanges:[],isLoading:!1,openInNewTab:!0,redirectUrl:void 0,payWithExchange:void 0,currentPayment:void 0,analyticsSet:!1,paymentId:void 0,choice:"pay",tokenBalances:{[V.CHAIN.EVM]:[],[V.CHAIN.SOLANA]:[]},isFetchingTokenBalances:!1,selectedPaymentAsset:null,quote:void 0,quoteStatus:"waiting",quoteError:null,isFetchingQuote:!1,selectedExchange:void 0,exchangeUrlForQuote:void 0,requestId:void 0}),Ie={state:se,subscribe(e){return Ut(se,()=>e(se))},subscribeKey(e,t){return _t(se,e,t)},async handleOpenPay(e){this.resetState(),this.setPaymentConfig(e),this.initializeAnalytics(),Dve(),await this.prepareTokenLogo(),se.isConfigured=!0,ve.sendEvent({type:"track",event:"PAY_MODAL_OPEN",properties:{exchanges:se.exchanges,configuration:{network:se.paymentAsset.network,asset:se.paymentAsset.asset,recipient:se.recipient,amount:se.amount}}}),await ke.open({view:"Pay"})},resetState(){se.paymentAsset={network:"eip155:1",asset:"0x0",metadata:{name:"0x0",symbol:"0x0",decimals:0}},se.recipient="0x0",se.amount=0,se.isConfigured=!1,se.error=null,se.isPaymentInProgress=!1,se.isLoading=!1,se.currentPayment=void 0,se.selectedExchange=void 0,se.exchangeUrlForQuote=void 0,se.requestId=void 0},resetQuoteState(){se.quote=void 0,se.quoteStatus="waiting",se.quoteError=null,se.isFetchingQuote=!1,se.requestId=void 0},setPaymentConfig(e){if(!e.paymentAsset)throw new Rt(ut.INVALID_PAYMENT_CONFIG);try{se.choice=e.choice??"pay",se.paymentAsset=e.paymentAsset,se.recipient=e.recipient,se.amount=e.amount,se.openInNewTab=e.openInNewTab??!0,se.redirectUrl=e.redirectUrl,se.payWithExchange=e.payWithExchange,se.error=null}catch(t){throw new Rt(ut.INVALID_PAYMENT_CONFIG,t.message)}},setSelectedPaymentAsset(e){se.selectedPaymentAsset=e},setSelectedExchange(e){se.selectedExchange=e},setRequestId(e){se.requestId=e},setPaymentInProgress(e){se.isPaymentInProgress=e},getPaymentAsset(){return se.paymentAsset},getExchanges(){return se.exchanges},async fetchExchanges(){try{se.isLoading=!0;let e=await TV({page:Jve});se.exchanges=e.exchanges.slice(0,2)}catch{throw Ze.showError(bf.UNABLE_TO_GET_EXCHANGES),new Rt(ut.UNABLE_TO_GET_EXCHANGES)}finally{se.isLoading=!1}},async getAvailableExchanges(e){try{let t=e?.asset&&e?.network?ZT(e.network,e.asset):void 0;return await TV({page:e?.page??Jve,asset:t,amount:e?.amount?.toString()})}catch{throw new Rt(ut.UNABLE_TO_GET_EXCHANGES)}},async getPayUrl(e,t,r=!1){try{let n=Number(t.amount),s=await PV({exchangeId:e,asset:ZT(t.network,t.asset),amount:n.toString(),recipient:`${t.network}:${t.recipient}`});return ve.sendEvent({type:"track",event:"PAY_EXCHANGE_SELECTED",properties:{source:"pay",exchange:{id:e},configuration:{network:t.network,asset:t.asset,recipient:t.recipient,amount:n},currentPayment:{type:"exchange",exchangeId:e},headless:r}}),r&&(this.initiatePayment(),ve.sendEvent({type:"track",event:"PAY_INITIATED",properties:{source:"pay",paymentId:se.paymentId||NV,configuration:{network:t.network,asset:t.asset,recipient:t.recipient,amount:n},currentPayment:{type:"exchange",exchangeId:e}}})),s}catch(n){throw n instanceof Error&&n.message.includes("is not supported")?new Rt(ut.ASSET_NOT_SUPPORTED):new Error(n.message)}},async generateExchangeUrlForQuote({exchangeId:e,paymentAsset:t,amount:r,recipient:n}){let s=await PV({exchangeId:e,asset:ZT(t.network,t.asset),amount:r.toString(),recipient:n});se.exchangeSessionId=s.sessionId,se.exchangeUrlForQuote=s.url},async openPayUrl(e,t,r=!1){try{let n=await this.getPayUrl(e.exchangeId,t,r);if(!n)throw new Rt(ut.UNABLE_TO_GET_PAY_URL);let o=e.openInNewTab??!0?"_blank":"_self";return te.openHref(n.url,o),n}catch(n){throw n instanceof Rt?se.error=n.message:se.error=bf.GENERIC_PAYMENT_ERROR,new Rt(ut.UNABLE_TO_GET_PAY_URL)}},async onTransfer({chainNamespace:e,fromAddress:t,toAddress:r,amount:n,paymentAsset:s}){if(se.currentPayment={type:"wallet",status:"IN_PROGRESS"},!se.isPaymentInProgress)try{this.initiatePayment();let i=R.getAllRequestedCaipNetworks().find(c=>c.caipNetworkId===s.network);if(!i)throw new Error("Target network not found");let a=R.state.activeCaipNetwork;switch(on.isLowerCaseMatch(a?.caipNetworkId,i.caipNetworkId)||await R.switchActiveNetwork(i),e){case V.CHAIN.EVM:s.asset==="native"&&(se.currentPayment.result=await Uve(s,e,{recipient:r,amount:n,fromAddress:t})),s.asset.startsWith("0x")&&(se.currentPayment.result=await Lve(s,{recipient:r,amount:n,fromAddress:t})),se.currentPayment.status="SUCCESS";break;case V.CHAIN.SOLANA:se.currentPayment.result=await Mve(e,{recipient:r,amount:n,fromAddress:t,tokenMint:s.asset==="native"?void 0:s.asset}),se.currentPayment.status="SUCCESS";break;default:throw new Rt(ut.INVALID_CHAIN_NAMESPACE)}}catch(o){throw o instanceof Rt?se.error=o.message:se.error=bf.GENERIC_PAYMENT_ERROR,se.currentPayment.status="FAILED",Ze.showError(se.error),o}finally{se.isPaymentInProgress=!1}},async onSendTransaction(e){try{let{namespace:t,transactionStep:r}=e;Ie.initiatePayment();let s=R.getAllRequestedCaipNetworks().find(i=>i.caipNetworkId===se.paymentAsset?.network);if(!s)throw new Error("Target network not found");let o=R.state.activeCaipNetwork;if(on.isLowerCaseMatch(o?.caipNetworkId,s.caipNetworkId)||await R.switchActiveNetwork(s),t===V.CHAIN.EVM){let{from:i,to:a,data:c,value:l}=r.transaction;await Q.sendTransaction({address:i,to:a,data:c,value:BigInt(l),chainNamespace:t})}else if(t===V.CHAIN.SOLANA){let{instructions:i}=r.transaction;await Q.writeSolanaTransaction({instructions:i})}}catch(t){throw t instanceof Rt?se.error=t.message:se.error=bf.GENERIC_PAYMENT_ERROR,Ze.showError(se.error),t}finally{se.isPaymentInProgress=!1}},getExchangeById(e){return se.exchanges.find(t=>t.id===e)},validatePayConfig(e){let{paymentAsset:t,recipient:r,amount:n}=e;if(!t)throw new Rt(ut.INVALID_PAYMENT_CONFIG);if(!r)throw new Rt(ut.INVALID_RECIPIENT);if(!t.asset)throw new Rt(ut.INVALID_ASSET);if(n==null||n<=0)throw new Rt(ut.INVALID_AMOUNT)},async handlePayWithExchange(e){try{se.currentPayment={type:"exchange",exchangeId:e};let{network:t,asset:r}=se.paymentAsset,n={network:t,asset:r,amount:se.amount,recipient:se.recipient},s=await this.getPayUrl(e,n);if(!s)throw new Rt(ut.UNABLE_TO_INITIATE_PAYMENT);return se.currentPayment.sessionId=s.sessionId,se.currentPayment.status="IN_PROGRESS",se.currentPayment.exchangeId=e,this.initiatePayment(),{url:s.url,openInNewTab:se.openInNewTab}}catch(t){return t instanceof Rt?se.error=t.message:se.error=bf.GENERIC_PAYMENT_ERROR,se.isPaymentInProgress=!1,Ze.showError(se.error),null}},async getBuyStatus(e,t){try{let r=await jve({sessionId:t,exchangeId:e});return(r.status==="SUCCESS"||r.status==="FAILED")&&ve.sendEvent({type:"track",event:r.status==="SUCCESS"?"PAY_SUCCESS":"PAY_ERROR",properties:{message:r.status==="FAILED"?te.parseError(se.error):void 0,source:"pay",paymentId:se.paymentId||NV,configuration:{network:se.paymentAsset.network,asset:se.paymentAsset.asset,recipient:se.recipient,amount:se.amount},currentPayment:{type:"exchange",exchangeId:se.currentPayment?.exchangeId,sessionId:se.currentPayment?.sessionId,result:r.txHash}}}),r}catch{throw new Rt(ut.UNABLE_TO_GET_BUY_STATUS)}},async fetchTokensFromEOA({caipAddress:e,caipNetwork:t,namespace:r}){if(!e)return[];let{address:n}=it.parseCaipAddress(e),s=t;return r===V.CHAIN.EVM&&(s=void 0),await al.getMyTokensWithBalance({address:n,caipNetwork:s})},async fetchTokensFromExchange(){if(!se.selectedExchange)return[];let e=await qve(se.selectedExchange.id),t=Object.values(e.assets).flat();return await Promise.all(t.map(async n=>{let s=Gve(n),{chainNamespace:o}=it.parseCaipNetworkId(s.chainId),i=s.address;if(te.isCaipAddress(i)){let{address:c}=it.parseCaipAddress(i);i=c}let a=await St.getImageByToken(i??"",o).catch(()=>{});return s.iconUrl=a??"",s}))},async fetchTokens({caipAddress:e,caipNetwork:t,namespace:r}){try{se.isFetchingTokenBalances=!0;let o=await(!!se.selectedExchange?this.fetchTokensFromExchange():this.fetchTokensFromEOA({caipAddress:e,caipNetwork:t,namespace:r}));se.tokenBalances={...se.tokenBalances,[r]:o}}catch(n){let s=n instanceof Error?n.message:"Unable to get token balances";Ze.showError(s)}finally{se.isFetchingTokenBalances=!1}},async fetchQuote({amount:e,address:t,sourceToken:r,toToken:n,recipient:s}){try{Ie.resetQuoteState(),se.isFetchingQuote=!0;let o=await zve({amount:e,address:se.selectedExchange?void 0:t,sourceToken:r,toToken:n,recipient:s});if(se.selectedExchange){let i=U5(o);if(i){let a=`${r.network}:${i.deposit.receiver}`,c=pt.formatNumber(i.deposit.amount,{decimals:r.metadata.decimals??0,round:8});await Ie.generateExchangeUrlForQuote({exchangeId:se.selectedExchange.id,paymentAsset:r,amount:c.toString(),recipient:a})}}se.quote=o}catch(o){let i=bf.UNABLE_TO_GET_QUOTE;if(o instanceof Error&&o.cause&&o.cause instanceof Response)try{let a=await o.cause.json();a.error&&typeof a.error=="string"&&(i=a.error)}catch{}throw se.quoteError=i,Ze.showError(i),new Rt(ut.UNABLE_TO_GET_QUOTE)}finally{se.isFetchingQuote=!1}},async fetchQuoteStatus({requestId:e}){try{if(e===qT){let r=se.selectedExchange,n=se.exchangeSessionId;if(r&&n){switch((await this.getBuyStatus(r.id,n)).status){case"IN_PROGRESS":se.quoteStatus="waiting";break;case"SUCCESS":se.quoteStatus="success",se.isPaymentInProgress=!1;break;case"FAILED":se.quoteStatus="failure",se.isPaymentInProgress=!1;break;case"UNKNOWN":se.quoteStatus="waiting";break;default:se.quoteStatus="waiting";break}return}se.quoteStatus="success";return}let{status:t}=await Vve({requestId:e});se.quoteStatus=t}catch{throw se.quoteStatus="failure",new Rt(ut.UNABLE_TO_GET_QUOTE_STATUS)}},initiatePayment(){se.isPaymentInProgress=!0,se.paymentId=crypto.randomUUID()},initializeAnalytics(){se.analyticsSet||(se.analyticsSet=!0,this.subscribeKey("isPaymentInProgress",e=>{if(se.currentPayment?.status&&se.currentPayment.status!=="UNKNOWN"){let t={IN_PROGRESS:"PAY_INITIATED",SUCCESS:"PAY_SUCCESS",FAILED:"PAY_ERROR"}[se.currentPayment.status];ve.sendEvent({type:"track",event:t,properties:{message:se.currentPayment.status==="FAILED"?te.parseError(se.error):void 0,source:"pay",paymentId:se.paymentId||NV,configuration:{network:se.paymentAsset.network,asset:se.paymentAsset.asset,recipient:se.recipient,amount:se.amount},currentPayment:{type:se.currentPayment.type,exchangeId:se.currentPayment.exchangeId,sessionId:se.currentPayment.sessionId,result:se.currentPayment.result}}})}}))},async prepareTokenLogo(){if(!se.paymentAsset.metadata.logoURI)try{let{chainNamespace:e}=it.parseCaipNetworkId(se.paymentAsset.network),t=await St.getImageByToken(se.paymentAsset.asset,e);se.paymentAsset.metadata.logoURI=t}catch{}}}});var Qve,Xve=m(()=>{Fe();Qve=ce`
  wui-separator {
    margin: var(--apkt-spacing-3) calc(var(--apkt-spacing-3) * -1) var(--apkt-spacing-2)
      calc(var(--apkt-spacing-3) * -1);
    width: calc(100% + var(--apkt-spacing-3) * 2);
  }

  .token-display {
    padding: var(--apkt-spacing-3) var(--apkt-spacing-3);
    border-radius: var(--apkt-borderRadius-5);
    background-color: var(--apkt-tokens-theme-backgroundPrimary);
    margin-top: var(--apkt-spacing-3);
    margin-bottom: var(--apkt-spacing-3);
  }

  .token-display wui-text {
    text-transform: none;
  }

  wui-loading-spinner {
    padding: var(--apkt-spacing-2);
  }

  .left-image-container {
    position: relative;
    justify-content: center;
    align-items: center;
  }

  .token-image {
    border-radius: ${({borderRadius:e})=>e.round};
    width: 40px;
    height: 40px;
  }

  .chain-image {
    position: absolute;
    width: 20px;
    height: 20px;
    bottom: -3px;
    right: -5px;
    border-radius: ${({borderRadius:e})=>e.round};
    border: 2px solid ${({tokens:e})=>e.theme.backgroundPrimary};
  }

  .payment-methods-container {
    background-color: ${({tokens:e})=>e.theme.foregroundPrimary};
    border-top-right-radius: ${({borderRadius:e})=>e[8]};
    border-top-left-radius: ${({borderRadius:e})=>e[8]};
  }
`});var Tm,Nd,e3e=m(()=>{le();Me();Ur();st();Fe();m5();Wr();ff();wV();vve();VT();hV();R5();R5();Pve();vV();Wn();y5();xf();L5();AV();Xve();Tm=function(e,t,r,n){var s=arguments.length,o=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,r,o):i(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o},Nd=class extends re{constructor(){super(),this.unsubscribe=[],this.amount=Ie.state.amount,this.namespace=void 0,this.paymentAsset=Ie.state.paymentAsset,this.activeConnectorIds=X.state.activeConnectorIds,this.caipAddress=void 0,this.exchanges=Ie.state.exchanges,this.isLoading=Ie.state.isLoading,this.initializeNamespace(),this.unsubscribe.push(Ie.subscribeKey("amount",t=>this.amount=t)),this.unsubscribe.push(X.subscribeKey("activeConnectorIds",t=>this.activeConnectorIds=t)),this.unsubscribe.push(Ie.subscribeKey("exchanges",t=>this.exchanges=t)),this.unsubscribe.push(Ie.subscribeKey("isLoading",t=>this.isLoading=t)),Ie.fetchExchanges(),Ie.setSelectedExchange(void 0)}disconnectedCallback(){this.unsubscribe.forEach(t=>t())}render(){return H`
      <wui-flex flexDirection="column">
        ${this.paymentDetailsTemplate()} ${this.paymentMethodsTemplate()}
      </wui-flex>
    `}paymentMethodsTemplate(){return H`
      <wui-flex flexDirection="column" padding="3" gap="2" class="payment-methods-container">
        ${this.payWithWalletTemplate()} ${this.templateSeparator()}
        ${this.templateExchangeOptions()}
      </wui-flex>
    `}initializeNamespace(){let t=R.state.activeChain;this.namespace=t,this.caipAddress=R.getAccountData(t)?.caipAddress,this.unsubscribe.push(R.subscribeChainProp("accountState",r=>{this.caipAddress=r?.caipAddress},t))}paymentDetailsTemplate(){let r=R.getAllRequestedCaipNetworks().find(n=>n.caipNetworkId===this.paymentAsset.network);return H`
      <wui-flex
        alignItems="center"
        justifyContent="space-between"
        .padding=${["6","8","6","8"]}
        gap="2"
      >
        <wui-flex alignItems="center" gap="1">
          <wui-text variant="h1-regular" color="primary">
            ${d2(this.amount||"0")}
          </wui-text>

          <wui-flex flexDirection="column">
            <wui-text variant="h6-regular" color="secondary">
              ${this.paymentAsset.metadata.symbol||"Unknown"}
            </wui-text>
            <wui-text variant="md-medium" color="secondary"
              >on ${r?.name||"Unknown"}</wui-text
            >
          </wui-flex>
        </wui-flex>

        <wui-flex class="left-image-container">
          <wui-image
            src=${Ee(this.paymentAsset.metadata.logoURI)}
            class="token-image"
          ></wui-image>
          <wui-image
            src=${Ee(St.getNetworkImage(r))}
            class="chain-image"
          ></wui-image>
        </wui-flex>
      </wui-flex>
    `}payWithWalletTemplate(){return Kve(this.paymentAsset.network)?this.caipAddress?this.connectedWalletTemplate():this.disconnectedWalletTemplate():H``}connectedWalletTemplate(){let{name:t,image:r}=this.getWalletProperties({namespace:this.namespace});return H`
      <wui-flex flexDirection="column" gap="3">
        <wui-list-item
          type="secondary"
          boxColor="foregroundSecondary"
          @click=${this.onWalletPayment}
          .boxed=${!1}
          ?chevron=${!0}
          ?fullSize=${!1}
          ?rounded=${!0}
          data-testid="wallet-payment-option"
          imageSrc=${Ee(r)}
          imageSize="3xl"
        >
          <wui-text variant="lg-regular" color="primary">Pay with ${t}</wui-text>
        </wui-list-item>

        <wui-list-item
          type="secondary"
          icon="power"
          iconColor="error"
          @click=${this.onDisconnect}
          data-testid="disconnect-button"
          ?chevron=${!1}
          boxColor="foregroundSecondary"
        >
          <wui-text variant="lg-regular" color="secondary">Disconnect</wui-text>
        </wui-list-item>
      </wui-flex>
    `}disconnectedWalletTemplate(){return H`<wui-list-item
      type="secondary"
      boxColor="foregroundSecondary"
      variant="icon"
      iconColor="default"
      iconVariant="overlay"
      icon="wallet"
      @click=${this.onWalletPayment}
      ?chevron=${!0}
      data-testid="wallet-payment-option"
    >
      <wui-text variant="lg-regular" color="primary">Pay with wallet</wui-text>
    </wui-list-item>`}templateExchangeOptions(){if(this.isLoading)return H`<wui-flex justifyContent="center" alignItems="center">
        <wui-loading-spinner size="md"></wui-loading-spinner>
      </wui-flex>`;let t=this.exchanges.filter(r=>Yve(this.paymentAsset)?r.id===EV:r.id!==EV);return t.length===0?H`<wui-flex justifyContent="center" alignItems="center">
        <wui-text variant="md-medium" color="primary">No exchanges available</wui-text>
      </wui-flex>`:t.map(r=>H`
        <wui-list-item
          type="secondary"
          boxColor="foregroundSecondary"
          @click=${()=>this.onExchangePayment(r)}
          data-testid="exchange-option-${r.id}"
          ?chevron=${!0}
          imageSrc=${Ee(r.imageUrl)}
        >
          <wui-text flexGrow="1" variant="lg-regular" color="primary">
            Pay with ${r.name}
          </wui-text>
        </wui-list-item>
      `)}templateSeparator(){return H`<wui-separator text="or" bgColor="secondary"></wui-separator>`}async onWalletPayment(){if(!this.namespace)throw new Error("Namespace not found");this.caipAddress?K.push("PayQuote"):(await X.connect(),await ke.open({view:"PayQuote"}))}onExchangePayment(t){Ie.setSelectedExchange(t),K.push("PayQuote")}async onDisconnect(){try{await Q.disconnect(),await ke.open({view:"Pay"})}catch{console.error("Failed to disconnect"),Ze.showError("Failed to disconnect")}}getWalletProperties({namespace:t}){if(!t)return{name:void 0,image:void 0};let r=this.activeConnectorIds[t];if(!r)return{name:void 0,image:void 0};let n=X.getConnector({id:r,namespace:t});if(!n)return{name:void 0,image:void 0};let s=St.getConnectorImage(n);return{name:n.name,image:s}}};Nd.styles=Qve;Tm([oe()],Nd.prototype,"amount",void 0);Tm([oe()],Nd.prototype,"namespace",void 0);Tm([oe()],Nd.prototype,"paymentAsset",void 0);Tm([oe()],Nd.prototype,"activeConnectorIds",void 0);Tm([oe()],Nd.prototype,"caipAddress",void 0);Tm([oe()],Nd.prototype,"exchanges",void 0);Tm([oe()],Nd.prototype,"isLoading",void 0);Nd=Tm([ee("w3m-pay-view")],Nd)});var t3e,r3e=m(()=>{Nt();t3e=ce`
  :host {
    display: inline-flex;
    align-items: center;
    justify-content: center;
  }

  .pulse-container {
    position: relative;
    width: var(--pulse-size);
    height: var(--pulse-size);
    display: flex;
    align-items: center;
    justify-content: center;
  }

  .pulse-rings {
    position: absolute;
    inset: 0;
    pointer-events: none;
  }

  .pulse-ring {
    position: absolute;
    inset: 0;
    border-radius: 50%;
    border: 2px solid var(--pulse-color);
    opacity: 0;
    animation: pulse var(--pulse-duration, 2s) ease-out infinite;
  }

  .pulse-content {
    position: relative;
    z-index: 1;
    display: flex;
    align-items: center;
    justify-content: center;
  }

  @keyframes pulse {
    0% {
      transform: scale(0.5);
      opacity: var(--pulse-opacity, 0.3);
    }
    50% {
      opacity: calc(var(--pulse-opacity, 0.3) * 0.5);
    }
    100% {
      transform: scale(1.2);
      opacity: 0;
    }
  }
`});var D6,Tot,Pot,Not,Rot,Oot,Pm,n3e=m(()=>{le();Me();Nt();Mt();kt();r3e();D6=function(e,t,r,n){var s=arguments.length,o=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,r,o):i(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o},Tot=3,Pot=2,Not=.3,Rot="200px",Oot={"accent-primary":Ht.tokens.core.backgroundAccentPrimary},Pm=class extends re{constructor(){super(...arguments),this.rings=Tot,this.duration=Pot,this.opacity=Not,this.size=Rot,this.variant="accent-primary"}render(){let t=Oot[this.variant];this.style.cssText=`
      --pulse-size: ${this.size};
      --pulse-duration: ${this.duration}s;
      --pulse-color: ${t};
      --pulse-opacity: ${this.opacity};
    `;let r=Array.from({length:this.rings},(n,s)=>this.renderRing(s,this.rings));return H`
      <div class="pulse-container">
        <div class="pulse-rings">${r}</div>
        <div class="pulse-content">
          <slot></slot>
        </div>
      </div>
    `}renderRing(t,r){let s=`animation-delay: ${t/r*this.duration}s;`;return H`<div class="pulse-ring" style=${s}></div>`}};Pm.styles=[Ue,t3e];D6([F({type:Number})],Pm.prototype,"rings",void 0);D6([F({type:Number})],Pm.prototype,"duration",void 0);D6([F({type:Number})],Pm.prototype,"opacity",void 0);D6([F()],Pm.prototype,"size",void 0);D6([F()],Pm.prototype,"variant",void 0);Pm=D6([ee("wui-pulse")],Pm)});var s3e=m(()=>{n3e()});var RV,OV,o3e=m(()=>{RV=[{id:"received",title:"Receiving funds",icon:"dollar"},{id:"processing",title:"Swapping asset",icon:"recycleHorizontal"},{id:"sending",title:"Sending asset to the recipient address",icon:"send"}],OV=["success","submitted","failure","timeout","refund"]});var i3e,a3e=m(()=>{Fe();i3e=ce`
  :host {
    display: block;
    height: 100%;
    width: 100%;
  }

  wui-image {
    border-radius: ${({borderRadius:e})=>e.round};
  }

  .token-badge-container {
    position: absolute;
    bottom: 6px;
    left: 50%;
    transform: translateX(-50%);
    border-radius: ${({borderRadius:e})=>e[4]};
    z-index: 3;
    min-width: 105px;
  }

  .token-badge-container.loading {
    background-color: ${({tokens:e})=>e.theme.backgroundPrimary};
    border: 3px solid ${({tokens:e})=>e.theme.backgroundPrimary};
  }

  .token-badge-container.success {
    background-color: ${({tokens:e})=>e.theme.backgroundPrimary};
    border: 3px solid ${({tokens:e})=>e.theme.backgroundPrimary};
  }

  .token-image-container {
    position: relative;
  }

  .token-image {
    border-radius: ${({borderRadius:e})=>e.round};
    width: 64px;
    height: 64px;
  }

  .token-image.success {
    background-color: ${({tokens:e})=>e.theme.foregroundPrimary};
  }

  .token-image.error {
    background-color: ${({tokens:e})=>e.theme.foregroundPrimary};
  }

  .token-image.loading {
    background: ${({colors:e})=>e.accent010};
  }

  .token-image wui-icon {
    width: 32px;
    height: 32px;
  }

  .token-badge {
    background-color: ${({tokens:e})=>e.theme.foregroundPrimary};
    border: 1px solid ${({tokens:e})=>e.theme.foregroundSecondary};
    border-radius: ${({borderRadius:e})=>e[4]};
  }

  .token-badge wui-text {
    white-space: nowrap;
  }

  .payment-lifecycle-container {
    background-color: ${({tokens:e})=>e.theme.foregroundPrimary};
    border-top-right-radius: ${({borderRadius:e})=>e[6]};
    border-top-left-radius: ${({borderRadius:e})=>e[6]};
  }

  .payment-step-badge {
    padding: ${({spacing:e})=>e[1]} ${({spacing:e})=>e[2]};
    border-radius: ${({borderRadius:e})=>e[1]};
  }

  .payment-step-badge.loading {
    background-color: ${({tokens:e})=>e.theme.foregroundSecondary};
  }

  .payment-step-badge.error {
    background-color: ${({tokens:e})=>e.core.backgroundError};
  }

  .payment-step-badge.success {
    background-color: ${({tokens:e})=>e.core.backgroundSuccess};
  }

  .step-icon-container {
    position: relative;
    height: 40px;
    width: 40px;
    border-radius: ${({borderRadius:e})=>e.round};
    background-color: ${({tokens:e})=>e.theme.foregroundSecondary};
  }

  .step-icon-box {
    position: absolute;
    right: -4px;
    bottom: -1px;
    padding: 2px;
    border-radius: ${({borderRadius:e})=>e.round};
    border: 2px solid ${({tokens:e})=>e.theme.backgroundPrimary};
    background-color: ${({tokens:e})=>e.theme.foregroundPrimary};
  }

  .step-icon-box.success {
    background-color: ${({tokens:e})=>e.core.backgroundSuccess};
  }
`});var Rd,kot,Bot,Ac,c3e=m(()=>{le();Me();pT();Ur();at();st();Fe();Wr();VT();R5();s3e();vV();Wn();Sl();xf();L5();o3e();a3e();Rd=function(e,t,r,n){var s=arguments.length,o=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,r,o):i(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o},kot={received:["pending","success","submitted"],processing:["success","submitted"],sending:["success","submitted"]},Bot=3e3,Ac=class extends re{constructor(){super(),this.unsubscribe=[],this.pollingInterval=null,this.paymentAsset=Ie.state.paymentAsset,this.quoteStatus=Ie.state.quoteStatus,this.quote=Ie.state.quote,this.amount=Ie.state.amount,this.namespace=void 0,this.caipAddress=void 0,this.profileName=null,this.activeConnectorIds=X.state.activeConnectorIds,this.selectedExchange=Ie.state.selectedExchange,this.initializeNamespace(),this.unsubscribe.push(Ie.subscribeKey("quoteStatus",t=>this.quoteStatus=t),Ie.subscribeKey("quote",t=>this.quote=t),X.subscribeKey("activeConnectorIds",t=>this.activeConnectorIds=t),Ie.subscribeKey("selectedExchange",t=>this.selectedExchange=t))}connectedCallback(){super.connectedCallback(),this.startPolling()}disconnectedCallback(){super.disconnectedCallback(),this.stopPolling(),this.unsubscribe.forEach(t=>t())}render(){return H`
      <wui-flex flexDirection="column" .padding=${["3","0","0","0"]} gap="2">
        ${this.tokenTemplate()} ${this.paymentTemplate()} ${this.paymentLifecycleTemplate()}
      </wui-flex>
    `}tokenTemplate(){let t=d2(this.amount||"0"),r=this.paymentAsset.metadata.symbol??"Unknown",s=R.getAllRequestedCaipNetworks().find(a=>a.caipNetworkId===this.paymentAsset.network),o=this.quoteStatus==="failure"||this.quoteStatus==="timeout"||this.quoteStatus==="refund";return this.quoteStatus==="success"||this.quoteStatus==="submitted"?H`<wui-flex alignItems="center" justifyContent="center">
        <wui-flex justifyContent="center" alignItems="center" class="token-image success">
          <wui-icon name="checkmark" color="success" size="inherit"></wui-icon>
        </wui-flex>
      </wui-flex>`:o?H`<wui-flex alignItems="center" justifyContent="center">
        <wui-flex justifyContent="center" alignItems="center" class="token-image error">
          <wui-icon name="close" color="error" size="inherit"></wui-icon>
        </wui-flex>
      </wui-flex>`:H`
      <wui-flex alignItems="center" justifyContent="center">
        <wui-flex class="token-image-container">
          <wui-pulse size="125px" rings="3" duration="4" opacity="0.5" variant="accent-primary">
            <wui-flex justifyContent="center" alignItems="center" class="token-image loading">
              <wui-icon name="paperPlaneTitle" color="accent-primary" size="inherit"></wui-icon>
            </wui-flex>
          </wui-pulse>

          <wui-flex
            justifyContent="center"
            alignItems="center"
            class="token-badge-container loading"
          >
            <wui-flex
              alignItems="center"
              justifyContent="center"
              gap="01"
              padding="1"
              class="token-badge"
            >
              <wui-image
                src=${Ee(St.getNetworkImage(s))}
                class="chain-image"
                size="mdl"
              ></wui-image>

              <wui-text variant="lg-regular" color="primary">${t} ${r}</wui-text>
            </wui-flex>
          </wui-flex>
        </wui-flex>
      </wui-flex>
    `}paymentTemplate(){return H`
      <wui-flex flexDirection="column" gap="2" .padding=${["0","6","0","6"]}>
        ${this.renderPayment()}
        <wui-separator></wui-separator>
        ${this.renderWallet()}
      </wui-flex>
    `}paymentLifecycleTemplate(){let t=this.getStepsWithStatus();return H`
      <wui-flex flexDirection="column" padding="4" gap="2" class="payment-lifecycle-container">
        <wui-flex alignItems="center" justifyContent="space-between">
          <wui-text variant="md-regular" color="secondary">PAYMENT CYCLE</wui-text>

          ${this.renderPaymentCycleBadge()}
        </wui-flex>

        <wui-flex flexDirection="column" gap="5" .padding=${["2","0","2","0"]}>
          ${t.map(r=>this.renderStep(r))}
        </wui-flex>
      </wui-flex>
    `}renderPaymentCycleBadge(){let t=this.quoteStatus==="failure"||this.quoteStatus==="timeout"||this.quoteStatus==="refund",r=this.quoteStatus==="success"||this.quoteStatus==="submitted";if(t)return H`
        <wui-flex
          justifyContent="center"
          alignItems="center"
          class="payment-step-badge error"
          gap="1"
        >
          <wui-icon name="close" color="error" size="xs"></wui-icon>
          <wui-text variant="sm-regular" color="error">Failed</wui-text>
        </wui-flex>
      `;if(r)return H`
        <wui-flex
          justifyContent="center"
          alignItems="center"
          class="payment-step-badge success"
          gap="1"
        >
          <wui-icon name="checkmark" color="success" size="xs"></wui-icon>
          <wui-text variant="sm-regular" color="success">Completed</wui-text>
        </wui-flex>
      `;let n=this.quote?.timeInSeconds??0;return H`
      <wui-flex alignItems="center" justifyContent="space-between" gap="3">
        <wui-flex
          justifyContent="center"
          alignItems="center"
          class="payment-step-badge loading"
          gap="1"
        >
          <wui-icon name="clock" color="default" size="xs"></wui-icon>
          <wui-text variant="sm-regular" color="primary">Est. ${n} sec</wui-text>
        </wui-flex>

        <wui-icon name="chevronBottom" color="default" size="xxs"></wui-icon>
      </wui-flex>
    `}renderPayment(){let r=R.getAllRequestedCaipNetworks().find(i=>{let a=this.quote?.origin.currency.network;if(!a)return!1;let{chainId:c}=it.parseCaipNetworkId(a);return on.isLowerCaseMatch(i.id.toString(),c.toString())}),n=pt.formatNumber(this.quote?.origin.amount||"0",{decimals:this.quote?.origin.currency.metadata.decimals??0}).toString(),s=d2(n),o=this.quote?.origin.currency.metadata.symbol??"Unknown";return H`
      <wui-flex
        alignItems="flex-start"
        justifyContent="space-between"
        .padding=${["3","0","3","0"]}
      >
        <wui-text variant="lg-regular" color="secondary">Payment Method</wui-text>

        <wui-flex flexDirection="column" alignItems="flex-end" gap="1">
          <wui-flex alignItems="center" gap="01">
            <wui-text variant="lg-regular" color="primary">${s}</wui-text>
            <wui-text variant="lg-regular" color="secondary">${o}</wui-text>
          </wui-flex>

          <wui-flex alignItems="center" gap="1">
            <wui-text variant="md-regular" color="secondary">on</wui-text>
            <wui-image
              src=${Ee(St.getNetworkImage(r))}
              size="xs"
            ></wui-image>
            <wui-text variant="md-regular" color="secondary">${r?.name}</wui-text>
          </wui-flex>
        </wui-flex>
      </wui-flex>
    `}renderWallet(){return H`
      <wui-flex
        alignItems="flex-start"
        justifyContent="space-between"
        .padding=${["3","0","3","0"]}
      >
        <wui-text variant="lg-regular" color="secondary">Wallet</wui-text>

        ${this.renderWalletText()}
      </wui-flex>
    `}renderWalletText(){let{image:t}=this.getWalletProperties({namespace:this.namespace}),{address:r}=this.caipAddress?it.parseCaipAddress(this.caipAddress):{},n=this.selectedExchange?.name;return this.selectedExchange?H`
        <wui-flex alignItems="center" justifyContent="flex-end" gap="1">
          <wui-text variant="lg-regular" color="primary">${n}</wui-text>
          <wui-image src=${Ee(this.selectedExchange.imageUrl)} size="mdl"></wui-image>
        </wui-flex>
      `:H`
      <wui-flex alignItems="center" justifyContent="flex-end" gap="1">
        <wui-text variant="lg-regular" color="primary">
          ${gr.getTruncateString({string:this.profileName||r||n||"",charsStart:this.profileName?16:4,charsEnd:this.profileName?0:6,truncate:this.profileName?"end":"middle"})}
        </wui-text>

        <wui-image src=${Ee(t)} size="mdl"></wui-image>
      </wui-flex>
    `}getStepsWithStatus(){return this.quoteStatus==="failure"||this.quoteStatus==="timeout"||this.quoteStatus==="refund"?RV.map(r=>({...r,status:"failed"})):RV.map(r=>{let s=(kot[r.id]??[]).includes(this.quoteStatus)?"completed":"pending";return{...r,status:s}})}renderStep({title:t,icon:r,status:n}){return H`
      <wui-flex alignItems="center" gap="3">
        <wui-flex justifyContent="center" alignItems="center" class="step-icon-container">
          <wui-icon name=${r} color="default" size="mdl"></wui-icon>

          <wui-flex alignItems="center" justifyContent="center" class=${m6({"step-icon-box":!0,success:n==="completed"})}>
            ${this.renderStatusIndicator(n)}
          </wui-flex>
        </wui-flex>

        <wui-text variant="md-regular" color="primary">${t}</wui-text>
      </wui-flex>
    `}renderStatusIndicator(t){return t==="completed"?H`<wui-icon size="sm" color="success" name="checkmark"></wui-icon>`:t==="failed"?H`<wui-icon size="sm" color="error" name="close"></wui-icon>`:t==="pending"?H`<wui-loading-spinner color="accent-primary" size="sm"></wui-loading-spinner>`:null}startPolling(){this.pollingInterval||(this.fetchQuoteStatus(),this.pollingInterval=setInterval(()=>{this.fetchQuoteStatus()},Bot))}stopPolling(){this.pollingInterval&&(clearInterval(this.pollingInterval),this.pollingInterval=null)}async fetchQuoteStatus(){let t=Ie.state.requestId;if(!t||OV.includes(this.quoteStatus))this.stopPolling();else try{await Ie.fetchQuoteStatus({requestId:t}),OV.includes(this.quoteStatus)&&this.stopPolling()}catch{this.stopPolling()}}initializeNamespace(){let t=R.state.activeChain;this.namespace=t,this.caipAddress=R.getAccountData(t)?.caipAddress,this.profileName=R.getAccountData(t)?.profileName??null,this.unsubscribe.push(R.subscribeChainProp("accountState",r=>{this.caipAddress=r?.caipAddress,this.profileName=r?.profileName??null},t))}getWalletProperties({namespace:t}){if(!t)return{name:void 0,image:void 0};let r=this.activeConnectorIds[t];if(!r)return{name:void 0,image:void 0};let n=X.getConnector({id:r,namespace:t});if(!n)return{name:void 0,image:void 0};let s=St.getConnectorImage(n);return{name:n.name,image:s}}};Ac.styles=i3e;Rd([oe()],Ac.prototype,"paymentAsset",void 0);Rd([oe()],Ac.prototype,"quoteStatus",void 0);Rd([oe()],Ac.prototype,"quote",void 0);Rd([oe()],Ac.prototype,"amount",void 0);Rd([oe()],Ac.prototype,"namespace",void 0);Rd([oe()],Ac.prototype,"caipAddress",void 0);Rd([oe()],Ac.prototype,"profileName",void 0);Rd([oe()],Ac.prototype,"activeConnectorIds",void 0);Rd([oe()],Ac.prototype,"selectedExchange",void 0);Ac=Rd([ee("w3m-pay-loading-view")],Ac)});var l3e,u3e=m(()=>{Nt();l3e=ce`
  button {
    display: flex;
    align-items: center;
    height: 40px;
    padding: ${({spacing:e})=>e[2]};
    border-radius: ${({borderRadius:e})=>e[4]};
    column-gap: ${({spacing:e})=>e[1]};
    background-color: transparent;
    transition: background-color ${({durations:e})=>e.lg}
      ${({easings:e})=>e["ease-out-power-2"]};
    will-change: background-color;
  }

  wui-image,
  .icon-box {
    width: ${({spacing:e})=>e[6]};
    height: ${({spacing:e})=>e[6]};
    border-radius: ${({borderRadius:e})=>e[4]};
  }

  wui-text {
    flex: 1;
  }

  .icon-box {
    position: relative;
  }

  .icon-box[data-active='true'] {
    background-color: ${({tokens:e})=>e.theme.foregroundSecondary};
  }

  .circle {
    position: absolute;
    left: 16px;
    top: 15px;
    width: 8px;
    height: 8px;
    background-color: ${({tokens:e})=>e.core.textSuccess};
    box-shadow: 0 0 0 2px ${({tokens:e})=>e.theme.foregroundPrimary};
    border-radius: 50%;
  }

  /* -- Hover & Active states ----------------------------------------------------------- */
  @media (hover: hover) {
    button:hover:enabled,
    button:active:enabled {
      background-color: ${({tokens:e})=>e.theme.foregroundPrimary};
    }
  }
`});var _l,$a,d3e=m(()=>{le();Me();Ur();as();Zg();So();Fg();Mt();c6();kt();u3e();_l=function(e,t,r,n){var s=arguments.length,o=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,r,o):i(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o},$a=class extends re{constructor(){super(...arguments),this.address="",this.profileName="",this.alt="",this.imageSrc="",this.icon=void 0,this.iconSize="md",this.enableGreenCircle=!0,this.loading=!1,this.charsStart=4,this.charsEnd=6}render(){return H`
      <button>
        ${this.leftImageTemplate()} ${this.textTemplate()} ${this.rightImageTemplate()}
      </button>
    `}leftImageTemplate(){let t=this.icon?H`<wui-icon
          size=${Ee(this.iconSize)}
          color="default"
          name=${this.icon}
          class="icon"
        ></wui-icon>`:H`<wui-image src=${this.imageSrc} alt=${this.alt}></wui-image>`;return H`
      <wui-flex
        alignItems="center"
        justifyContent="center"
        class="icon-box"
        data-active=${!!this.icon}
      >
        ${t}
        ${this.enableGreenCircle?H`<wui-flex class="circle"></wui-flex>`:null}
      </wui-flex>
    `}textTemplate(){return H`
      <wui-text variant="lg-regular" color="primary">
        ${gr.getTruncateString({string:this.profileName||this.address,charsStart:this.profileName?16:this.charsStart,charsEnd:this.profileName?0:this.charsEnd,truncate:this.profileName?"end":"middle"})}
      </wui-text>
    `}rightImageTemplate(){return H`<wui-icon name="chevronBottom" size="sm" color="default"></wui-icon>`}};$a.styles=[Ue,Qt,l3e];_l([F()],$a.prototype,"address",void 0);_l([F()],$a.prototype,"profileName",void 0);_l([F()],$a.prototype,"alt",void 0);_l([F()],$a.prototype,"imageSrc",void 0);_l([F()],$a.prototype,"icon",void 0);_l([F()],$a.prototype,"iconSize",void 0);_l([F({type:Boolean})],$a.prototype,"enableGreenCircle",void 0);_l([F({type:Boolean})],$a.prototype,"loading",void 0);_l([F({type:Number})],$a.prototype,"charsStart",void 0);_l([F({type:Number})],$a.prototype,"charsEnd",void 0);$a=_l([ee("wui-wallet-switch")],$a)});var p3e=m(()=>{d3e()});var f3e,h3e=m(()=>{le();f3e=Sr`
  :host {
    display: block;
  }
`});var Dot,kV,m3e=m(()=>{le();Fe();Wr();_5();Wn();h3e();Dot=function(e,t,r,n){var s=arguments.length,o=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,r,o):i(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o},kV=class extends re{render(){return H`
      <wui-flex flexDirection="column" gap="4">
        <wui-flex alignItems="center" justifyContent="space-between">
          <wui-text variant="md-regular" color="secondary">Pay</wui-text>
          <wui-shimmer width="60px" height="16px" borderRadius="4xs" variant="light"></wui-shimmer>
        </wui-flex>

        <wui-flex alignItems="center" justifyContent="space-between">
          <wui-text variant="md-regular" color="secondary">Network Fee</wui-text>

          <wui-flex flexDirection="column" alignItems="flex-end" gap="2">
            <wui-shimmer
              width="75px"
              height="16px"
              borderRadius="4xs"
              variant="light"
            ></wui-shimmer>

            <wui-flex alignItems="center" gap="01">
              <wui-shimmer width="14px" height="14px" rounded variant="light"></wui-shimmer>
              <wui-shimmer
                width="49px"
                height="14px"
                borderRadius="4xs"
                variant="light"
              ></wui-shimmer>
            </wui-flex>
          </wui-flex>
        </wui-flex>

        <wui-flex alignItems="center" justifyContent="space-between">
          <wui-text variant="md-regular" color="secondary">Service Fee</wui-text>
          <wui-shimmer width="75px" height="16px" borderRadius="4xs" variant="light"></wui-shimmer>
        </wui-flex>
      </wui-flex>
    `}};kV.styles=[f3e];kV=Dot([ee("w3m-pay-fees-skeleton")],kV)});var g3e,y3e=m(()=>{Fe();g3e=ce`
  :host {
    display: block;
  }

  wui-image {
    border-radius: ${({borderRadius:e})=>e.round};
  }
`});var w3e,GT,b3e=m(()=>{le();Me();Ur();at();st();Fe();Wr();VT();Wn();Sl();xf();y3e();w3e=function(e,t,r,n){var s=arguments.length,o=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,r,o):i(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o},GT=class extends re{constructor(){super(),this.unsubscribe=[],this.quote=Ie.state.quote,this.unsubscribe.push(Ie.subscribeKey("quote",t=>this.quote=t))}disconnectedCallback(){this.unsubscribe.forEach(t=>t())}render(){let t=pt.formatNumber(this.quote?.origin.amount||"0",{decimals:this.quote?.origin.currency.metadata.decimals??0,round:6}).toString();return H`
      <wui-flex flexDirection="column" gap="4">
        <wui-flex alignItems="center" justifyContent="space-between">
          <wui-text variant="md-regular" color="secondary">Pay</wui-text>
          <wui-text variant="md-regular" color="primary">
            ${t} ${this.quote?.origin.currency.metadata.symbol||"Unknown"}
          </wui-text>
        </wui-flex>

        ${this.quote&&this.quote.fees.length>0?this.quote.fees.map(r=>this.renderFee(r)):null}
      </wui-flex>
    `}renderFee(t){let r=t.id==="network",n=pt.formatNumber(t.amount||"0",{decimals:t.currency.metadata.decimals??0,round:6}).toString();if(r){let o=R.getAllRequestedCaipNetworks().find(i=>on.isLowerCaseMatch(i.caipNetworkId,t.currency.network));return H`
        <wui-flex alignItems="center" justifyContent="space-between">
          <wui-text variant="md-regular" color="secondary">${t.label}</wui-text>

          <wui-flex flexDirection="column" alignItems="flex-end" gap="2">
            <wui-text variant="md-regular" color="primary">
              ${n} ${t.currency.metadata.symbol||"Unknown"}
            </wui-text>

            <wui-flex alignItems="center" gap="01">
              <wui-image
                src=${Ee(St.getNetworkImage(o))}
                size="xs"
              ></wui-image>
              <wui-text variant="sm-regular" color="secondary">
                ${o?.name||"Unknown"}
              </wui-text>
            </wui-flex>
          </wui-flex>
        </wui-flex>
      `}return H`
      <wui-flex alignItems="center" justifyContent="space-between">
        <wui-text variant="md-regular" color="secondary">${t.label}</wui-text>
        <wui-text variant="md-regular" color="primary">
          ${n} ${t.currency.metadata.symbol||"Unknown"}
        </wui-text>
      </wui-flex>
    `}};GT.styles=[g3e];w3e([oe()],GT.prototype,"quote",void 0);GT=w3e([ee("w3m-pay-fees")],GT)});var x3e,v3e=m(()=>{Fe();x3e=ce`
  :host {
    display: block;
    width: 100%;
  }

  .disabled-container {
    padding: ${({spacing:e})=>e[2]};
    min-height: 168px;
  }

  wui-icon {
    width: ${({spacing:e})=>e[8]};
    height: ${({spacing:e})=>e[8]};
  }

  wui-flex > wui-text {
    max-width: 273px;
  }
`});var E3e,YT,A3e=m(()=>{le();Me();Fe();m5();Wr();ff();Wn();xf();v3e();E3e=function(e,t,r,n){var s=arguments.length,o=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,r,o):i(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o},YT=class extends re{constructor(){super(),this.unsubscribe=[],this.selectedExchange=Ie.state.selectedExchange,this.unsubscribe.push(Ie.subscribeKey("selectedExchange",t=>this.selectedExchange=t))}disconnectedCallback(){this.unsubscribe.forEach(t=>t())}render(){let t=!!this.selectedExchange;return H`
      <wui-flex
        flexDirection="column"
        alignItems="center"
        justifyContent="center"
        gap="3"
        class="disabled-container"
      >
        <wui-icon name="coins" color="default" size="inherit"></wui-icon>

        <wui-text variant="md-regular" color="primary" align="center">
          You don't have enough funds to complete this transaction
        </wui-text>

        ${t?null:H`<wui-button
              size="md"
              variant="neutral-secondary"
              @click=${this.dispatchConnectOtherWalletEvent.bind(this)}
              >Connect other wallet</wui-button
            >`}
      </wui-flex>
    `}dispatchConnectOtherWalletEvent(){this.dispatchEvent(new CustomEvent("connectOtherWallet",{detail:!0,bubbles:!0,composed:!0}))}};YT.styles=[x3e];E3e([F({type:Array})],YT.prototype,"selectedExchange",void 0);YT=E3e([ee("w3m-pay-options-empty")],YT)});var C3e,S3e=m(()=>{Fe();C3e=ce`
  :host {
    display: block;
    width: 100%;
  }

  .pay-options-container {
    max-height: 196px;
    overflow-y: auto;
    overflow-x: hidden;
    scrollbar-width: none;
  }

  .pay-options-container::-webkit-scrollbar {
    display: none;
  }

  .pay-option-container {
    border-radius: ${({borderRadius:e})=>e[4]};
    padding: ${({spacing:e})=>e[3]};
    min-height: 60px;
  }

  .token-images-container {
    position: relative;
    justify-content: center;
    align-items: center;
  }

  .chain-image {
    position: absolute;
    bottom: -3px;
    right: -5px;
    border: 2px solid ${({tokens:e})=>e.theme.foregroundSecondary};
  }
`});var Uot,BV,I3e=m(()=>{le();Fe();Wr();_5();S3e();Uot=function(e,t,r,n){var s=arguments.length,o=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,r,o):i(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o},BV=class extends re{render(){return H`
      <wui-flex flexDirection="column" gap="2" class="pay-options-container">
        ${this.renderOptionEntry()} ${this.renderOptionEntry()} ${this.renderOptionEntry()}
      </wui-flex>
    `}renderOptionEntry(){return H`
      <wui-flex
        alignItems="center"
        justifyContent="space-between"
        gap="2"
        class="pay-option-container"
      >
        <wui-flex alignItems="center" gap="2">
          <wui-flex class="token-images-container">
            <wui-shimmer
              width="32px"
              height="32px"
              rounded
              variant="light"
              class="token-image"
            ></wui-shimmer>
            <wui-shimmer
              width="16px"
              height="16px"
              rounded
              variant="light"
              class="chain-image"
            ></wui-shimmer>
          </wui-flex>

          <wui-flex flexDirection="column" gap="1">
            <wui-shimmer
              width="74px"
              height="16px"
              borderRadius="4xs"
              variant="light"
            ></wui-shimmer>
            <wui-shimmer
              width="46px"
              height="14px"
              borderRadius="4xs"
              variant="light"
            ></wui-shimmer>
          </wui-flex>
        </wui-flex>
      </wui-flex>
    `}};BV.styles=[C3e];BV=Uot([ee("w3m-pay-options-skeleton")],BV)});var _3e,T3e=m(()=>{Fe();_3e=ce`
  :host {
    display: block;
    width: 100%;
  }

  .pay-options-container {
    max-height: 196px;
    overflow-y: auto;
    overflow-x: hidden;
    scrollbar-width: none;
    mask-image: var(--options-mask-image);
    -webkit-mask-image: var(--options-mask-image);
  }

  .pay-options-container::-webkit-scrollbar {
    display: none;
  }

  .pay-option-container {
    cursor: pointer;
    border-radius: ${({borderRadius:e})=>e[4]};
    padding: ${({spacing:e})=>e[3]};
    transition: background-color ${({durations:e})=>e.lg}
      ${({easings:e})=>e["ease-out-power-1"]};
    will-change: background-color;
  }

  .token-images-container {
    position: relative;
    justify-content: center;
    align-items: center;
  }

  .token-image {
    border-radius: ${({borderRadius:e})=>e.round};
    width: 32px;
    height: 32px;
  }

  .chain-image {
    position: absolute;
    width: 16px;
    height: 16px;
    bottom: -3px;
    right: -5px;
    border-radius: ${({borderRadius:e})=>e.round};
    border: 2px solid ${({tokens:e})=>e.theme.backgroundPrimary};
  }

  @media (hover: hover) and (pointer: fine) {
    .pay-option-container:hover {
      background-color: ${({tokens:e})=>e.theme.foregroundPrimary};
    }
  }
`});var JT,Lot,U6,P3e=m(()=>{le();Me();Ur();at();st();Fe();Wr();Wn();T3e();JT=function(e,t,r,n){var s=arguments.length,o=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,r,o):i(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o},Lot=300,U6=class extends re{constructor(){super(),this.unsubscribe=[],this.options=[],this.selectedPaymentAsset=null}disconnectedCallback(){this.unsubscribe.forEach(r=>r()),this.resizeObserver?.disconnect(),this.shadowRoot?.querySelector(".pay-options-container")?.removeEventListener("scroll",this.handleOptionsListScroll.bind(this))}firstUpdated(){let t=this.shadowRoot?.querySelector(".pay-options-container");t&&(requestAnimationFrame(this.handleOptionsListScroll.bind(this)),t?.addEventListener("scroll",this.handleOptionsListScroll.bind(this)),this.resizeObserver=new ResizeObserver(()=>{this.handleOptionsListScroll()}),this.resizeObserver?.observe(t),this.handleOptionsListScroll())}render(){return H`
      <wui-flex flexDirection="column" gap="2" class="pay-options-container">
        ${this.options.map(t=>this.payOptionTemplate(t))}
      </wui-flex>
    `}payOptionTemplate(t){let{network:r,metadata:n,asset:s,amount:o="0"}=t,a=R.getAllRequestedCaipNetworks().find(f=>f.caipNetworkId===r),c=`${r}:${s}`,l=`${this.selectedPaymentAsset?.network}:${this.selectedPaymentAsset?.asset}`,u=c===l,d=pt.bigNumber(o,{safe:!0}),p=d.gt(0);return H`
      <wui-flex
        alignItems="center"
        justifyContent="space-between"
        gap="2"
        @click=${()=>this.onSelect?.(t)}
        class="pay-option-container"
      >
        <wui-flex alignItems="center" gap="2">
          <wui-flex class="token-images-container">
            <wui-image
              src=${Ee(n.logoURI)}
              class="token-image"
              size="3xl"
            ></wui-image>
            <wui-image
              src=${Ee(St.getNetworkImage(a))}
              class="chain-image"
              size="md"
            ></wui-image>
          </wui-flex>

          <wui-flex flexDirection="column" gap="1">
            <wui-text variant="lg-regular" color="primary">${n.symbol}</wui-text>
            ${p?H`<wui-text variant="sm-regular" color="secondary">
                  ${d.round(6).toString()} ${n.symbol}
                </wui-text>`:null}
          </wui-flex>
        </wui-flex>

        ${u?H`<wui-icon name="checkmark" size="md" color="success"></wui-icon>`:null}
      </wui-flex>
    `}handleOptionsListScroll(){let t=this.shadowRoot?.querySelector(".pay-options-container");if(!t)return;t.scrollHeight>Lot?(t.style.setProperty("--options-mask-image",`linear-gradient(
          to bottom,
          rgba(0, 0, 0, calc(1 - var(--options-scroll--top-opacity))) 0px,
          rgba(200, 200, 200, calc(1 - var(--options-scroll--top-opacity))) 1px,
          black 50px,
          black calc(100% - 50px),
          rgba(155, 155, 155, calc(1 - var(--options-scroll--bottom-opacity))) calc(100% - 1px),
          rgba(0, 0, 0, calc(1 - var(--options-scroll--bottom-opacity))) 100%
        )`),t.style.setProperty("--options-scroll--top-opacity",F7.interpolate([0,50],[0,1],t.scrollTop).toString()),t.style.setProperty("--options-scroll--bottom-opacity",F7.interpolate([0,50],[0,1],t.scrollHeight-t.scrollTop-t.offsetHeight).toString())):(t.style.setProperty("--options-mask-image","none"),t.style.setProperty("--options-scroll--top-opacity","0"),t.style.setProperty("--options-scroll--bottom-opacity","0"))}};U6.styles=[_3e];JT([F({type:Array})],U6.prototype,"options",void 0);JT([F()],U6.prototype,"selectedPaymentAsset",void 0);JT([F()],U6.prototype,"onSelect",void 0);U6=JT([ee("w3m-pay-options")],U6)});var N3e,R3e=m(()=>{Fe();N3e=ce`
  .payment-methods-container {
    background-color: ${({tokens:e})=>e.theme.foregroundPrimary};
    border-top-right-radius: ${({borderRadius:e})=>e[5]};
    border-top-left-radius: ${({borderRadius:e})=>e[5]};
  }

  .pay-options-container {
    background-color: ${({tokens:e})=>e.theme.foregroundSecondary};
    border-radius: ${({borderRadius:e})=>e[5]};
    padding: ${({spacing:e})=>e[1]};
  }

  w3m-tooltip-trigger {
    display: flex;
    align-items: center;
    justify-content: center;
    max-width: fit-content;
  }

  wui-image {
    border-radius: ${({borderRadius:e})=>e.round};
  }

  w3m-pay-options.disabled {
    opacity: 0.5;
    pointer-events: none;
  }
`});var Is,QT,Mot,Zn,O3e=m(()=>{le();Me();pT();Ur();at();st();Fe();Wr();Wn();p3e();Sl();xf();m3e();b3e();A3e();I3e();P3e();L5();KT();R3e();Is=function(e,t,r,n){var s=arguments.length,o=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,r,o):i(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o},QT={eip155:"ethereum",solana:"solana",bip122:"bitcoin",ton:"ton"},Mot={eip155:{icon:QT.eip155,label:"EVM"},solana:{icon:QT.solana,label:"Solana"},bip122:{icon:QT.bip122,label:"Bitcoin"},ton:{icon:QT.ton,label:"Ton"}},Zn=class extends re{constructor(){super(),this.unsubscribe=[],this.profileName=null,this.paymentAsset=Ie.state.paymentAsset,this.namespace=void 0,this.caipAddress=void 0,this.amount=Ie.state.amount,this.recipient=Ie.state.recipient,this.activeConnectorIds=X.state.activeConnectorIds,this.selectedPaymentAsset=Ie.state.selectedPaymentAsset,this.selectedExchange=Ie.state.selectedExchange,this.isFetchingQuote=Ie.state.isFetchingQuote,this.quoteError=Ie.state.quoteError,this.quote=Ie.state.quote,this.isFetchingTokenBalances=Ie.state.isFetchingTokenBalances,this.tokenBalances=Ie.state.tokenBalances,this.isPaymentInProgress=Ie.state.isPaymentInProgress,this.exchangeUrlForQuote=Ie.state.exchangeUrlForQuote,this.completedTransactionsCount=0,this.unsubscribe.push(Ie.subscribeKey("paymentAsset",t=>this.paymentAsset=t)),this.unsubscribe.push(Ie.subscribeKey("tokenBalances",t=>this.onTokenBalancesChanged(t))),this.unsubscribe.push(Ie.subscribeKey("isFetchingTokenBalances",t=>this.isFetchingTokenBalances=t)),this.unsubscribe.push(X.subscribeKey("activeConnectorIds",t=>this.activeConnectorIds=t)),this.unsubscribe.push(Ie.subscribeKey("selectedPaymentAsset",t=>this.selectedPaymentAsset=t)),this.unsubscribe.push(Ie.subscribeKey("isFetchingQuote",t=>this.isFetchingQuote=t)),this.unsubscribe.push(Ie.subscribeKey("quoteError",t=>this.quoteError=t)),this.unsubscribe.push(Ie.subscribeKey("quote",t=>this.quote=t)),this.unsubscribe.push(Ie.subscribeKey("amount",t=>this.amount=t)),this.unsubscribe.push(Ie.subscribeKey("recipient",t=>this.recipient=t)),this.unsubscribe.push(Ie.subscribeKey("isPaymentInProgress",t=>this.isPaymentInProgress=t)),this.unsubscribe.push(Ie.subscribeKey("selectedExchange",t=>this.selectedExchange=t)),this.unsubscribe.push(Ie.subscribeKey("exchangeUrlForQuote",t=>this.exchangeUrlForQuote=t)),this.resetQuoteState(),this.initializeNamespace(),this.fetchTokens()}disconnectedCallback(){super.disconnectedCallback(),this.resetAssetsState(),this.unsubscribe.forEach(t=>t())}updated(t){super.updated(t),t.has("selectedPaymentAsset")&&this.fetchQuote()}render(){return H`
      <wui-flex flexDirection="column">
        ${this.profileTemplate()}

        <wui-flex
          flexDirection="column"
          gap="4"
          class="payment-methods-container"
          .padding=${["4","4","5","4"]}
        >
          ${this.paymentOptionsViewTemplate()} ${this.amountWithFeeTemplate()}

          <wui-flex
            alignItems="center"
            justifyContent="space-between"
            .padding=${["1","0","1","0"]}
          >
            <wui-separator></wui-separator>
          </wui-flex>

          ${this.paymentActionsTemplate()}
        </wui-flex>
      </wui-flex>
    `}profileTemplate(){if(this.selectedExchange){let i=pt.formatNumber(this.quote?.origin.amount,{decimals:this.quote?.origin.currency.metadata.decimals??0}).toString();return H`
        <wui-flex
          .padding=${["4","3","4","3"]}
          alignItems="center"
          justifyContent="space-between"
          gap="2"
        >
          <wui-text variant="lg-regular" color="secondary">Paying with</wui-text>

          ${this.quote?H`<wui-text variant="lg-regular" color="primary">
                ${pt.bigNumber(i,{safe:!0}).round(6).toString()}
                ${this.quote.origin.currency.metadata.symbol}
              </wui-text>`:H`<wui-shimmer width="80px" height="18px" variant="light"></wui-shimmer>`}
        </wui-flex>
      `}let t=te.getPlainAddress(this.caipAddress)??"",{name:r,image:n}=this.getWalletProperties({namespace:this.namespace}),{icon:s,label:o}=Mot[this.namespace]??{};return H`
      <wui-flex
        .padding=${["4","3","4","3"]}
        alignItems="center"
        justifyContent="space-between"
        gap="2"
      >
        <wui-wallet-switch
          profileName=${Ee(this.profileName)}
          address=${Ee(t)}
          imageSrc=${Ee(n)}
          alt=${Ee(r)}
          @click=${this.onConnectOtherWallet.bind(this)}
          data-testid="wui-wallet-switch"
        ></wui-wallet-switch>

        <wui-wallet-switch
          profileName=${Ee(o)}
          address=${Ee(t)}
          icon=${Ee(s)}
          iconSize="xs"
          .enableGreenCircle=${!1}
          alt=${Ee(o)}
          @click=${this.onConnectOtherWallet.bind(this)}
          data-testid="wui-wallet-switch"
        ></wui-wallet-switch>
      </wui-flex>
    `}initializeNamespace(){let t=R.state.activeChain;this.namespace=t,this.caipAddress=R.getAccountData(t)?.caipAddress,this.profileName=R.getAccountData(t)?.profileName??null,this.unsubscribe.push(R.subscribeChainProp("accountState",r=>this.onAccountStateChanged(r),t))}async fetchTokens(){if(this.namespace){let t;if(this.caipAddress){let{chainId:r,chainNamespace:n}=it.parseCaipAddress(this.caipAddress),s=`${n}:${r}`;t=R.getAllRequestedCaipNetworks().find(i=>i.caipNetworkId===s)}await Ie.fetchTokens({caipAddress:this.caipAddress,caipNetwork:t,namespace:this.namespace})}}fetchQuote(){if(this.amount&&this.recipient&&this.selectedPaymentAsset&&this.paymentAsset){let{address:t}=this.caipAddress?it.parseCaipAddress(this.caipAddress):{};Ie.fetchQuote({amount:this.amount.toString(),address:t,sourceToken:this.selectedPaymentAsset,toToken:this.paymentAsset,recipient:this.recipient})}}getWalletProperties({namespace:t}){if(!t)return{name:void 0,image:void 0};let r=this.activeConnectorIds[t];if(!r)return{name:void 0,image:void 0};let n=X.getConnector({id:r,namespace:t});if(!n)return{name:void 0,image:void 0};let s=St.getConnectorImage(n);return{name:n.name,image:s}}paymentOptionsViewTemplate(){return H`
      <wui-flex flexDirection="column" gap="2">
        <wui-text variant="sm-regular" color="secondary">CHOOSE PAYMENT OPTION</wui-text>
        <wui-flex class="pay-options-container">${this.paymentOptionsTemplate()}</wui-flex>
      </wui-flex>
    `}paymentOptionsTemplate(){let t=this.getPaymentAssetFromTokenBalances();if(this.isFetchingTokenBalances)return H`<w3m-pay-options-skeleton></w3m-pay-options-skeleton>`;if(t.length===0)return H`<w3m-pay-options-empty
        @connectOtherWallet=${this.onConnectOtherWallet.bind(this)}
      ></w3m-pay-options-empty>`;let r={disabled:this.isFetchingQuote};return H`<w3m-pay-options
      class=${m6(r)}
      .options=${t}
      .selectedPaymentAsset=${Ee(this.selectedPaymentAsset)}
      .onSelect=${this.onSelectedPaymentAssetChanged.bind(this)}
    ></w3m-pay-options>`}amountWithFeeTemplate(){return this.isFetchingQuote||!this.selectedPaymentAsset||this.quoteError?H`<w3m-pay-fees-skeleton></w3m-pay-fees-skeleton>`:H`<w3m-pay-fees></w3m-pay-fees>`}paymentActionsTemplate(){let t=this.isFetchingQuote||this.isFetchingTokenBalances,r=this.isFetchingQuote||this.isFetchingTokenBalances||!this.selectedPaymentAsset||!!this.quoteError,n=pt.formatNumber(this.quote?.origin.amount??0,{decimals:this.quote?.origin.currency.metadata.decimals??0}).toString();return this.selectedExchange?t||r?H`
          <wui-shimmer width="100%" height="48px" variant="light" ?rounded=${!0}></wui-shimmer>
        `:H`<wui-button
        size="lg"
        fullWidth
        variant="accent-secondary"
        @click=${this.onPayWithExchange.bind(this)}
      >
        ${`Continue in ${this.selectedExchange.name}`}

        <wui-icon name="arrowRight" color="inherit" size="sm" slot="iconRight"></wui-icon>
      </wui-button>`:H`
      <wui-flex alignItems="center" justifyContent="space-between">
        <wui-flex flexDirection="column" gap="1">
          <wui-text variant="md-regular" color="secondary">Order Total</wui-text>

          ${t||r?H`<wui-shimmer width="58px" height="32px" variant="light"></wui-shimmer>`:H`<wui-flex alignItems="center" gap="01">
                <wui-text variant="h4-regular" color="primary">${d2(n)}</wui-text>

                <wui-text variant="lg-regular" color="secondary">
                  ${this.quote?.origin.currency.metadata.symbol||"Unknown"}
                </wui-text>
              </wui-flex>`}
        </wui-flex>

        ${this.actionButtonTemplate({isLoading:t,isDisabled:r})}
      </wui-flex>
    `}actionButtonTemplate(t){let r=WT(this.quote),{isLoading:n,isDisabled:s}=t,o="Pay";return r.length>1&&this.completedTransactionsCount===0&&(o="Approve"),H`
      <wui-button
        size="lg"
        variant="accent-primary"
        ?loading=${n||this.isPaymentInProgress}
        ?disabled=${s||this.isPaymentInProgress}
        @click=${()=>{r.length>0?this.onSendTransactions():this.onTransfer()}}
      >
        ${o}
        ${n?null:H`<wui-icon
              name="arrowRight"
              color="inherit"
              size="sm"
              slot="iconRight"
            ></wui-icon>`}
      </wui-button>
    `}getPaymentAssetFromTokenBalances(){return this.namespace?(this.tokenBalances[this.namespace]??[]).map(s=>{try{return Zve(s)}catch{return null}}).filter(s=>!!s).filter(s=>{let{chainId:o}=it.parseCaipNetworkId(s.network),{chainId:i}=it.parseCaipNetworkId(this.paymentAsset.network);return on.isLowerCaseMatch(s.asset,this.paymentAsset.asset)?!0:this.selectedExchange?!on.isLowerCaseMatch(o.toString(),i.toString()):!0}):[]}onTokenBalancesChanged(t){this.tokenBalances=t;let[r]=this.getPaymentAssetFromTokenBalances();r&&Ie.setSelectedPaymentAsset(r)}async onConnectOtherWallet(){await X.connect(),await ke.open({view:"PayQuote"})}onAccountStateChanged(t){let{address:r}=this.caipAddress?it.parseCaipAddress(this.caipAddress):{};if(this.caipAddress=t?.caipAddress,this.profileName=t?.profileName??null,r){let{address:n}=this.caipAddress?it.parseCaipAddress(this.caipAddress):{};n?on.isLowerCaseMatch(n,r)||(this.resetAssetsState(),this.resetQuoteState(),this.fetchTokens()):ke.close()}}onSelectedPaymentAssetChanged(t){this.isFetchingQuote||Ie.setSelectedPaymentAsset(t)}async onTransfer(){let t=U5(this.quote);if(t){if(!on.isLowerCaseMatch(this.selectedPaymentAsset?.asset,t.deposit.currency))throw new Error("Quote asset is not the same as the selected payment asset");let n=this.selectedPaymentAsset?.amount??"0",s=pt.formatNumber(t.deposit.amount,{decimals:this.selectedPaymentAsset?.metadata.decimals??0}).toString();if(!pt.bigNumber(n).gte(s)){Ze.showError("Insufficient funds");return}if(this.quote&&this.selectedPaymentAsset&&this.caipAddress&&this.namespace){let{address:i}=it.parseCaipAddress(this.caipAddress);await Ie.onTransfer({chainNamespace:this.namespace,fromAddress:i,toAddress:t.deposit.receiver,amount:s,paymentAsset:this.selectedPaymentAsset}),Ie.setRequestId(t.requestId),K.push("PayLoading")}}}async onSendTransactions(){let t=this.selectedPaymentAsset?.amount??"0",r=pt.formatNumber(this.quote?.origin.amount??0,{decimals:this.selectedPaymentAsset?.metadata.decimals??0}).toString();if(!pt.bigNumber(t).gte(r)){Ze.showError("Insufficient funds");return}let s=WT(this.quote),[o]=WT(this.quote,this.completedTransactionsCount);o&&this.namespace&&(await Ie.onSendTransaction({namespace:this.namespace,transactionStep:o}),this.completedTransactionsCount+=1,this.completedTransactionsCount===s.length&&(Ie.setRequestId(o.requestId),K.push("PayLoading")))}onPayWithExchange(){if(this.exchangeUrlForQuote){let t=te.returnOpenHref("","popupWindow","scrollbar=yes,width=480,height=720");if(!t)throw new Error("Could not create popup window");t.location.href=this.exchangeUrlForQuote;let r=U5(this.quote);r&&Ie.setRequestId(r.requestId),Ie.initiatePayment(),K.push("PayLoading")}}resetAssetsState(){Ie.setSelectedPaymentAsset(null)}resetQuoteState(){Ie.resetQuoteState()}};Zn.styles=N3e;Is([oe()],Zn.prototype,"profileName",void 0);Is([oe()],Zn.prototype,"paymentAsset",void 0);Is([oe()],Zn.prototype,"namespace",void 0);Is([oe()],Zn.prototype,"caipAddress",void 0);Is([oe()],Zn.prototype,"amount",void 0);Is([oe()],Zn.prototype,"recipient",void 0);Is([oe()],Zn.prototype,"activeConnectorIds",void 0);Is([oe()],Zn.prototype,"selectedPaymentAsset",void 0);Is([oe()],Zn.prototype,"selectedExchange",void 0);Is([oe()],Zn.prototype,"isFetchingQuote",void 0);Is([oe()],Zn.prototype,"quoteError",void 0);Is([oe()],Zn.prototype,"quote",void 0);Is([oe()],Zn.prototype,"isFetchingTokenBalances",void 0);Is([oe()],Zn.prototype,"tokenBalances",void 0);Is([oe()],Zn.prototype,"isPaymentInProgress",void 0);Is([oe()],Zn.prototype,"exchangeUrlForQuote",void 0);Is([oe()],Zn.prototype,"completedTransactionsCount",void 0);Zn=Is([ee("w3m-pay-quote-view")],Zn)});var k3e=m(()=>{xf();B6()});var B3e=m(()=>{});var D3e=m(()=>{e3e();c3e();O3e();k3e();xf();B3e()});var U3e,L3e=m(()=>{Fe();U3e=ce`
  wui-image {
    border-radius: ${({borderRadius:e})=>e.round};
  }

  .transfers-badge {
    background-color: ${({tokens:e})=>e.theme.foregroundPrimary};
    border: 1px solid ${({tokens:e})=>e.theme.foregroundSecondary};
    border-radius: ${({borderRadius:e})=>e[4]};
  }
`});var DV,M5,M3e=m(()=>{le();Me();Ur();st();D3e();Fe();Wr();Wn();L3e();DV=function(e,t,r,n){var s=arguments.length,o=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,r,o):i(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o},M5=class extends re{constructor(){super(),this.unsubscribe=[],this.paymentAsset=Ie.state.paymentAsset,this.amount=Ie.state.amount,this.unsubscribe.push(Ie.subscribeKey("paymentAsset",t=>{this.paymentAsset=t}),Ie.subscribeKey("amount",t=>{this.amount=t}))}disconnectedCallback(){this.unsubscribe.forEach(t=>t())}render(){let r=R.getAllRequestedCaipNetworks().find(n=>n.caipNetworkId===this.paymentAsset.network);return H`<wui-flex
      alignItems="center"
      gap="1"
      .padding=${["1","2","1","1"]}
      class="transfers-badge"
    >
      <wui-image src=${Ee(this.paymentAsset.metadata.logoURI)} size="xl"></wui-image>
      <wui-text variant="lg-regular" color="primary">
        ${this.amount} ${this.paymentAsset.metadata.symbol}
      </wui-text>
      <wui-text variant="sm-regular" color="secondary">
        on ${r?.name??"Unknown"}
      </wui-text>
    </wui-flex>`}};M5.styles=[U3e];DV([F()],M5.prototype,"paymentAsset",void 0);DV([F()],M5.prototype,"amount",void 0);M5=DV([ee("w3m-pay-header")],M5)});var H3e,$3e=m(()=>{Fe();H3e=ce`
  :host {
    height: 60px;
  }

  :host > wui-flex {
    box-sizing: border-box;
    background-color: var(--local-header-background-color);
  }

  wui-text {
    background-color: var(--local-header-background-color);
  }

  wui-flex.w3m-header-title {
    transform: translateY(0);
    opacity: 1;
  }

  wui-flex.w3m-header-title[view-direction='prev'] {
    animation:
      slide-down-out 120ms forwards ${({easings:e})=>e["ease-out-power-2"]},
      slide-down-in 120ms forwards ${({easings:e})=>e["ease-out-power-2"]};
    animation-delay: 0ms, 200ms;
  }

  wui-flex.w3m-header-title[view-direction='next'] {
    animation:
      slide-up-out 120ms forwards ${({easings:e})=>e["ease-out-power-2"]},
      slide-up-in 120ms forwards ${({easings:e})=>e["ease-out-power-2"]};
    animation-delay: 0ms, 200ms;
  }

  wui-icon-button[data-hidden='true'] {
    opacity: 0 !important;
    pointer-events: none;
  }

  @keyframes slide-up-out {
    from {
      transform: translateY(0px);
      opacity: 1;
    }
    to {
      transform: translateY(3px);
      opacity: 0;
    }
  }

  @keyframes slide-up-in {
    from {
      transform: translateY(-3px);
      opacity: 0;
    }
    to {
      transform: translateY(0);
      opacity: 1;
    }
  }

  @keyframes slide-down-out {
    from {
      transform: translateY(0px);
      opacity: 1;
    }
    to {
      transform: translateY(-3px);
      opacity: 0;
    }
  }

  @keyframes slide-down-in {
    from {
      transform: translateY(3px);
      opacity: 0;
    }
    to {
      transform: translateY(0);
      opacity: 1;
    }
  }
`});function F3e(){let e=K.state.data?.connector?.name,t=K.state.data?.wallet?.name,r=K.state.data?.network?.name,n=t??e,s=X.getConnectors(),o=s.length===1&&s[0]?.id==="w3m-email",i=R.getAccountData()?.socialProvider,a=i?i.charAt(0).toUpperCase()+i.slice(1):"Connect Social";return{Connect:`Connect ${o?"Email":""} Wallet`,Create:"Create Wallet",ChooseAccountName:void 0,Account:void 0,AccountSettings:void 0,AllWallets:"All Wallets",ApproveTransaction:"Approve Transaction",BuyInProgress:"Buy",UsageExceeded:"Usage Exceeded",ConnectingExternal:n??"Connect Wallet",ConnectingWalletConnect:n??"WalletConnect",ConnectingWalletConnectBasic:"WalletConnect",ConnectingSiwe:"Sign In",Convert:"Convert",ConvertSelectToken:"Select token",ConvertPreview:"Preview Convert",Downloads:n?`Get ${n}`:"Downloads",EmailLogin:"Email Login",EmailVerifyOtp:"Confirm Email",EmailVerifyDevice:"Register Device",GetWallet:"Get a Wallet",Networks:"Choose Network",OnRampProviders:"Choose Provider",OnRampActivity:"Activity",OnRampTokenSelect:"Select Token",OnRampFiatSelect:"Select Currency",Pay:"How you pay",ProfileWallets:"Wallets",SwitchNetwork:r??"Switch Network",Transactions:"Activity",UnsupportedChain:"Switch Network",UpgradeEmailWallet:"Upgrade Your Wallet",UpdateEmailWallet:"Edit Email",UpdateEmailPrimaryOtp:"Confirm Current Email",UpdateEmailSecondaryOtp:"Confirm New Email",WhatIsABuy:"What is Buy?",RegisterAccountName:"Choose Name",RegisterAccountNameSuccess:"",WalletReceive:"Receive",WalletCompatibleNetworks:"Compatible Networks",Swap:"Swap",SwapSelectToken:"Select Token",SwapPreview:"Preview Swap",WalletSend:"Send",WalletSendPreview:"Review Send",WalletSendSelectToken:"Select Token",WalletSendConfirmed:"Confirmed",WhatIsANetwork:"What is a network?",WhatIsAWallet:"What is a Wallet?",ConnectWallets:"Connect Wallet",ConnectSocials:"All Socials",ConnectingSocial:a,ConnectingMultiChain:"Select Chain",ConnectingFarcaster:"Farcaster",SwitchActiveChain:"Switch Chain",SmartSessionCreated:void 0,SmartSessionList:"Smart Sessions",SIWXSignMessage:"Sign In",PayLoading:"Processing payment...",PayQuote:"Payment Quote",DataCapture:"Profile",DataCaptureOtpConfirm:"Confirm Email",FundWallet:"Fund Wallet",PayWithExchange:"Deposit from Exchange",PayWithExchangeSelectAsset:"Select Asset",SmartAccountSettings:"Smart Account Settings"}}var Nm,Hot,$ot,Od,j3e=m(()=>{le();Me();Ur();st();Fe();Wr();wV();gve();yve();Wn();bV();M3e();$3e();Nm=function(e,t,r,n){var s=arguments.length,o=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,r,o):i(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o},Hot=["SmartSessionList"],$ot={PayWithExchange:Ht.tokens.theme.foregroundPrimary};Od=class extends re{constructor(){super(),this.unsubscribe=[],this.heading=F3e()[K.state.view],this.network=R.state.activeCaipNetwork,this.networkImage=St.getNetworkImage(this.network),this.showBack=!1,this.prevHistoryLength=1,this.view=K.state.view,this.viewDirection="",this.unsubscribe.push(Vn.subscribeNetworkImages(()=>{this.networkImage=St.getNetworkImage(this.network)}),K.subscribeKey("view",t=>{setTimeout(()=>{this.view=t,this.heading=F3e()[t]},yf.ANIMATION_DURATIONS.HeaderText),this.onViewChange(),this.onHistoryChange()}),R.subscribeKey("activeCaipNetwork",t=>{this.network=t,this.networkImage=St.getNetworkImage(this.network)}))}disconnectCallback(){this.unsubscribe.forEach(t=>t())}render(){let t=$ot[K.state.view]??Ht.tokens.theme.backgroundPrimary;return this.style.setProperty("--local-header-background-color",t),H`
      <wui-flex
        .padding=${["0","4","0","4"]}
        justifyContent="space-between"
        alignItems="center"
      >
        ${this.leftHeaderTemplate()} ${this.titleTemplate()} ${this.rightHeaderTemplate()}
      </wui-flex>
    `}onWalletHelp(){ve.sendEvent({type:"track",event:"CLICK_WALLET_HELP"}),K.push("WhatIsAWallet")}async onClose(){await Q4.safeClose()}rightHeaderTemplate(){let t=W?.state?.features?.smartSessions;return K.state.view!=="Account"||!t?this.closeButtonTemplate():H`<wui-flex>
      <wui-icon-button
        icon="clock"
        size="lg"
        iconSize="lg"
        type="neutral"
        variant="primary"
        @click=${()=>K.push("SmartSessionList")}
        data-testid="w3m-header-smart-sessions"
      ></wui-icon-button>
      ${this.closeButtonTemplate()}
    </wui-flex> `}closeButtonTemplate(){return H`
      <wui-icon-button
        icon="close"
        size="lg"
        type="neutral"
        variant="primary"
        iconSize="lg"
        @click=${this.onClose.bind(this)}
        data-testid="w3m-header-close"
      ></wui-icon-button>
    `}titleTemplate(){if(this.view==="PayQuote")return H`<w3m-pay-header></w3m-pay-header>`;let t=Hot.includes(this.view);return H`
      <wui-flex
        view-direction="${this.viewDirection}"
        class="w3m-header-title"
        alignItems="center"
        gap="2"
      >
        <wui-text
          display="inline"
          variant="lg-regular"
          color="primary"
          data-testid="w3m-header-text"
        >
          ${this.heading}
        </wui-text>
        ${t?H`<wui-tag variant="accent" size="md">Beta</wui-tag>`:null}
      </wui-flex>
    `}leftHeaderTemplate(){let{view:t}=K.state,r=t==="Connect",n=W.state.enableEmbedded,s=t==="ApproveTransaction",o=t==="ConnectingSiwe",i=t==="Account",a=W.state.enableNetworkSwitch,c=s||o||r&&n;return i&&a?H`<wui-select
        id="dynamic"
        data-testid="w3m-account-select-network"
        active-network=${Ee(this.network?.name)}
        @click=${this.onNetworks.bind(this)}
        imageSrc=${Ee(this.networkImage)}
      ></wui-select>`:this.showBack&&!c?H`<wui-icon-button
        data-testid="header-back"
        id="dynamic"
        icon="chevronLeft"
        size="lg"
        iconSize="lg"
        type="neutral"
        variant="primary"
        @click=${this.onGoBack.bind(this)}
      ></wui-icon-button>`:H`<wui-icon-button
      data-hidden=${!r}
      id="dynamic"
      icon="helpCircle"
      size="lg"
      iconSize="lg"
      type="neutral"
      variant="primary"
      @click=${this.onWalletHelp.bind(this)}
    ></wui-icon-button>`}onNetworks(){this.isAllowedNetworkSwitch()&&(ve.sendEvent({type:"track",event:"CLICK_NETWORKS"}),K.push("Networks"))}isAllowedNetworkSwitch(){let t=R.getAllRequestedCaipNetworks(),r=t?t.length>1:!1,n=t?.find(({id:s})=>s===this.network?.id);return r||!n}onViewChange(){let{history:t}=K.state,r=yf.VIEW_DIRECTION.Next;t.length<this.prevHistoryLength&&(r=yf.VIEW_DIRECTION.Prev),this.prevHistoryLength=t.length,this.viewDirection=r}async onHistoryChange(){let{history:t}=K.state,r=this.shadowRoot?.querySelector("#dynamic");t.length>1&&!this.showBack&&r?(await r.animate([{opacity:1},{opacity:0}],{duration:200,fill:"forwards",easing:"ease"}).finished,this.showBack=!0,r.animate([{opacity:0},{opacity:1}],{duration:200,fill:"forwards",easing:"ease"})):t.length<=1&&this.showBack&&r&&(await r.animate([{opacity:1},{opacity:0}],{duration:200,fill:"forwards",easing:"ease"}).finished,this.showBack=!1,r.animate([{opacity:0},{opacity:1}],{duration:200,fill:"forwards",easing:"ease"}))}onGoBack(){K.goBack()}};Od.styles=H3e;Nm([oe()],Od.prototype,"heading",void 0);Nm([oe()],Od.prototype,"network",void 0);Nm([oe()],Od.prototype,"networkImage",void 0);Nm([oe()],Od.prototype,"showBack",void 0);Nm([oe()],Od.prototype,"prevHistoryLength",void 0);Nm([oe()],Od.prototype,"view",void 0);Nm([oe()],Od.prototype,"viewDirection",void 0);Od=Nm([ee("w3m-header")],Od)});var z3e,V3e=m(()=>{Nt();z3e=ce`
  :host {
    display: flex;
    align-items: center;
    gap: ${({spacing:e})=>e[1]};
    padding: ${({spacing:e})=>e[2]} ${({spacing:e})=>e[3]}
      ${({spacing:e})=>e[2]} ${({spacing:e})=>e[2]};
    border-radius: ${({borderRadius:e})=>e[20]};
    background-color: ${({tokens:e})=>e.theme.foregroundPrimary};
    box-shadow:
      0px 0px 8px 0px rgba(0, 0, 0, 0.1),
      inset 0 0 0 1px ${({tokens:e})=>e.theme.borderPrimary};
    max-width: 320px;
  }

  wui-icon-box {
    border-radius: ${({borderRadius:e})=>e.round} !important;
    overflow: hidden;
  }

  wui-loading-spinner {
    padding: ${({spacing:e})=>e[1]};
    background-color: ${({tokens:e})=>e.core.foregroundAccent010};
    border-radius: ${({borderRadius:e})=>e.round} !important;
  }
`});var UV,H5,q3e=m(()=>{le();Me();h5();So();Mt();kt();y6();V3e();UV=function(e,t,r,n){var s=arguments.length,o=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,r,o):i(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o},H5=class extends re{constructor(){super(...arguments),this.message="",this.variant="success"}render(){return H`
      ${this.templateIcon()}
      <wui-text variant="lg-regular" color="primary" data-testid="wui-snackbar-message"
        >${this.message}</wui-text
      >
    `}templateIcon(){let t={success:"success",error:"error",warning:"warning",info:"default"},r={success:"checkmark",error:"warning",warning:"warningCircle",info:"info"};return this.variant==="loading"?H`<wui-loading-spinner size="md" color="accent-primary"></wui-loading-spinner>`:H`<wui-icon-box
      size="md"
      color=${t[this.variant]}
      icon=${r[this.variant]}
    ></wui-icon-box>`}};H5.styles=[Ue,z3e];UV([F()],H5.prototype,"message",void 0);UV([F()],H5.prototype,"variant",void 0);H5=UV([ee("wui-snackbar")],H5)});var W3e=m(()=>{q3e()});var K3e,Z3e=m(()=>{le();K3e=Sr`
  :host {
    display: block;
    position: absolute;
    opacity: 0;
    pointer-events: none;
    top: 11px;
    left: 50%;
    width: max-content;
  }
`});var G3e,XT,Y3e=m(()=>{le();Me();st();Fe();W3e();Z3e();G3e=function(e,t,r,n){var s=arguments.length,o=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,r,o):i(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o},XT=class extends re{constructor(){super(),this.unsubscribe=[],this.timeout=void 0,this.open=Ze.state.open,this.unsubscribe.push(Ze.subscribeKey("open",t=>{this.open=t,this.onOpen()}))}disconnectedCallback(){clearTimeout(this.timeout),this.unsubscribe.forEach(t=>t())}render(){let{message:t,variant:r}=Ze.state;return H` <wui-snackbar message=${t} variant=${r}></wui-snackbar> `}onOpen(){clearTimeout(this.timeout),this.open?(this.animate([{opacity:0,transform:"translateX(-50%) scale(0.85)"},{opacity:1,transform:"translateX(-50%) scale(1)"}],{duration:150,fill:"forwards",easing:"ease"}),this.timeout&&clearTimeout(this.timeout),Ze.state.autoClose&&(this.timeout=setTimeout(()=>Ze.hide(),2500))):this.animate([{opacity:1,transform:"translateX(-50%) scale(1)"},{opacity:0,transform:"translateX(-50%) scale(0.85)"}],{duration:150,fill:"forwards",easing:"ease"})}};XT.styles=K3e;G3e([oe()],XT.prototype,"open",void 0);XT=G3e([ee("w3m-snackbar")],XT)});var J3e,Q3e=m(()=>{le();J3e=Sr`
  :host {
    width: 100%;
    display: block;
  }
`});var LV,$5,X3e=m(()=>{le();Me();st();Fe();Q3e();LV=function(e,t,r,n){var s=arguments.length,o=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,r,o):i(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o},$5=class extends re{constructor(){super(),this.unsubscribe=[],this.text="",this.open=ei.state.open,this.unsubscribe.push(K.subscribeKey("view",()=>{ei.hide()}),ke.subscribeKey("open",t=>{t||ei.hide()}),ei.subscribeKey("open",t=>{this.open=t}))}disconnectedCallback(){this.unsubscribe.forEach(t=>t()),ei.hide()}render(){return H`
      <div
        @pointermove=${this.onMouseEnter.bind(this)}
        @pointerleave=${this.onMouseLeave.bind(this)}
      >
        ${this.renderChildren()}
      </div>
    `}renderChildren(){return H`<slot></slot> `}onMouseEnter(){let t=this.getBoundingClientRect();if(!this.open){let r=document.querySelector("w3m-modal"),n={width:t.width,height:t.height,left:t.left,top:t.top};if(r){let s=r.getBoundingClientRect();n.left=t.left-(window.innerWidth-s.width)/2,n.top=t.top-(window.innerHeight-s.height)/2}ei.showTooltip({message:this.text,triggerRect:n,variant:"shade"})}}onMouseLeave(t){this.contains(t.relatedTarget)||ei.hide()}};$5.styles=[J3e];LV([F()],$5.prototype,"text",void 0);LV([oe()],$5.prototype,"open",void 0);$5=LV([ee("w3m-tooltip-trigger")],$5)});var e5e,t5e=m(()=>{Fe();e5e=ce`
  :host {
    pointer-events: none;
  }

  :host > wui-flex {
    display: var(--w3m-tooltip-display);
    opacity: var(--w3m-tooltip-opacity);
    padding: 9px ${({spacing:e})=>e[3]} 10px ${({spacing:e})=>e[3]};
    border-radius: ${({borderRadius:e})=>e[3]};
    color: ${({tokens:e})=>e.theme.backgroundPrimary};
    position: absolute;
    top: var(--w3m-tooltip-top);
    left: var(--w3m-tooltip-left);
    transform: translate(calc(-50% + var(--w3m-tooltip-parent-width)), calc(-100% - 8px));
    max-width: calc(var(--apkt-modal-width) - ${({spacing:e})=>e[5]});
    transition: opacity ${({durations:e})=>e.lg}
      ${({easings:e})=>e["ease-out-power-2"]};
    will-change: opacity;
    opacity: 0;
    animation-duration: ${({durations:e})=>e.xl};
    animation-timing-function: ${({easings:e})=>e["ease-out-power-2"]};
    animation-name: fade-in;
    animation-fill-mode: forwards;
  }

  :host([data-variant='shade']) > wui-flex {
    background-color: ${({tokens:e})=>e.theme.foregroundPrimary};
  }

  :host([data-variant='shade']) > wui-flex > wui-text {
    color: ${({tokens:e})=>e.theme.textSecondary};
  }

  :host([data-variant='fill']) > wui-flex {
    background-color: ${({tokens:e})=>e.theme.backgroundPrimary};
    border: 1px solid ${({tokens:e})=>e.theme.borderPrimary};
  }

  wui-icon {
    position: absolute;
    width: 12px !important;
    height: 4px !important;
    color: ${({tokens:e})=>e.theme.foregroundPrimary};
  }

  wui-icon[data-placement='top'] {
    bottom: 0px;
    left: 50%;
    transform: translate(-50%, 95%);
  }

  wui-icon[data-placement='bottom'] {
    top: 0;
    left: 50%;
    transform: translate(-50%, -95%) rotate(180deg);
  }

  wui-icon[data-placement='right'] {
    top: 50%;
    left: 0;
    transform: translate(-65%, -50%) rotate(90deg);
  }

  wui-icon[data-placement='left'] {
    top: 50%;
    right: 0%;
    transform: translate(65%, -50%) rotate(270deg);
  }

  @keyframes fade-in {
    from {
      opacity: 0;
    }
    to {
      opacity: 1;
    }
  }
`});var F5,p2,r5e=m(()=>{le();Me();st();Fe();Wr();ff();Wn();t5e();F5=function(e,t,r,n){var s=arguments.length,o=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,r,o):i(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o},p2=class extends re{constructor(){super(),this.unsubscribe=[],this.open=ei.state.open,this.message=ei.state.message,this.triggerRect=ei.state.triggerRect,this.variant=ei.state.variant,this.unsubscribe.push(ei.subscribe(t=>{this.open=t.open,this.message=t.message,this.triggerRect=t.triggerRect,this.variant=t.variant}))}disconnectedCallback(){this.unsubscribe.forEach(t=>t())}render(){this.dataset.variant=this.variant;let t=this.triggerRect.top,r=this.triggerRect.left;return this.style.cssText=`
    --w3m-tooltip-top: ${t}px;
    --w3m-tooltip-left: ${r}px;
    --w3m-tooltip-parent-width: ${this.triggerRect.width/2}px;
    --w3m-tooltip-display: ${this.open?"flex":"none"};
    --w3m-tooltip-opacity: ${this.open?1:0};
    `,H`<wui-flex>
      <wui-icon data-placement="top" size="inherit" name="cursor"></wui-icon>
      <wui-text color="primary" variant="sm-regular">${this.message}</wui-text>
    </wui-flex>`}};p2.styles=[e5e];F5([oe()],p2.prototype,"open",void 0);F5([oe()],p2.prototype,"message",void 0);F5([oe()],p2.prototype,"triggerRect",void 0);F5([oe()],p2.prototype,"variant",void 0);p2=F5([ee("w3m-tooltip")],p2)});var f2,MV=m(()=>{at();st();bV();f2={getTabsByNamespace(e){return!!e&&e===V.CHAIN.EVM?W.state.remoteFeatures?.activity===!1?yf.ACCOUNT_TABS.filter(r=>r.label!=="Activity"):yf.ACCOUNT_TABS:[]},isValidReownName(e){return/^[a-zA-Z0-9]+$/gu.test(e)},isValidEmail(e){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/gu.test(e)},validateReownName(e){return e.replace(/\^/gu,"").toLowerCase().replace(/[^a-zA-Z0-9]/gu,"")},hasFooter(){let e=K.state.view;if(yf.VIEWS_WITH_LEGAL_FOOTER.includes(e)){let{termsConditionsUrl:t,privacyPolicyUrl:r}=W.state,n=W.state.features?.legalCheckbox;return!(!t&&!r||n)}return yf.VIEWS_WITH_DEFAULT_FOOTER.includes(e)}}});var n5e,s5e=m(()=>{Fe();n5e=ce`
  :host wui-ux-by-reown {
    padding-top: 0;
  }

  :host wui-ux-by-reown.branding-only {
    padding-top: ${({spacing:e})=>e[3]};
  }

  a {
    text-decoration: none;
    color: ${({tokens:e})=>e.core.textAccentPrimary};
    font-weight: 500;
  }
`});var o5e,eP,i5e=m(()=>{le();Me();st();Fe();Wr();Wn();oV();s5e();o5e=function(e,t,r,n){var s=arguments.length,o=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,r,o):i(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o},eP=class extends re{constructor(){super(),this.unsubscribe=[],this.remoteFeatures=W.state.remoteFeatures,this.unsubscribe.push(W.subscribeKey("remoteFeatures",t=>this.remoteFeatures=t))}disconnectedCallback(){this.unsubscribe.forEach(t=>t())}render(){let{termsConditionsUrl:t,privacyPolicyUrl:r}=W.state,n=W.state.features?.legalCheckbox;return!t&&!r||n?H`
        <wui-flex flexDirection="column"> ${this.reownBrandingTemplate(!0)} </wui-flex>
      `:H`
      <wui-flex flexDirection="column">
        <wui-flex .padding=${["4","3","3","3"]} justifyContent="center">
          <wui-text color="secondary" variant="md-regular" align="center">
            By connecting your wallet, you agree to our <br />
            ${this.termsTemplate()} ${this.andTemplate()} ${this.privacyTemplate()}
          </wui-text>
        </wui-flex>
        ${this.reownBrandingTemplate()}
      </wui-flex>
    `}andTemplate(){let{termsConditionsUrl:t,privacyPolicyUrl:r}=W.state;return t&&r?"and":""}termsTemplate(){let{termsConditionsUrl:t}=W.state;return t?H`<a href=${t} target="_blank" rel="noopener noreferrer"
      >Terms of Service</a
    >`:null}privacyTemplate(){let{privacyPolicyUrl:t}=W.state;return t?H`<a href=${t} target="_blank" rel="noopener noreferrer"
      >Privacy Policy</a
    >`:null}reownBrandingTemplate(t=!1){return this.remoteFeatures?.reownBranding?t?H`<wui-ux-by-reown class="branding-only"></wui-ux-by-reown>`:H`<wui-ux-by-reown></wui-ux-by-reown>`:null}};eP.styles=[n5e];o5e([oe()],eP.prototype,"remoteFeatures",void 0);eP=o5e([ee("w3m-legal-footer")],eP)});var a5e,c5e=m(()=>{le();a5e=Sr``});var Fot,HV,l5e=m(()=>{le();st();Fe();Wr();ff();wT();Wn();j0();c5e();Fot=function(e,t,r,n){var s=arguments.length,o=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,r,o):i(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o},HV=class extends re{render(){let{termsConditionsUrl:t,privacyPolicyUrl:r}=W.state;return!t&&!r?null:H`
      <wui-flex
        .padding=${["4","3","3","3"]}
        flexDirection="column"
        alignItems="center"
        justifyContent="center"
        gap="3"
      >
        <wui-text color="secondary" variant="md-regular" align="center">
          We work with the best providers to give you the lowest fees and best support. More options
          coming soon!
        </wui-text>

        ${this.howDoesItWorkTemplate()}
      </wui-flex>
    `}howDoesItWorkTemplate(){return H` <wui-link @click=${this.onWhatIsBuy.bind(this)}>
      <wui-icon size="xs" color="accent-primary" slot="iconLeft" name="helpCircle"></wui-icon>
      How does it work?
    </wui-link>`}onWhatIsBuy(){ve.sendEvent({type:"track",event:"SELECT_WHAT_IS_A_BUY",properties:{isSmartAccount:zr(R.state.activeChain)===Gr.ACCOUNT_TYPES.SMART_ACCOUNT}}),K.push("WhatIsABuy")}};HV.styles=[a5e];HV=Fot([ee("w3m-onramp-providers-footer")],HV)});var u5e,d5e=m(()=>{Fe();u5e=ce`
  :host {
    display: block;
  }

  div.container {
    position: absolute;
    bottom: 0;
    left: 0;
    right: 0;
    overflow: hidden;
    height: auto;
    display: block;
  }

  div.container[status='hide'] {
    animation: fade-out;
    animation-duration: var(--apkt-duration-dynamic);
    animation-timing-function: ${({easings:e})=>e["ease-out-power-2"]};
    animation-fill-mode: both;
    animation-delay: 0s;
  }

  div.container[status='show'] {
    animation: fade-in;
    animation-duration: var(--apkt-duration-dynamic);
    animation-timing-function: ${({easings:e})=>e["ease-out-power-2"]};
    animation-fill-mode: both;
    animation-delay: var(--apkt-duration-dynamic);
  }

  @keyframes fade-in {
    from {
      opacity: 0;
      filter: blur(6px);
    }
    to {
      opacity: 1;
      filter: blur(0px);
    }
  }

  @keyframes fade-out {
    from {
      opacity: 1;
      filter: blur(0px);
    }
    to {
      opacity: 0;
      filter: blur(6px);
    }
  }
`});var $V,j5,FV=m(()=>{le();Me();st();Fe();i5e();l5e();MV();d5e();$V=function(e,t,r,n){var s=arguments.length,o=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,r,o):i(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o},j5=class extends re{constructor(){super(...arguments),this.resizeObserver=void 0,this.unsubscribe=[],this.status="hide",this.view=K.state.view}firstUpdated(){this.status=f2.hasFooter()?"show":"hide",this.unsubscribe.push(K.subscribeKey("view",t=>{this.view=t,this.status=f2.hasFooter()?"show":"hide",this.status==="hide"&&document.documentElement.style.setProperty("--apkt-footer-height","0px")})),this.resizeObserver=new ResizeObserver(t=>{for(let r of t)if(r.target===this.getWrapper()){let n=`${r.contentRect.height}px`;document.documentElement.style.setProperty("--apkt-footer-height",n)}}),this.resizeObserver.observe(this.getWrapper())}render(){return H`
      <div class="container" status=${this.status}>${this.templatePageContainer()}</div>
    `}templatePageContainer(){return f2.hasFooter()?H` ${this.templateFooter()}`:null}templateFooter(){switch(this.view){case"Networks":return this.templateNetworksFooter();case"Connect":case"ConnectWallets":case"OnRampFiatSelect":case"OnRampTokenSelect":return H`<w3m-legal-footer></w3m-legal-footer>`;case"OnRampProviders":return H`<w3m-onramp-providers-footer></w3m-onramp-providers-footer>`;default:return null}}templateNetworksFooter(){return H` <wui-flex
      class="footer-in"
      padding="3"
      flexDirection="column"
      gap="3"
      alignItems="center"
    >
      <wui-text variant="md-regular" color="secondary" align="center">
        Your connected wallet may not support some of the networks available for this dApp
      </wui-text>
      <wui-link @click=${this.onNetworkHelp.bind(this)}>
        <wui-icon size="sm" color="accent-primary" slot="iconLeft" name="helpCircle"></wui-icon>
        What is a network
      </wui-link>
    </wui-flex>`}onNetworkHelp(){ve.sendEvent({type:"track",event:"CLICK_NETWORK_HELP"}),K.push("WhatIsANetwork")}getWrapper(){return this.shadowRoot?.querySelector("div.container")}};j5.styles=[u5e];$V([oe()],j5.prototype,"status",void 0);$V([oe()],j5.prototype,"view",void 0);j5=$V([ee("w3m-footer")],j5)});var p5e,f5e=m(()=>{Fe();p5e=ce`
  :host {
    display: block;
    width: inherit;
  }
`});var jV,z5,h5e=m(()=>{le();Me();st();Fe();FV();f5e();jV=function(e,t,r,n){var s=arguments.length,o=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,r,o):i(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o},z5=class extends re{constructor(){super(),this.unsubscribe=[],this.viewState=K.state.view,this.history=K.state.history.join(","),this.unsubscribe.push(K.subscribeKey("view",()=>{this.history=K.state.history.join(","),document.documentElement.style.setProperty("--apkt-duration-dynamic","var(--apkt-durations-lg)")}))}disconnectedCallback(){this.unsubscribe.forEach(t=>t()),document.documentElement.style.setProperty("--apkt-duration-dynamic","0s")}render(){return H`${this.templatePageContainer()}`}templatePageContainer(){return H`<w3m-router-container
      history=${this.history}
      .setView=${()=>{this.viewState=K.state.view}}
    >
      ${this.viewTemplate(this.viewState)}
    </w3m-router-container>`}viewTemplate(t){switch(t){case"AccountSettings":return H`<w3m-account-settings-view></w3m-account-settings-view>`;case"Account":return H`<w3m-account-view></w3m-account-view>`;case"AllWallets":return H`<w3m-all-wallets-view></w3m-all-wallets-view>`;case"ApproveTransaction":return H`<w3m-approve-transaction-view></w3m-approve-transaction-view>`;case"BuyInProgress":return H`<w3m-buy-in-progress-view></w3m-buy-in-progress-view>`;case"ChooseAccountName":return H`<w3m-choose-account-name-view></w3m-choose-account-name-view>`;case"Connect":return H`<w3m-connect-view></w3m-connect-view>`;case"Create":return H`<w3m-connect-view walletGuide="explore"></w3m-connect-view>`;case"ConnectingWalletConnect":return H`<w3m-connecting-wc-view></w3m-connecting-wc-view>`;case"ConnectingWalletConnectBasic":return H`<w3m-connecting-wc-basic-view></w3m-connecting-wc-basic-view>`;case"ConnectingExternal":return H`<w3m-connecting-external-view></w3m-connecting-external-view>`;case"ConnectingSiwe":return H`<w3m-connecting-siwe-view></w3m-connecting-siwe-view>`;case"ConnectWallets":return H`<w3m-connect-wallets-view></w3m-connect-wallets-view>`;case"ConnectSocials":return H`<w3m-connect-socials-view></w3m-connect-socials-view>`;case"ConnectingSocial":return H`<w3m-connecting-social-view></w3m-connecting-social-view>`;case"DataCapture":return H`<w3m-data-capture-view></w3m-data-capture-view>`;case"DataCaptureOtpConfirm":return H`<w3m-data-capture-otp-confirm-view></w3m-data-capture-otp-confirm-view>`;case"Downloads":return H`<w3m-downloads-view></w3m-downloads-view>`;case"EmailLogin":return H`<w3m-email-login-view></w3m-email-login-view>`;case"EmailVerifyOtp":return H`<w3m-email-verify-otp-view></w3m-email-verify-otp-view>`;case"EmailVerifyDevice":return H`<w3m-email-verify-device-view></w3m-email-verify-device-view>`;case"GetWallet":return H`<w3m-get-wallet-view></w3m-get-wallet-view>`;case"Networks":return H`<w3m-networks-view></w3m-networks-view>`;case"SwitchNetwork":return H`<w3m-network-switch-view></w3m-network-switch-view>`;case"ProfileWallets":return H`<w3m-profile-wallets-view></w3m-profile-wallets-view>`;case"Transactions":return H`<w3m-transactions-view></w3m-transactions-view>`;case"OnRampProviders":return H`<w3m-onramp-providers-view></w3m-onramp-providers-view>`;case"OnRampTokenSelect":return H`<w3m-onramp-token-select-view></w3m-onramp-token-select-view>`;case"OnRampFiatSelect":return H`<w3m-onramp-fiat-select-view></w3m-onramp-fiat-select-view>`;case"UpgradeEmailWallet":return H`<w3m-upgrade-wallet-view></w3m-upgrade-wallet-view>`;case"UpdateEmailWallet":return H`<w3m-update-email-wallet-view></w3m-update-email-wallet-view>`;case"UpdateEmailPrimaryOtp":return H`<w3m-update-email-primary-otp-view></w3m-update-email-primary-otp-view>`;case"UpdateEmailSecondaryOtp":return H`<w3m-update-email-secondary-otp-view></w3m-update-email-secondary-otp-view>`;case"UnsupportedChain":return H`<w3m-unsupported-chain-view></w3m-unsupported-chain-view>`;case"Swap":return H`<w3m-swap-view></w3m-swap-view>`;case"SwapSelectToken":return H`<w3m-swap-select-token-view></w3m-swap-select-token-view>`;case"SwapPreview":return H`<w3m-swap-preview-view></w3m-swap-preview-view>`;case"WalletSend":return H`<w3m-wallet-send-view></w3m-wallet-send-view>`;case"WalletSendSelectToken":return H`<w3m-wallet-send-select-token-view></w3m-wallet-send-select-token-view>`;case"WalletSendPreview":return H`<w3m-wallet-send-preview-view></w3m-wallet-send-preview-view>`;case"WalletSendConfirmed":return H`<w3m-send-confirmed-view></w3m-send-confirmed-view>`;case"WhatIsABuy":return H`<w3m-what-is-a-buy-view></w3m-what-is-a-buy-view>`;case"WalletReceive":return H`<w3m-wallet-receive-view></w3m-wallet-receive-view>`;case"WalletCompatibleNetworks":return H`<w3m-wallet-compatible-networks-view></w3m-wallet-compatible-networks-view>`;case"WhatIsAWallet":return H`<w3m-what-is-a-wallet-view></w3m-what-is-a-wallet-view>`;case"ConnectingMultiChain":return H`<w3m-connecting-multi-chain-view></w3m-connecting-multi-chain-view>`;case"WhatIsANetwork":return H`<w3m-what-is-a-network-view></w3m-what-is-a-network-view>`;case"ConnectingFarcaster":return H`<w3m-connecting-farcaster-view></w3m-connecting-farcaster-view>`;case"SwitchActiveChain":return H`<w3m-switch-active-chain-view></w3m-switch-active-chain-view>`;case"RegisterAccountName":return H`<w3m-register-account-name-view></w3m-register-account-name-view>`;case"RegisterAccountNameSuccess":return H`<w3m-register-account-name-success-view></w3m-register-account-name-success-view>`;case"SmartSessionCreated":return H`<w3m-smart-session-created-view></w3m-smart-session-created-view>`;case"SmartSessionList":return H`<w3m-smart-session-list-view></w3m-smart-session-list-view>`;case"SIWXSignMessage":return H`<w3m-siwx-sign-message-view></w3m-siwx-sign-message-view>`;case"Pay":return H`<w3m-pay-view></w3m-pay-view>`;case"PayLoading":return H`<w3m-pay-loading-view></w3m-pay-loading-view>`;case"PayQuote":return H`<w3m-pay-quote-view></w3m-pay-quote-view>`;case"FundWallet":return H`<w3m-fund-wallet-view></w3m-fund-wallet-view>`;case"PayWithExchange":return H`<w3m-deposit-from-exchange-view></w3m-deposit-from-exchange-view>`;case"PayWithExchangeSelectAsset":return H`<w3m-deposit-from-exchange-select-asset-view></w3m-deposit-from-exchange-select-asset-view>`;case"UsageExceeded":return H`<w3m-usage-exceeded-view></w3m-usage-exceeded-view>`;case"SmartAccountSettings":return H`<w3m-smart-account-settings-view></w3m-smart-account-settings-view>`;default:return H`<w3m-connect-view></w3m-connect-view>`}}};z5.styles=[p5e];jV([oe()],z5.prototype,"viewState",void 0);jV([oe()],z5.prototype,"history",void 0);z5=jV([ee("w3m-router")],z5)});var m5e,g5e=m(()=>{Fe();m5e=ce`
  :host {
    z-index: ${({tokens:e})=>e.core.zIndex};
    display: block;
    backface-visibility: hidden;
    will-change: opacity;
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    pointer-events: none;
    opacity: 0;
    background-color: ${({tokens:e})=>e.theme.overlay};
    backdrop-filter: blur(0px);
    transition:
      opacity ${({durations:e})=>e.lg} ${({easings:e})=>e["ease-out-power-2"]},
      backdrop-filter ${({durations:e})=>e.lg}
        ${({easings:e})=>e["ease-out-power-2"]};
    will-change: opacity;
  }

  :host(.open) {
    opacity: 1;
    backdrop-filter: blur(8px);
  }

  :host(.appkit-modal) {
    position: relative;
    pointer-events: unset;
    background: none;
    width: 100%;
    opacity: 1;
  }

  wui-card {
    max-width: var(--apkt-modal-width);
    width: 100%;
    position: relative;
    outline: none;
    transform: translateY(4px);
    box-shadow: 0 2px 8px 0 rgba(0, 0, 0, 0.05);
    transition:
      transform ${({durations:e})=>e.lg}
        ${({easings:e})=>e["ease-out-power-2"]},
      border-radius ${({durations:e})=>e.lg}
        ${({easings:e})=>e["ease-out-power-1"]},
      background-color ${({durations:e})=>e.lg}
        ${({easings:e})=>e["ease-out-power-1"]},
      box-shadow ${({durations:e})=>e.lg}
        ${({easings:e})=>e["ease-out-power-1"]};
    will-change: border-radius, background-color, transform, box-shadow;
    background-color: ${({tokens:e})=>e.theme.backgroundPrimary};
    padding: var(--local-modal-padding);
    box-sizing: border-box;
  }

  :host(.open) wui-card {
    transform: translateY(0px);
  }

  wui-card::before {
    z-index: 1;
    pointer-events: none;
    content: '';
    position: absolute;
    inset: 0;
    border-radius: clamp(0px, var(--apkt-borderRadius-8), 44px);
    transition: box-shadow ${({durations:e})=>e.lg}
      ${({easings:e})=>e["ease-out-power-2"]};
    transition-delay: ${({durations:e})=>e.md};
    will-change: box-shadow;
  }

  :host([data-mobile-fullscreen='true']) wui-card::before {
    border-radius: 0px;
  }

  :host([data-border='true']) wui-card::before {
    box-shadow: inset 0px 0px 0px 4px ${({tokens:e})=>e.theme.foregroundSecondary};
  }

  :host([data-border='false']) wui-card::before {
    box-shadow: inset 0px 0px 0px 1px ${({tokens:e})=>e.theme.borderPrimaryDark};
  }

  :host([data-border='true']) wui-card {
    animation:
      fade-in ${({durations:e})=>e.lg} ${({easings:e})=>e["ease-out-power-2"]},
      card-background-border var(--apkt-duration-dynamic)
        ${({easings:e})=>e["ease-out-power-2"]};
    animation-fill-mode: backwards, both;
    animation-delay: var(--apkt-duration-dynamic);
  }

  :host([data-border='false']) wui-card {
    animation:
      fade-in ${({durations:e})=>e.lg} ${({easings:e})=>e["ease-out-power-2"]},
      card-background-default var(--apkt-duration-dynamic)
        ${({easings:e})=>e["ease-out-power-2"]};
    animation-fill-mode: backwards, both;
    animation-delay: 0s;
  }

  :host(.appkit-modal) wui-card {
    max-width: var(--apkt-modal-width);
  }

  wui-card[shake='true'] {
    animation:
      fade-in ${({durations:e})=>e.lg} ${({easings:e})=>e["ease-out-power-2"]},
      w3m-shake ${({durations:e})=>e.xl}
        ${({easings:e})=>e["ease-out-power-2"]};
  }

  wui-flex {
    overflow-x: hidden;
    overflow-y: auto;
    display: flex;
    align-items: center;
    justify-content: center;
    width: 100%;
    height: 100%;
  }

  @media (max-height: 700px) and (min-width: 431px) {
    wui-flex {
      align-items: flex-start;
    }

    wui-card {
      margin: var(--apkt-spacing-6) 0px;
    }
  }

  @media (max-width: 430px) {
    :host([data-mobile-fullscreen='true']) {
      height: 100dvh;
    }
    :host([data-mobile-fullscreen='true']) wui-flex {
      align-items: stretch;
    }
    :host([data-mobile-fullscreen='true']) wui-card {
      max-width: 100%;
      height: 100%;
      border-radius: 0;
      border: none;
    }
    :host(:not([data-mobile-fullscreen='true'])) wui-flex {
      align-items: flex-end;
    }

    :host(:not([data-mobile-fullscreen='true'])) wui-card {
      max-width: 100%;
      border-bottom: none;
    }

    :host(:not([data-mobile-fullscreen='true'])) wui-card[data-embedded='true'] {
      border-bottom-left-radius: clamp(0px, var(--apkt-borderRadius-8), 44px);
      border-bottom-right-radius: clamp(0px, var(--apkt-borderRadius-8), 44px);
    }

    :host(:not([data-mobile-fullscreen='true'])) wui-card:not([data-embedded='true']) {
      border-bottom-left-radius: 0px;
      border-bottom-right-radius: 0px;
    }

    wui-card[shake='true'] {
      animation: w3m-shake 0.5s ${({easings:e})=>e["ease-out-power-2"]};
    }
  }

  @keyframes fade-in {
    0% {
      transform: scale(0.99) translateY(4px);
    }
    100% {
      transform: scale(1) translateY(0);
    }
  }

  @keyframes w3m-shake {
    0% {
      transform: scale(1) rotate(0deg);
    }
    20% {
      transform: scale(1) rotate(-1deg);
    }
    40% {
      transform: scale(1) rotate(1.5deg);
    }
    60% {
      transform: scale(1) rotate(-1.5deg);
    }
    80% {
      transform: scale(1) rotate(1deg);
    }
    100% {
      transform: scale(1) rotate(0deg);
    }
  }

  @keyframes card-background-border {
    from {
      background-color: ${({tokens:e})=>e.theme.backgroundPrimary};
    }
    to {
      background-color: ${({tokens:e})=>e.theme.foregroundSecondary};
    }
  }

  @keyframes card-background-default {
    from {
      background-color: ${({tokens:e})=>e.theme.foregroundSecondary};
    }
    to {
      background-color: ${({tokens:e})=>e.theme.backgroundPrimary};
    }
  }
`});var kd,y5e,jot,ea,zV,VV,w5e=m(()=>{le();Me();Ur();st();Fe();tve();Wr();lve();j3e();Y3e();X3e();r5e();MV();FV();h5e();g5e();kd=function(e,t,r,n){var s=arguments.length,o=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,r,o):i(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o},y5e="scroll-lock",jot={PayWithExchange:"0",PayWithExchangeSelectAsset:"0",Pay:"0",PayQuote:"0",PayLoading:"0"},ea=class extends re{constructor(){super(),this.unsubscribe=[],this.abortController=void 0,this.hasPrefetched=!1,this.enableEmbedded=W.state.enableEmbedded,this.open=ke.state.open,this.caipAddress=R.state.activeCaipAddress,this.caipNetwork=R.state.activeCaipNetwork,this.shake=ke.state.shake,this.filterByNamespace=X.state.filterByNamespace,this.padding=Ht.spacing[1],this.mobileFullScreen=W.state.enableMobileFullScreen,this.initializeTheming(),pe.prefetchAnalyticsConfig(),this.unsubscribe.push(ke.subscribeKey("open",t=>t?this.onOpen():this.onClose()),ke.subscribeKey("shake",t=>this.shake=t),R.subscribeKey("activeCaipNetwork",t=>this.onNewNetwork(t)),R.subscribeKey("activeCaipAddress",t=>this.onNewAddress(t)),W.subscribeKey("enableEmbedded",t=>this.enableEmbedded=t),X.subscribeKey("filterByNamespace",t=>{this.filterByNamespace!==t&&!R.getAccountData(t)?.caipAddress&&(pe.fetchRecommendedWallets(),this.filterByNamespace=t)}),K.subscribeKey("view",()=>{this.dataset.border=f2.hasFooter()?"true":"false",this.padding=jot[K.state.view]??Ht.spacing[1]}))}firstUpdated(){if(this.dataset.border=f2.hasFooter()?"true":"false",this.mobileFullScreen&&this.setAttribute("data-mobile-fullscreen","true"),this.caipAddress){if(this.enableEmbedded){ke.close(),this.prefetch();return}this.onNewAddress(this.caipAddress)}this.open&&this.onOpen(),this.enableEmbedded&&this.prefetch()}disconnectedCallback(){this.unsubscribe.forEach(t=>t()),this.onRemoveKeyboardListener()}render(){return this.style.setProperty("--local-modal-padding",this.padding),this.enableEmbedded?H`${this.contentTemplate()}
        <w3m-tooltip></w3m-tooltip> `:this.open?H`
          <wui-flex @click=${this.onOverlayClick.bind(this)} data-testid="w3m-modal-overlay">
            ${this.contentTemplate()}
          </wui-flex>
          <w3m-tooltip></w3m-tooltip>
        `:null}contentTemplate(){return H` <wui-card
      shake="${this.shake}"
      data-embedded="${Ee(this.enableEmbedded)}"
      role="alertdialog"
      aria-modal="true"
      tabindex="0"
      data-testid="w3m-modal-card"
    >
      <w3m-header></w3m-header>
      <w3m-router></w3m-router>
      <w3m-footer></w3m-footer>
      <w3m-snackbar></w3m-snackbar>
      <w3m-alertbar></w3m-alertbar>
    </wui-card>`}async onOverlayClick(t){if(t.target===t.currentTarget){if(this.mobileFullScreen)return;await this.handleClose()}}async handleClose(){await Q4.safeClose()}initializeTheming(){let{themeVariables:t,themeMode:r}=rn.state,n=gr.getColorTheme(r);cz(t,n)}onClose(){this.open=!1,this.classList.remove("open"),this.onScrollUnlock(),Ze.hide(),this.onRemoveKeyboardListener()}onOpen(){this.open=!0,this.classList.add("open"),this.onScrollLock(),this.onAddKeyboardListener()}onScrollLock(){let t=document.createElement("style");t.dataset.w3m=y5e,t.textContent=`
      body {
        touch-action: none;
        overflow: hidden;
        overscroll-behavior: contain;
      }
      w3m-modal {
        pointer-events: auto;
      }
    `,document.head.appendChild(t)}onScrollUnlock(){let t=document.head.querySelector(`style[data-w3m="${y5e}"]`);t&&t.remove()}onAddKeyboardListener(){this.abortController=new AbortController;let t=this.shadowRoot?.querySelector("wui-card");t?.focus(),window.addEventListener("keydown",r=>{if(r.key==="Escape")this.handleClose();else if(r.key==="Tab"){let{tagName:n}=r.target;n&&!n.includes("W3M-")&&!n.includes("WUI-")&&t?.focus()}},this.abortController)}onRemoveKeyboardListener(){this.abortController?.abort(),this.abortController=void 0}async onNewAddress(t){let r=R.state.isSwitchingNamespace,n=K.state.view==="ProfileWallets";!t&&!r&&!n&&ke.close(),await Es.initializeIfEnabled(t),this.caipAddress=t,R.setIsSwitchingNamespace(!1)}onNewNetwork(t){let n=this.caipNetwork?.caipNetworkId?.toString(),s=t?.caipNetworkId?.toString(),o=n!==s,i=K.state.view==="UnsupportedChain",a=ke.state.open,c=!1;this.enableEmbedded&&K.state.view==="SwitchNetwork"&&(c=!0),o&&et.resetState(),a&&i&&(c=!0),c&&K.state.view!=="SIWXSignMessage"&&K.goBack(),this.caipNetwork=t}prefetch(){this.hasPrefetched||(pe.prefetch(),pe.fetchWalletsByPage({page:1}),this.hasPrefetched=!0)}};ea.styles=m5e;kd([F({type:Boolean})],ea.prototype,"enableEmbedded",void 0);kd([oe()],ea.prototype,"open",void 0);kd([oe()],ea.prototype,"caipAddress",void 0);kd([oe()],ea.prototype,"caipNetwork",void 0);kd([oe()],ea.prototype,"shake",void 0);kd([oe()],ea.prototype,"filterByNamespace",void 0);kd([oe()],ea.prototype,"padding",void 0);kd([oe()],ea.prototype,"mobileFullScreen",void 0);zV=class extends ea{};zV=kd([ee("w3m-modal")],zV);VV=class extends ea{};VV=kd([ee("appkit-modal")],VV)});var b5e,x5e=m(()=>{Fe();b5e=ce`
  .icon-box {
    width: 64px;
    height: 64px;
    border-radius: ${({borderRadius:e})=>e[5]};
    background-color: ${({colors:e})=>e.semanticError010};
  }
`});var zot,tP,v5e=m(()=>{le();st();Fe();m5();Wr();ff();Wn();x5e();zot=function(e,t,r,n){var s=arguments.length,o=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,r,o):i(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o},tP=class extends re{constructor(){super()}render(){return H`
      <wui-flex
        flexDirection="column"
        alignItems="center"
        gap="4"
        .padding="${["1","3","4","3"]}"
      >
        <wui-flex justifyContent="center" alignItems="center" class="icon-box">
          <wui-icon size="xxl" color="error" name="warningCircle"></wui-icon>
        </wui-flex>

        <wui-text variant="lg-medium" color="primary" align="center">
          The app isn't responding as expected
        </wui-text>
        <wui-text variant="md-regular" color="secondary" align="center">
          Try again or reach out to the app team for help.
        </wui-text>

        <wui-button
          variant="neutral-secondary"
          size="md"
          @click=${this.onTryAgainClick.bind(this)}
          data-testid="w3m-usage-exceeded-button"
        >
          <wui-icon color="inherit" slot="iconLeft" name="refresh"></wui-icon>
          Try Again
        </wui-button>
      </wui-flex>
    `}onTryAgainClick(){K.goBack()}};tP.styles=b5e;tP=zot([ee("w3m-usage-exceeded-view")],tP)});var E5e,A5e=m(()=>{Fe();E5e=ce`
  :host {
    width: 100%;
  }
`});var Fs,Gn,C5e=m(()=>{le();Me();Ur();st();Fe();Pz();A5e();Fs=function(e,t,r,n){var s=arguments.length,o=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,r,o):i(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o},Gn=class extends re{constructor(){super(...arguments),this.hasImpressionSent=!1,this.walletImages=[],this.imageSrc="",this.name="",this.size="md",this.tabIdx=void 0,this.disabled=!1,this.showAllWallets=!1,this.loading=!1,this.loadingSpinnerColor="accent-100",this.rdnsId="",this.displayIndex=void 0,this.walletRank=void 0,this.namespaces=[]}connectedCallback(){super.connectedCallback()}disconnectedCallback(){super.disconnectedCallback(),this.cleanupIntersectionObserver()}updated(t){super.updated(t),(t.has("name")||t.has("imageSrc")||t.has("walletRank"))&&(this.hasImpressionSent=!1),t.has("walletRank")&&this.walletRank&&!this.intersectionObserver&&this.setupIntersectionObserver()}setupIntersectionObserver(){this.intersectionObserver=new IntersectionObserver(t=>{t.forEach(r=>{r.isIntersecting&&!this.loading&&!this.hasImpressionSent&&this.sendImpressionEvent()})},{threshold:.1}),this.intersectionObserver.observe(this)}cleanupIntersectionObserver(){this.intersectionObserver&&(this.intersectionObserver.disconnect(),this.intersectionObserver=void 0)}sendImpressionEvent(){!this.name||this.hasImpressionSent||!this.walletRank||(this.hasImpressionSent=!0,(this.rdnsId||this.name)&&ve.sendWalletImpressionEvent({name:this.name,walletRank:this.walletRank,rdnsId:this.rdnsId,view:K.state.view,displayIndex:this.displayIndex}))}handleGetWalletNamespaces(){return Object.keys(dg.state.adapters).length>1?this.namespaces:[]}render(){return H`
      <wui-list-wallet
        .walletImages=${this.walletImages}
        imageSrc=${Ee(this.imageSrc)}
        name=${this.name}
        size=${Ee(this.size)}
        tagLabel=${Ee(this.tagLabel)}
        .tagVariant=${this.tagVariant}
        .walletIcon=${this.walletIcon}
        .tabIdx=${this.tabIdx}
        .disabled=${this.disabled}
        .showAllWallets=${this.showAllWallets}
        .loading=${this.loading}
        loadingSpinnerColor=${this.loadingSpinnerColor}
        .namespaces=${this.handleGetWalletNamespaces()}
      ></wui-list-wallet>
    `}};Gn.styles=E5e;Fs([F({type:Array})],Gn.prototype,"walletImages",void 0);Fs([F()],Gn.prototype,"imageSrc",void 0);Fs([F()],Gn.prototype,"name",void 0);Fs([F()],Gn.prototype,"size",void 0);Fs([F()],Gn.prototype,"tagLabel",void 0);Fs([F()],Gn.prototype,"tagVariant",void 0);Fs([F()],Gn.prototype,"walletIcon",void 0);Fs([F()],Gn.prototype,"tabIdx",void 0);Fs([F({type:Boolean})],Gn.prototype,"disabled",void 0);Fs([F({type:Boolean})],Gn.prototype,"showAllWallets",void 0);Fs([F({type:Boolean})],Gn.prototype,"loading",void 0);Fs([F({type:String})],Gn.prototype,"loadingSpinnerColor",void 0);Fs([F()],Gn.prototype,"rdnsId",void 0);Fs([F()],Gn.prototype,"displayIndex",void 0);Fs([F()],Gn.prototype,"walletRank",void 0);Fs([F({type:Array})],Gn.prototype,"namespaces",void 0);Gn=Fs([ee("w3m-list-wallet")],Gn)});var S5e,I5e=m(()=>{Fe();S5e=ce`
  :host {
    --local-duration-height: 0s;
    --local-duration: ${({durations:e})=>e.lg};
    --local-transition: ${({easings:e})=>e["ease-out-power-2"]};
  }

  .container {
    display: block;
    overflow: hidden;
    overflow: hidden;
    position: relative;
    height: var(--local-container-height);
    transition: height var(--local-duration-height) var(--local-transition);
    will-change: height, padding-bottom;
  }

  .container[data-mobile-fullscreen='true'] {
    overflow: scroll;
  }

  .page {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    width: 100%;
    height: auto;
    width: inherit;
    box-sizing: border-box;
    display: flex;
    flex-direction: column;
    background-color: ${({tokens:e})=>e.theme.backgroundPrimary};
    border-bottom-left-radius: var(--local-border-bottom-radius);
    border-bottom-right-radius: var(--local-border-bottom-radius);
    transition: border-bottom-left-radius var(--local-duration) var(--local-transition);
  }

  .page[data-mobile-fullscreen='true'] {
    height: 100%;
  }

  .page-content {
    display: flex;
    flex-direction: column;
    min-height: 100%;
  }

  .footer {
    height: var(--apkt-footer-height);
  }

  div.page[view-direction^='prev-'] .page-content {
    animation:
      slide-left-out var(--local-duration) forwards var(--local-transition),
      slide-left-in var(--local-duration) forwards var(--local-transition);
    animation-delay: 0ms, var(--local-duration, ${({durations:e})=>e.lg});
  }

  div.page[view-direction^='next-'] .page-content {
    animation:
      slide-right-out var(--local-duration) forwards var(--local-transition),
      slide-right-in var(--local-duration) forwards var(--local-transition);
    animation-delay: 0ms, var(--local-duration, ${({durations:e})=>e.lg});
  }

  @keyframes slide-left-out {
    from {
      transform: translateX(0px) scale(1);
      opacity: 1;
      filter: blur(0px);
    }
    to {
      transform: translateX(8px) scale(0.99);
      opacity: 0;
      filter: blur(4px);
    }
  }

  @keyframes slide-left-in {
    from {
      transform: translateX(-8px) scale(0.99);
      opacity: 0;
      filter: blur(4px);
    }
    to {
      transform: translateX(0) translateY(0) scale(1);
      opacity: 1;
      filter: blur(0px);
    }
  }

  @keyframes slide-right-out {
    from {
      transform: translateX(0px) scale(1);
      opacity: 1;
      filter: blur(0px);
    }
    to {
      transform: translateX(-8px) scale(0.99);
      opacity: 0;
      filter: blur(4px);
    }
  }

  @keyframes slide-right-in {
    from {
      transform: translateX(8px) scale(0.99);
      opacity: 0;
      filter: blur(4px);
    }
    to {
      transform: translateX(0) translateY(0) scale(1);
      opacity: 1;
      filter: blur(0px);
    }
  }
`});var Bd,Vot,Fa,_5e=m(()=>{le();Me();Ur();st();Fe();I5e();Bd=function(e,t,r,n){var s=arguments.length,o=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,r,o):i(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o},Vot=60,Fa=class extends re{constructor(){super(...arguments),this.resizeObserver=void 0,this.transitionDuration="0.15s",this.transitionFunction="",this.history="",this.view="",this.setView=void 0,this.viewDirection="",this.historyState="",this.previousHeight="0px",this.mobileFullScreen=W.state.enableMobileFullScreen,this.onViewportResize=()=>{this.updateContainerHeight()}}updated(t){if(t.has("history")){let r=this.history;this.historyState!==""&&this.historyState!==r&&this.onViewChange(r)}t.has("transitionDuration")&&this.style.setProperty("--local-duration",this.transitionDuration),t.has("transitionFunction")&&this.style.setProperty("--local-transition",this.transitionFunction)}firstUpdated(){this.transitionFunction&&this.style.setProperty("--local-transition",this.transitionFunction),this.style.setProperty("--local-duration",this.transitionDuration),this.historyState=this.history,this.resizeObserver=new ResizeObserver(t=>{for(let r of t)if(r.target===this.getWrapper()){let n=r.contentRect.height,s=parseFloat(getComputedStyle(document.documentElement).getPropertyValue("--apkt-footer-height")||"0");if(this.mobileFullScreen){let o=window.visualViewport?.height||window.innerHeight,i=this.getHeaderHeight();n=o-i-s,this.style.setProperty("--local-border-bottom-radius","0px")}else n=n+s,this.style.setProperty("--local-border-bottom-radius",s?"var(--apkt-borderRadius-5)":"0px");this.style.setProperty("--local-container-height",`${n}px`),this.previousHeight!=="0px"&&this.style.setProperty("--local-duration-height",this.transitionDuration),this.previousHeight=`${n}px`}}),this.resizeObserver.observe(this.getWrapper()),this.updateContainerHeight(),window.addEventListener("resize",this.onViewportResize),window.visualViewport?.addEventListener("resize",this.onViewportResize)}disconnectedCallback(){let t=this.getWrapper();t&&this.resizeObserver&&this.resizeObserver.unobserve(t),window.removeEventListener("resize",this.onViewportResize),window.visualViewport?.removeEventListener("resize",this.onViewportResize)}render(){return H`
      <div class="container" data-mobile-fullscreen="${Ee(this.mobileFullScreen)}">
        <div
          class="page"
          data-mobile-fullscreen="${Ee(this.mobileFullScreen)}"
          view-direction="${this.viewDirection}"
        >
          <div class="page-content">
            <slot></slot>
          </div>
        </div>
      </div>
    `}onViewChange(t){let r=t.split(",").filter(Boolean),n=this.historyState.split(",").filter(Boolean),s=n.length,o=r.length,i=r[r.length-1]||"",a=gr.cssDurationToNumber(this.transitionDuration),c="";o>s?c="next":o<s?c="prev":o===s&&r[o-1]!==n[s-1]&&(c="next"),this.viewDirection=`${c}-${i}`,setTimeout(()=>{this.historyState=t,this.setView?.(i)},a),setTimeout(()=>{this.viewDirection=""},a*2)}getWrapper(){return this.shadowRoot?.querySelector("div.page")}updateContainerHeight(){let t=this.getWrapper();if(!t)return;let r=parseFloat(getComputedStyle(document.documentElement).getPropertyValue("--apkt-footer-height")||"0"),n=0;if(this.mobileFullScreen){let s=window.visualViewport?.height||window.innerHeight,o=this.getHeaderHeight();n=s-o-r,this.style.setProperty("--local-border-bottom-radius","0px")}else n=t.getBoundingClientRect().height+r,this.style.setProperty("--local-border-bottom-radius",r?"var(--apkt-borderRadius-5)":"0px");this.style.setProperty("--local-container-height",`${n}px`),this.previousHeight!=="0px"&&this.style.setProperty("--local-duration-height",this.transitionDuration),this.previousHeight=`${n}px`}getHeaderHeight(){return Vot}};Fa.styles=[S5e];Bd([F({type:String})],Fa.prototype,"transitionDuration",void 0);Bd([F({type:String})],Fa.prototype,"transitionFunction",void 0);Bd([F({type:String})],Fa.prototype,"history",void 0);Bd([F({type:String})],Fa.prototype,"view",void 0);Bd([F({attribute:!1})],Fa.prototype,"setView",void 0);Bd([oe()],Fa.prototype,"viewDirection",void 0);Bd([oe()],Fa.prototype,"historyState",void 0);Bd([oe()],Fa.prototype,"previousHeight",void 0);Bd([oe()],Fa.prototype,"mobileFullScreen",void 0);Fa=Bd([ee("w3m-router-container")],Fa)});var T5e={};Se(T5e,{AppKitModal:()=>VV,W3mListWallet:()=>Gn,W3mModal:()=>zV,W3mModalBase:()=>ea,W3mRouterContainer:()=>Fa,W3mUsageExceededView:()=>tP});var P5e=m(()=>{w5e();v5e();C5e();_5e()});var N5e,V5,R5e=m(()=>{st();V2e();N5e=!1,V5=class extends oT{async open(t){X.isConnected()||await super.open(t)}async close(){if(await super.close(),this.options.manualWCControl){let t=R.getAccountData(this.activeChainNamespace)?.address;Q.finalizeWcConnection(t)}}async syncIdentity(t){return Promise.resolve()}async syncBalance(t){return Promise.resolve()}async injectModalUi(){if(!N5e&&te.isClient()){if(await Promise.resolve().then(()=>(J4e(),Y4e)),await Promise.resolve().then(()=>(P5e(),T5e)),!document.querySelector("w3m-modal")){let r=document.createElement("w3m-modal");!W.state.disableAppend&&!W.state.enableEmbedded&&document.body.insertAdjacentElement("beforeend",r)}N5e=!0}}}});var O5e,k5e=m(()=>{O5e="1.8.17-wc-circular-dependencies-fix.0"});var B5e={};Se(B5e,{AppKit:()=>V5,createAppKit:()=>qot});function qot(e){return new V5({...e,basic:!0,sdkVersion:`html-core-${O5e}`})}var D5e=m(()=>{R5e();k5e()});var UEe=Ve(wt=>{"use strict";Object.defineProperty(wt,"__esModule",{value:!0});wt.toBig=wt.shrSL=wt.shrSH=wt.rotrSL=wt.rotrSH=wt.rotrBL=wt.rotrBH=wt.rotr32L=wt.rotr32H=wt.rotlSL=wt.rotlSH=wt.rotlBL=wt.rotlBH=wt.add5L=wt.add5H=wt.add4L=wt.add4H=wt.add3L=wt.add3H=void 0;wt.add=PEe;wt.fromBig=nq;wt.split=mEe;var yP=BigInt(2**32-1),rq=BigInt(32);function nq(e,t=!1){return t?{h:Number(e&yP),l:Number(e>>rq&yP)}:{h:Number(e>>rq&yP)|0,l:Number(e&yP)|0}}function mEe(e,t=!1){let r=e.length,n=new Uint32Array(r),s=new Uint32Array(r);for(let o=0;o<r;o++){let{h:i,l:a}=nq(e[o],t);[n[o],s[o]]=[i,a]}return[n,s]}var gEe=(e,t)=>BigInt(e>>>0)<<rq|BigInt(t>>>0);wt.toBig=gEe;var yEe=(e,t,r)=>e>>>r;wt.shrSH=yEe;var wEe=(e,t,r)=>e<<32-r|t>>>r;wt.shrSL=wEe;var bEe=(e,t,r)=>e>>>r|t<<32-r;wt.rotrSH=bEe;var xEe=(e,t,r)=>e<<32-r|t>>>r;wt.rotrSL=xEe;var vEe=(e,t,r)=>e<<64-r|t>>>r-32;wt.rotrBH=vEe;var EEe=(e,t,r)=>e>>>r-32|t<<64-r;wt.rotrBL=EEe;var AEe=(e,t)=>t;wt.rotr32H=AEe;var CEe=(e,t)=>e;wt.rotr32L=CEe;var SEe=(e,t,r)=>e<<r|t>>>32-r;wt.rotlSH=SEe;var IEe=(e,t,r)=>t<<r|e>>>32-r;wt.rotlSL=IEe;var _Ee=(e,t,r)=>t<<r-32|e>>>64-r;wt.rotlBH=_Ee;var TEe=(e,t,r)=>e<<r-32|t>>>64-r;wt.rotlBL=TEe;function PEe(e,t,r,n){let s=(t>>>0)+(n>>>0);return{h:e+r+(s/2**32|0)|0,l:s|0}}var NEe=(e,t,r)=>(e>>>0)+(t>>>0)+(r>>>0);wt.add3L=NEe;var REe=(e,t,r,n)=>t+r+n+(e/2**32|0)|0;wt.add3H=REe;var OEe=(e,t,r,n)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0);wt.add4L=OEe;var kEe=(e,t,r,n,s)=>t+r+n+s+(e/2**32|0)|0;wt.add4H=kEe;var BEe=(e,t,r,n,s)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0)+(s>>>0);wt.add5L=BEe;var DEe=(e,t,r,n,s,o)=>t+r+n+s+o+(e/2**32|0)|0;wt.add5H=DEe;var Sit={fromBig:nq,split:mEe,toBig:gEe,shrSH:yEe,shrSL:wEe,rotrSH:bEe,rotrSL:xEe,rotrBH:vEe,rotrBL:EEe,rotr32H:AEe,rotr32L:CEe,rotlSH:SEe,rotlSL:IEe,rotlBH:_Ee,rotlBL:TEe,add:PEe,add3L:NEe,add3H:REe,add4L:OEe,add4H:kEe,add5H:DEe,add5L:BEe};wt.default=Sit});var LEe=Ve(wP=>{"use strict";Object.defineProperty(wP,"__esModule",{value:!0});wP.crypto=void 0;wP.crypto=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0});var qEe=Ve(ct=>{"use strict";Object.defineProperty(ct,"__esModule",{value:!0});ct.wrapXOFConstructorWithOpts=ct.wrapConstructorWithOpts=ct.wrapConstructor=ct.Hash=ct.nextTick=ct.swap32IfBE=ct.byteSwapIfBE=ct.swap8IfBE=ct.isLE=void 0;ct.isBytes=HEe;ct.anumber=sq;ct.abytes=z6;ct.ahash=Iit;ct.aexists=_it;ct.aoutput=Tit;ct.u8=Pit;ct.u32=Nit;ct.clean=Rit;ct.createView=Oit;ct.rotr=kit;ct.rotl=Bit;ct.byteSwap=iq;ct.byteSwap32=$Ee;ct.bytesToHex=Uit;ct.hexToBytes=Lit;ct.asyncLoop=Hit;ct.utf8ToBytes=aq;ct.bytesToUtf8=$it;ct.toBytes=bP;ct.kdfInputToBytes=Fit;ct.concatBytes=jit;ct.checkOpts=zit;ct.createHasher=jEe;ct.createOptHasher=zEe;ct.createXOFer=VEe;ct.randomBytes=Vit;var j6=LEe();function HEe(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function sq(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function z6(e,...t){if(!HEe(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function Iit(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");sq(e.outputLen),sq(e.blockLen)}function _it(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function Tit(e,t){z6(e);let r=t.outputLen;if(e.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}function Pit(e){return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}function Nit(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))}function Rit(...e){for(let t=0;t<e.length;t++)e[t].fill(0)}function Oit(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function kit(e,t){return e<<32-t|e>>>t}function Bit(e,t){return e<<t|e>>>32-t>>>0}ct.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function iq(e){return e<<24&4278190080|e<<8&16711680|e>>>8&65280|e>>>24&255}ct.swap8IfBE=ct.isLE?e=>e:e=>iq(e);ct.byteSwapIfBE=ct.swap8IfBE;function $Ee(e){for(let t=0;t<e.length;t++)e[t]=iq(e[t]);return e}ct.swap32IfBE=ct.isLE?e=>e:$Ee;var FEe=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",Dit=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function Uit(e){if(z6(e),FEe)return e.toHex();let t="";for(let r=0;r<e.length;r++)t+=Dit[e[r]];return t}var Af={_0:48,_9:57,A:65,F:70,a:97,f:102};function MEe(e){if(e>=Af._0&&e<=Af._9)return e-Af._0;if(e>=Af.A&&e<=Af.F)return e-(Af.A-10);if(e>=Af.a&&e<=Af.f)return e-(Af.a-10)}function Lit(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);if(FEe)return Uint8Array.fromHex(e);let t=e.length,r=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);let n=new Uint8Array(r);for(let s=0,o=0;s<r;s++,o+=2){let i=MEe(e.charCodeAt(o)),a=MEe(e.charCodeAt(o+1));if(i===void 0||a===void 0){let c=e[o]+e[o+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+o)}n[s]=i*16+a}return n}var Mit=async()=>{};ct.nextTick=Mit;async function Hit(e,t,r){let n=Date.now();for(let s=0;s<e;s++){r(s);let o=Date.now()-n;o>=0&&o<t||(await(0,ct.nextTick)(),n+=o)}}function aq(e){if(typeof e!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}function $it(e){return new TextDecoder().decode(e)}function bP(e){return typeof e=="string"&&(e=aq(e)),z6(e),e}function Fit(e){return typeof e=="string"&&(e=aq(e)),z6(e),e}function jit(...e){let t=0;for(let n=0;n<e.length;n++){let s=e[n];z6(s),t+=s.length}let r=new Uint8Array(t);for(let n=0,s=0;n<e.length;n++){let o=e[n];r.set(o,s),s+=o.length}return r}function zit(e,t){if(t!==void 0&&{}.toString.call(t)!=="[object Object]")throw new Error("options should be object or undefined");return Object.assign(e,t)}var oq=class{};ct.Hash=oq;function jEe(e){let t=n=>e().update(bP(n)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t}function zEe(e){let t=(n,s)=>e(s).update(bP(n)).digest(),r=e({});return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=n=>e(n),t}function VEe(e){let t=(n,s)=>e(s).update(bP(n)).digest(),r=e({});return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=n=>e(n),t}ct.wrapConstructor=jEe;ct.wrapConstructorWithOpts=zEe;ct.wrapXOFConstructorWithOpts=VEe;function Vit(e=32){if(j6.crypto&&typeof j6.crypto.getRandomValues=="function")return j6.crypto.getRandomValues(new Uint8Array(e));if(j6.crypto&&typeof j6.crypto.randomBytes=="function")return Uint8Array.from(j6.crypto.randomBytes(e));throw new Error("crypto.getRandomValues must be defined")}});var eAe=Ve(Jr=>{"use strict";Object.defineProperty(Jr,"__esModule",{value:!0});Jr.shake256=Jr.shake128=Jr.keccak_512=Jr.keccak_384=Jr.keccak_256=Jr.keccak_224=Jr.sha3_512=Jr.sha3_384=Jr.sha3_256=Jr.sha3_224=Jr.Keccak=void 0;Jr.keccakP=QEe;var Z5=UEe(),Po=qEe(),qit=BigInt(0),K5=BigInt(1),Wit=BigInt(2),Kit=BigInt(7),Zit=BigInt(256),Git=BigInt(113),ZEe=[],GEe=[],YEe=[];for(let e=0,t=K5,r=1,n=0;e<24;e++){[r,n]=[n,(2*r+3*n)%5],ZEe.push(2*(5*n+r)),GEe.push((e+1)*(e+2)/2%64);let s=qit;for(let o=0;o<7;o++)t=(t<<K5^(t>>Kit)*Git)%Zit,t&Wit&&(s^=K5<<(K5<<BigInt(o))-K5);YEe.push(s)}var JEe=(0,Z5.split)(YEe,!0),Yit=JEe[0],Jit=JEe[1],WEe=(e,t,r)=>r>32?(0,Z5.rotlBH)(e,t,r):(0,Z5.rotlSH)(e,t,r),KEe=(e,t,r)=>r>32?(0,Z5.rotlBL)(e,t,r):(0,Z5.rotlSL)(e,t,r);function QEe(e,t=24){let r=new Uint32Array(10);for(let n=24-t;n<24;n++){for(let i=0;i<10;i++)r[i]=e[i]^e[i+10]^e[i+20]^e[i+30]^e[i+40];for(let i=0;i<10;i+=2){let a=(i+8)%10,c=(i+2)%10,l=r[c],u=r[c+1],d=WEe(l,u,1)^r[a],p=KEe(l,u,1)^r[a+1];for(let f=0;f<50;f+=10)e[i+f]^=d,e[i+f+1]^=p}let s=e[2],o=e[3];for(let i=0;i<24;i++){let a=GEe[i],c=WEe(s,o,a),l=KEe(s,o,a),u=ZEe[i];s=e[u],o=e[u+1],e[u]=c,e[u+1]=l}for(let i=0;i<50;i+=10){for(let a=0;a<10;a++)r[a]=e[i+a];for(let a=0;a<10;a++)e[i+a]^=~r[(a+2)%10]&r[(a+4)%10]}e[0]^=Yit[n],e[1]^=Jit[n]}(0,Po.clean)(r)}var G5=class e extends Po.Hash{constructor(t,r,n,s=!1,o=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=t,this.suffix=r,this.outputLen=n,this.enableXOF=s,this.rounds=o,(0,Po.anumber)(n),!(0<t&&t<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=(0,Po.u32)(this.state)}clone(){return this._cloneInto()}keccak(){(0,Po.swap32IfBE)(this.state32),QEe(this.state32,this.rounds),(0,Po.swap32IfBE)(this.state32),this.posOut=0,this.pos=0}update(t){(0,Po.aexists)(this),t=(0,Po.toBytes)(t),(0,Po.abytes)(t);let{blockLen:r,state:n}=this,s=t.length;for(let o=0;o<s;){let i=Math.min(r-this.pos,s-o);for(let a=0;a<i;a++)n[this.pos++]^=t[o++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;let{state:t,suffix:r,pos:n,blockLen:s}=this;t[n]^=r,(r&128)!==0&&n===s-1&&this.keccak(),t[s-1]^=128,this.keccak()}writeInto(t){(0,Po.aexists)(this,!1),(0,Po.abytes)(t),this.finish();let r=this.state,{blockLen:n}=this;for(let s=0,o=t.length;s<o;){this.posOut>=n&&this.keccak();let i=Math.min(n-this.posOut,o-s);t.set(r.subarray(this.posOut,this.posOut+i),s),this.posOut+=i,s+=i}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return(0,Po.anumber)(t),this.xofInto(new Uint8Array(t))}digestInto(t){if((0,Po.aoutput)(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,(0,Po.clean)(this.state)}_cloneInto(t){let{blockLen:r,suffix:n,outputLen:s,rounds:o,enableXOF:i}=this;return t||(t=new e(r,n,s,i,o)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=o,t.suffix=n,t.outputLen=s,t.enableXOF=i,t.destroyed=this.destroyed,t}};Jr.Keccak=G5;var Rm=(e,t,r)=>(0,Po.createHasher)(()=>new G5(t,e,r));Jr.sha3_224=Rm(6,144,224/8);Jr.sha3_256=Rm(6,136,256/8);Jr.sha3_384=Rm(6,104,384/8);Jr.sha3_512=Rm(6,72,512/8);Jr.keccak_224=Rm(1,144,224/8);Jr.keccak_256=Rm(1,136,256/8);Jr.keccak_384=Rm(1,104,384/8);Jr.keccak_512=Rm(1,72,512/8);var XEe=(e,t,r)=>(0,Po.createXOFer)((n={})=>new G5(t,e,n.dkLen===void 0?r:n.dkLen,!0));Jr.shake128=XEe(31,168,128/8);Jr.shake256=XEe(31,136,256/8)});var cq=Ve((c3r,iAe)=>{var{keccak_256:Qit}=eAe();function tAe(e){return Buffer.allocUnsafe(e).fill(0)}function Xit(e){return e.toString(2).length}function rAe(e,t){let r=e.toString(16);r.length%2!==0&&(r="0"+r);let n=r.match(/.{1,2}/g).map(s=>parseInt(s,16));for(;n.length<t;)n.unshift(0);return Buffer.from(n)}function eat(e,t){let r=e<0n,n;if(r){let s=(1n<<BigInt(t))-1n;n=(~e&s)+1n}else n=e;return n&=(1n<<BigInt(t))-1n,n}function nAe(e,t,r){let n=tAe(t);return e=xP(e),r?e.length<t?(e.copy(n),n):e.slice(0,t):e.length<t?(e.copy(n,t-e.length),n):e.slice(-t)}function tat(e,t){return nAe(e,t,!0)}function xP(e){if(!Buffer.isBuffer(e))if(Array.isArray(e))e=Buffer.from(e);else if(typeof e=="string")sAe(e)?e=Buffer.from(sat(oAe(e)),"hex"):e=Buffer.from(e);else if(typeof e=="number")e=intToBuffer(e);else if(e==null)e=Buffer.allocUnsafe(0);else if(typeof e=="bigint")e=rAe(e);else if(e.toArray)e=Buffer.from(e.toArray());else throw new Error("invalid type");return e}function rat(e){return e=xP(e),"0x"+e.toString("hex")}function nat(e,t){if(e=xP(e),t||(t=256),t!==256)throw new Error("unsupported");return Buffer.from(Qit(new Uint8Array(e)))}function sat(e){return e.length%2?"0"+e:e}function sAe(e){return typeof e=="string"&&e.match(/^0x[0-9A-Fa-f]*$/)}function oAe(e){return typeof e=="string"&&e.startsWith("0x")?e.slice(2):e}iAe.exports={zeros:tAe,setLength:nAe,setLengthRight:tat,isHexString:sAe,stripHexPrefix:oAe,toBuffer:xP,bufferToHex:rat,keccak:nat,bitLengthFromBigInt:Xit,bufferBEFromBigInt:rAe,twosFromBigInt:eat}});var pAe=Ve((l3r,dAe)=>{var ci=cq();function cAe(e){return e.startsWith("int[")?"int256"+e.slice(3):e==="int"?"int256":e.startsWith("uint[")?"uint256"+e.slice(4):e==="uint"?"uint256":e.startsWith("fixed[")?"fixed128x128"+e.slice(5):e==="fixed"?"fixed128x128":e.startsWith("ufixed[")?"ufixed128x128"+e.slice(6):e==="ufixed"?"ufixed128x128":e}function V6(e){return Number.parseInt(/^\D+(\d+)$/.exec(e)[1],10)}function aAe(e){var t=/^\D+(\d+)x(\d+)$/.exec(e);return[Number.parseInt(t[1],10),Number.parseInt(t[2],10)]}function lAe(e){var t=e.match(/(.*)\[(.*?)\]$/);return t?t[2]===""?"dynamic":Number.parseInt(t[2],10):null}function y2(e){var t=typeof e;if(t==="string"||t==="number")return BigInt(e);if(t==="bigint")return e;throw new Error("Argument is not a number")}function Ud(e,t){var r,n,s,o;if(e==="address")return Ud("uint160",y2(t));if(e==="bool")return Ud("uint8",t?1:0);if(e==="string")return Ud("bytes",new Buffer(t,"utf8"));if(iat(e)){if(typeof t.length>"u")throw new Error("Not an array?");if(r=lAe(e),r!=="dynamic"&&r!==0&&t.length>r)throw new Error("Elements exceed array size: "+r);s=[],e=e.slice(0,e.lastIndexOf("[")),typeof t=="string"&&(t=JSON.parse(t));for(o in t)s.push(Ud(e,t[o]));if(r==="dynamic"){var i=Ud("uint256",t.length);s.unshift(i)}return Buffer.concat(s)}else{if(e==="bytes")return t=new Buffer(t),s=Buffer.concat([Ud("uint256",t.length),t]),t.length%32!==0&&(s=Buffer.concat([s,ci.zeros(32-t.length%32)])),s;if(e.startsWith("bytes")){if(r=V6(e),r<1||r>32)throw new Error("Invalid bytes<N> width: "+r);return ci.setLengthRight(t,32)}else if(e.startsWith("uint")){if(r=V6(e),r%8||r<8||r>256)throw new Error("Invalid uint<N> width: "+r);n=y2(t);let a=ci.bitLengthFromBigInt(n);if(a>r)throw new Error("Supplied uint exceeds width: "+r+" vs "+a);if(n<0)throw new Error("Supplied uint is negative");return ci.bufferBEFromBigInt(n,32)}else if(e.startsWith("int")){if(r=V6(e),r%8||r<8||r>256)throw new Error("Invalid int<N> width: "+r);n=y2(t);let a=ci.bitLengthFromBigInt(n);if(a>r)throw new Error("Supplied int exceeds width: "+r+" vs "+a);let c=ci.twosFromBigInt(n,256);return ci.bufferBEFromBigInt(c,32)}else if(e.startsWith("ufixed")){if(r=aAe(e),n=y2(t),n<0)throw new Error("Supplied ufixed is negative");return Ud("uint256",n*BigInt(2)**BigInt(r[1]))}else if(e.startsWith("fixed"))return r=aAe(e),Ud("int256",y2(t)*BigInt(2)**BigInt(r[1]))}throw new Error("Unsupported or invalid type: "+e)}function oat(e){return e==="string"||e==="bytes"||lAe(e)==="dynamic"}function iat(e){return e.lastIndexOf("]")===e.length-1}function aat(e,t){var r=[],n=[],s=32*e.length;for(var o in e){var i=cAe(e[o]),a=t[o],c=Ud(i,a);oat(i)?(r.push(Ud("uint256",s)),n.push(c),s+=c.length):r.push(c)}return Buffer.concat(r.concat(n))}function uAe(e,t){if(e.length!==t.length)throw new Error("Number of types are not matching the values");for(var r,n,s=[],o=0;o<e.length;o++){var i=cAe(e[o]),a=t[o];if(i==="bytes")s.push(a);else if(i==="string")s.push(new Buffer(a,"utf8"));else if(i==="bool")s.push(new Buffer(a?"01":"00","hex"));else if(i==="address")s.push(ci.setLength(a,20));else if(i.startsWith("bytes")){if(r=V6(i),r<1||r>32)throw new Error("Invalid bytes<N> width: "+r);s.push(ci.setLengthRight(a,r))}else if(i.startsWith("uint")){if(r=V6(i),r%8||r<8||r>256)throw new Error("Invalid uint<N> width: "+r);n=y2(a);let c=ci.bitLengthFromBigInt(n);if(c>r)throw new Error("Supplied uint exceeds width: "+r+" vs "+c);s.push(ci.bufferBEFromBigInt(n,r/8))}else if(i.startsWith("int")){if(r=V6(i),r%8||r<8||r>256)throw new Error("Invalid int<N> width: "+r);n=y2(a);let c=ci.bitLengthFromBigInt(n);if(c>r)throw new Error("Supplied int exceeds width: "+r+" vs "+c);let l=ci.twosFromBigInt(n,r);s.push(ci.bufferBEFromBigInt(l,r/8))}else throw new Error("Unsupported or invalid type: "+i)}return Buffer.concat(s)}function cat(e,t){return ci.keccak(uAe(e,t))}dAe.exports={rawEncode:aat,solidityPack:uAe,soliditySHA3:cat}});var mAe=Ve((u3r,hAe)=>{var Rl=cq(),Y5=pAe(),fAe={type:"object",properties:{types:{type:"object",additionalProperties:{type:"array",items:{type:"object",properties:{name:{type:"string"},type:{type:"string"}},required:["name","type"]}}},primaryType:{type:"string"},domain:{type:"object"},message:{type:"object"}},required:["types","primaryType","domain","message"]},lq={encodeData(e,t,r,n=!0){let s=["bytes32"],o=[this.hashType(e,r)];if(n){let i=(a,c,l)=>{if(r[c]!==void 0)return["bytes32",l==null?"0x0000000000000000000000000000000000000000000000000000000000000000":Rl.keccak(this.encodeData(c,l,r,n))];if(l===void 0)throw new Error(`missing value for field ${a} of type ${c}`);if(c==="bytes")return["bytes32",Rl.keccak(l)];if(c==="string")return typeof l=="string"&&(l=Buffer.from(l,"utf8")),["bytes32",Rl.keccak(l)];if(c.lastIndexOf("]")===c.length-1){let u=c.slice(0,c.lastIndexOf("[")),d=l.map(p=>i(a,u,p));return["bytes32",Rl.keccak(Y5.rawEncode(d.map(([p])=>p),d.map(([,p])=>p)))]}return[c,l]};for(let a of r[e]){let[c,l]=i(a.name,a.type,t[a.name]);s.push(c),o.push(l)}}else for(let i of r[e]){let a=t[i.name];if(a!==void 0)if(i.type==="bytes")s.push("bytes32"),a=Rl.keccak(a),o.push(a);else if(i.type==="string")s.push("bytes32"),typeof a=="string"&&(a=Buffer.from(a,"utf8")),a=Rl.keccak(a),o.push(a);else if(r[i.type]!==void 0)s.push("bytes32"),a=Rl.keccak(this.encodeData(i.type,a,r,n)),o.push(a);else{if(i.type.lastIndexOf("]")===i.type.length-1)throw new Error("Arrays currently unimplemented in encodeData");s.push(i.type),o.push(a)}}return Y5.rawEncode(s,o)},encodeType(e,t){let r="",n=this.findTypeDependencies(e,t).filter(s=>s!==e);n=[e].concat(n.sort());for(let s of n){if(!t[s])throw new Error("No type definition specified: "+s);r+=s+"("+t[s].map(({name:i,type:a})=>a+" "+i).join(",")+")"}return r},findTypeDependencies(e,t,r=[]){if(e=e.match(/^\w*/)[0],r.includes(e)||t[e]===void 0)return r;r.push(e);for(let n of t[e])for(let s of this.findTypeDependencies(n.type,t,r))!r.includes(s)&&r.push(s);return r},hashStruct(e,t,r,n=!0){return Rl.keccak(this.encodeData(e,t,r,n))},hashType(e,t){return Rl.keccak(this.encodeType(e,t))},sanitizeData(e){let t={};for(let r in fAe.properties)e[r]&&(t[r]=e[r]);return t.types&&(t.types=Object.assign({EIP712Domain:[]},t.types)),t},hash(e,t=!0){let r=this.sanitizeData(e),n=[Buffer.from("1901","hex")];return n.push(this.hashStruct("EIP712Domain",r.domain,r.types,t)),r.primaryType!=="EIP712Domain"&&n.push(this.hashStruct(r.primaryType,r.message,r.types,t)),Rl.keccak(Buffer.concat(n))}};hAe.exports={TYPED_MESSAGE_SCHEMA:fAe,TypedDataUtils:lq,hashForSignTypedDataLegacy:function(e){return lat(e.data)},hashForSignTypedData_v3:function(e){return lq.hash(e.data,!1)},hashForSignTypedData_v4:function(e){return lq.hash(e.data)}};function lat(e){let t=new Error("Expect argument to be non-empty array");if(typeof e!="object"||!e.length)throw t;let r=e.map(function(o){return o.type==="bytes"?Rl.toBuffer(o.value):o.value}),n=e.map(function(o){return o.type}),s=e.map(function(o){if(!o.name)throw t;return o.type+" "+o.name});return Y5.soliditySHA3(["bytes32","bytes32"],[Y5.soliditySHA3(new Array(e.length).fill("string"),s),Y5.soliditySHA3(n,r)])}});var xCe=Ve((Z5r,Cq)=>{"use strict";var Dat=Object.prototype.hasOwnProperty,li="~";function sE(){}Object.create&&(sE.prototype=Object.create(null),new sE().__proto__||(li=!1));function Uat(e,t,r){this.fn=e,this.context=t,this.once=r||!1}function bCe(e,t,r,n,s){if(typeof r!="function")throw new TypeError("The listener must be a function");var o=new Uat(r,n||e,s),i=li?li+t:t;return e._events[i]?e._events[i].fn?e._events[i]=[e._events[i],o]:e._events[i].push(o):(e._events[i]=o,e._eventsCount++),e}function $P(e,t){--e._eventsCount===0?e._events=new sE:delete e._events[t]}function No(){this._events=new sE,this._eventsCount=0}No.prototype.eventNames=function(){var t=[],r,n;if(this._eventsCount===0)return t;for(n in r=this._events)Dat.call(r,n)&&t.push(li?n.slice(1):n);return Object.getOwnPropertySymbols?t.concat(Object.getOwnPropertySymbols(r)):t};No.prototype.listeners=function(t){var r=li?li+t:t,n=this._events[r];if(!n)return[];if(n.fn)return[n.fn];for(var s=0,o=n.length,i=new Array(o);s<o;s++)i[s]=n[s].fn;return i};No.prototype.listenerCount=function(t){var r=li?li+t:t,n=this._events[r];return n?n.fn?1:n.length:0};No.prototype.emit=function(t,r,n,s,o,i){var a=li?li+t:t;if(!this._events[a])return!1;var c=this._events[a],l=arguments.length,u,d;if(c.fn){switch(c.once&&this.removeListener(t,c.fn,void 0,!0),l){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,r),!0;case 3:return c.fn.call(c.context,r,n),!0;case 4:return c.fn.call(c.context,r,n,s),!0;case 5:return c.fn.call(c.context,r,n,s,o),!0;case 6:return c.fn.call(c.context,r,n,s,o,i),!0}for(d=1,u=new Array(l-1);d<l;d++)u[d-1]=arguments[d];c.fn.apply(c.context,u)}else{var p=c.length,f;for(d=0;d<p;d++)switch(c[d].once&&this.removeListener(t,c[d].fn,void 0,!0),l){case 1:c[d].fn.call(c[d].context);break;case 2:c[d].fn.call(c[d].context,r);break;case 3:c[d].fn.call(c[d].context,r,n);break;case 4:c[d].fn.call(c[d].context,r,n,s);break;default:if(!u)for(f=1,u=new Array(l-1);f<l;f++)u[f-1]=arguments[f];c[d].fn.apply(c[d].context,u)}}return!0};No.prototype.on=function(t,r,n){return bCe(this,t,r,n,!1)};No.prototype.once=function(t,r,n){return bCe(this,t,r,n,!0)};No.prototype.removeListener=function(t,r,n,s){var o=li?li+t:t;if(!this._events[o])return this;if(!r)return $P(this,o),this;var i=this._events[o];if(i.fn)i.fn===r&&(!s||i.once)&&(!n||i.context===n)&&$P(this,o);else{for(var a=0,c=[],l=i.length;a<l;a++)(i[a].fn!==r||s&&!i[a].once||n&&i[a].context!==n)&&c.push(i[a]);c.length?this._events[o]=c.length===1?c[0]:c:$P(this,o)}return this};No.prototype.removeAllListeners=function(t){var r;return t?(r=li?li+t:t,this._events[r]&&$P(this,r)):(this._events=new sE,this._eventsCount=0),this};No.prototype.off=No.prototype.removeListener;No.prototype.addListener=No.prototype.on;No.prefixed=li;No.EventEmitter=No;typeof Cq<"u"&&(Cq.exports=No)});var H5e=Bt(Oo(),1);WP();var Xd=Bt(Ld(),1),Uc=Bt(T2(),1),GY=Bt(XP(),1);var cW="0.1.1";function lW(){return cW}var ir=class e extends Error{constructor(t,r={}){let n=(()=>{if(r.cause instanceof e){if(r.cause.details)return r.cause.details;if(r.cause.shortMessage)return r.cause.shortMessage}return r.cause&&"details"in r.cause&&typeof r.cause.details=="string"?r.cause.details:r.cause?.message?r.cause.message:r.details})(),s=r.cause instanceof e&&r.cause.docsPath||r.docsPath,i=`https://oxlib.sh${s??""}`,a=[t||"An error occurred.",...r.metaMessages?["",...r.metaMessages]:[],...n||s?["",n?`Details: ${n}`:void 0,s?`See: ${i}`:void 0]:[]].filter(c=>typeof c=="string").join(`
`);super(a,r.cause?{cause:r.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:`ox@${lW()}`}),this.cause=r.cause,this.details=n,this.docs=i,this.docsPath=s,this.shortMessage=t}walk(t){return uW(this,t)}};function uW(e,t){return t?.(e)?e:e&&typeof e=="object"&&"cause"in e&&e.cause?uW(e.cause,t):t?null:e}e8();var lN=BigInt(0),cN=BigInt(1);function k2(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function uN(e){if(!k2(e))throw new Error("Uint8Array expected")}function B2(e,t){if(typeof t!="boolean")throw new Error(e+" boolean expected, got "+t)}function r8(e){let t=e.toString(16);return t.length&1?"0"+t:t}function $W(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return e===""?lN:BigInt("0x"+e)}var FW=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",iIe=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function D2(e){if(uN(e),FW)return e.toHex();let t="";for(let r=0;r<e.length;r++)t+=iIe[e[r]];return t}var $d={_0:48,_9:57,A:65,F:70,a:97,f:102};function MW(e){if(e>=$d._0&&e<=$d._9)return e-$d._0;if(e>=$d.A&&e<=$d.F)return e-($d.A-10);if(e>=$d.a&&e<=$d.f)return e-($d.a-10)}function n8(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);if(FW)return Uint8Array.fromHex(e);let t=e.length,r=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);let n=new Uint8Array(r);for(let s=0,o=0;s<r;s++,o+=2){let i=MW(e.charCodeAt(o)),a=MW(e.charCodeAt(o+1));if(i===void 0||a===void 0){let c=e[o]+e[o+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+o)}n[s]=i*16+a}return n}function Fd(e){return $W(D2(e))}function dN(e){return uN(e),$W(D2(Uint8Array.from(e).reverse()))}function Dm(e,t){return n8(e.toString(16).padStart(t*2,"0"))}function pN(e,t){return Dm(e,t).reverse()}function di(e,t,r){let n;if(typeof t=="string")try{n=n8(t)}catch(o){throw new Error(e+" must be hex string or Uint8Array, cause: "+o)}else if(k2(t))n=Uint8Array.from(t);else throw new Error(e+" must be hex string or Uint8Array");let s=n.length;if(typeof r=="number"&&s!==r)throw new Error(e+" of length "+r+" expected, got "+s);return n}function s8(...e){let t=0;for(let n=0;n<e.length;n++){let s=e[n];uN(s),t+=s.length}let r=new Uint8Array(t);for(let n=0,s=0;n<e.length;n++){let o=e[n];r.set(o,s),s+=o.length}return r}var iN=e=>typeof e=="bigint"&&lN<=e;function CE(e,t,r){return iN(e)&&iN(t)&&iN(r)&&t<=e&&e<r}function Um(e,t,r,n){if(!CE(t,r,n))throw new Error("expected valid "+e+": "+r+" <= n < "+n+", got "+t)}function jW(e){let t;for(t=0;e>lN;e>>=cN,t+=1);return t}var Lm=e=>(cN<<BigInt(e))-cN,aN=e=>new Uint8Array(e),HW=e=>Uint8Array.from(e);function zW(e,t,r){if(typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof r!="function")throw new Error("hmacFn must be a function");let n=aN(e),s=aN(e),o=0,i=()=>{n.fill(1),s.fill(0),o=0},a=(...d)=>r(s,n,...d),c=(d=aN(0))=>{s=a(HW([0]),d),n=a(),d.length!==0&&(s=a(HW([1]),d),n=a())},l=()=>{if(o++>=1e3)throw new Error("drbg: tried 1000 values");let d=0,p=[];for(;d<t;){n=a();let f=n.slice();p.push(f),d+=n.length}return s8(...p)};return(d,p)=>{i(),c(d);let f;for(;!(f=p(l()));)c();return i(),f}}var aIe={bigint:e=>typeof e=="bigint",function:e=>typeof e=="function",boolean:e=>typeof e=="boolean",string:e=>typeof e=="string",stringOrUint8Array:e=>typeof e=="string"||k2(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>typeof e=="function"&&Number.isSafeInteger(e.outputLen)};function Mm(e,t,r={}){let n=(s,o,i)=>{let a=aIe[o];if(typeof a!="function")throw new Error("invalid validator function");let c=e[s];if(!(i&&c===void 0)&&!a(c,e))throw new Error("param "+String(s)+" is invalid. Expected "+o+", got "+c)};for(let[s,o]of Object.entries(t))n(s,o,!1);for(let[s,o]of Object.entries(r))n(s,o,!0);return e}function fN(e){let t=new WeakMap;return(r,...n)=>{let s=t.get(r);if(s!==void 0)return s;let o=e(r,...n);return t.set(r,o),o}}function VW(e,t){if(hN(e)>t)throw new SE({givenSize:hN(e),maxSize:t})}var jd={zero:48,nine:57,A:65,F:70,a:97,f:102};function mN(e){if(e>=jd.zero&&e<=jd.nine)return e-jd.zero;if(e>=jd.A&&e<=jd.F)return e-(jd.A-10);if(e>=jd.a&&e<=jd.f)return e-(jd.a-10)}function qW(e,t={}){let{dir:r,size:n=32}=t;if(n===0)return e;if(e.length>n)throw new IE({size:e.length,targetSize:n,type:"Bytes"});let s=new Uint8Array(n);for(let o=0;o<n;o++){let i=r==="right";s[i?o:n-o-1]=e[i?o:e.length-o-1]}return s}function _E(e,t){if(za(e)>t)throw new TE({givenSize:za(e),maxSize:t})}function WW(e,t){if(typeof t=="number"&&t>0&&t>za(e)-1)throw new o8({offset:t,position:"start",size:za(e)})}function KW(e,t,r){if(typeof t=="number"&&typeof r=="number"&&za(e)!==r-t)throw new o8({offset:r,position:"end",size:za(e)})}function gN(e,t={}){let{dir:r,size:n=32}=t;if(n===0)return e;let s=e.replace("0x","");if(s.length>n*2)throw new PE({size:Math.ceil(s.length/2),targetSize:n,type:"Hex"});return`0x${s[r==="right"?"padEnd":"padStart"](n*2,"0")}`}function ZW(e,t={}){let{dir:r="left"}=t,n=e.replace("0x",""),s=0;for(let o=0;o<n.length-1&&n[r==="left"?o:n.length-o-1].toString()==="0";o++)s++;return n=r==="left"?n.slice(s):n.slice(0,n.length-s),n==="0"?"0x":r==="right"&&n.length%2===1?`0x${n}0`:`0x${n}`}var lIe="#__bigint";function Pf(e,t,r){return JSON.stringify(e,(n,s)=>typeof t=="function"?t(n,s):typeof s=="bigint"?s.toString()+lIe:s,r)}var uIe=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function dIe(e,t={}){let{strict:r=!1}=t;if(!e)throw new NE(e);if(typeof e!="string")throw new NE(e);if(r&&!/^0x[0-9a-fA-F]*$/.test(e))throw new RE(e);if(!e.startsWith("0x"))throw new RE(e)}function OE(...e){return`0x${e.reduce((t,r)=>t+r.replace("0x",""),"")}`}function Bl(e){return e instanceof Uint8Array?ra(e):Array.isArray(e)?ra(new Uint8Array(e)):e}function ra(e,t={}){let r="";for(let s=0;s<e.length;s++)r+=uIe[e[s]];let n=`0x${r}`;return typeof t.size=="number"?(_E(n,t.size),wN(n,t.size)):n}function na(e,t={}){let{signed:r,size:n}=t,s=BigInt(e),o;n?r?o=(1n<<BigInt(n)*8n-1n)-1n:o=2n**(BigInt(n)*8n)-1n:typeof e=="number"&&(o=BigInt(Number.MAX_SAFE_INTEGER));let i=typeof o=="bigint"&&r?-o-1n:0;if(o&&s>o||s<i){let l=typeof e=="bigint"?"n":"";throw new yN({max:o?`${o}${l}`:void 0,min:`${i}${l}`,signed:r,size:n,value:`${e}${l}`})}let c=`0x${(r&&s<0?(1n<<BigInt(n*8))+BigInt(s):s).toString(16)}`;return n?pIe(c,n):c}function pIe(e,t){return gN(e,{dir:"left",size:t})}function wN(e,t){return gN(e,{dir:"right",size:t})}function Pc(e,t,r,n={}){let{strict:s}=n;WW(e,t);let o=`0x${e.replace("0x","").slice((t??0)*2,(r??e.length)*2)}`;return s&&KW(o,t,r),o}function za(e){return Math.ceil((e.length-2)/2)}function bN(e){return ZW(e,{dir:"left"})}function xN(e,t={}){let{strict:r=!1}=t;try{return dIe(e,{strict:r}),!0}catch{return!1}}var yN=class extends ir{constructor({max:t,min:r,signed:n,size:s,value:o}){super(`Number \`${o}\` is not in safe${s?` ${s*8}-bit`:""}${n?" signed":" unsigned"} integer range ${t?`(\`${r}\` to \`${t}\`)`:`(above \`${r}\`)`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.IntegerOutOfRangeError"})}};var NE=class extends ir{constructor(t){super(`Value \`${typeof t=="object"?Pf(t):t}\` of type \`${typeof t}\` is an invalid hex type.`,{metaMessages:['Hex types must be represented as `"0x${string}"`.']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexTypeError"})}},RE=class extends ir{constructor(t){super(`Value \`${t}\` is an invalid hex value.`,{metaMessages:['Hex values must start with `"0x"` and contain only hexadecimal characters (0-9, a-f, A-F).']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexValueError"})}};var TE=class extends ir{constructor({givenSize:t,maxSize:r}){super(`Size cannot exceed \`${r}\` bytes. Given size: \`${t}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeOverflowError"})}},o8=class extends ir{constructor({offset:t,position:r,size:n}){super(`Slice ${r==="start"?"starting":"ending"} at offset \`${t}\` is out-of-bounds (size: \`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SliceOffsetOutOfBoundsError"})}},PE=class extends ir{constructor({size:t,targetSize:r,type:n}){super(`${n.charAt(0).toUpperCase()}${n.slice(1).toLowerCase()} size (\`${t}\`) exceeds padding size (\`${r}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeExceedsPaddingSizeError"})}};var fIe=new TextEncoder;function hIe(e){if(!(e instanceof Uint8Array)){if(!e)throw new U2(e);if(typeof e!="object")throw new U2(e);if(!("BYTES_PER_ELEMENT"in e))throw new U2(e);if(e.BYTES_PER_ELEMENT!==1||e.constructor.name!=="Uint8Array")throw new U2(e)}}function L2(e){return e instanceof Uint8Array?e:typeof e=="string"?a8(e):mIe(e)}function mIe(e){return e instanceof Uint8Array?e:new Uint8Array(e)}function a8(e,t={}){let{size:r}=t,n=e;r&&(_E(e,r),n=wN(e,r));let s=n.slice(2);s.length%2&&(s=`0${s}`);let o=s.length/2,i=new Uint8Array(o);for(let a=0,c=0;a<o;a++){let l=mN(s.charCodeAt(c++)),u=mN(s.charCodeAt(c++));if(l===void 0||u===void 0)throw new ir(`Invalid byte sequence ("${s[c-2]}${s[c-1]}" in "${s}").`);i[a]=l*16+u}return i}function YW(e,t={}){let{size:r}=t,n=fIe.encode(e);return typeof r=="number"?(VW(n,r),gIe(n,r)):n}function gIe(e,t){return qW(e,{dir:"right",size:t})}function hN(e){return e.length}function JW(e){try{return hIe(e),!0}catch{return!1}}var U2=class extends ir{constructor(t){super(`Value \`${typeof t=="object"?Pf(t):t}\` of type \`${typeof t}\` is an invalid Bytes value.`,{metaMessages:["Bytes values must be of type `Bytes`."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.InvalidBytesTypeError"})}},SE=class extends ir{constructor({givenSize:t,maxSize:r}){super(`Size cannot exceed \`${r}\` bytes. Given size: \`${t}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeOverflowError"})}};var IE=class extends ir{constructor({size:t,targetSize:r,type:n}){super(`${n.charAt(0).toUpperCase()}${n.slice(1).toLowerCase()} size (\`${t}\`) exceeds padding size (\`${r}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeExceedsPaddingSizeError"})}};function vN(e,t={}){let{as:r=typeof e=="string"?"Hex":"Bytes"}=t,n=_f(L2(e));return r==="Bytes"?n:ra(n)}var kE=class extends Map{constructor(t){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=t}get(t){let r=super.get(t);return super.has(t)&&r!==void 0&&(this.delete(t),super.set(t,r)),r}set(t,r){if(super.set(t,r),this.maxSize&&this.size>this.maxSize){let n=this.keys().next().value;n&&this.delete(n)}return this}};var yIe={checksum:new kE(8192)},BE=yIe.checksum;function eK(e,t={}){let{compressed:r}=t,{prefix:n,x:s,y:o}=e;if(r===!1||typeof s=="bigint"&&typeof o=="bigint"){if(n!==4)throw new DE({prefix:n,cause:new CN});return}if(r===!0||typeof s=="bigint"&&typeof o>"u"){if(n!==3&&n!==2)throw new DE({prefix:n,cause:new AN});return}throw new EN({publicKey:e})}function IN(e){let t=(()=>{if(xN(e))return tK(e);if(JW(e))return wIe(e);let{prefix:r,x:n,y:s}=e;return typeof n=="bigint"&&typeof s=="bigint"?{prefix:r??4,x:n,y:s}:{prefix:r,x:n}})();return eK(t),t}function wIe(e){return tK(ra(e))}function tK(e){if(e.length!==132&&e.length!==130&&e.length!==68)throw new SN({publicKey:e});if(e.length===130){let n=BigInt(Pc(e,0,32)),s=BigInt(Pc(e,32,64));return{prefix:4,x:n,y:s}}if(e.length===132){let n=Number(Pc(e,0,1)),s=BigInt(Pc(e,1,33)),o=BigInt(Pc(e,33,65));return{prefix:n,x:s,y:o}}let t=Number(Pc(e,0,1)),r=BigInt(Pc(e,1,33));return{prefix:t,x:r}}function rK(e,t={}){return a8(c8(e,t))}function c8(e,t={}){eK(e);let{prefix:r,x:n,y:s}=e,{includePrefix:o=!0}=t;return OE(o?na(r,{size:1}):"0x",na(n,{size:32}),typeof s=="bigint"?na(s,{size:32}):"0x")}var EN=class extends ir{constructor({publicKey:t}){super(`Value \`${Pf(t)}\` is not a valid public key.`,{metaMessages:["Public key must contain:","- an `x` and `prefix` value (compressed)","- an `x`, `y`, and `prefix` value (uncompressed)"]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidError"})}},DE=class extends ir{constructor({prefix:t,cause:r}){super(`Prefix "${t}" is invalid.`,{cause:r}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidPrefixError"})}},AN=class extends ir{constructor(){super("Prefix must be 2 or 3 for compressed public keys."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidCompressedPrefixError"})}},CN=class extends ir{constructor(){super("Prefix must be 4 for uncompressed public keys."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidUncompressedPrefixError"})}},SN=class extends ir{constructor({publicKey:t}){super(`Value \`${t}\` is an invalid public key size.`,{metaMessages:["Expected: 33 bytes (compressed + prefix), 64 bytes (uncompressed) or 65 bytes (uncompressed + prefix).",`Received ${za(Bl(t))} bytes.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidSerializedSizeError"})}};var bIe=/^0x[a-fA-F0-9]{40}$/;function UE(e,t={}){let{strict:r=!0}=t;if(!bIe.test(e))throw new LE({address:e,cause:new TN});if(r){if(e.toLowerCase()===e)return;if(nK(e)!==e)throw new LE({address:e,cause:new PN})}}function nK(e){if(BE.has(e))return BE.get(e);UE(e,{strict:!1});let t=e.substring(2).toLowerCase(),r=vN(YW(t),{as:"Bytes"}),n=t.split("");for(let o=0;o<40;o+=2)r[o>>1]>>4>=8&&n[o]&&(n[o]=n[o].toUpperCase()),(r[o>>1]&15)>=8&&n[o+1]&&(n[o+1]=n[o+1].toUpperCase());let s=`0x${n.join("")}`;return BE.set(e,s),s}function xIe(e,t={}){let{checksum:r=!1}=t;return UE(e),r?nK(e):e}function sK(e,t={}){let r=vN(`0x${c8(e).slice(4)}`).substring(26);return xIe(`0x${r}`,t)}function oK(e,t){return UE(e,{strict:!1}),UE(t,{strict:!1}),e.toLowerCase()===t.toLowerCase()}var LE=class extends ir{constructor({address:t,cause:r}){super(`Address "${t}" is invalid.`,{cause:r}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidAddressError"})}},TN=class extends ir{constructor(){super("Address is not a 20 byte (40 hexadecimal character) value."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidInputError"})}},PN=class extends ir{constructor(){super("Address does not match its checksum counterpart."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidChecksumError"})}};var Vct=2n**(8n-1n)-1n,qct=2n**(16n-1n)-1n,Wct=2n**(24n-1n)-1n,Kct=2n**(32n-1n)-1n,Zct=2n**(40n-1n)-1n,Gct=2n**(48n-1n)-1n,Yct=2n**(56n-1n)-1n,Jct=2n**(64n-1n)-1n,Qct=2n**(72n-1n)-1n,Xct=2n**(80n-1n)-1n,elt=2n**(88n-1n)-1n,tlt=2n**(96n-1n)-1n,rlt=2n**(104n-1n)-1n,nlt=2n**(112n-1n)-1n,slt=2n**(120n-1n)-1n,olt=2n**(128n-1n)-1n,ilt=2n**(136n-1n)-1n,alt=2n**(144n-1n)-1n,clt=2n**(152n-1n)-1n,llt=2n**(160n-1n)-1n,ult=2n**(168n-1n)-1n,dlt=2n**(176n-1n)-1n,plt=2n**(184n-1n)-1n,flt=2n**(192n-1n)-1n,hlt=2n**(200n-1n)-1n,mlt=2n**(208n-1n)-1n,glt=2n**(216n-1n)-1n,ylt=2n**(224n-1n)-1n,wlt=2n**(232n-1n)-1n,blt=2n**(240n-1n)-1n,xlt=2n**(248n-1n)-1n,vlt=2n**(256n-1n)-1n,Elt=-(2n**(8n-1n)),Alt=-(2n**(16n-1n)),Clt=-(2n**(24n-1n)),Slt=-(2n**(32n-1n)),Ilt=-(2n**(40n-1n)),_lt=-(2n**(48n-1n)),Tlt=-(2n**(56n-1n)),Plt=-(2n**(64n-1n)),Nlt=-(2n**(72n-1n)),Rlt=-(2n**(80n-1n)),Olt=-(2n**(88n-1n)),klt=-(2n**(96n-1n)),Blt=-(2n**(104n-1n)),Dlt=-(2n**(112n-1n)),Ult=-(2n**(120n-1n)),Llt=-(2n**(128n-1n)),Mlt=-(2n**(136n-1n)),Hlt=-(2n**(144n-1n)),$lt=-(2n**(152n-1n)),Flt=-(2n**(160n-1n)),jlt=-(2n**(168n-1n)),zlt=-(2n**(176n-1n)),Vlt=-(2n**(184n-1n)),qlt=-(2n**(192n-1n)),Wlt=-(2n**(200n-1n)),Klt=-(2n**(208n-1n)),Zlt=-(2n**(216n-1n)),Glt=-(2n**(224n-1n)),Ylt=-(2n**(232n-1n)),Jlt=-(2n**(240n-1n)),Qlt=-(2n**(248n-1n)),Xlt=-(2n**(256n-1n)),eut=2n**8n-1n,tut=2n**16n-1n,rut=2n**24n-1n,nut=2n**32n-1n,sut=2n**40n-1n,out=2n**48n-1n,iut=2n**56n-1n,aut=2n**64n-1n,cut=2n**72n-1n,lut=2n**80n-1n,uut=2n**88n-1n,dut=2n**96n-1n,put=2n**104n-1n,fut=2n**112n-1n,hut=2n**120n-1n,mut=2n**128n-1n,gut=2n**136n-1n,yut=2n**144n-1n,wut=2n**152n-1n,but=2n**160n-1n,xut=2n**168n-1n,vut=2n**176n-1n,Eut=2n**184n-1n,Aut=2n**192n-1n,Cut=2n**200n-1n,Sut=2n**208n-1n,Iut=2n**216n-1n,_ut=2n**224n-1n,Tut=2n**232n-1n,Put=2n**240n-1n,Nut=2n**248n-1n,NN=2n**256n-1n;var KE={};Se(KE,{InvalidRError:()=>jE,InvalidSError:()=>zE,InvalidSerializedSizeError:()=>FE,InvalidVError:()=>VE,InvalidYParityError:()=>zm,MissingPropertiesError:()=>M2,assert:()=>qE,extract:()=>LIe,from:()=>KN,fromBytes:()=>_K,fromDerBytes:()=>MIe,fromDerHex:()=>TK,fromHex:()=>WN,fromLegacy:()=>PK,fromRpc:()=>NK,fromTuple:()=>HIe,toBytes:()=>$Ie,toDerBytes:()=>FIe,toDerHex:()=>jIe,toHex:()=>RK,toLegacy:()=>zIe,toRpc:()=>VIe,toTuple:()=>qIe,vToYParity:()=>WE,validate:()=>WIe,yParityToV:()=>ZN});t8();HE();ui();ui();var ko=BigInt(0),zs=BigInt(1),jm=BigInt(2),vIe=BigInt(3),lK=BigInt(4),uK=BigInt(5),dK=BigInt(8);function js(e,t){let r=e%t;return r>=ko?r:t+r}function sa(e,t,r){let n=e;for(;t-- >ko;)n*=n,n%=r;return n}function $E(e,t){if(e===ko)throw new Error("invert: expected non-zero number");if(t<=ko)throw new Error("invert: expected positive modulus, got "+t);let r=js(e,t),n=t,s=ko,o=zs,i=zs,a=ko;for(;r!==ko;){let l=n/r,u=n%r,d=s-i*l,p=o-a*l;n=r,r=u,s=i,o=a,i=d,a=p}if(n!==zs)throw new Error("invert: does not exist");return js(s,t)}function pK(e,t){let r=(e.ORDER+zs)/lK,n=e.pow(t,r);if(!e.eql(e.sqr(n),t))throw new Error("Cannot find square root");return n}function EIe(e,t){let r=(e.ORDER-uK)/dK,n=e.mul(t,jm),s=e.pow(n,r),o=e.mul(t,s),i=e.mul(e.mul(o,jm),s),a=e.mul(o,e.sub(i,e.ONE));if(!e.eql(e.sqr(a),t))throw new Error("Cannot find square root");return a}function AIe(e){if(e<BigInt(3))throw new Error("sqrt is not defined for small field");let t=e-zs,r=0;for(;t%jm===ko;)t/=jm,r++;let n=jm,s=l8(e);for(;cK(s,n)===1;)if(n++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(r===1)return pK;let o=s.pow(n,t),i=(t+zs)/jm;return function(c,l){if(c.is0(l))return l;if(cK(c,l)!==1)throw new Error("Cannot find square root");let u=r,d=c.mul(c.ONE,o),p=c.pow(l,t),f=c.pow(l,i);for(;!c.eql(p,c.ONE);){if(c.is0(p))return c.ZERO;let h=1,g=c.sqr(p);for(;!c.eql(g,c.ONE);)if(h++,g=c.sqr(g),h===u)throw new Error("Cannot find square root");let y=zs<<BigInt(u-h-1),E=c.pow(d,y);u=h,d=c.sqr(E),p=c.mul(p,d),f=c.mul(f,E)}return f}}function CIe(e){return e%lK===vIe?pK:e%dK===uK?EIe:AIe(e)}var SIe=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function RN(e){let t={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},r=SIe.reduce((n,s)=>(n[s]="function",n),t);return Mm(e,r)}function IIe(e,t,r){if(r<ko)throw new Error("invalid exponent, negatives unsupported");if(r===ko)return e.ONE;if(r===zs)return t;let n=e.ONE,s=t;for(;r>ko;)r&zs&&(n=e.mul(n,s)),s=e.sqr(s),r>>=zs;return n}function ON(e,t,r=!1){let n=new Array(t.length).fill(r?e.ZERO:void 0),s=t.reduce((i,a,c)=>e.is0(a)?i:(n[c]=i,e.mul(i,a)),e.ONE),o=e.inv(s);return t.reduceRight((i,a,c)=>e.is0(a)?i:(n[c]=e.mul(i,n[c]),e.mul(i,a)),o),n}function cK(e,t){let r=(e.ORDER-zs)/jm,n=e.pow(t,r),s=e.eql(n,e.ONE),o=e.eql(n,e.ZERO),i=e.eql(n,e.neg(e.ONE));if(!s&&!o&&!i)throw new Error("invalid Legendre symbol result");return s?1:o?0:-1}function kN(e,t){t!==void 0&&Sc(t);let r=t!==void 0?t:e.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}function l8(e,t,r=!1,n={}){if(e<=ko)throw new Error("invalid field: expected ORDER > 0, got "+e);let{nBitLength:s,nByteLength:o}=kN(e,t);if(o>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let i,a=Object.freeze({ORDER:e,isLE:r,BITS:s,BYTES:o,MASK:Lm(s),ZERO:ko,ONE:zs,create:c=>js(c,e),isValid:c=>{if(typeof c!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof c);return ko<=c&&c<e},is0:c=>c===ko,isOdd:c=>(c&zs)===zs,neg:c=>js(-c,e),eql:(c,l)=>c===l,sqr:c=>js(c*c,e),add:(c,l)=>js(c+l,e),sub:(c,l)=>js(c-l,e),mul:(c,l)=>js(c*l,e),pow:(c,l)=>IIe(a,c,l),div:(c,l)=>js(c*$E(l,e),e),sqrN:c=>c*c,addN:(c,l)=>c+l,subN:(c,l)=>c-l,mulN:(c,l)=>c*l,inv:c=>$E(c,e),sqrt:n.sqrt||(c=>(i||(i=CIe(e)),i(a,c))),toBytes:c=>r?pN(c,o):Dm(c,o),fromBytes:c=>{if(c.length!==o)throw new Error("Field.fromBytes: expected "+o+" bytes, got "+c.length);return r?dN(c):Fd(c)},invertBatch:c=>ON(a,c),cmov:(c,l,u)=>u?l:c});return Object.freeze(a)}function fK(e){if(typeof e!="bigint")throw new Error("field order must be bigint");let t=e.toString(2).length;return Math.ceil(t/8)}function BN(e){let t=fK(e);return t+Math.ceil(t/2)}function hK(e,t,r=!1){let n=e.length,s=fK(t),o=BN(t);if(n<16||n<o||n>1024)throw new Error("expected "+o+"-1024 bytes of input, got "+n);let i=r?dN(e):Fd(e),a=js(i,t-zs)+zs;return r?pN(a,s):Dm(a,s)}var mK=BigInt(0),HN=BigInt(1);function DN(e,t){let r=t.negate();return e?r:t}function yK(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw new Error("invalid window size, expected [1.."+t+"], got W="+e)}function UN(e,t){yK(e,t);let r=Math.ceil(t/e)+1,n=2**(e-1),s=2**e,o=Lm(e),i=BigInt(e);return{windows:r,windowSize:n,mask:o,maxNumber:s,shiftBy:i}}function gK(e,t,r){let{windowSize:n,mask:s,maxNumber:o,shiftBy:i}=r,a=Number(e&s),c=e>>i;a>n&&(a-=o,c+=HN);let l=t*n,u=l+Math.abs(a)-1,d=a===0,p=a<0,f=t%2!==0;return{nextN:c,offset:u,isZero:d,isNeg:p,isNegF:f,offsetF:l}}function _Ie(e,t){if(!Array.isArray(e))throw new Error("array expected");e.forEach((r,n)=>{if(!(r instanceof t))throw new Error("invalid point at index "+n)})}function TIe(e,t){if(!Array.isArray(e))throw new Error("array of scalars expected");e.forEach((r,n)=>{if(!t.isValid(r))throw new Error("invalid scalar at index "+n)})}var LN=new WeakMap,wK=new WeakMap;function MN(e){return wK.get(e)||1}function bK(e,t){return{constTimeNegate:DN,hasPrecomputes(r){return MN(r)!==1},unsafeLadder(r,n,s=e.ZERO){let o=r;for(;n>mK;)n&HN&&(s=s.add(o)),o=o.double(),n>>=HN;return s},precomputeWindow(r,n){let{windows:s,windowSize:o}=UN(n,t),i=[],a=r,c=a;for(let l=0;l<s;l++){c=a,i.push(c);for(let u=1;u<o;u++)c=c.add(a),i.push(c);a=c.double()}return i},wNAF(r,n,s){let o=e.ZERO,i=e.BASE,a=UN(r,t);for(let c=0;c<a.windows;c++){let{nextN:l,offset:u,isZero:d,isNeg:p,isNegF:f,offsetF:h}=gK(s,c,a);s=l,d?i=i.add(DN(f,n[h])):o=o.add(DN(p,n[u]))}return{p:o,f:i}},wNAFUnsafe(r,n,s,o=e.ZERO){let i=UN(r,t);for(let a=0;a<i.windows&&s!==mK;a++){let{nextN:c,offset:l,isZero:u,isNeg:d}=gK(s,a,i);if(s=c,!u){let p=n[l];o=o.add(d?p.negate():p)}}return o},getPrecomputes(r,n,s){let o=LN.get(n);return o||(o=this.precomputeWindow(n,r),r!==1&&LN.set(n,s(o))),o},wNAFCached(r,n,s){let o=MN(r);return this.wNAF(o,this.getPrecomputes(o,r,s),n)},wNAFCachedUnsafe(r,n,s,o){let i=MN(r);return i===1?this.unsafeLadder(r,n,o):this.wNAFUnsafe(i,this.getPrecomputes(i,r,s),n,o)},setWindowSize(r,n){yK(n,t),wK.set(r,n),LN.delete(r)}}}function xK(e,t,r,n){_Ie(r,e),TIe(n,t);let s=r.length,o=n.length;if(s!==o)throw new Error("arrays of points and scalars must have equal length");let i=e.ZERO,a=jW(BigInt(s)),c=1;a>12?c=a-3:a>4?c=a-2:a>0&&(c=2);let l=Lm(c),u=new Array(Number(l)+1).fill(i),d=Math.floor((t.BITS-1)/c)*c,p=i;for(let f=d;f>=0;f-=c){u.fill(i);for(let g=0;g<o;g++){let y=n[g],E=Number(y>>BigInt(f)&l);u[E]=u[E].add(r[g])}let h=i;for(let g=u.length-1,y=i;g>0;g--)y=y.add(u[g]),h=h.add(y);if(p=p.add(h),f!==0)for(let g=0;g<c;g++)p=p.double()}return p}function $N(e){return RN(e.Fp),Mm(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...kN(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}function vK(e){e.lowS!==void 0&&B2("lowS",e.lowS),e.prehash!==void 0&&B2("prehash",e.prehash)}function PIe(e){let t=$N(e);Mm(t,{a:"field",b:"field"},{allowInfinityPoint:"boolean",allowedPrivateKeyLengths:"array",clearCofactor:"function",fromBytes:"function",isTorsionFree:"function",toBytes:"function",wrapPrivateKey:"boolean"});let{endo:r,Fp:n,a:s}=t;if(r){if(!n.eql(s,n.ZERO))throw new Error("invalid endo: CURVE.a must be 0");if(typeof r!="object"||typeof r.beta!="bigint"||typeof r.splitScalar!="function")throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function')}return Object.freeze({...t})}var zN=class extends Error{constructor(t=""){super(t)}},zd={Err:zN,_tlv:{encode:(e,t)=>{let{Err:r}=zd;if(e<0||e>256)throw new r("tlv.encode: wrong tag");if(t.length&1)throw new r("tlv.encode: unpadded data");let n=t.length/2,s=r8(n);if(s.length/2&128)throw new r("tlv.encode: long form length too big");let o=n>127?r8(s.length/2|128):"";return r8(e)+o+s+t},decode(e,t){let{Err:r}=zd,n=0;if(e<0||e>256)throw new r("tlv.encode: wrong tag");if(t.length<2||t[n++]!==e)throw new r("tlv.decode: wrong tlv");let s=t[n++],o=!!(s&128),i=0;if(!o)i=s;else{let c=s&127;if(!c)throw new r("tlv.decode(long): indefinite length not supported");if(c>4)throw new r("tlv.decode(long): byte length is too big");let l=t.subarray(n,n+c);if(l.length!==c)throw new r("tlv.decode: length bytes not complete");if(l[0]===0)throw new r("tlv.decode(long): zero leftmost byte");for(let u of l)i=i<<8|u;if(n+=c,i<128)throw new r("tlv.decode(long): not minimal encoding")}let a=t.subarray(n,n+i);if(a.length!==i)throw new r("tlv.decode: wrong value length");return{v:a,l:t.subarray(n+i)}}},_int:{encode(e){let{Err:t}=zd;if(e<Vd)throw new t("integer: negative integers are not allowed");let r=r8(e);if(Number.parseInt(r[0],16)&8&&(r="00"+r),r.length&1)throw new t("unexpected DER parsing assertion: unpadded hex");return r},decode(e){let{Err:t}=zd;if(e[0]&128)throw new t("invalid signature integer: negative");if(e[0]===0&&!(e[1]&128))throw new t("invalid signature integer: unnecessary leading zero");return Fd(e)}},toSig(e){let{Err:t,_int:r,_tlv:n}=zd,s=di("signature",e),{v:o,l:i}=n.decode(48,s);if(i.length)throw new t("invalid signature: left bytes after parsing");let{v:a,l:c}=n.decode(2,o),{v:l,l:u}=n.decode(2,c);if(u.length)throw new t("invalid signature: left bytes after parsing");return{r:r.decode(a),s:r.decode(l)}},hexFromSig(e){let{_tlv:t,_int:r}=zd,n=t.encode(2,r.encode(e.r)),s=t.encode(2,r.encode(e.s)),o=n+s;return t.encode(48,o)}};function FN(e,t){return D2(Dm(e,t))}var Vd=BigInt(0),cs=BigInt(1),jut=BigInt(2),jN=BigInt(3),NIe=BigInt(4);function RIe(e){let t=PIe(e),{Fp:r}=t,n=l8(t.n,t.nBitLength),s=t.toBytes||((b,w,C)=>{let _=w.toAffine();return s8(Uint8Array.from([4]),r.toBytes(_.x),r.toBytes(_.y))}),o=t.fromBytes||(b=>{let w=b.subarray(1),C=r.fromBytes(w.subarray(0,r.BYTES)),_=r.fromBytes(w.subarray(r.BYTES,2*r.BYTES));return{x:C,y:_}});function i(b){let{a:w,b:C}=t,_=r.sqr(b),B=r.mul(_,b);return r.add(r.add(B,r.mul(b,w)),C)}function a(b,w){let C=r.sqr(w),_=i(b);return r.eql(C,_)}if(!a(t.Gx,t.Gy))throw new Error("bad curve params: generator point");let c=r.mul(r.pow(t.a,jN),NIe),l=r.mul(r.sqr(t.b),BigInt(27));if(r.is0(r.add(c,l)))throw new Error("bad curve params: a or b");function u(b){return CE(b,cs,t.n)}function d(b){let{allowedPrivateKeyLengths:w,nByteLength:C,wrapPrivateKey:_,n:B}=t;if(w&&typeof b!="bigint"){if(k2(b)&&(b=D2(b)),typeof b!="string"||!w.includes(b.length))throw new Error("invalid private key");b=b.padStart(C*2,"0")}let U;try{U=typeof b=="bigint"?b:Fd(di("private key",b,C))}catch{throw new Error("invalid private key, expected hex or "+C+" bytes, got "+typeof b)}return _&&(U=js(U,B)),Um("private key",U,cs,B),U}function p(b){if(!(b instanceof g))throw new Error("ProjectivePoint expected")}let f=fN((b,w)=>{let{px:C,py:_,pz:B}=b;if(r.eql(B,r.ONE))return{x:C,y:_};let U=b.is0();w==null&&(w=U?r.ONE:r.inv(B));let k=r.mul(C,w),$=r.mul(_,w),P=r.mul(B,w);if(U)return{x:r.ZERO,y:r.ZERO};if(!r.eql(P,r.ONE))throw new Error("invZ was invalid");return{x:k,y:$}}),h=fN(b=>{if(b.is0()){if(t.allowInfinityPoint&&!r.is0(b.py))return;throw new Error("bad point: ZERO")}let{x:w,y:C}=b.toAffine();if(!r.isValid(w)||!r.isValid(C))throw new Error("bad point: x or y not FE");if(!a(w,C))throw new Error("bad point: equation left != right");if(!b.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class g{constructor(w,C,_){if(w==null||!r.isValid(w))throw new Error("x required");if(C==null||!r.isValid(C)||r.is0(C))throw new Error("y required");if(_==null||!r.isValid(_))throw new Error("z required");this.px=w,this.py=C,this.pz=_,Object.freeze(this)}static fromAffine(w){let{x:C,y:_}=w||{};if(!w||!r.isValid(C)||!r.isValid(_))throw new Error("invalid affine point");if(w instanceof g)throw new Error("projective point not allowed");let B=U=>r.eql(U,r.ZERO);return B(C)&&B(_)?g.ZERO:new g(C,_,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(w){let C=ON(r,w.map(_=>_.pz));return w.map((_,B)=>_.toAffine(C[B])).map(g.fromAffine)}static fromHex(w){let C=g.fromAffine(o(di("pointHex",w)));return C.assertValidity(),C}static fromPrivateKey(w){return g.BASE.multiply(d(w))}static msm(w,C){return xK(g,n,w,C)}_setWindowSize(w){A.setWindowSize(this,w)}assertValidity(){h(this)}hasEvenY(){let{y:w}=this.toAffine();if(r.isOdd)return!r.isOdd(w);throw new Error("Field doesn't support isOdd")}equals(w){p(w);let{px:C,py:_,pz:B}=this,{px:U,py:k,pz:$}=w,P=r.eql(r.mul(C,$),r.mul(U,B)),I=r.eql(r.mul(_,$),r.mul(k,B));return P&&I}negate(){return new g(this.px,r.neg(this.py),this.pz)}double(){let{a:w,b:C}=t,_=r.mul(C,jN),{px:B,py:U,pz:k}=this,$=r.ZERO,P=r.ZERO,I=r.ZERO,S=r.mul(B,B),O=r.mul(U,U),x=r.mul(k,k),v=r.mul(B,U);return v=r.add(v,v),I=r.mul(B,k),I=r.add(I,I),$=r.mul(w,I),P=r.mul(_,x),P=r.add($,P),$=r.sub(O,P),P=r.add(O,P),P=r.mul($,P),$=r.mul(v,$),I=r.mul(_,I),x=r.mul(w,x),v=r.sub(S,x),v=r.mul(w,v),v=r.add(v,I),I=r.add(S,S),S=r.add(I,S),S=r.add(S,x),S=r.mul(S,v),P=r.add(P,S),x=r.mul(U,k),x=r.add(x,x),S=r.mul(x,v),$=r.sub($,S),I=r.mul(x,O),I=r.add(I,I),I=r.add(I,I),new g($,P,I)}add(w){p(w);let{px:C,py:_,pz:B}=this,{px:U,py:k,pz:$}=w,P=r.ZERO,I=r.ZERO,S=r.ZERO,O=t.a,x=r.mul(t.b,jN),v=r.mul(C,U),N=r.mul(_,k),D=r.mul(B,$),T=r.add(C,_),L=r.add(U,k);T=r.mul(T,L),L=r.add(v,N),T=r.sub(T,L),L=r.add(C,B);let j=r.add(U,$);return L=r.mul(L,j),j=r.add(v,D),L=r.sub(L,j),j=r.add(_,B),P=r.add(k,$),j=r.mul(j,P),P=r.add(N,D),j=r.sub(j,P),S=r.mul(O,L),P=r.mul(x,D),S=r.add(P,S),P=r.sub(N,S),S=r.add(N,S),I=r.mul(P,S),N=r.add(v,v),N=r.add(N,v),D=r.mul(O,D),L=r.mul(x,L),N=r.add(N,D),D=r.sub(v,D),D=r.mul(O,D),L=r.add(L,D),v=r.mul(N,L),I=r.add(I,v),v=r.mul(j,L),P=r.mul(T,P),P=r.sub(P,v),v=r.mul(T,N),S=r.mul(j,S),S=r.add(S,v),new g(P,I,S)}subtract(w){return this.add(w.negate())}is0(){return this.equals(g.ZERO)}wNAF(w){return A.wNAFCached(this,w,g.normalizeZ)}multiplyUnsafe(w){let{endo:C,n:_}=t;Um("scalar",w,Vd,_);let B=g.ZERO;if(w===Vd)return B;if(this.is0()||w===cs)return this;if(!C||A.hasPrecomputes(this))return A.wNAFCachedUnsafe(this,w,g.normalizeZ);let{k1neg:U,k1:k,k2neg:$,k2:P}=C.splitScalar(w),I=B,S=B,O=this;for(;k>Vd||P>Vd;)k&cs&&(I=I.add(O)),P&cs&&(S=S.add(O)),O=O.double(),k>>=cs,P>>=cs;return U&&(I=I.negate()),$&&(S=S.negate()),S=new g(r.mul(S.px,C.beta),S.py,S.pz),I.add(S)}multiply(w){let{endo:C,n:_}=t;Um("scalar",w,cs,_);let B,U;if(C){let{k1neg:k,k1:$,k2neg:P,k2:I}=C.splitScalar(w),{p:S,f:O}=this.wNAF($),{p:x,f:v}=this.wNAF(I);S=A.constTimeNegate(k,S),x=A.constTimeNegate(P,x),x=new g(r.mul(x.px,C.beta),x.py,x.pz),B=S.add(x),U=O.add(v)}else{let{p:k,f:$}=this.wNAF(w);B=k,U=$}return g.normalizeZ([B,U])[0]}multiplyAndAddUnsafe(w,C,_){let B=g.BASE,U=($,P)=>P===Vd||P===cs||!$.equals(B)?$.multiplyUnsafe(P):$.multiply(P),k=U(this,C).add(U(w,_));return k.is0()?void 0:k}toAffine(w){return f(this,w)}isTorsionFree(){let{h:w,isTorsionFree:C}=t;if(w===cs)return!0;if(C)return C(g,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){let{h:w,clearCofactor:C}=t;return w===cs?this:C?C(g,this):this.multiplyUnsafe(t.h)}toRawBytes(w=!0){return B2("isCompressed",w),this.assertValidity(),s(g,this,w)}toHex(w=!0){return B2("isCompressed",w),D2(this.toRawBytes(w))}}g.BASE=new g(t.Gx,t.Gy,r.ONE),g.ZERO=new g(r.ZERO,r.ONE,r.ZERO);let{endo:y,nBitLength:E}=t,A=bK(g,y?Math.ceil(E/2):E);return{CURVE:t,ProjectivePoint:g,normPrivateKeyToScalar:d,weierstrassEquation:i,isWithinCurveOrder:u}}function OIe(e){let t=$N(e);return Mm(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}function EK(e){let t=OIe(e),{Fp:r,n,nByteLength:s,nBitLength:o}=t,i=r.BYTES+1,a=2*r.BYTES+1;function c(x){return js(x,n)}function l(x){return $E(x,n)}let{ProjectivePoint:u,normPrivateKeyToScalar:d,weierstrassEquation:p,isWithinCurveOrder:f}=RIe({...t,toBytes(x,v,N){let D=v.toAffine(),T=r.toBytes(D.x),L=s8;return B2("isCompressed",N),N?L(Uint8Array.from([v.hasEvenY()?2:3]),T):L(Uint8Array.from([4]),T,r.toBytes(D.y))},fromBytes(x){let v=x.length,N=x[0],D=x.subarray(1);if(v===i&&(N===2||N===3)){let T=Fd(D);if(!CE(T,cs,r.ORDER))throw new Error("Point is not on curve");let L=p(T),j;try{j=r.sqrt(L)}catch(ne){let Y=ne instanceof Error?": "+ne.message:"";throw new Error("Point is not on curve"+Y)}let q=(j&cs)===cs;return(N&1)===1!==q&&(j=r.neg(j)),{x:T,y:j}}else if(v===a&&N===4){let T=r.fromBytes(D.subarray(0,r.BYTES)),L=r.fromBytes(D.subarray(r.BYTES,2*r.BYTES));return{x:T,y:L}}else{let T=i,L=a;throw new Error("invalid Point, expected length of "+T+", or uncompressed "+L+", got "+v)}}});function h(x){let v=n>>cs;return x>v}function g(x){return h(x)?c(-x):x}let y=(x,v,N)=>Fd(x.slice(v,N));class E{constructor(v,N,D){Um("r",v,cs,n),Um("s",N,cs,n),this.r=v,this.s=N,D!=null&&(this.recovery=D),Object.freeze(this)}static fromCompact(v){let N=s;return v=di("compactSignature",v,N*2),new E(y(v,0,N),y(v,N,2*N))}static fromDER(v){let{r:N,s:D}=zd.toSig(di("DER",v));return new E(N,D)}assertValidity(){}addRecoveryBit(v){return new E(this.r,this.s,v)}recoverPublicKey(v){let{r:N,s:D,recovery:T}=this,L=B(di("msgHash",v));if(T==null||![0,1,2,3].includes(T))throw new Error("recovery id invalid");let j=T===2||T===3?N+t.n:N;if(j>=r.ORDER)throw new Error("recovery id 2 or 3 invalid");let q=(T&1)===0?"02":"03",ie=u.fromHex(q+FN(j,r.BYTES)),ne=l(j),Y=c(-L*ne),me=c(D*ne),ue=u.BASE.multiplyAndAddUnsafe(ie,Y,me);if(!ue)throw new Error("point at infinify");return ue.assertValidity(),ue}hasHighS(){return h(this.s)}normalizeS(){return this.hasHighS()?new E(this.r,c(-this.s),this.recovery):this}toDERRawBytes(){return n8(this.toDERHex())}toDERHex(){return zd.hexFromSig(this)}toCompactRawBytes(){return n8(this.toCompactHex())}toCompactHex(){let v=s;return FN(this.r,v)+FN(this.s,v)}}let A={isValidPrivateKey(x){try{return d(x),!0}catch{return!1}},normPrivateKeyToScalar:d,randomPrivateKey:()=>{let x=BN(t.n);return hK(t.randomBytes(x),t.n)},precompute(x=8,v=u.BASE){return v._setWindowSize(x),v.multiply(BigInt(3)),v}};function b(x,v=!0){return u.fromPrivateKey(x).toRawBytes(v)}function w(x){if(typeof x=="bigint")return!1;if(x instanceof u)return!0;let N=di("key",x).length,D=r.BYTES,T=D+1,L=2*D+1;if(!(t.allowedPrivateKeyLengths||s===T))return N===T||N===L}function C(x,v,N=!0){if(w(x)===!0)throw new Error("first arg must be private key");if(w(v)===!1)throw new Error("second arg must be public key");return u.fromHex(v).multiply(d(x)).toRawBytes(N)}let _=t.bits2int||function(x){if(x.length>8192)throw new Error("input is too large");let v=Fd(x),N=x.length*8-o;return N>0?v>>BigInt(N):v},B=t.bits2int_modN||function(x){return c(_(x))},U=Lm(o);function k(x){return Um("num < 2^"+o,x,Vd,U),Dm(x,s)}function $(x,v,N=P){if(["recovered","canonical"].some(de=>de in N))throw new Error("sign() legacy options not supported");let{hash:D,randomBytes:T}=t,{lowS:L,prehash:j,extraEntropy:q}=N;L==null&&(L=!0),x=di("msgHash",x),vK(N),j&&(x=di("prehashed msgHash",D(x)));let ie=B(x),ne=d(v),Y=[k(ne),k(ie)];if(q!=null&&q!==!1){let de=q===!0?T(r.BYTES):q;Y.push(di("extraEntropy",de))}let me=s8(...Y),ue=ie;function Te(de){let Pe=_(de);if(!f(Pe))return;let bt=l(Pe),At=u.BASE.multiply(Pe).toAffine(),vt=c(At.x);if(vt===Vd)return;let Zt=c(bt*c(ue+vt*ne));if(Zt===Vd)return;let Lr=(At.x===vt?0:2)|Number(At.y&cs),kl=Zt;return L&&h(Zt)&&(kl=g(Zt),Lr^=1),new E(vt,kl,Lr)}return{seed:me,k2sig:Te}}let P={lowS:t.lowS,prehash:!1},I={lowS:t.lowS,prehash:!1};function S(x,v,N=P){let{seed:D,k2sig:T}=$(x,v,N),L=t;return zW(L.hash.outputLen,L.nByteLength,L.hmac)(D,T)}u.BASE._setWindowSize(8);function O(x,v,N,D=I){let T=x;v=di("msgHash",v),N=di("publicKey",N);let{lowS:L,prehash:j,format:q}=D;if(vK(D),"strict"in D)throw new Error("options.strict was renamed to lowS");if(q!==void 0&&q!=="compact"&&q!=="der")throw new Error("format must be compact or der");let ie=typeof T=="string"||k2(T),ne=!ie&&!q&&typeof T=="object"&&T!==null&&typeof T.r=="bigint"&&typeof T.s=="bigint";if(!ie&&!ne)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let Y,me;try{if(ne&&(Y=new E(T.r,T.s)),ie){try{q!=="compact"&&(Y=E.fromDER(T))}catch(Lr){if(!(Lr instanceof zd.Err))throw Lr}!Y&&q!=="der"&&(Y=E.fromCompact(T))}me=u.fromHex(N)}catch{return!1}if(!Y||L&&Y.hasHighS())return!1;j&&(v=t.hash(v));let{r:ue,s:Te}=Y,de=B(v),Pe=l(Te),bt=c(de*Pe),At=c(ue*Pe),vt=u.BASE.multiplyAndAddUnsafe(me,bt,At)?.toAffine();return vt?c(vt.x)===ue:!1}return{CURVE:t,getPublicKey:b,getSharedSecret:C,sign:S,verify:O,ProjectivePoint:u,Signature:E,utils:A}}function kIe(e){return{hash:e,hmac:(t,...r)=>Fm(e,t,N2(...r)),randomBytes:If}}function AK(e,t){let r=n=>EK({...e,...kIe(n)});return{...r(t),create:r}}var IK=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),CK=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),BIe=BigInt(0),DIe=BigInt(1),VN=BigInt(2),SK=(e,t)=>(e+t/VN)/t;function UIe(e){let t=IK,r=BigInt(3),n=BigInt(6),s=BigInt(11),o=BigInt(22),i=BigInt(23),a=BigInt(44),c=BigInt(88),l=e*e*e%t,u=l*l*e%t,d=sa(u,r,t)*u%t,p=sa(d,r,t)*u%t,f=sa(p,VN,t)*l%t,h=sa(f,s,t)*f%t,g=sa(h,o,t)*h%t,y=sa(g,a,t)*g%t,E=sa(y,c,t)*y%t,A=sa(E,a,t)*g%t,b=sa(A,r,t)*u%t,w=sa(b,i,t)*h%t,C=sa(w,n,t)*l%t,_=sa(C,VN,t);if(!qN.eql(qN.sqr(_),e))throw new Error("Cannot find square root");return _}var qN=l8(IK,void 0,void 0,{sqrt:UIe}),oa=AK({a:BIe,b:BigInt(7),Fp:qN,n:CK,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{let t=CK,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-DIe*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),s=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),o=r,i=BigInt("0x100000000000000000000000000000000"),a=SK(o*e,t),c=SK(-n*e,t),l=js(e-a*r-c*s,t),u=js(-a*n-c*o,t),d=l>i,p=u>i;if(d&&(l=t-l),p&&(u=t-u),l>i||u>i)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:d,k1:l,k2neg:p,k2:u}}}},Tc);function qE(e,t={}){let{recovered:r}=t;if(typeof e.r>"u")throw new M2({signature:e});if(typeof e.s>"u")throw new M2({signature:e});if(r&&typeof e.yParity>"u")throw new M2({signature:e});if(e.r<0n||e.r>NN)throw new jE({value:e.r});if(e.s<0n||e.s>NN)throw new zE({value:e.s});if(typeof e.yParity=="number"&&e.yParity!==0&&e.yParity!==1)throw new zm({value:e.yParity})}function _K(e){return WN(ra(e))}function WN(e){if(e.length!==130&&e.length!==132)throw new FE({signature:e});let t=BigInt(Pc(e,0,32)),r=BigInt(Pc(e,32,64)),n=(()=>{let s=+`0x${e.slice(130)}`;if(!Number.isNaN(s))try{return WE(s)}catch{throw new zm({value:s})}})();return typeof n>"u"?{r:t,s:r}:{r:t,s:r,yParity:n}}function LIe(e){if(!(typeof e.r>"u")&&!(typeof e.s>"u"))return KN(e)}function KN(e){let t=typeof e=="string"?WN(e):e instanceof Uint8Array?_K(e):typeof e.r=="string"?NK(e):e.v?PK(e):{r:e.r,s:e.s,...typeof e.yParity<"u"?{yParity:e.yParity}:{}};return qE(t),t}function MIe(e){return TK(ra(e))}function TK(e){let{r:t,s:r}=oa.Signature.fromDER(Bl(e).slice(2));return{r:t,s:r}}function PK(e){return{r:e.r,s:e.s,yParity:WE(e.v)}}function NK(e){let t=(()=>{let r=e.v?Number(e.v):void 0,n=e.yParity?Number(e.yParity):void 0;if(typeof r=="number"&&typeof n!="number"&&(n=WE(r)),typeof n!="number")throw new zm({value:e.yParity});return n})();return{r:BigInt(e.r),s:BigInt(e.s),yParity:t}}function HIe(e){let[t,r,n]=e;return KN({r:r==="0x"?0n:BigInt(r),s:n==="0x"?0n:BigInt(n),yParity:t==="0x"?0:Number(t)})}function $Ie(e){return a8(RK(e))}function RK(e){qE(e);let t=e.r,r=e.s;return OE(na(t,{size:32}),na(r,{size:32}),typeof e.yParity=="number"?na(ZN(e.yParity),{size:1}):"0x")}function FIe(e){return new oa.Signature(e.r,e.s).toDERRawBytes()}function jIe(e){return`0x${new oa.Signature(e.r,e.s).toDERHex()}`}function zIe(e){return{r:e.r,s:e.s,v:ZN(e.yParity)}}function VIe(e){let{r:t,s:r,yParity:n}=e;return{r:na(t,{size:32}),s:na(r,{size:32}),yParity:n===0?"0x0":"0x1"}}function qIe(e){let{r:t,s:r,yParity:n}=e;return[n?"0x01":"0x",t===0n?"0x":bN(na(t)),r===0n?"0x":bN(na(r))]}function WIe(e,t={}){try{return qE(e,t),!0}catch{return!1}}function WE(e){if(e===0||e===27)return 0;if(e===1||e===28)return 1;if(e>=35)return e%2===0?1:0;throw new VE({value:e})}function ZN(e){if(e===0)return 27;if(e===1)return 28;throw new zm({value:e})}var FE=class extends ir{constructor({signature:t}){super(`Value \`${t}\` is an invalid signature size.`,{metaMessages:["Expected: 64 bytes or 65 bytes.",`Received ${za(Bl(t))} bytes.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSerializedSizeError"})}},M2=class extends ir{constructor({signature:t}){super(`Signature \`${Pf(t)}\` is missing either an \`r\`, \`s\`, or \`yParity\` property.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.MissingPropertiesError"})}},jE=class extends ir{constructor({value:t}){super(`Value \`${t}\` is an invalid r value. r must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidRError"})}},zE=class extends ir{constructor({value:t}){super(`Value \`${t}\` is an invalid s value. s must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSError"})}},zm=class extends ir{constructor({value:t}){super(`Value \`${t}\` is an invalid y-parity value. Y-parity must be 0 or 1.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidYParityError"})}},VE=class extends ir{constructor({value:t}){super(`Value \`${t}\` is an invalid v value. v must be 27, 28 or >=35.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidVError"})}};var XE={};Se(XE,{createKeyPair:()=>o_e,getPublicKey:()=>WK,getSharedSecret:()=>i_e,noble:()=>s_e,randomPrivateKey:()=>KK,recoverAddress:()=>ZK,recoverPublicKey:()=>GK,sign:()=>a_e,verify:()=>c_e});var qK=!1;var s_e=oa;function o_e(e={}){let{as:t="Hex"}=e,r=KK({as:t}),n=WK({privateKey:r});return{privateKey:r,publicKey:n}}function WK(e){let{privateKey:t}=e,r=oa.ProjectivePoint.fromPrivateKey(Bl(t).slice(2));return IN(r)}function i_e(e){let{as:t="Hex",privateKey:r,publicKey:n}=e,i=oa.ProjectivePoint.fromHex(c8(n).slice(2)).multiply(oa.utils.normPrivateKeyToScalar(Bl(r).slice(2))).toRawBytes(!0);return t==="Hex"?ra(i):i}function KK(e={}){let{as:t="Hex"}=e,r=oa.utils.randomPrivateKey();return t==="Hex"?ra(r):r}function ZK(e){return sK(GK(e))}function GK(e){let{payload:t,signature:r}=e,{r:n,s,yParity:o}=r,a=new oa.Signature(BigInt(n),BigInt(s)).addRecoveryBit(o).recoverPublicKey(Bl(t).substring(2));return IN(a)}function a_e(e){let{extraEntropy:t=qK,hash:r,payload:n,privateKey:s}=e,{r:o,s:i,recovery:a}=oa.sign(L2(n),L2(s),{extraEntropy:typeof t=="boolean"?t:Bl(t).slice(2),lowS:!0,...r?{prehash:!0}:{}});return{r:o,s:i,yParity:a}}function c_e(e){let{address:t,hash:r,payload:n,publicKey:s,signature:o}=e;return t?oK(t,ZK({payload:n,signature:o})):oa.verify(o,L2(n),rK(s),...r?[{prehash:!0,lowS:!0}]:[])}function JK(e){let t=e.length,r=0,n=0;for(;n<t;){let s=e.charCodeAt(n++);if((s&4294967168)===0){r++;continue}else if((s&4294965248)===0)r+=2;else{if(s>=55296&&s<=56319&&n<t){let o=e.charCodeAt(n);(o&64512)===56320&&(++n,s=((s&1023)<<10)+(o&1023)+65536)}(s&4294901760)===0?r+=3:r+=4}}return r}function l_e(e,t,r){let n=e.length,s=r,o=0;for(;o<n;){let i=e.charCodeAt(o++);if((i&4294967168)===0){t[s++]=i;continue}else if((i&4294965248)===0)t[s++]=i>>6&31|192;else{if(i>=55296&&i<=56319&&o<n){let a=e.charCodeAt(o);(a&64512)===56320&&(++o,i=((i&1023)<<10)+(a&1023)+65536)}(i&4294901760)===0?(t[s++]=i>>12&15|224,t[s++]=i>>6&63|128):(t[s++]=i>>18&7|240,t[s++]=i>>12&63|128,t[s++]=i>>6&63|128)}t[s++]=i&63|128}}var u_e=new TextEncoder,d_e=50;function p_e(e,t,r){u_e.encodeInto(e,t.subarray(r))}function QK(e,t,r){e.length>d_e?p_e(e,t,r):l_e(e,t,r)}var f_e=4096;function JN(e,t,r){let n=t,s=n+r,o=[],i="";for(;n<s;){let a=e[n++];if((a&128)===0)o.push(a);else if((a&224)===192){let c=e[n++]&63;o.push((a&31)<<6|c)}else if((a&240)===224){let c=e[n++]&63,l=e[n++]&63;o.push((a&31)<<12|c<<6|l)}else if((a&248)===240){let c=e[n++]&63,l=e[n++]&63,u=e[n++]&63,d=(a&7)<<18|c<<12|l<<6|u;d>65535&&(d-=65536,o.push(d>>>10&1023|55296),d=56320|d&1023),o.push(d)}else o.push(a);o.length>=f_e&&(i+=String.fromCharCode(...o),o.length=0)}return o.length>0&&(i+=String.fromCharCode(...o)),i}var h_e=new TextDecoder,m_e=200;function g_e(e,t,r){let n=e.subarray(t,t+r);return h_e.decode(n)}function XK(e,t,r){return r>m_e?g_e(e,t,r):JN(e,t,r)}var Vm=class{constructor(t,r){ot(this,"type");ot(this,"data");this.type=t,this.data=r}};var pi=class e extends Error{constructor(t){super(t);let r=Object.create(e.prototype);Object.setPrototypeOf(this,r),Object.defineProperty(this,"name",{configurable:!0,enumerable:!1,value:e.name})}};function eZ(e,t,r){let n=r/4294967296,s=r;e.setUint32(t,n),e.setUint32(t+4,s)}function eA(e,t,r){let n=Math.floor(r/4294967296),s=r;e.setUint32(t,n),e.setUint32(t+4,s)}function tA(e,t){let r=e.getInt32(t),n=e.getUint32(t+4);return r*4294967296+n}function tZ(e,t){let r=e.getUint32(t),n=e.getUint32(t+4);return r*4294967296+n}var y_e=-1,w_e=4294967296-1,b_e=17179869184-1;function x_e({sec:e,nsec:t}){if(e>=0&&t>=0&&e<=b_e)if(t===0&&e<=w_e){let r=new Uint8Array(4);return new DataView(r.buffer).setUint32(0,e),r}else{let r=e/4294967296,n=e&4294967295,s=new Uint8Array(8),o=new DataView(s.buffer);return o.setUint32(0,t<<2|r&3),o.setUint32(4,n),s}else{let r=new Uint8Array(12),n=new DataView(r.buffer);return n.setUint32(0,t),eA(n,4,e),r}}function v_e(e){let t=e.getTime(),r=Math.floor(t/1e3),n=(t-r*1e3)*1e6,s=Math.floor(n/1e9);return{sec:r+s,nsec:n-s*1e9}}function E_e(e){if(e instanceof Date){let t=v_e(e);return x_e(t)}else return null}function A_e(e){let t=new DataView(e.buffer,e.byteOffset,e.byteLength);switch(e.byteLength){case 4:return{sec:t.getUint32(0),nsec:0};case 8:{let r=t.getUint32(0),n=t.getUint32(4),s=(r&3)*4294967296+n,o=r>>>2;return{sec:s,nsec:o}}case 12:{let r=tA(t,4),n=t.getUint32(0);return{sec:r,nsec:n}}default:throw new pi(`Unrecognized data size for timestamp (expected 4, 8, or 12): ${e.length}`)}}function C_e(e){let t=A_e(e);return new Date(t.sec*1e3+t.nsec/1e6)}var rZ={type:y_e,encode:E_e,decode:C_e};var rA=class rA{constructor(){ot(this,"__brand");ot(this,"builtInEncoders",[]);ot(this,"builtInDecoders",[]);ot(this,"encoders",[]);ot(this,"decoders",[]);this.register(rZ)}register({type:t,encode:r,decode:n}){if(t>=0)this.encoders[t]=r,this.decoders[t]=n;else{let s=-1-t;this.builtInEncoders[s]=r,this.builtInDecoders[s]=n}}tryToEncode(t,r){for(let n=0;n<this.builtInEncoders.length;n++){let s=this.builtInEncoders[n];if(s!=null){let o=s(t,r);if(o!=null){let i=-1-n;return new Vm(i,o)}}}for(let n=0;n<this.encoders.length;n++){let s=this.encoders[n];if(s!=null){let o=s(t,r);if(o!=null){let i=n;return new Vm(i,o)}}}return t instanceof Vm?t:null}decode(t,r,n){let s=r<0?this.builtInDecoders[-1-r]:this.decoders[r];return s?s(t,r,n):new Vm(r,t)}};ot(rA,"defaultCodec",new rA);var $2=rA;function S_e(e){return e instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&e instanceof SharedArrayBuffer}function d8(e){return e instanceof Uint8Array?e:ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):S_e(e)?new Uint8Array(e):Uint8Array.from(e)}var I_e=100,__e=2048,nA=class e{constructor(t){ot(this,"extensionCodec");ot(this,"context");ot(this,"useBigInt64");ot(this,"maxDepth");ot(this,"initialBufferSize");ot(this,"sortKeys");ot(this,"forceFloat32");ot(this,"ignoreUndefined");ot(this,"forceIntegerToFloat");ot(this,"pos");ot(this,"view");ot(this,"bytes");ot(this,"entered",!1);this.extensionCodec=t?.extensionCodec??$2.defaultCodec,this.context=t?.context,this.useBigInt64=t?.useBigInt64??!1,this.maxDepth=t?.maxDepth??I_e,this.initialBufferSize=t?.initialBufferSize??__e,this.sortKeys=t?.sortKeys??!1,this.forceFloat32=t?.forceFloat32??!1,this.ignoreUndefined=t?.ignoreUndefined??!1,this.forceIntegerToFloat=t?.forceIntegerToFloat??!1,this.pos=0,this.view=new DataView(new ArrayBuffer(this.initialBufferSize)),this.bytes=new Uint8Array(this.view.buffer)}clone(){return new e({extensionCodec:this.extensionCodec,context:this.context,useBigInt64:this.useBigInt64,maxDepth:this.maxDepth,initialBufferSize:this.initialBufferSize,sortKeys:this.sortKeys,forceFloat32:this.forceFloat32,ignoreUndefined:this.ignoreUndefined,forceIntegerToFloat:this.forceIntegerToFloat})}reinitializeState(){this.pos=0}encodeSharedRef(t){if(this.entered)return this.clone().encodeSharedRef(t);try{return this.entered=!0,this.reinitializeState(),this.doEncode(t,1),this.bytes.subarray(0,this.pos)}finally{this.entered=!1}}encode(t){if(this.entered)return this.clone().encode(t);try{return this.entered=!0,this.reinitializeState(),this.doEncode(t,1),this.bytes.slice(0,this.pos)}finally{this.entered=!1}}doEncode(t,r){if(r>this.maxDepth)throw new Error(`Too deep objects in depth ${r}`);t==null?this.encodeNil():typeof t=="boolean"?this.encodeBoolean(t):typeof t=="number"?this.forceIntegerToFloat?this.encodeNumberAsFloat(t):this.encodeNumber(t):typeof t=="string"?this.encodeString(t):this.useBigInt64&&typeof t=="bigint"?this.encodeBigInt64(t):this.encodeObject(t,r)}ensureBufferSizeToWrite(t){let r=this.pos+t;this.view.byteLength<r&&this.resizeBuffer(r*2)}resizeBuffer(t){let r=new ArrayBuffer(t),n=new Uint8Array(r),s=new DataView(r);n.set(this.bytes),this.view=s,this.bytes=n}encodeNil(){this.writeU8(192)}encodeBoolean(t){t===!1?this.writeU8(194):this.writeU8(195)}encodeNumber(t){!this.forceIntegerToFloat&&Number.isSafeInteger(t)?t>=0?t<128?this.writeU8(t):t<256?(this.writeU8(204),this.writeU8(t)):t<65536?(this.writeU8(205),this.writeU16(t)):t<4294967296?(this.writeU8(206),this.writeU32(t)):this.useBigInt64?this.encodeNumberAsFloat(t):(this.writeU8(207),this.writeU64(t)):t>=-32?this.writeU8(224|t+32):t>=-128?(this.writeU8(208),this.writeI8(t)):t>=-32768?(this.writeU8(209),this.writeI16(t)):t>=-2147483648?(this.writeU8(210),this.writeI32(t)):this.useBigInt64?this.encodeNumberAsFloat(t):(this.writeU8(211),this.writeI64(t)):this.encodeNumberAsFloat(t)}encodeNumberAsFloat(t){this.forceFloat32?(this.writeU8(202),this.writeF32(t)):(this.writeU8(203),this.writeF64(t))}encodeBigInt64(t){t>=BigInt(0)?(this.writeU8(207),this.writeBigUint64(t)):(this.writeU8(211),this.writeBigInt64(t))}writeStringHeader(t){if(t<32)this.writeU8(160+t);else if(t<256)this.writeU8(217),this.writeU8(t);else if(t<65536)this.writeU8(218),this.writeU16(t);else if(t<4294967296)this.writeU8(219),this.writeU32(t);else throw new Error(`Too long string: ${t} bytes in UTF-8`)}encodeString(t){let n=JK(t);this.ensureBufferSizeToWrite(5+n),this.writeStringHeader(n),QK(t,this.bytes,this.pos),this.pos+=n}encodeObject(t,r){let n=this.extensionCodec.tryToEncode(t,this.context);if(n!=null)this.encodeExtension(n);else if(Array.isArray(t))this.encodeArray(t,r);else if(ArrayBuffer.isView(t))this.encodeBinary(t);else if(typeof t=="object")this.encodeMap(t,r);else throw new Error(`Unrecognized object: ${Object.prototype.toString.apply(t)}`)}encodeBinary(t){let r=t.byteLength;if(r<256)this.writeU8(196),this.writeU8(r);else if(r<65536)this.writeU8(197),this.writeU16(r);else if(r<4294967296)this.writeU8(198),this.writeU32(r);else throw new Error(`Too large binary: ${r}`);let n=d8(t);this.writeU8a(n)}encodeArray(t,r){let n=t.length;if(n<16)this.writeU8(144+n);else if(n<65536)this.writeU8(220),this.writeU16(n);else if(n<4294967296)this.writeU8(221),this.writeU32(n);else throw new Error(`Too large array: ${n}`);for(let s of t)this.doEncode(s,r+1)}countWithoutUndefined(t,r){let n=0;for(let s of r)t[s]!==void 0&&n++;return n}encodeMap(t,r){let n=Object.keys(t);this.sortKeys&&n.sort();let s=this.ignoreUndefined?this.countWithoutUndefined(t,n):n.length;if(s<16)this.writeU8(128+s);else if(s<65536)this.writeU8(222),this.writeU16(s);else if(s<4294967296)this.writeU8(223),this.writeU32(s);else throw new Error(`Too large map object: ${s}`);for(let o of n){let i=t[o];this.ignoreUndefined&&i===void 0||(this.encodeString(o),this.doEncode(i,r+1))}}encodeExtension(t){if(typeof t.data=="function"){let n=t.data(this.pos+6),s=n.length;if(s>=4294967296)throw new Error(`Too large extension object: ${s}`);this.writeU8(201),this.writeU32(s),this.writeI8(t.type),this.writeU8a(n);return}let r=t.data.length;if(r===1)this.writeU8(212);else if(r===2)this.writeU8(213);else if(r===4)this.writeU8(214);else if(r===8)this.writeU8(215);else if(r===16)this.writeU8(216);else if(r<256)this.writeU8(199),this.writeU8(r);else if(r<65536)this.writeU8(200),this.writeU16(r);else if(r<4294967296)this.writeU8(201),this.writeU32(r);else throw new Error(`Too large extension object: ${r}`);this.writeI8(t.type),this.writeU8a(t.data)}writeU8(t){this.ensureBufferSizeToWrite(1),this.view.setUint8(this.pos,t),this.pos++}writeU8a(t){let r=t.length;this.ensureBufferSizeToWrite(r),this.bytes.set(t,this.pos),this.pos+=r}writeI8(t){this.ensureBufferSizeToWrite(1),this.view.setInt8(this.pos,t),this.pos++}writeU16(t){this.ensureBufferSizeToWrite(2),this.view.setUint16(this.pos,t),this.pos+=2}writeI16(t){this.ensureBufferSizeToWrite(2),this.view.setInt16(this.pos,t),this.pos+=2}writeU32(t){this.ensureBufferSizeToWrite(4),this.view.setUint32(this.pos,t),this.pos+=4}writeI32(t){this.ensureBufferSizeToWrite(4),this.view.setInt32(this.pos,t),this.pos+=4}writeF32(t){this.ensureBufferSizeToWrite(4),this.view.setFloat32(this.pos,t),this.pos+=4}writeF64(t){this.ensureBufferSizeToWrite(8),this.view.setFloat64(this.pos,t),this.pos+=8}writeU64(t){this.ensureBufferSizeToWrite(8),eZ(this.view,this.pos,t),this.pos+=8}writeI64(t){this.ensureBufferSizeToWrite(8),eA(this.view,this.pos,t),this.pos+=8}writeBigUint64(t){this.ensureBufferSizeToWrite(8),this.view.setBigUint64(this.pos,t),this.pos+=8}writeBigInt64(t){this.ensureBufferSizeToWrite(8),this.view.setBigInt64(this.pos,t),this.pos+=8}};function QN(e,t){return new nA(t).encodeSharedRef(e)}function sA(e){return`${e<0?"-":""}0x${Math.abs(e).toString(16).padStart(2,"0")}`}var T_e=16,P_e=16,oA=class{constructor(t=T_e,r=P_e){ot(this,"hit",0);ot(this,"miss",0);ot(this,"caches");ot(this,"maxKeyLength");ot(this,"maxLengthPerKey");this.maxKeyLength=t,this.maxLengthPerKey=r,this.caches=[];for(let n=0;n<this.maxKeyLength;n++)this.caches.push([])}canBeCached(t){return t>0&&t<=this.maxKeyLength}find(t,r,n){let s=this.caches[n-1];e:for(let o of s){let i=o.bytes;for(let a=0;a<n;a++)if(i[a]!==t[r+a])continue e;return o.str}return null}store(t,r){let n=this.caches[t.length-1],s={bytes:t,str:r};n.length>=this.maxLengthPerKey?n[Math.random()*n.length|0]=s:n.push(s)}decode(t,r,n){let s=this.find(t,r,n);if(s!=null)return this.hit++,s;this.miss++;let o=JN(t,r,n),i=Uint8Array.prototype.slice.call(t,r,r+n);return this.store(i,o),o}};var XN="array",h8="map_key",sZ="map_value",N_e=e=>{if(typeof e=="string"||typeof e=="number")return e;throw new pi("The type of key must be string or number but "+typeof e)},eR=class{constructor(){ot(this,"stack",[]);ot(this,"stackHeadPosition",-1)}get length(){return this.stackHeadPosition+1}top(){return this.stack[this.stackHeadPosition]}pushArrayState(t){let r=this.getUninitializedStateFromPool();r.type=XN,r.position=0,r.size=t,r.array=new Array(t)}pushMapState(t){let r=this.getUninitializedStateFromPool();r.type=h8,r.readCount=0,r.size=t,r.map={}}getUninitializedStateFromPool(){if(this.stackHeadPosition++,this.stackHeadPosition===this.stack.length){let t={type:void 0,size:0,array:void 0,position:0,readCount:0,map:void 0,key:null};this.stack.push(t)}return this.stack[this.stackHeadPosition]}release(t){if(this.stack[this.stackHeadPosition]!==t)throw new Error("Invalid stack state. Released state is not on top of the stack.");if(t.type===XN){let n=t;n.size=0,n.array=void 0,n.position=0,n.type=void 0}if(t.type===h8||t.type===sZ){let n=t;n.size=0,n.map=void 0,n.readCount=0,n.type=void 0}this.stackHeadPosition--}reset(){this.stack.length=0,this.stackHeadPosition=-1}},f8=-1,tR=new DataView(new ArrayBuffer(0)),R_e=new Uint8Array(tR.buffer);try{tR.getInt8(0)}catch(e){if(!(e instanceof RangeError))throw new Error("This module is not supported in the current JavaScript engine because DataView does not throw RangeError on out-of-bounds access")}var nZ=new RangeError("Insufficient data"),O_e=new oA,iA=class e{constructor(t){ot(this,"extensionCodec");ot(this,"context");ot(this,"useBigInt64");ot(this,"rawStrings");ot(this,"maxStrLength");ot(this,"maxBinLength");ot(this,"maxArrayLength");ot(this,"maxMapLength");ot(this,"maxExtLength");ot(this,"keyDecoder");ot(this,"mapKeyConverter");ot(this,"totalPos",0);ot(this,"pos",0);ot(this,"view",tR);ot(this,"bytes",R_e);ot(this,"headByte",f8);ot(this,"stack",new eR);ot(this,"entered",!1);this.extensionCodec=t?.extensionCodec??$2.defaultCodec,this.context=t?.context,this.useBigInt64=t?.useBigInt64??!1,this.rawStrings=t?.rawStrings??!1,this.maxStrLength=t?.maxStrLength??4294967295,this.maxBinLength=t?.maxBinLength??4294967295,this.maxArrayLength=t?.maxArrayLength??4294967295,this.maxMapLength=t?.maxMapLength??4294967295,this.maxExtLength=t?.maxExtLength??4294967295,this.keyDecoder=t?.keyDecoder!==void 0?t.keyDecoder:O_e,this.mapKeyConverter=t?.mapKeyConverter??N_e}clone(){return new e({extensionCodec:this.extensionCodec,context:this.context,useBigInt64:this.useBigInt64,rawStrings:this.rawStrings,maxStrLength:this.maxStrLength,maxBinLength:this.maxBinLength,maxArrayLength:this.maxArrayLength,maxMapLength:this.maxMapLength,maxExtLength:this.maxExtLength,keyDecoder:this.keyDecoder})}reinitializeState(){this.totalPos=0,this.headByte=f8,this.stack.reset()}setBuffer(t){let r=d8(t);this.bytes=r,this.view=new DataView(r.buffer,r.byteOffset,r.byteLength),this.pos=0}appendBuffer(t){if(this.headByte===f8&&!this.hasRemaining(1))this.setBuffer(t);else{let r=this.bytes.subarray(this.pos),n=d8(t),s=new Uint8Array(r.length+n.length);s.set(r),s.set(n,r.length),this.setBuffer(s)}}hasRemaining(t){return this.view.byteLength-this.pos>=t}createExtraByteError(t){let{view:r,pos:n}=this;return new RangeError(`Extra ${r.byteLength-n} of ${r.byteLength} byte(s) found at buffer[${t}]`)}decode(t){if(this.entered)return this.clone().decode(t);try{this.entered=!0,this.reinitializeState(),this.setBuffer(t);let r=this.doDecodeSync();if(this.hasRemaining(1))throw this.createExtraByteError(this.pos);return r}finally{this.entered=!1}}*decodeMulti(t){if(this.entered){yield*this.clone().decodeMulti(t);return}try{for(this.entered=!0,this.reinitializeState(),this.setBuffer(t);this.hasRemaining(1);)yield this.doDecodeSync()}finally{this.entered=!1}}async decodeAsync(t){if(this.entered)return this.clone().decodeAsync(t);try{this.entered=!0;let r=!1,n;for await(let a of t){if(r)throw this.entered=!1,this.createExtraByteError(this.totalPos);this.appendBuffer(a);try{n=this.doDecodeSync(),r=!0}catch(c){if(!(c instanceof RangeError))throw c}this.totalPos+=this.pos}if(r){if(this.hasRemaining(1))throw this.createExtraByteError(this.totalPos);return n}let{headByte:s,pos:o,totalPos:i}=this;throw new RangeError(`Insufficient data in parsing ${sA(s)} at ${i} (${o} in the current buffer)`)}finally{this.entered=!1}}decodeArrayStream(t){return this.decodeMultiAsync(t,!0)}decodeStream(t){return this.decodeMultiAsync(t,!1)}async*decodeMultiAsync(t,r){if(this.entered){yield*this.clone().decodeMultiAsync(t,r);return}try{this.entered=!0;let n=r,s=-1;for await(let o of t){if(r&&s===0)throw this.createExtraByteError(this.totalPos);this.appendBuffer(o),n&&(s=this.readArraySize(),n=!1,this.complete());try{for(;yield this.doDecodeSync(),--s!==0;);}catch(i){if(!(i instanceof RangeError))throw i}this.totalPos+=this.pos}}finally{this.entered=!1}}doDecodeSync(){e:for(;;){let t=this.readHeadByte(),r;if(t>=224)r=t-256;else if(t<192)if(t<128)r=t;else if(t<144){let s=t-128;if(s!==0){this.pushMapState(s),this.complete();continue e}else r={}}else if(t<160){let s=t-144;if(s!==0){this.pushArrayState(s),this.complete();continue e}else r=[]}else{let s=t-160;r=this.decodeString(s,0)}else if(t===192)r=null;else if(t===194)r=!1;else if(t===195)r=!0;else if(t===202)r=this.readF32();else if(t===203)r=this.readF64();else if(t===204)r=this.readU8();else if(t===205)r=this.readU16();else if(t===206)r=this.readU32();else if(t===207)this.useBigInt64?r=this.readU64AsBigInt():r=this.readU64();else if(t===208)r=this.readI8();else if(t===209)r=this.readI16();else if(t===210)r=this.readI32();else if(t===211)this.useBigInt64?r=this.readI64AsBigInt():r=this.readI64();else if(t===217){let s=this.lookU8();r=this.decodeString(s,1)}else if(t===218){let s=this.lookU16();r=this.decodeString(s,2)}else if(t===219){let s=this.lookU32();r=this.decodeString(s,4)}else if(t===220){let s=this.readU16();if(s!==0){this.pushArrayState(s),this.complete();continue e}else r=[]}else if(t===221){let s=this.readU32();if(s!==0){this.pushArrayState(s),this.complete();continue e}else r=[]}else if(t===222){let s=this.readU16();if(s!==0){this.pushMapState(s),this.complete();continue e}else r={}}else if(t===223){let s=this.readU32();if(s!==0){this.pushMapState(s),this.complete();continue e}else r={}}else if(t===196){let s=this.lookU8();r=this.decodeBinary(s,1)}else if(t===197){let s=this.lookU16();r=this.decodeBinary(s,2)}else if(t===198){let s=this.lookU32();r=this.decodeBinary(s,4)}else if(t===212)r=this.decodeExtension(1,0);else if(t===213)r=this.decodeExtension(2,0);else if(t===214)r=this.decodeExtension(4,0);else if(t===215)r=this.decodeExtension(8,0);else if(t===216)r=this.decodeExtension(16,0);else if(t===199){let s=this.lookU8();r=this.decodeExtension(s,1)}else if(t===200){let s=this.lookU16();r=this.decodeExtension(s,2)}else if(t===201){let s=this.lookU32();r=this.decodeExtension(s,4)}else throw new pi(`Unrecognized type byte: ${sA(t)}`);this.complete();let n=this.stack;for(;n.length>0;){let s=n.top();if(s.type===XN)if(s.array[s.position]=r,s.position++,s.position===s.size)r=s.array,n.release(s);else continue e;else if(s.type===h8){if(r==="__proto__")throw new pi("The key __proto__ is not allowed");s.key=this.mapKeyConverter(r),s.type=sZ;continue e}else if(s.map[s.key]=r,s.readCount++,s.readCount===s.size)r=s.map,n.release(s);else{s.key=null,s.type=h8;continue e}}return r}}readHeadByte(){return this.headByte===f8&&(this.headByte=this.readU8()),this.headByte}complete(){this.headByte=f8}readArraySize(){let t=this.readHeadByte();switch(t){case 220:return this.readU16();case 221:return this.readU32();default:{if(t<160)return t-144;throw new pi(`Unrecognized array type byte: ${sA(t)}`)}}}pushMapState(t){if(t>this.maxMapLength)throw new pi(`Max length exceeded: map length (${t}) > maxMapLengthLength (${this.maxMapLength})`);this.stack.pushMapState(t)}pushArrayState(t){if(t>this.maxArrayLength)throw new pi(`Max length exceeded: array length (${t}) > maxArrayLength (${this.maxArrayLength})`);this.stack.pushArrayState(t)}decodeString(t,r){return!this.rawStrings||this.stateIsMapKey()?this.decodeUtf8String(t,r):this.decodeBinary(t,r)}decodeUtf8String(t,r){if(t>this.maxStrLength)throw new pi(`Max length exceeded: UTF-8 byte length (${t}) > maxStrLength (${this.maxStrLength})`);if(this.bytes.byteLength<this.pos+r+t)throw nZ;let n=this.pos+r,s;return this.stateIsMapKey()&&this.keyDecoder?.canBeCached(t)?s=this.keyDecoder.decode(this.bytes,n,t):s=XK(this.bytes,n,t),this.pos+=r+t,s}stateIsMapKey(){return this.stack.length>0?this.stack.top().type===h8:!1}decodeBinary(t,r){if(t>this.maxBinLength)throw new pi(`Max length exceeded: bin length (${t}) > maxBinLength (${this.maxBinLength})`);if(!this.hasRemaining(t+r))throw nZ;let n=this.pos+r,s=this.bytes.subarray(n,n+t);return this.pos+=r+t,s}decodeExtension(t,r){if(t>this.maxExtLength)throw new pi(`Max length exceeded: ext length (${t}) > maxExtLength (${this.maxExtLength})`);let n=this.view.getInt8(this.pos+r),s=this.decodeBinary(t,r+1);return this.extensionCodec.decode(s,n,this.context)}lookU8(){return this.view.getUint8(this.pos)}lookU16(){return this.view.getUint16(this.pos)}lookU32(){return this.view.getUint32(this.pos)}readU8(){let t=this.view.getUint8(this.pos);return this.pos++,t}readI8(){let t=this.view.getInt8(this.pos);return this.pos++,t}readU16(){let t=this.view.getUint16(this.pos);return this.pos+=2,t}readI16(){let t=this.view.getInt16(this.pos);return this.pos+=2,t}readU32(){let t=this.view.getUint32(this.pos);return this.pos+=4,t}readI32(){let t=this.view.getInt32(this.pos);return this.pos+=4,t}readU64(){let t=tZ(this.view,this.pos);return this.pos+=8,t}readI64(){let t=tA(this.view,this.pos);return this.pos+=8,t}readU64AsBigInt(){let t=this.view.getBigUint64(this.pos);return this.pos+=8,t}readI64AsBigInt(){let t=this.view.getBigInt64(this.pos);return this.pos+=8,t}readF32(){let t=this.view.getFloat32(this.pos);return this.pos+=4,t}readF64(){let t=this.view.getFloat64(this.pos);return this.pos+=8,t}};function rR(e,t){return new iA(t).decode(e)}YN();Km();S8();nO();var YY=Bt(aO(),1);Ff();var xNe=":";function Mc(e){let[t,r]=e.split(xNe);return{namespace:t,reference:r}}function GO(e,t=[]){let r=[];return Object.keys(e).forEach(n=>{if(t.length&&!t.includes(n))return;let s=e[n];r.push(...s.accounts)}),r}function JY(e,t){return e.includes(":")?[e]:t.chains||[]}var vNe=Object.defineProperty,ENe=Object.defineProperties,ANe=Object.getOwnPropertyDescriptors,mY=Object.getOwnPropertySymbols,CNe=Object.prototype.hasOwnProperty,SNe=Object.prototype.propertyIsEnumerable,PO=(e,t,r)=>t in e?vNe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,gY=(e,t)=>{for(var r in t||(t={}))CNe.call(t,r)&&PO(e,r,t[r]);if(mY)for(var r of mY(t))SNe.call(t,r)&&PO(e,r,t[r]);return e},INe=(e,t)=>ENe(e,ANe(t)),yY=(e,t,r)=>PO(e,typeof t!="symbol"?t+"":t,r),_Ne="ReactNative",gi={reactNative:"react-native",node:"node",browser:"browser",unknown:"unknown"};var TNe="js";function M8(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}function tp(){return!(0,Uc.getDocument)()&&!!(0,Uc.getNavigator)()&&navigator.product===_Ne}function QY(){return tp()&&typeof globalThis<"u"&&typeof globalThis?.Platform<"u"&&globalThis?.Platform.OS==="android"}function XY(){return tp()&&typeof globalThis<"u"&&typeof globalThis?.Platform<"u"&&globalThis?.Platform.OS==="ios"}function r1(){return!M8()&&!!(0,Uc.getNavigator)()&&!!(0,Uc.getDocument)()}function H8(){return tp()?gi.reactNative:M8()?gi.node:r1()?gi.browser:gi.unknown}function YO(){var e;try{return tp()&&typeof globalThis<"u"&&typeof globalThis?.Application<"u"?(e=globalThis.Application)==null?void 0:e.applicationId:void 0}catch{return}}function PNe(e,t){let r=new URLSearchParams(e);return Object.entries(t).sort(([n],[s])=>n.localeCompare(s)).forEach(([n,s])=>{s!=null&&r.set(n,String(s))}),r.toString()}function eJ(e){var t,r;let n=JO();try{return e!=null&&e.url&&n.url&&new URL(e.url).host!==new URL(n.url).host&&(console.warn(`The configured WalletConnect 'metadata.url':${e.url} differs from the actual page url:${n.url}. This is probably unintended and can lead to issues.`),e.url=n.url),(t=e?.icons)!=null&&t.length&&e.icons.length>0&&(e.icons=e.icons.filter(s=>s!=="")),INe(gY(gY({},n),e),{url:e?.url||n.url,name:e?.name||n.name,description:e?.description||n.description,icons:(r=e?.icons)!=null&&r.length&&e.icons.length>0?e.icons:n.icons})}catch(s){return console.warn("Error populating app metadata",s),e||n}}function JO(){return(0,GY.getWindowMetadata)()||{name:"",description:"",url:"",icons:[""]}}function NNe(){if(H8()===gi.reactNative&&typeof globalThis<"u"&&typeof globalThis?.Platform<"u"){let{OS:r,Version:n}=globalThis.Platform;return[r,n].join("-")}let e=lE();if(e===null)return"unknown";let t=e.os?e.os.replace(" ","").toLowerCase():"unknown";return e.type==="browser"?[t,e.name,e.version].join("-"):[t,e.version].join("-")}function RNe(){var e;let t=H8();return t===gi.browser?[t,((e=(0,Uc.getLocation)())==null?void 0:e.host)||"unknown"].join(":"):t}function QO(e,t,r){let n=NNe(),s=RNe();return[[e,t].join("-"),[TNe,r].join("-"),n,s].join("/")}function tJ({protocol:e,version:t,relayUrl:r,sdkVersion:n,auth:s,projectId:o,useOnCloseEvent:i,bundleId:a,packageName:c}){let l=r.split("?"),u=QO(e,t,n),d={auth:s,ua:u,projectId:o,useOnCloseEvent:i||void 0,packageName:c||void 0,bundleId:a||void 0},p=PNe(l[1]||"",d);return l[0]+"?"+p}function Jm(e,t){return e.filter(r=>t.includes(r)).length===e.length}function KA(e){return Object.fromEntries(e.entries())}function ZA(e){return new Map(Object.entries(e))}function rp(e=Xd.FIVE_MINUTES,t){let r=(0,Xd.toMiliseconds)(e||Xd.FIVE_MINUTES),n,s,o,i;return{resolve:a=>{o&&n&&(clearTimeout(o),n(a),i=Promise.resolve(a))},reject:a=>{o&&s&&(clearTimeout(o),s(a))},done:()=>new Promise((a,c)=>{if(i)return a(i);o=setTimeout(()=>{let l=new Error(t);i=Promise.reject(l),c(l)},r),n=a,s=c})}}function Hc(e,t,r){return new Promise(async(n,s)=>{let o=setTimeout(()=>s(new Error(r)),t);try{let i=await e;n(i)}catch(i){s(i)}clearTimeout(o)})}function rJ(e,t){if(typeof t=="string"&&t.startsWith(`${e}:`))return t;if(e.toLowerCase()==="topic"){if(typeof t!="string")throw new Error('Value must be "string" for expirer target type: topic');return`topic:${t}`}else if(e.toLowerCase()==="id"){if(typeof t!="number")throw new Error('Value must be "number" for expirer target type: id');return`id:${t}`}throw new Error(`Unknown expirer target type: ${e}`)}function nJ(e){return rJ("topic",e)}function sJ(e){return rJ("id",e)}function GA(e){let[t,r]=e.split(":"),n={id:void 0,topic:void 0};if(t==="topic"&&typeof r=="string")n.topic=r;else if(t==="id"&&Number.isInteger(Number(r)))n.id=Number(r);else throw new Error(`Invalid target, expected id:number or topic:string, got ${t}:${r}`);return n}function cn(e,t){return(0,Xd.fromMiliseconds)((t||Date.now())+(0,Xd.toMiliseconds)(e))}function ca(e){return Date.now()>=(0,Xd.toMiliseconds)(e)}function cr(e,t){return`${e}${t?`:${t}`:""}`}function Bc(e=[],t=[]){return[...new Set([...e,...t])]}async function oJ({id:e,topic:t,wcDeepLink:r}){var n;try{if(!r)return;let s=typeof r=="string"?JSON.parse(r):r,o=s?.href;if(typeof o!="string")return;let i=ONe(o,e,t),a=H8();if(a===gi.browser){if(!((n=(0,Uc.getDocument)())!=null&&n.hasFocus())){console.warn("Document does not have focus, skipping deeplink.");return}kNe(i)}else a===gi.reactNative&&typeof globalThis?.Linking<"u"&&await globalThis.Linking.openURL(i)}catch(s){console.error(s)}}function ONe(e,t,r){let n=`requestId=${t}&sessionTopic=${r}`;e.endsWith("/")&&(e=e.slice(0,-1));let s=`${e}`;if(e.startsWith("https://t.me")){let o=e.includes("?")?"&startapp=":"?startapp=";s=`${s}${o}${UNe(n,!0)}`}else s=`${s}/wc?${n}`;return s}function kNe(e){let t="_self";DNe()?t="_top":(BNe()||e.startsWith("https://")||e.startsWith("http://"))&&(t="_blank"),window.open(e,t,"noreferrer noopener")}async function iJ(e,t){let r="";try{if(r1()&&(r=localStorage.getItem(t),r))return r;r=await e.getItem(t)}catch(n){console.error(n)}return r}function XO(e,t){if(!e.includes(t))return null;let r=e.split(/([&,?,=])/),n=r.indexOf(t);return r[n+2]}function ek(){return typeof crypto<"u"&&crypto!=null&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu,e=>{let t=Math.random()*16|0;return(e==="x"?t:t&3|8).toString(16)})}function $8(){return typeof process<"u"&&process.env.IS_VITEST==="true"}function BNe(){return typeof window<"u"&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto)}function DNe(){try{return window.self!==window.top}catch{return!1}}function UNe(e,t=!1){let r=Buffer.from(e).toString("base64");return t?r.replace(/[=]/g,""):r}function aJ(e){return Buffer.from(e,"base64").toString("utf-8")}function cJ(e){return new Promise(t=>setTimeout(t,e))}var HA=class{constructor({limit:t}){yY(this,"limit"),yY(this,"set"),this.limit=t,this.set=new Set}add(t){if(!this.set.has(t)){if(this.set.size>=this.limit){let r=this.set.values().next().value;r&&this.set.delete(r)}this.set.add(t)}}has(t){return this.set.has(t)}},BA=BigInt(2**32-1),wY=BigInt(32);function lJ(e,t=!1){return t?{h:Number(e&BA),l:Number(e>>wY&BA)}:{h:Number(e>>wY&BA)|0,l:Number(e&BA)|0}}function uJ(e,t=!1){let r=e.length,n=new Uint32Array(r),s=new Uint32Array(r);for(let o=0;o<r;o++){let{h:i,l:a}=lJ(e[o],t);[n[o],s[o]]=[i,a]}return[n,s]}var bY=(e,t,r)=>e>>>r,xY=(e,t,r)=>e<<32-r|t>>>r,Zf=(e,t,r)=>e>>>r|t<<32-r,Gf=(e,t,r)=>e<<32-r|t>>>r,O8=(e,t,r)=>e<<64-r|t>>>r-32,k8=(e,t,r)=>e>>>r-32|t<<64-r,LNe=(e,t)=>t,MNe=(e,t)=>e,HNe=(e,t,r)=>e<<r|t>>>32-r,$Ne=(e,t,r)=>t<<r|e>>>32-r,FNe=(e,t,r)=>t<<r-32|e>>>64-r,jNe=(e,t,r)=>e<<r-32|t>>>64-r;function kc(e,t,r,n){let s=(t>>>0)+(n>>>0);return{h:e+r+(s/2**32|0)|0,l:s|0}}var tk=(e,t,r)=>(e>>>0)+(t>>>0)+(r>>>0),rk=(e,t,r,n)=>t+r+n+(e/2**32|0)|0,zNe=(e,t,r,n)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0),VNe=(e,t,r,n,s)=>t+r+n+s+(e/2**32|0)|0,qNe=(e,t,r,n,s)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0)+(s>>>0),WNe=(e,t,r,n,s,o)=>t+r+n+s+o+(e/2**32|0)|0,J2=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;function YA(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function ep(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function Lc(e,...t){if(!YA(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function JA(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");ep(e.outputLen),ep(e.blockLen)}function Xf(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function nk(e,t){Lc(e);let r=t.outputLen;if(e.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}function D8(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))}function Va(...e){for(let t=0;t<e.length;t++)e[t].fill(0)}function yO(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function $l(e,t){return e<<32-t|e>>>t}var dJ=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function pJ(e){return e<<24&4278190080|e<<8&16711680|e>>>8&65280|e>>>24&255}var Yd=dJ?e=>e:e=>pJ(e);function KNe(e){for(let t=0;t<e.length;t++)e[t]=pJ(e[t]);return e}var Yf=dJ?e=>e:KNe,fJ=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",ZNe=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function ey(e){if(Lc(e),fJ)return e.toHex();let t="";for(let r=0;r<e.length;r++)t+=ZNe[e[r]];return t}var Gd={_0:48,_9:57,A:65,F:70,a:97,f:102};function vY(e){if(e>=Gd._0&&e<=Gd._9)return e-Gd._0;if(e>=Gd.A&&e<=Gd.F)return e-(Gd.A-10);if(e>=Gd.a&&e<=Gd.f)return e-(Gd.a-10)}function $A(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);if(fJ)return Uint8Array.fromHex(e);let t=e.length,r=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);let n=new Uint8Array(r);for(let s=0,o=0;s<r;s++,o+=2){let i=vY(e.charCodeAt(o)),a=vY(e.charCodeAt(o+1));if(i===void 0||a===void 0){let c=e[o]+e[o+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+o)}n[s]=i*16+a}return n}function hJ(e){if(typeof e!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}function Dc(e){return typeof e=="string"&&(e=hJ(e)),Lc(e),e}function Jf(...e){let t=0;for(let n=0;n<e.length;n++){let s=e[n];Lc(s),t+=s.length}let r=new Uint8Array(t);for(let n=0,s=0;n<e.length;n++){let o=e[n];r.set(o,s),s+=o.length}return r}var ry=class{};function F8(e){let t=n=>e().update(Dc(n)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t}function GNe(e){let t=(n,s)=>e(s).update(Dc(n)).digest(),r=e({});return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=n=>e(n),t}function n1(e=32){if(J2&&typeof J2.getRandomValues=="function")return J2.getRandomValues(new Uint8Array(e));if(J2&&typeof J2.randomBytes=="function")return Uint8Array.from(J2.randomBytes(e));throw new Error("crypto.getRandomValues must be defined")}var YNe=BigInt(0),N8=BigInt(1),JNe=BigInt(2),QNe=BigInt(7),XNe=BigInt(256),eRe=BigInt(113),mJ=[],gJ=[],yJ=[];for(let e=0,t=N8,r=1,n=0;e<24;e++){[r,n]=[n,(2*r+3*n)%5],mJ.push(2*(5*n+r)),gJ.push((e+1)*(e+2)/2%64);let s=YNe;for(let o=0;o<7;o++)t=(t<<N8^(t>>QNe)*eRe)%XNe,t&JNe&&(s^=N8<<(N8<<BigInt(o))-N8);yJ.push(s)}var wJ=uJ(yJ,!0),tRe=wJ[0],rRe=wJ[1],EY=(e,t,r)=>r>32?FNe(e,t,r):HNe(e,t,r),AY=(e,t,r)=>r>32?jNe(e,t,r):$Ne(e,t,r);function nRe(e,t=24){let r=new Uint32Array(10);for(let n=24-t;n<24;n++){for(let i=0;i<10;i++)r[i]=e[i]^e[i+10]^e[i+20]^e[i+30]^e[i+40];for(let i=0;i<10;i+=2){let a=(i+8)%10,c=(i+2)%10,l=r[c],u=r[c+1],d=EY(l,u,1)^r[a],p=AY(l,u,1)^r[a+1];for(let f=0;f<50;f+=10)e[i+f]^=d,e[i+f+1]^=p}let s=e[2],o=e[3];for(let i=0;i<24;i++){let a=gJ[i],c=EY(s,o,a),l=AY(s,o,a),u=mJ[i];s=e[u],o=e[u+1],e[u]=c,e[u+1]=l}for(let i=0;i<50;i+=10){for(let a=0;a<10;a++)r[a]=e[i+a];for(let a=0;a<10;a++)e[i+a]^=~r[(a+2)%10]&r[(a+4)%10]}e[0]^=tRe[n],e[1]^=rRe[n]}Va(r)}var NO=class e extends ry{constructor(t,r,n,s=!1,o=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=t,this.suffix=r,this.outputLen=n,this.enableXOF=s,this.rounds=o,ep(n),!(0<t&&t<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=D8(this.state)}clone(){return this._cloneInto()}keccak(){Yf(this.state32),nRe(this.state32,this.rounds),Yf(this.state32),this.posOut=0,this.pos=0}update(t){Xf(this),t=Dc(t),Lc(t);let{blockLen:r,state:n}=this,s=t.length;for(let o=0;o<s;){let i=Math.min(r-this.pos,s-o);for(let a=0;a<i;a++)n[this.pos++]^=t[o++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;let{state:t,suffix:r,pos:n,blockLen:s}=this;t[n]^=r,(r&128)!==0&&n===s-1&&this.keccak(),t[s-1]^=128,this.keccak()}writeInto(t){Xf(this,!1),Lc(t),this.finish();let r=this.state,{blockLen:n}=this;for(let s=0,o=t.length;s<o;){this.posOut>=n&&this.keccak();let i=Math.min(n-this.posOut,o-s);t.set(r.subarray(this.posOut,this.posOut+i),s),this.posOut+=i,s+=i}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return ep(t),this.xofInto(new Uint8Array(t))}digestInto(t){if(nk(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,Va(this.state)}_cloneInto(t){let{blockLen:r,suffix:n,outputLen:s,rounds:o,enableXOF:i}=this;return t||(t=new e(r,n,s,i,o)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=o,t.suffix=n,t.outputLen=s,t.enableXOF=i,t.destroyed=this.destroyed,t}},sRe=(e,t,r)=>F8(()=>new NO(t,e,r)),oRe=sRe(1,136,256/8);function iRe(e,t,r,n){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,r,n);let s=BigInt(32),o=BigInt(4294967295),i=Number(r>>s&o),a=Number(r&o),c=n?4:0,l=n?0:4;e.setUint32(t+c,i,n),e.setUint32(t+l,a,n)}function aRe(e,t,r){return e&t^~e&r}function cRe(e,t,r){return e&t^e&r^t&r}var FA=class extends ry{constructor(t,r,n,s){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=t,this.outputLen=r,this.padOffset=n,this.isLE=s,this.buffer=new Uint8Array(t),this.view=yO(this.buffer)}update(t){Xf(this),t=Dc(t),Lc(t);let{view:r,buffer:n,blockLen:s}=this,o=t.length;for(let i=0;i<o;){let a=Math.min(s-this.pos,o-i);if(a===s){let c=yO(t);for(;s<=o-i;i+=s)this.process(c,i);continue}n.set(t.subarray(i,i+a),this.pos),this.pos+=a,i+=a,this.pos===s&&(this.process(r,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){Xf(this),nk(t,this),this.finished=!0;let{buffer:r,view:n,blockLen:s,isLE:o}=this,{pos:i}=this;r[i++]=128,Va(this.buffer.subarray(i)),this.padOffset>s-i&&(this.process(n,0),i=0);for(let d=i;d<s;d++)r[d]=0;iRe(n,s-8,BigInt(this.length*8),o),this.process(n,0);let a=yO(t),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let l=c/4,u=this.get();if(l>u.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<l;d++)a.setUint32(4*d,u[d],o)}digest(){let{buffer:t,outputLen:r}=this;this.digestInto(t);let n=t.slice(0,r);return this.destroy(),n}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());let{blockLen:r,buffer:n,length:s,finished:o,destroyed:i,pos:a}=this;return t.destroyed=i,t.finished=o,t.length=s,t.pos=a,s%r&&t.buffer.set(n),t}clone(){return this._cloneInto()}},jf=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Ws=Uint32Array.from([3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]),Ks=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),lRe=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),zf=new Uint32Array(64),RO=class extends FA{constructor(t=32){super(64,t,8,!1),this.A=jf[0]|0,this.B=jf[1]|0,this.C=jf[2]|0,this.D=jf[3]|0,this.E=jf[4]|0,this.F=jf[5]|0,this.G=jf[6]|0,this.H=jf[7]|0}get(){let{A:t,B:r,C:n,D:s,E:o,F:i,G:a,H:c}=this;return[t,r,n,s,o,i,a,c]}set(t,r,n,s,o,i,a,c){this.A=t|0,this.B=r|0,this.C=n|0,this.D=s|0,this.E=o|0,this.F=i|0,this.G=a|0,this.H=c|0}process(t,r){for(let d=0;d<16;d++,r+=4)zf[d]=t.getUint32(r,!1);for(let d=16;d<64;d++){let p=zf[d-15],f=zf[d-2],h=$l(p,7)^$l(p,18)^p>>>3,g=$l(f,17)^$l(f,19)^f>>>10;zf[d]=g+zf[d-7]+h+zf[d-16]|0}let{A:n,B:s,C:o,D:i,E:a,F:c,G:l,H:u}=this;for(let d=0;d<64;d++){let p=$l(a,6)^$l(a,11)^$l(a,25),f=u+p+aRe(a,c,l)+lRe[d]+zf[d]|0,h=($l(n,2)^$l(n,13)^$l(n,22))+cRe(n,s,o)|0;u=l,l=c,c=a,a=i+f|0,i=o,o=s,s=n,n=f+h|0}n=n+this.A|0,s=s+this.B|0,o=o+this.C|0,i=i+this.D|0,a=a+this.E|0,c=c+this.F|0,l=l+this.G|0,u=u+this.H|0,this.set(n,s,o,i,a,c,l,u)}roundClean(){Va(zf)}destroy(){this.set(0,0,0,0,0,0,0,0),Va(this.buffer)}},bJ=uJ(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e))),uRe=bJ[0],dRe=bJ[1],Vf=new Uint32Array(80),qf=new Uint32Array(80),U8=class extends FA{constructor(t=64){super(128,t,16,!1),this.Ah=Ks[0]|0,this.Al=Ks[1]|0,this.Bh=Ks[2]|0,this.Bl=Ks[3]|0,this.Ch=Ks[4]|0,this.Cl=Ks[5]|0,this.Dh=Ks[6]|0,this.Dl=Ks[7]|0,this.Eh=Ks[8]|0,this.El=Ks[9]|0,this.Fh=Ks[10]|0,this.Fl=Ks[11]|0,this.Gh=Ks[12]|0,this.Gl=Ks[13]|0,this.Hh=Ks[14]|0,this.Hl=Ks[15]|0}get(){let{Ah:t,Al:r,Bh:n,Bl:s,Ch:o,Cl:i,Dh:a,Dl:c,Eh:l,El:u,Fh:d,Fl:p,Gh:f,Gl:h,Hh:g,Hl:y}=this;return[t,r,n,s,o,i,a,c,l,u,d,p,f,h,g,y]}set(t,r,n,s,o,i,a,c,l,u,d,p,f,h,g,y){this.Ah=t|0,this.Al=r|0,this.Bh=n|0,this.Bl=s|0,this.Ch=o|0,this.Cl=i|0,this.Dh=a|0,this.Dl=c|0,this.Eh=l|0,this.El=u|0,this.Fh=d|0,this.Fl=p|0,this.Gh=f|0,this.Gl=h|0,this.Hh=g|0,this.Hl=y|0}process(t,r){for(let b=0;b<16;b++,r+=4)Vf[b]=t.getUint32(r),qf[b]=t.getUint32(r+=4);for(let b=16;b<80;b++){let w=Vf[b-15]|0,C=qf[b-15]|0,_=Zf(w,C,1)^Zf(w,C,8)^bY(w,C,7),B=Gf(w,C,1)^Gf(w,C,8)^xY(w,C,7),U=Vf[b-2]|0,k=qf[b-2]|0,$=Zf(U,k,19)^O8(U,k,61)^bY(U,k,6),P=Gf(U,k,19)^k8(U,k,61)^xY(U,k,6),I=zNe(B,P,qf[b-7],qf[b-16]),S=VNe(I,_,$,Vf[b-7],Vf[b-16]);Vf[b]=S|0,qf[b]=I|0}let{Ah:n,Al:s,Bh:o,Bl:i,Ch:a,Cl:c,Dh:l,Dl:u,Eh:d,El:p,Fh:f,Fl:h,Gh:g,Gl:y,Hh:E,Hl:A}=this;for(let b=0;b<80;b++){let w=Zf(d,p,14)^Zf(d,p,18)^O8(d,p,41),C=Gf(d,p,14)^Gf(d,p,18)^k8(d,p,41),_=d&f^~d&g,B=p&h^~p&y,U=qNe(A,C,B,dRe[b],qf[b]),k=WNe(U,E,w,_,uRe[b],Vf[b]),$=U|0,P=Zf(n,s,28)^O8(n,s,34)^O8(n,s,39),I=Gf(n,s,28)^k8(n,s,34)^k8(n,s,39),S=n&o^n&a^o&a,O=s&i^s&c^i&c;E=g|0,A=y|0,g=f|0,y=h|0,f=d|0,h=p|0,{h:d,l:p}=kc(l|0,u|0,k|0,$|0),l=a|0,u=c|0,a=o|0,c=i|0,o=n|0,i=s|0;let x=tk($,I,O);n=rk(x,k,P,S),s=x|0}({h:n,l:s}=kc(this.Ah|0,this.Al|0,n|0,s|0)),{h:o,l:i}=kc(this.Bh|0,this.Bl|0,o|0,i|0),{h:a,l:c}=kc(this.Ch|0,this.Cl|0,a|0,c|0),{h:l,l:u}=kc(this.Dh|0,this.Dl|0,l|0,u|0),{h:d,l:p}=kc(this.Eh|0,this.El|0,d|0,p|0),{h:f,l:h}=kc(this.Fh|0,this.Fl|0,f|0,h|0),{h:g,l:y}=kc(this.Gh|0,this.Gl|0,g|0,y|0),{h:E,l:A}=kc(this.Hh|0,this.Hl|0,E|0,A|0),this.set(n,s,o,i,a,c,l,u,d,p,f,h,g,y,E,A)}roundClean(){Va(Vf,qf)}destroy(){Va(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}},OO=class extends U8{constructor(){super(48),this.Ah=Ws[0]|0,this.Al=Ws[1]|0,this.Bh=Ws[2]|0,this.Bl=Ws[3]|0,this.Ch=Ws[4]|0,this.Cl=Ws[5]|0,this.Dh=Ws[6]|0,this.Dl=Ws[7]|0,this.Eh=Ws[8]|0,this.El=Ws[9]|0,this.Fh=Ws[10]|0,this.Fl=Ws[11]|0,this.Gh=Ws[12]|0,this.Gl=Ws[13]|0,this.Hh=Ws[14]|0,this.Hl=Ws[15]|0}},Zs=Uint32Array.from([573645204,4230739756,2673172387,3360449730,596883563,1867755857,2520282905,1497426621,2519219938,2827943907,3193839141,1401305490,721525244,746961066,246885852,2177182882]),kO=class extends U8{constructor(){super(32),this.Ah=Zs[0]|0,this.Al=Zs[1]|0,this.Bh=Zs[2]|0,this.Bl=Zs[3]|0,this.Ch=Zs[4]|0,this.Cl=Zs[5]|0,this.Dh=Zs[6]|0,this.Dl=Zs[7]|0,this.Eh=Zs[8]|0,this.El=Zs[9]|0,this.Fh=Zs[10]|0,this.Fl=Zs[11]|0,this.Gh=Zs[12]|0,this.Gl=Zs[13]|0,this.Hh=Zs[14]|0,this.Hl=Zs[15]|0}},QA=F8(()=>new RO),pRe=F8(()=>new U8),fRe=F8(()=>new OO),hRe=F8(()=>new kO),mRe=Uint8Array.from([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9]),Xn=Uint32Array.from([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),Ne=new Uint32Array(32);function Wf(e,t,r,n,s,o){let i=s[o],a=s[o+1],c=Ne[2*e],l=Ne[2*e+1],u=Ne[2*t],d=Ne[2*t+1],p=Ne[2*r],f=Ne[2*r+1],h=Ne[2*n],g=Ne[2*n+1],y=tk(c,u,i);l=rk(y,l,d,a),c=y|0,{Dh:g,Dl:h}={Dh:g^l,Dl:h^c},{Dh:g,Dl:h}={Dh:LNe(g,h),Dl:MNe(g)},{h:f,l:p}=kc(f,p,g,h),{Bh:d,Bl:u}={Bh:d^f,Bl:u^p},{Bh:d,Bl:u}={Bh:Zf(d,u,24),Bl:Gf(d,u,24)},Ne[2*e]=c,Ne[2*e+1]=l,Ne[2*t]=u,Ne[2*t+1]=d,Ne[2*r]=p,Ne[2*r+1]=f,Ne[2*n]=h,Ne[2*n+1]=g}function Kf(e,t,r,n,s,o){let i=s[o],a=s[o+1],c=Ne[2*e],l=Ne[2*e+1],u=Ne[2*t],d=Ne[2*t+1],p=Ne[2*r],f=Ne[2*r+1],h=Ne[2*n],g=Ne[2*n+1],y=tk(c,u,i);l=rk(y,l,d,a),c=y|0,{Dh:g,Dl:h}={Dh:g^l,Dl:h^c},{Dh:g,Dl:h}={Dh:Zf(g,h,16),Dl:Gf(g,h,16)},{h:f,l:p}=kc(f,p,g,h),{Bh:d,Bl:u}={Bh:d^f,Bl:u^p},{Bh:d,Bl:u}={Bh:O8(d,u,63),Bl:k8(d,u,63)},Ne[2*e]=c,Ne[2*e+1]=l,Ne[2*t]=u,Ne[2*t+1]=d,Ne[2*r]=p,Ne[2*r+1]=f,Ne[2*n]=h,Ne[2*n+1]=g}function gRe(e,t={},r,n,s){if(ep(r),e<0||e>r)throw new Error("outputLen bigger than keyLen");let{key:o,salt:i,personalization:a}=t;if(o!==void 0&&(o.length<1||o.length>r))throw new Error("key length must be undefined or 1.."+r);if(i!==void 0&&i.length!==n)throw new Error("salt must be undefined or "+n);if(a!==void 0&&a.length!==s)throw new Error("personalization must be undefined or "+s)}var BO=class extends ry{constructor(t,r){super(),this.finished=!1,this.destroyed=!1,this.length=0,this.pos=0,ep(t),ep(r),this.blockLen=t,this.outputLen=r,this.buffer=new Uint8Array(t),this.buffer32=D8(this.buffer)}update(t){Xf(this),t=Dc(t),Lc(t);let{blockLen:r,buffer:n,buffer32:s}=this,o=t.length,i=t.byteOffset,a=t.buffer;for(let c=0;c<o;){this.pos===r&&(Yf(s),this.compress(s,0,!1),Yf(s),this.pos=0);let l=Math.min(r-this.pos,o-c),u=i+c;if(l===r&&!(u%4)&&c+l<o){let d=new Uint32Array(a,u,Math.floor((o-c)/4));Yf(d);for(let p=0;c+r<o;p+=s.length,c+=r)this.length+=r,this.compress(d,p,!1);Yf(d);continue}n.set(t.subarray(c,c+l),this.pos),this.pos+=l,this.length+=l,c+=l}return this}digestInto(t){Xf(this),nk(t,this);let{pos:r,buffer32:n}=this;this.finished=!0,Va(this.buffer.subarray(r)),Yf(n),this.compress(n,0,!0),Yf(n);let s=D8(t);this.get().forEach((o,i)=>s[i]=Yd(o))}digest(){let{buffer:t,outputLen:r}=this;this.digestInto(t);let n=t.slice(0,r);return this.destroy(),n}_cloneInto(t){let{buffer:r,length:n,finished:s,destroyed:o,outputLen:i,pos:a}=this;return t||(t=new this.constructor({dkLen:i})),t.set(...this.get()),t.buffer.set(r),t.destroyed=o,t.finished=s,t.length=n,t.pos=a,t.outputLen=i,t}clone(){return this._cloneInto()}},DO=class extends BO{constructor(t={}){let r=t.dkLen===void 0?64:t.dkLen;super(128,r),this.v0l=Xn[0]|0,this.v0h=Xn[1]|0,this.v1l=Xn[2]|0,this.v1h=Xn[3]|0,this.v2l=Xn[4]|0,this.v2h=Xn[5]|0,this.v3l=Xn[6]|0,this.v3h=Xn[7]|0,this.v4l=Xn[8]|0,this.v4h=Xn[9]|0,this.v5l=Xn[10]|0,this.v5h=Xn[11]|0,this.v6l=Xn[12]|0,this.v6h=Xn[13]|0,this.v7l=Xn[14]|0,this.v7h=Xn[15]|0,gRe(r,t,64,16,16);let{key:n,personalization:s,salt:o}=t,i=0;if(n!==void 0&&(n=Dc(n),i=n.length),this.v0l^=this.outputLen|i<<8|65536|1<<24,o!==void 0){o=Dc(o);let a=D8(o);this.v4l^=Yd(a[0]),this.v4h^=Yd(a[1]),this.v5l^=Yd(a[2]),this.v5h^=Yd(a[3])}if(s!==void 0){s=Dc(s);let a=D8(s);this.v6l^=Yd(a[0]),this.v6h^=Yd(a[1]),this.v7l^=Yd(a[2]),this.v7h^=Yd(a[3])}if(n!==void 0){let a=new Uint8Array(this.blockLen);a.set(n),this.update(a)}}get(){let{v0l:t,v0h:r,v1l:n,v1h:s,v2l:o,v2h:i,v3l:a,v3h:c,v4l:l,v4h:u,v5l:d,v5h:p,v6l:f,v6h:h,v7l:g,v7h:y}=this;return[t,r,n,s,o,i,a,c,l,u,d,p,f,h,g,y]}set(t,r,n,s,o,i,a,c,l,u,d,p,f,h,g,y){this.v0l=t|0,this.v0h=r|0,this.v1l=n|0,this.v1h=s|0,this.v2l=o|0,this.v2h=i|0,this.v3l=a|0,this.v3h=c|0,this.v4l=l|0,this.v4h=u|0,this.v5l=d|0,this.v5h=p|0,this.v6l=f|0,this.v6h=h|0,this.v7l=g|0,this.v7h=y|0}compress(t,r,n){this.get().forEach((c,l)=>Ne[l]=c),Ne.set(Xn,16);let{h:s,l:o}=lJ(BigInt(this.length));Ne[24]=Xn[8]^o,Ne[25]=Xn[9]^s,n&&(Ne[28]=~Ne[28],Ne[29]=~Ne[29]);let i=0,a=mRe;for(let c=0;c<12;c++)Wf(0,4,8,12,t,r+2*a[i++]),Kf(0,4,8,12,t,r+2*a[i++]),Wf(1,5,9,13,t,r+2*a[i++]),Kf(1,5,9,13,t,r+2*a[i++]),Wf(2,6,10,14,t,r+2*a[i++]),Kf(2,6,10,14,t,r+2*a[i++]),Wf(3,7,11,15,t,r+2*a[i++]),Kf(3,7,11,15,t,r+2*a[i++]),Wf(0,5,10,15,t,r+2*a[i++]),Kf(0,5,10,15,t,r+2*a[i++]),Wf(1,6,11,12,t,r+2*a[i++]),Kf(1,6,11,12,t,r+2*a[i++]),Wf(2,7,8,13,t,r+2*a[i++]),Kf(2,7,8,13,t,r+2*a[i++]),Wf(3,4,9,14,t,r+2*a[i++]),Kf(3,4,9,14,t,r+2*a[i++]);this.v0l^=Ne[0]^Ne[16],this.v0h^=Ne[1]^Ne[17],this.v1l^=Ne[2]^Ne[18],this.v1h^=Ne[3]^Ne[19],this.v2l^=Ne[4]^Ne[20],this.v2h^=Ne[5]^Ne[21],this.v3l^=Ne[6]^Ne[22],this.v3h^=Ne[7]^Ne[23],this.v4l^=Ne[8]^Ne[24],this.v4h^=Ne[9]^Ne[25],this.v5l^=Ne[10]^Ne[26],this.v5h^=Ne[11]^Ne[27],this.v6l^=Ne[12]^Ne[28],this.v6h^=Ne[13]^Ne[29],this.v7l^=Ne[14]^Ne[30],this.v7h^=Ne[15]^Ne[31],Va(Ne)}destroy(){this.destroyed=!0,Va(this.buffer32),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}},yRe=GNe(e=>new DO(e)),wRe="https://rpc.walletconnect.org/v1";function xJ(e){let t=`Ethereum Signed Message:
${e.length}`,r=new TextEncoder().encode(t+e);return"0x"+Buffer.from(oRe(r)).toString("hex")}async function bRe(e,t,r,n,s,o){switch(r.t){case"eip191":return await xRe(e,t,r.s);case"eip1271":return await vRe(e,t,r.s,n,s,o);default:throw new Error(`verifySignature failed: Attempted to verify CacaoSignature with unknown type: ${r.t}`)}}function xRe(e,t,r){let n=KE.fromHex(r);return XE.recoverAddress({payload:xJ(t),signature:n}).toLowerCase()===e.toLowerCase()}async function vRe(e,t,r,n,s,o){let i=Mc(n);if(!i.namespace||!i.reference)throw new Error(`isValidEip1271Signature failed: chainId must be in CAIP-2 format, received: ${n}`);try{let a="0x1626ba7e",c="0000000000000000000000000000000000000000000000000000000000000040",l=r.substring(2),u=(l.length/2).toString(16).padStart(64,"0"),d=(t.startsWith("0x")?t:xJ(t)).substring(2),p=a+d+c+u+l,f=await fetch(`${o||wRe}/?chainId=${n}&projectId=${s}`,{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify({id:ERe(),jsonrpc:"2.0",method:"eth_call",params:[{to:e,data:p},"latest"]})}),{result:h}=await f.json();return h?h.slice(0,a.length).toLowerCase()===a.toLowerCase():!1}catch(a){return console.error("isValidEip1271Signature: ",a),!1}}function ERe(){return Date.now()+Math.floor(Math.random()*1e3)}function vJ(e){let t=atob(e),r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);let n=r[0];if(n===0)throw new Error("No signatures found");let s=1+n*64;if(r.length<s)throw new Error("Transaction data too short for claimed signature count");if(r.length<100)throw new Error("Transaction too short");let o=Buffer.from(e,"base64").slice(1,65);return H2.encode(o)}function EJ(e){let t=new Uint8Array(Buffer.from(e,"base64")),r=Array.from("TransactionData::").map(o=>o.charCodeAt(0)),n=new Uint8Array(r.length+t.length);n.set(r),n.set(t,r.length);let s=yRe(n,{dkLen:32});return H2.encode(s)}function sk(e){let t=new Uint8Array(QA(ARe(e)));return H2.encode(t)}function ARe(e){if(e instanceof Uint8Array)return e;if(Array.isArray(e))return new Uint8Array(e);if(typeof e=="object"&&e!=null&&e.data)return new Uint8Array(Object.values(e.data));if(typeof e=="object"&&e)return new Uint8Array(Object.values(e));throw new Error("getNearUint8ArrayFromBytes: Unexpected result type from bytes array")}function ok(e){let t=Buffer.from(e,"base64"),r=rR(t).txn;if(!r)throw new Error("Invalid signed transaction: missing 'txn' field");let n=QN(r),s=Buffer.from("TX"),o=Buffer.concat([s,Buffer.from(n)]),i=hRe(o);return QE.encode(i).replace(/=+$/,"")}function wO(e){let t=[],r=BigInt(e);for(;r>=BigInt(128);)t.push(Number(r&BigInt(127)|BigInt(128))),r>>=BigInt(7);return t.push(Number(r)),Buffer.from(t)}function AJ(e){let t=Buffer.from(e.signed.bodyBytes,"base64"),r=Buffer.from(e.signed.authInfoBytes,"base64"),n=Buffer.from(e.signature.signature,"base64"),s=[];s.push(Buffer.from([10])),s.push(wO(t.length)),s.push(t),s.push(Buffer.from([18])),s.push(wO(r.length)),s.push(r),s.push(Buffer.from([26])),s.push(wO(n.length)),s.push(n);let o=Buffer.concat(s),i=QA(o);return Buffer.from(i).toString("hex").toUpperCase()}function CJ(e){var t,r;let n=[];try{if(typeof e=="string")return n.push(e),n;if(typeof e!="object")return n;e!=null&&e.id&&n.push(e.id);let s=(r=(t=e?.capabilities)==null?void 0:t.caip345)==null?void 0:r.transactionHashes;s&&n.push(...s)}catch(s){console.warn("getWalletSendCallsHashes failed: ",s)}return n}var CRe=Object.defineProperty,SRe=Object.defineProperties,IRe=Object.getOwnPropertyDescriptors,CY=Object.getOwnPropertySymbols,_Re=Object.prototype.hasOwnProperty,TRe=Object.prototype.propertyIsEnumerable,SY=(e,t,r)=>t in e?CRe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,PRe=(e,t)=>{for(var r in t||(t={}))_Re.call(t,r)&&SY(e,r,t[r]);if(CY)for(var r of CY(t))TRe.call(t,r)&&SY(e,r,t[r]);return e},NRe=(e,t)=>SRe(e,IRe(t)),SJ="did:pkh:",RRe={eip155:"Ethereum",solana:"Solana",bip122:"Bitcoin"},ORe=e=>e?RRe[e]||e:"",XA=e=>e?.split(":"),kRe=e=>{let t=e&&XA(e);if(t)return e.includes(SJ)?t[3]:t[1]},BRe=e=>{let t=e&&XA(e);if(t)return e.includes(SJ)?t[2]:t[0]},eC=e=>{let t=e&&XA(e);if(t)return t[2]+":"+t[3]},j8=e=>{let t=e&&XA(e);if(t)return t.pop()};async function ik(e){let{cacao:t,projectId:r}=e,{s:n,p:s}=t,o=ak(s,s.iss),i=j8(s.iss);return await bRe(i,o,n,eC(s.iss),r)}var ak=(e,t)=>{let r=BRe(t);if(!r)throw new Error("Invalid issuer: "+t);let n=`${e.domain} wants you to sign in with your ${ORe(r)} account:`,s=j8(t);if(!e.aud&&!e.uri)throw new Error("Either `aud` or `uri` is required to construct the message");let o=e.statement||void 0,i=`URI: ${e.aud||e.uri}`,a=`Version: ${e.version}`,c=`Chain ID: ${kRe(t)}`,l=`Nonce: ${e.nonce}`,u=`Issued At: ${e.iat}`,d=e.exp?`Expiration Time: ${e.exp}`:void 0,p=e.nbf?`Not Before: ${e.nbf}`:void 0,f=e.requestId?`Request ID: ${e.requestId}`:void 0,h=e.resources?`Resources:${e.resources.map(y=>`
- ${y}`).join("")}`:void 0,g=z8(e.resources);if(g){let y=L8(g);o=FRe(o,y)}return[n,s,"",o,"",i,a,c,l,u,d,p,f,h].filter(y=>y!=null).join(`
`)};function DRe(e){return Buffer.from(JSON.stringify(e)).toString("base64")}function URe(e){return JSON.parse(Buffer.from(e,"base64").toString("utf-8"))}function t1(e){if(!e)throw new Error("No recap provided, value is undefined");if(!e.att)throw new Error("No `att` property found");let t=Object.keys(e.att);if(!(t!=null&&t.length))throw new Error("No resources found in `att` property");t.forEach(r=>{let n=e.att[r];if(Array.isArray(n))throw new Error(`Resource must be an object: ${r}`);if(typeof n!="object")throw new Error(`Resource must be an object: ${r}`);if(!Object.keys(n).length)throw new Error(`Resource object is empty: ${r}`);Object.keys(n).forEach(s=>{let o=n[s];if(!Array.isArray(o))throw new Error(`Ability limits ${s} must be an array of objects, found: ${o}`);if(!o.length)throw new Error(`Value of ${s} is empty array, must be an array with objects`);o.forEach(i=>{if(typeof i!="object")throw new Error(`Ability limits (${s}) must be an array of objects, found: ${i}`)})})})}function LRe(e,t,r,n={}){return r?.sort((s,o)=>s.localeCompare(o)),{att:{[e]:MRe(t,r,n)}}}function MRe(e,t,r={}){t=t?.sort((s,o)=>s.localeCompare(o));let n=t.map(s=>({[`${e}/${s}`]:[r]}));return Object.assign({},...n)}function IJ(e){return t1(e),`urn:recap:${DRe(e).replace(/=/g,"")}`}function L8(e){let t=URe(e.replace("urn:recap:",""));return t1(t),t}function _J(e,t,r){let n=LRe(e,t,r);return IJ(n)}function HRe(e){return e&&e.includes("urn:recap:")}function TJ(e,t){let r=L8(e),n=L8(t),s=$Re(r,n);return IJ(s)}function $Re(e,t){t1(e),t1(t);let r=Object.keys(e.att).concat(Object.keys(t.att)).sort((s,o)=>s.localeCompare(o)),n={att:{}};return r.forEach(s=>{var o,i;Object.keys(((o=e.att)==null?void 0:o[s])||{}).concat(Object.keys(((i=t.att)==null?void 0:i[s])||{})).sort((a,c)=>a.localeCompare(c)).forEach(a=>{var c,l;n.att[s]=NRe(PRe({},n.att[s]),{[a]:((c=e.att[s])==null?void 0:c[a])||((l=t.att[s])==null?void 0:l[a])})})}),n}function FRe(e="",t){t1(t);let r="I further authorize the stated URI to perform the following actions on my behalf: ";if(e.includes(r))return e;let n=[],s=0;Object.keys(t.att).forEach(a=>{let c=Object.keys(t.att[a]).map(d=>({ability:d.split("/")[0],action:d.split("/")[1]}));c.sort((d,p)=>d.action.localeCompare(p.action));let l={};c.forEach(d=>{l[d.ability]||(l[d.ability]=[]),l[d.ability].push(d.action)});let u=Object.keys(l).map(d=>(s++,`(${s}) '${d}': '${l[d].join("', '")}' for '${a}'.`));n.push(u.join(", ").replace(".,","."))});let o=n.join(" "),i=`${r}${o}`;return`${e?e+" ":""}${i}`}function ck(e){var t;let r=L8(e);t1(r);let n=(t=r.att)==null?void 0:t.eip155;return n?Object.keys(n).map(s=>s.split("/")[1]):[]}function lk(e){let t=L8(e);t1(t);let r=[];return Object.values(t.att).forEach(n=>{Object.values(n).forEach(s=>{var o;(o=s?.[0])!=null&&o.chains&&r.push(s[0].chains)})}),[...new Set(r.flat())]}function z8(e){if(!e)return;let t=e?.[e.length-1];return HRe(t)?t:void 0}function PJ(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function UO(e){if(typeof e!="boolean")throw new Error(`boolean expected, not ${e}`)}function bO(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function mi(e,...t){if(!PJ(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function IY(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function jRe(e,t){mi(e);let r=t.outputLen;if(e.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}function Qf(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))}function ny(...e){for(let t=0;t<e.length;t++)e[t].fill(0)}function zRe(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}var VRe=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function qRe(e){if(typeof e!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}function LO(e){if(typeof e=="string")e=qRe(e);else if(PJ(e))e=MO(e);else throw new Error("Uint8Array expected, got "+typeof e);return e}function WRe(e,t){if(t==null||typeof t!="object")throw new Error("options must be defined");return Object.assign(e,t)}function KRe(e,t){if(e.length!==t.length)return!1;let r=0;for(let n=0;n<e.length;n++)r|=e[n]^t[n];return r===0}var ZRe=(e,t)=>{function r(n,...s){if(mi(n),!VRe)throw new Error("Non little-endian hardware is not yet supported");if(e.nonceLength!==void 0){let l=s[0];if(!l)throw new Error("nonce / iv required");e.varSizeNonce?mi(l):mi(l,e.nonceLength)}let o=e.tagLength;o&&s[1]!==void 0&&mi(s[1]);let i=t(n,...s),a=(l,u)=>{if(u!==void 0){if(l!==2)throw new Error("cipher output not supported");mi(u)}},c=!1;return{encrypt(l,u){if(c)throw new Error("cannot encrypt() twice with same key + nonce");return c=!0,mi(l),a(i.encrypt.length,u),i.encrypt(l,u)},decrypt(l,u){if(mi(l),o&&l.length<o)throw new Error("invalid ciphertext length: smaller than tagLength="+o);return a(i.decrypt.length,u),i.decrypt(l,u)}}}return Object.assign(r,e),r};function _Y(e,t,r=!0){if(t===void 0)return new Uint8Array(e);if(t.length!==e)throw new Error("invalid output length, expected "+e+", got: "+t.length);if(r&&!YRe(t))throw new Error("invalid output, must be aligned");return t}function TY(e,t,r,n){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,r,n);let s=BigInt(32),o=BigInt(4294967295),i=Number(r>>s&o),a=Number(r&o),c=n?4:0,l=n?0:4;e.setUint32(t+c,i,n),e.setUint32(t+l,a,n)}function GRe(e,t,r){UO(r);let n=new Uint8Array(16),s=zRe(n);return TY(s,0,BigInt(t),r),TY(s,8,BigInt(e),r),n}function YRe(e){return e.byteOffset%4===0}function MO(e){return Uint8Array.from(e)}var NJ=e=>Uint8Array.from(e.split("").map(t=>t.charCodeAt(0))),JRe=NJ("expand 16-byte k"),QRe=NJ("expand 32-byte k"),XRe=Qf(JRe),eOe=Qf(QRe);function rr(e,t){return e<<t|e>>>32-t}function HO(e){return e.byteOffset%4===0}var DA=64,tOe=16,RJ=2**32-1,PY=new Uint32Array;function rOe(e,t,r,n,s,o,i,a){let c=s.length,l=new Uint8Array(DA),u=Qf(l),d=HO(s)&&HO(o),p=d?Qf(s):PY,f=d?Qf(o):PY;for(let h=0;h<c;i++){if(e(t,r,n,u,i,a),i>=RJ)throw new Error("arx: counter overflow");let g=Math.min(DA,c-h);if(d&&g===DA){let y=h/4;if(h%4!==0)throw new Error("arx: invalid block position");for(let E=0,A;E<tOe;E++)A=y+E,f[A]=p[A]^u[E];h+=DA;continue}for(let y=0,E;y<g;y++)E=h+y,o[E]=s[E]^l[y];h+=g}}function nOe(e,t){let{allowShortKeys:r,extendNonceFn:n,counterLength:s,counterRight:o,rounds:i}=WRe({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},t);if(typeof e!="function")throw new Error("core must be a function");return bO(s),bO(i),UO(o),UO(r),(a,c,l,u,d=0)=>{mi(a),mi(c),mi(l);let p=l.length;if(u===void 0&&(u=new Uint8Array(p)),mi(u),bO(d),d<0||d>=RJ)throw new Error("arx: counter overflow");if(u.length<p)throw new Error(`arx: output (${u.length}) is shorter than data (${p})`);let f=[],h=a.length,g,y;if(h===32)f.push(g=MO(a)),y=eOe;else if(h===16&&r)g=new Uint8Array(32),g.set(a),g.set(a,16),y=XRe,f.push(g);else throw new Error(`arx: invalid 32-byte key, got length=${h}`);HO(c)||f.push(c=MO(c));let E=Qf(g);if(n){if(c.length!==24)throw new Error("arx: extended nonce must be 24 bytes");n(y,E,Qf(c.subarray(0,16)),E),c=c.subarray(16)}let A=16-s;if(A!==c.length)throw new Error(`arx: nonce must be ${A} or 16 bytes`);if(A!==12){let w=new Uint8Array(12);w.set(c,o?0:12-c.length),c=w,f.push(c)}let b=Qf(c);return rOe(e,y,E,b,l,u,d,i),ny(...f),u}}var Ps=(e,t)=>e[t++]&255|(e[t++]&255)<<8,$O=class{constructor(t){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,t=LO(t),mi(t,32);let r=Ps(t,0),n=Ps(t,2),s=Ps(t,4),o=Ps(t,6),i=Ps(t,8),a=Ps(t,10),c=Ps(t,12),l=Ps(t,14);this.r[0]=r&8191,this.r[1]=(r>>>13|n<<3)&8191,this.r[2]=(n>>>10|s<<6)&7939,this.r[3]=(s>>>7|o<<9)&8191,this.r[4]=(o>>>4|i<<12)&255,this.r[5]=i>>>1&8190,this.r[6]=(i>>>14|a<<2)&8191,this.r[7]=(a>>>11|c<<5)&8065,this.r[8]=(c>>>8|l<<8)&8191,this.r[9]=l>>>5&127;for(let u=0;u<8;u++)this.pad[u]=Ps(t,16+2*u)}process(t,r,n=!1){let s=n?0:2048,{h:o,r:i}=this,a=i[0],c=i[1],l=i[2],u=i[3],d=i[4],p=i[5],f=i[6],h=i[7],g=i[8],y=i[9],E=Ps(t,r+0),A=Ps(t,r+2),b=Ps(t,r+4),w=Ps(t,r+6),C=Ps(t,r+8),_=Ps(t,r+10),B=Ps(t,r+12),U=Ps(t,r+14),k=o[0]+(E&8191),$=o[1]+((E>>>13|A<<3)&8191),P=o[2]+((A>>>10|b<<6)&8191),I=o[3]+((b>>>7|w<<9)&8191),S=o[4]+((w>>>4|C<<12)&8191),O=o[5]+(C>>>1&8191),x=o[6]+((C>>>14|_<<2)&8191),v=o[7]+((_>>>11|B<<5)&8191),N=o[8]+((B>>>8|U<<8)&8191),D=o[9]+(U>>>5|s),T=0,L=T+k*a+$*(5*y)+P*(5*g)+I*(5*h)+S*(5*f);T=L>>>13,L&=8191,L+=O*(5*p)+x*(5*d)+v*(5*u)+N*(5*l)+D*(5*c),T+=L>>>13,L&=8191;let j=T+k*c+$*a+P*(5*y)+I*(5*g)+S*(5*h);T=j>>>13,j&=8191,j+=O*(5*f)+x*(5*p)+v*(5*d)+N*(5*u)+D*(5*l),T+=j>>>13,j&=8191;let q=T+k*l+$*c+P*a+I*(5*y)+S*(5*g);T=q>>>13,q&=8191,q+=O*(5*h)+x*(5*f)+v*(5*p)+N*(5*d)+D*(5*u),T+=q>>>13,q&=8191;let ie=T+k*u+$*l+P*c+I*a+S*(5*y);T=ie>>>13,ie&=8191,ie+=O*(5*g)+x*(5*h)+v*(5*f)+N*(5*p)+D*(5*d),T+=ie>>>13,ie&=8191;let ne=T+k*d+$*u+P*l+I*c+S*a;T=ne>>>13,ne&=8191,ne+=O*(5*y)+x*(5*g)+v*(5*h)+N*(5*f)+D*(5*p),T+=ne>>>13,ne&=8191;let Y=T+k*p+$*d+P*u+I*l+S*c;T=Y>>>13,Y&=8191,Y+=O*a+x*(5*y)+v*(5*g)+N*(5*h)+D*(5*f),T+=Y>>>13,Y&=8191;let me=T+k*f+$*p+P*d+I*u+S*l;T=me>>>13,me&=8191,me+=O*c+x*a+v*(5*y)+N*(5*g)+D*(5*h),T+=me>>>13,me&=8191;let ue=T+k*h+$*f+P*p+I*d+S*u;T=ue>>>13,ue&=8191,ue+=O*l+x*c+v*a+N*(5*y)+D*(5*g),T+=ue>>>13,ue&=8191;let Te=T+k*g+$*h+P*f+I*p+S*d;T=Te>>>13,Te&=8191,Te+=O*u+x*l+v*c+N*a+D*(5*y),T+=Te>>>13,Te&=8191;let de=T+k*y+$*g+P*h+I*f+S*p;T=de>>>13,de&=8191,de+=O*d+x*u+v*l+N*c+D*a,T+=de>>>13,de&=8191,T=(T<<2)+T|0,T=T+L|0,L=T&8191,T=T>>>13,j+=T,o[0]=L,o[1]=j,o[2]=q,o[3]=ie,o[4]=ne,o[5]=Y,o[6]=me,o[7]=ue,o[8]=Te,o[9]=de}finalize(){let{h:t,pad:r}=this,n=new Uint16Array(10),s=t[1]>>>13;t[1]&=8191;for(let a=2;a<10;a++)t[a]+=s,s=t[a]>>>13,t[a]&=8191;t[0]+=s*5,s=t[0]>>>13,t[0]&=8191,t[1]+=s,s=t[1]>>>13,t[1]&=8191,t[2]+=s,n[0]=t[0]+5,s=n[0]>>>13,n[0]&=8191;for(let a=1;a<10;a++)n[a]=t[a]+s,s=n[a]>>>13,n[a]&=8191;n[9]-=8192;let o=(s^1)-1;for(let a=0;a<10;a++)n[a]&=o;o=~o;for(let a=0;a<10;a++)t[a]=t[a]&o|n[a];t[0]=(t[0]|t[1]<<13)&65535,t[1]=(t[1]>>>3|t[2]<<10)&65535,t[2]=(t[2]>>>6|t[3]<<7)&65535,t[3]=(t[3]>>>9|t[4]<<4)&65535,t[4]=(t[4]>>>12|t[5]<<1|t[6]<<14)&65535,t[5]=(t[6]>>>2|t[7]<<11)&65535,t[6]=(t[7]>>>5|t[8]<<8)&65535,t[7]=(t[8]>>>8|t[9]<<5)&65535;let i=t[0]+r[0];t[0]=i&65535;for(let a=1;a<8;a++)i=(t[a]+r[a]|0)+(i>>>16)|0,t[a]=i&65535;ny(n)}update(t){IY(this),t=LO(t),mi(t);let{buffer:r,blockLen:n}=this,s=t.length;for(let o=0;o<s;){let i=Math.min(n-this.pos,s-o);if(i===n){for(;n<=s-o;o+=n)this.process(t,o);continue}r.set(t.subarray(o,o+i),this.pos),this.pos+=i,o+=i,this.pos===n&&(this.process(r,0,!1),this.pos=0)}return this}destroy(){ny(this.h,this.r,this.buffer,this.pad)}digestInto(t){IY(this),jRe(t,this),this.finished=!0;let{buffer:r,h:n}=this,{pos:s}=this;if(s){for(r[s++]=1;s<16;s++)r[s]=0;this.process(r,0,!0)}this.finalize();let o=0;for(let i=0;i<8;i++)t[o++]=n[i]>>>0,t[o++]=n[i]>>>8;return t}digest(){let{buffer:t,outputLen:r}=this;this.digestInto(t);let n=t.slice(0,r);return this.destroy(),n}};function sOe(e){let t=(n,s)=>e(s).update(LO(n)).digest(),r=e(new Uint8Array(32));return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=n=>e(n),t}var oOe=sOe(e=>new $O(e));function iOe(e,t,r,n,s,o=20){let i=e[0],a=e[1],c=e[2],l=e[3],u=t[0],d=t[1],p=t[2],f=t[3],h=t[4],g=t[5],y=t[6],E=t[7],A=s,b=r[0],w=r[1],C=r[2],_=i,B=a,U=c,k=l,$=u,P=d,I=p,S=f,O=h,x=g,v=y,N=E,D=A,T=b,L=w,j=C;for(let ie=0;ie<o;ie+=2)_=_+$|0,D=rr(D^_,16),O=O+D|0,$=rr($^O,12),_=_+$|0,D=rr(D^_,8),O=O+D|0,$=rr($^O,7),B=B+P|0,T=rr(T^B,16),x=x+T|0,P=rr(P^x,12),B=B+P|0,T=rr(T^B,8),x=x+T|0,P=rr(P^x,7),U=U+I|0,L=rr(L^U,16),v=v+L|0,I=rr(I^v,12),U=U+I|0,L=rr(L^U,8),v=v+L|0,I=rr(I^v,7),k=k+S|0,j=rr(j^k,16),N=N+j|0,S=rr(S^N,12),k=k+S|0,j=rr(j^k,8),N=N+j|0,S=rr(S^N,7),_=_+P|0,j=rr(j^_,16),v=v+j|0,P=rr(P^v,12),_=_+P|0,j=rr(j^_,8),v=v+j|0,P=rr(P^v,7),B=B+I|0,D=rr(D^B,16),N=N+D|0,I=rr(I^N,12),B=B+I|0,D=rr(D^B,8),N=N+D|0,I=rr(I^N,7),U=U+S|0,T=rr(T^U,16),O=O+T|0,S=rr(S^O,12),U=U+S|0,T=rr(T^U,8),O=O+T|0,S=rr(S^O,7),k=k+$|0,L=rr(L^k,16),x=x+L|0,$=rr($^x,12),k=k+$|0,L=rr(L^k,8),x=x+L|0,$=rr($^x,7);let q=0;n[q++]=i+_|0,n[q++]=a+B|0,n[q++]=c+U|0,n[q++]=l+k|0,n[q++]=u+$|0,n[q++]=d+P|0,n[q++]=p+I|0,n[q++]=f+S|0,n[q++]=h+O|0,n[q++]=g+x|0,n[q++]=y+v|0,n[q++]=E+N|0,n[q++]=A+D|0,n[q++]=b+T|0,n[q++]=w+L|0,n[q++]=C+j|0}var aOe=nOe(iOe,{counterRight:!1,counterLength:4,allowShortKeys:!1}),cOe=new Uint8Array(16),NY=(e,t)=>{e.update(t);let r=t.length%16;r&&e.update(cOe.subarray(r))},lOe=new Uint8Array(32);function RY(e,t,r,n,s){let o=e(t,r,lOe),i=oOe.create(o);s&&NY(i,s),NY(i,n);let a=GRe(n.length,s?s.length:0,!0);i.update(a);let c=i.digest();return ny(o,a),c}var uOe=e=>(t,r,n)=>({encrypt(s,o){let i=s.length;o=_Y(i+16,o,!1),o.set(s);let a=o.subarray(0,-16);e(t,r,a,a,1);let c=RY(e,t,r,a,n);return o.set(c,i),ny(c),o},decrypt(s,o){o=_Y(s.length-16,o,!1);let i=s.subarray(0,-16),a=s.subarray(-16),c=RY(e,t,r,i,n);if(!KRe(a,c))throw new Error("invalid tag");return o.set(s.subarray(0,-16)),e(t,r,o,o,1),ny(c),o}}),OJ=ZRe({blockSize:64,nonceLength:12,tagLength:16},uOe(aOe)),jA=class extends ry{constructor(t,r){super(),this.finished=!1,this.destroyed=!1,JA(t);let n=Dc(r);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let s=this.blockLen,o=new Uint8Array(s);o.set(n.length>s?t.create().update(n).digest():n);for(let i=0;i<o.length;i++)o[i]^=54;this.iHash.update(o),this.oHash=t.create();for(let i=0;i<o.length;i++)o[i]^=106;this.oHash.update(o),Va(o)}update(t){return Xf(this),this.iHash.update(t),this}digestInto(t){Xf(this),Lc(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){let t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));let{oHash:r,iHash:n,finished:s,destroyed:o,blockLen:i,outputLen:a}=this;return t=t,t.finished=s,t.destroyed=o,t.blockLen=i,t.outputLen=a,t.oHash=r._cloneInto(t.oHash),t.iHash=n._cloneInto(t.iHash),t}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}},tC=(e,t,r)=>new jA(e,t).update(r).digest();tC.create=(e,t)=>new jA(e,t);function dOe(e,t,r){return JA(e),r===void 0&&(r=new Uint8Array(e.outputLen)),tC(e,Dc(r),Dc(t))}var xO=Uint8Array.from([0]),OY=Uint8Array.of();function pOe(e,t,r,n=32){JA(e),ep(n);let s=e.outputLen;if(n>255*s)throw new Error("Length should be <= 255*HashLen");let o=Math.ceil(n/s);r===void 0&&(r=OY);let i=new Uint8Array(o*s),a=tC.create(e,t),c=a._cloneInto(),l=new Uint8Array(a.outputLen);for(let u=0;u<o;u++)xO[0]=u+1,c.update(u===0?OY:l).update(r).update(xO).digestInto(l),i.set(l,s*u),a._cloneInto(c);return a.destroy(),c.destroy(),Va(l,xO),i.slice(0,n)}var fOe=(e,t,r,n,s)=>pOe(e,dOe(e,t,r),n,s),rC=QA,uk=BigInt(0),FO=BigInt(1);function zA(e,t=""){if(typeof e!="boolean"){let r=t&&`"${t}"`;throw new Error(r+"expected boolean, got type="+typeof e)}return e}function Qm(e,t,r=""){let n=YA(e),s=e?.length,o=t!==void 0;if(!n||o&&s!==t){let i=r&&`"${r}" `,a=o?` of length ${t}`:"",c=n?`length=${s}`:`type=${typeof e}`;throw new Error(i+"expected Uint8Array"+a+", got "+c)}return e}function UA(e){let t=e.toString(16);return t.length&1?"0"+t:t}function kJ(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return e===""?uk:BigInt("0x"+e)}function nC(e){return kJ(ey(e))}function VA(e){return Lc(e),kJ(ey(Uint8Array.from(e).reverse()))}function dk(e,t){return $A(e.toString(16).padStart(t*2,"0"))}function pk(e,t){return dk(e,t).reverse()}function Gs(e,t,r){let n;if(typeof t=="string")try{n=$A(t)}catch(o){throw new Error(e+" must be hex string or Uint8Array, cause: "+o)}else if(YA(t))n=Uint8Array.from(t);else throw new Error(e+" must be hex string or Uint8Array");let s=n.length;if(typeof r=="number"&&s!==r)throw new Error(e+" of length "+r+" expected, got "+s);return n}var vO=e=>typeof e=="bigint"&&uk<=e;function hOe(e,t,r){return vO(e)&&vO(t)&&vO(r)&&t<=e&&e<r}function jO(e,t,r,n){if(!hOe(t,r,n))throw new Error("expected valid "+e+": "+r+" <= n < "+n+", got "+t)}function BJ(e){let t;for(t=0;e>uk;e>>=FO,t+=1);return t}var V8=e=>(FO<<BigInt(e))-FO;function mOe(e,t,r){if(typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof r!="function")throw new Error("hmacFn must be a function");let n=p=>new Uint8Array(p),s=p=>Uint8Array.of(p),o=n(e),i=n(e),a=0,c=()=>{o.fill(1),i.fill(0),a=0},l=(...p)=>r(i,o,...p),u=(p=n(0))=>{i=l(s(0),p),o=l(),p.length!==0&&(i=l(s(1),p),o=l())},d=()=>{if(a++>=1e3)throw new Error("drbg: tried 1000 values");let p=0,f=[];for(;p<t;){o=l();let h=o.slice();f.push(h),p+=o.length}return Jf(...f)};return(p,f)=>{c(),u(p);let h;for(;!(h=f(d()));)u();return c(),h}}function sC(e,t,r={}){if(!e||typeof e!="object")throw new Error("expected valid options object");function n(s,o,i){let a=e[s];if(i&&a===void 0)return;let c=typeof a;if(c!==o||a===null)throw new Error(`param "${s}" is invalid: expected ${o}, got ${c}`)}Object.entries(t).forEach(([s,o])=>n(s,o,!1)),Object.entries(r).forEach(([s,o])=>n(s,o,!0))}function kY(e){let t=new WeakMap;return(r,...n)=>{let s=t.get(r);if(s!==void 0)return s;let o=e(r,...n);return t.set(r,o),o}}var yi=BigInt(0),Do=BigInt(1),Xm=BigInt(2),DJ=BigInt(3),UJ=BigInt(4),LJ=BigInt(5),gOe=BigInt(7),MJ=BigInt(8),yOe=BigInt(9),HJ=BigInt(16);function aa(e,t){let r=e%t;return r>=yi?r:t+r}function Oc(e,t,r){let n=e;for(;t-- >yi;)n*=n,n%=r;return n}function BY(e,t){if(e===yi)throw new Error("invert: expected non-zero number");if(t<=yi)throw new Error("invert: expected positive modulus, got "+t);let r=aa(e,t),n=t,s=yi,o=Do;for(;r!==yi;){let i=n/r,a=n%r,c=s-o*i;n=r,r=a,s=o,o=c}if(n!==Do)throw new Error("invert: does not exist");return aa(s,t)}function fk(e,t,r){if(!e.eql(e.sqr(t),r))throw new Error("Cannot find square root")}function $J(e,t){let r=(e.ORDER+Do)/UJ,n=e.pow(t,r);return fk(e,n,t),n}function wOe(e,t){let r=(e.ORDER-LJ)/MJ,n=e.mul(t,Xm),s=e.pow(n,r),o=e.mul(t,s),i=e.mul(e.mul(o,Xm),s),a=e.mul(o,e.sub(i,e.ONE));return fk(e,a,t),a}function bOe(e){let t=rh(e),r=FJ(e),n=r(t,t.neg(t.ONE)),s=r(t,n),o=r(t,t.neg(n)),i=(e+gOe)/HJ;return(a,c)=>{let l=a.pow(c,i),u=a.mul(l,n),d=a.mul(l,s),p=a.mul(l,o),f=a.eql(a.sqr(u),c),h=a.eql(a.sqr(d),c);l=a.cmov(l,u,f),u=a.cmov(p,d,h);let g=a.eql(a.sqr(u),c),y=a.cmov(l,u,g);return fk(a,y,c),y}}function FJ(e){if(e<DJ)throw new Error("sqrt is not defined for small field");let t=e-Do,r=0;for(;t%Xm===yi;)t/=Xm,r++;let n=Xm,s=rh(e);for(;DY(s,n)===1;)if(n++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(r===1)return $J;let o=s.pow(n,t),i=(t+Do)/Xm;return function(a,c){if(a.is0(c))return c;if(DY(a,c)!==1)throw new Error("Cannot find square root");let l=r,u=a.mul(a.ONE,o),d=a.pow(c,t),p=a.pow(c,i);for(;!a.eql(d,a.ONE);){if(a.is0(d))return a.ZERO;let f=1,h=a.sqr(d);for(;!a.eql(h,a.ONE);)if(f++,h=a.sqr(h),f===l)throw new Error("Cannot find square root");let g=Do<<BigInt(l-f-1),y=a.pow(u,g);l=f,u=a.sqr(y),d=a.mul(d,u),p=a.mul(p,y)}return p}}function xOe(e){return e%UJ===DJ?$J:e%MJ===LJ?wOe:e%HJ===yOe?bOe(e):FJ(e)}var vOe=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function EOe(e){let t={ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"},r=vOe.reduce((n,s)=>(n[s]="function",n),t);return sC(e,r),e}function AOe(e,t,r){if(r<yi)throw new Error("invalid exponent, negatives unsupported");if(r===yi)return e.ONE;if(r===Do)return t;let n=e.ONE,s=t;for(;r>yi;)r&Do&&(n=e.mul(n,s)),s=e.sqr(s),r>>=Do;return n}function jJ(e,t,r=!1){let n=new Array(t.length).fill(r?e.ZERO:void 0),s=t.reduce((i,a,c)=>e.is0(a)?i:(n[c]=i,e.mul(i,a)),e.ONE),o=e.inv(s);return t.reduceRight((i,a,c)=>e.is0(a)?i:(n[c]=e.mul(i,n[c]),e.mul(i,a)),o),n}function DY(e,t){let r=(e.ORDER-Do)/Xm,n=e.pow(t,r),s=e.eql(n,e.ONE),o=e.eql(n,e.ZERO),i=e.eql(n,e.neg(e.ONE));if(!s&&!o&&!i)throw new Error("invalid Legendre symbol result");return s?1:o?0:-1}function zJ(e,t){t!==void 0&&ep(t);let r=t!==void 0?t:e.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}function rh(e,t,r=!1,n={}){if(e<=yi)throw new Error("invalid field: expected ORDER > 0, got "+e);let s,o,i=!1,a;if(typeof t=="object"&&t!=null){if(n.sqrt||r)throw new Error("cannot specify opts in two arguments");let p=t;p.BITS&&(s=p.BITS),p.sqrt&&(o=p.sqrt),typeof p.isLE=="boolean"&&(r=p.isLE),typeof p.modFromBytes=="boolean"&&(i=p.modFromBytes),a=p.allowedLengths}else typeof t=="number"&&(s=t),n.sqrt&&(o=n.sqrt);let{nBitLength:c,nByteLength:l}=zJ(e,s);if(l>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let u,d=Object.freeze({ORDER:e,isLE:r,BITS:c,BYTES:l,MASK:V8(c),ZERO:yi,ONE:Do,allowedLengths:a,create:p=>aa(p,e),isValid:p=>{if(typeof p!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof p);return yi<=p&&p<e},is0:p=>p===yi,isValidNot0:p=>!d.is0(p)&&d.isValid(p),isOdd:p=>(p&Do)===Do,neg:p=>aa(-p,e),eql:(p,f)=>p===f,sqr:p=>aa(p*p,e),add:(p,f)=>aa(p+f,e),sub:(p,f)=>aa(p-f,e),mul:(p,f)=>aa(p*f,e),pow:(p,f)=>AOe(d,p,f),div:(p,f)=>aa(p*BY(f,e),e),sqrN:p=>p*p,addN:(p,f)=>p+f,subN:(p,f)=>p-f,mulN:(p,f)=>p*f,inv:p=>BY(p,e),sqrt:o||(p=>(u||(u=xOe(e)),u(d,p))),toBytes:p=>r?pk(p,l):dk(p,l),fromBytes:(p,f=!0)=>{if(a){if(!a.includes(p.length)||p.length>l)throw new Error("Field.fromBytes: expected "+a+" bytes, got "+p.length);let g=new Uint8Array(l);g.set(p,r?0:g.length-p.length),p=g}if(p.length!==l)throw new Error("Field.fromBytes: expected "+l+" bytes, got "+p.length);let h=r?VA(p):nC(p);if(i&&(h=aa(h,e)),!f&&!d.isValid(h))throw new Error("invalid field element: outside of range 0..ORDER");return h},invertBatch:p=>jJ(d,p),cmov:(p,f,h)=>h?f:p});return Object.freeze(d)}function VJ(e){if(typeof e!="bigint")throw new Error("field order must be bigint");let t=e.toString(2).length;return Math.ceil(t/8)}function qJ(e){let t=VJ(e);return t+Math.ceil(t/2)}function COe(e,t,r=!1){let n=e.length,s=VJ(t),o=qJ(t);if(n<16||n<o||n>1024)throw new Error("expected "+o+"-1024 bytes of input, got "+n);let i=r?VA(e):nC(e),a=aa(i,t-Do)+Do;return r?pk(a,s):dk(a,s)}var sy=BigInt(0),e1=BigInt(1);function qA(e,t){let r=t.negate();return e?r:t}function EO(e,t){let r=jJ(e.Fp,t.map(n=>n.Z));return t.map((n,s)=>e.fromAffine(n.toAffine(r[s])))}function WJ(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw new Error("invalid window size, expected [1.."+t+"], got W="+e)}function AO(e,t){WJ(e,t);let r=Math.ceil(t/e)+1,n=2**(e-1),s=2**e,o=V8(e),i=BigInt(e);return{windows:r,windowSize:n,mask:o,maxNumber:s,shiftBy:i}}function UY(e,t,r){let{windowSize:n,mask:s,maxNumber:o,shiftBy:i}=r,a=Number(e&s),c=e>>i;a>n&&(a-=o,c+=e1);let l=t*n,u=l+Math.abs(a)-1,d=a===0,p=a<0,f=t%2!==0;return{nextN:c,offset:u,isZero:d,isNeg:p,isNegF:f,offsetF:l}}function SOe(e,t){if(!Array.isArray(e))throw new Error("array expected");e.forEach((r,n)=>{if(!(r instanceof t))throw new Error("invalid point at index "+n)})}function IOe(e,t){if(!Array.isArray(e))throw new Error("array of scalars expected");e.forEach((r,n)=>{if(!t.isValid(r))throw new Error("invalid scalar at index "+n)})}var CO=new WeakMap,KJ=new WeakMap;function SO(e){return KJ.get(e)||1}function LY(e){if(e!==sy)throw new Error("invalid wNAF")}var zO=class{constructor(t,r){this.BASE=t.BASE,this.ZERO=t.ZERO,this.Fn=t.Fn,this.bits=r}_unsafeLadder(t,r,n=this.ZERO){let s=t;for(;r>sy;)r&e1&&(n=n.add(s)),s=s.double(),r>>=e1;return n}precomputeWindow(t,r){let{windows:n,windowSize:s}=AO(r,this.bits),o=[],i=t,a=i;for(let c=0;c<n;c++){a=i,o.push(a);for(let l=1;l<s;l++)a=a.add(i),o.push(a);i=a.double()}return o}wNAF(t,r,n){if(!this.Fn.isValid(n))throw new Error("invalid scalar");let s=this.ZERO,o=this.BASE,i=AO(t,this.bits);for(let a=0;a<i.windows;a++){let{nextN:c,offset:l,isZero:u,isNeg:d,isNegF:p,offsetF:f}=UY(n,a,i);n=c,u?o=o.add(qA(p,r[f])):s=s.add(qA(d,r[l]))}return LY(n),{p:s,f:o}}wNAFUnsafe(t,r,n,s=this.ZERO){let o=AO(t,this.bits);for(let i=0;i<o.windows&&n!==sy;i++){let{nextN:a,offset:c,isZero:l,isNeg:u}=UY(n,i,o);if(n=a,!l){let d=r[c];s=s.add(u?d.negate():d)}}return LY(n),s}getPrecomputes(t,r,n){let s=CO.get(r);return s||(s=this.precomputeWindow(r,t),t!==1&&(typeof n=="function"&&(s=n(s)),CO.set(r,s))),s}cached(t,r,n){let s=SO(t);return this.wNAF(s,this.getPrecomputes(s,t,n),r)}unsafe(t,r,n,s){let o=SO(t);return o===1?this._unsafeLadder(t,r,s):this.wNAFUnsafe(o,this.getPrecomputes(o,t,n),r,s)}createCache(t,r){WJ(r,this.bits),KJ.set(t,r),CO.delete(t)}hasCache(t){return SO(t)!==1}};function _Oe(e,t,r,n){let s=t,o=e.ZERO,i=e.ZERO;for(;r>sy||n>sy;)r&e1&&(o=o.add(s)),n&e1&&(i=i.add(s)),s=s.double(),r>>=e1,n>>=e1;return{p1:o,p2:i}}function TOe(e,t,r,n){SOe(r,e),IOe(n,t);let s=r.length,o=n.length;if(s!==o)throw new Error("arrays of points and scalars must have equal length");let i=e.ZERO,a=BJ(BigInt(s)),c=1;a>12?c=a-3:a>4?c=a-2:a>0&&(c=2);let l=V8(c),u=new Array(Number(l)+1).fill(i),d=Math.floor((t.BITS-1)/c)*c,p=i;for(let f=d;f>=0;f-=c){u.fill(i);for(let g=0;g<o;g++){let y=n[g],E=Number(y>>BigInt(f)&l);u[E]=u[E].add(r[g])}let h=i;for(let g=u.length-1,y=i;g>0;g--)y=y.add(u[g]),h=h.add(y);if(p=p.add(h),f!==0)for(let g=0;g<c;g++)p=p.double()}return p}function MY(e,t,r){if(t){if(t.ORDER!==e)throw new Error("Field.ORDER must match order: Fp == p, Fn == n");return EOe(t),t}else return rh(e,{isLE:r})}function POe(e,t,r={},n){if(n===void 0&&(n=e==="edwards"),!t||typeof t!="object")throw new Error(`expected valid ${e} CURVE object`);for(let a of["p","n","h"]){let c=t[a];if(!(typeof c=="bigint"&&c>sy))throw new Error(`CURVE.${a} must be positive bigint`)}let s=MY(t.p,r.Fp,n),o=MY(t.n,r.Fn,n),i=["Gx","Gy","a",e==="weierstrass"?"b":"d"];for(let a of i)if(!s.isValid(t[a]))throw new Error(`CURVE.${a} must be valid field element of CURVE.Fp`);return t=Object.freeze(Object.assign({},t)),{CURVE:t,Fp:s,Fn:o}}BigInt(0),BigInt(1),BigInt(2),BigInt(8),hJ("HashToScalar-");var R8=BigInt(0),Q2=BigInt(1),LA=BigInt(2);function NOe(e){return sC(e,{adjustScalarBytes:"function",powPminus2:"function"}),Object.freeze({...e})}function ROe(e){let t=NOe(e),{P:r,type:n,adjustScalarBytes:s,powPminus2:o,randomBytes:i}=t,a=n==="x25519";if(!a&&n!=="x448")throw new Error("invalid type");let c=i||n1,l=a?255:448,u=a?32:56,d=BigInt(a?9:5),p=BigInt(a?121665:39081),f=a?LA**BigInt(254):LA**BigInt(447),h=a?BigInt(8)*LA**BigInt(251)-Q2:BigInt(4)*LA**BigInt(445)-Q2,g=f+h+Q2,y=I=>aa(I,r),E=A(d);function A(I){return pk(y(I),u)}function b(I){let S=Gs("u coordinate",I,u);return a&&(S[31]&=127),y(VA(S))}function w(I){return VA(s(Gs("scalar",I,u)))}function C(I,S){let O=U(b(S),w(I));if(O===R8)throw new Error("invalid private or public key received");return A(O)}function _(I){return C(I,E)}function B(I,S,O){let x=y(I*(S-O));return S=y(S-x),O=y(O+x),{x_2:S,x_3:O}}function U(I,S){jO("u",I,R8,r),jO("scalar",S,f,g);let O=S,x=I,v=Q2,N=R8,D=I,T=Q2,L=R8;for(let q=BigInt(l-1);q>=R8;q--){let ie=O>>q&Q2;L^=ie,{x_2:v,x_3:D}=B(L,v,D),{x_2:N,x_3:T}=B(L,N,T),L=ie;let ne=v+N,Y=y(ne*ne),me=v-N,ue=y(me*me),Te=Y-ue,de=D+T,Pe=D-T,bt=y(Pe*ne),At=y(de*me),vt=bt+At,Zt=bt-At;D=y(vt*vt),T=y(x*y(Zt*Zt)),v=y(Y*ue),N=y(Te*(Y+y(p*Te)))}({x_2:v,x_3:D}=B(L,v,D)),{x_2:N,x_3:T}=B(L,N,T);let j=o(N);return y(v*j)}let k={secretKey:u,publicKey:u,seed:u},$=(I=c(u))=>(Lc(I,k.seed),I);function P(I){let S=$(I);return{secretKey:S,publicKey:_(S)}}return{keygen:P,getSharedSecret:(I,S)=>C(I,S),getPublicKey:I=>_(I),scalarMult:C,scalarMultBase:_,utils:{randomSecretKey:$,randomPrivateKey:$},GuBytes:E.slice(),lengths:k}}var OOe=BigInt(1),HY=BigInt(2),kOe=BigInt(3),BOe=BigInt(5),DOe=BigInt(8),ZJ=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffed"),UOe={p:ZJ,n:BigInt("0x1000000000000000000000000000000014def9dea2f79cd65812631a5cf5d3ed"),h:DOe,a:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffec"),d:BigInt("0x52036cee2b6ffe738cc740797779e89800700a4d4141d8ab75eb4dca135978a3"),Gx:BigInt("0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a"),Gy:BigInt("0x6666666666666666666666666666666666666666666666666666666666666658")};function LOe(e){let t=BigInt(10),r=BigInt(20),n=BigInt(40),s=BigInt(80),o=ZJ,i=e*e%o*e%o,a=Oc(i,HY,o)*i%o,c=Oc(a,OOe,o)*e%o,l=Oc(c,BOe,o)*c%o,u=Oc(l,t,o)*l%o,d=Oc(u,r,o)*u%o,p=Oc(d,n,o)*d%o,f=Oc(p,s,o)*p%o,h=Oc(f,s,o)*p%o,g=Oc(h,t,o)*l%o;return{pow_p_5_8:Oc(g,HY,o)*e%o,b2:i}}function MOe(e){return e[0]&=248,e[31]&=127,e[31]|=64,e}var HOe=rh(UOe.p,{isLE:!0}),VO=(()=>{let e=HOe.ORDER;return ROe({P:e,type:"x25519",powPminus2:t=>{let{pow_p_5_8:r,b2:n}=LOe(t);return aa(Oc(r,kOe,e)*n,e)},adjustScalarBytes:MOe})})(),$Y=(e,t)=>(e+(e>=0?t:-t)/GJ)/t;function $Oe(e,t,r){let[[n,s],[o,i]]=t,a=$Y(i*e,r),c=$Y(-s*e,r),l=e-a*n-c*o,u=-a*s-c*i,d=l<Qd,p=u<Qd;d&&(l=-l),p&&(u=-u);let f=V8(Math.ceil(BJ(r)/2))+ty;if(l<Qd||l>=f||u<Qd||u>=f)throw new Error("splitScalar (endomorphism): failed, k="+e);return{k1neg:d,k1:l,k2neg:p,k2:u}}function qO(e){if(!["compact","recovered","der"].includes(e))throw new Error('Signature format must be "compact", "recovered", or "der"');return e}function IO(e,t){let r={};for(let n of Object.keys(t))r[n]=e[n]===void 0?t[n]:e[n];return zA(r.lowS,"lowS"),zA(r.prehash,"prehash"),r.format!==void 0&&qO(r.format),r}var WO=class extends Error{constructor(t=""){super(t)}},Jd={Err:WO,_tlv:{encode:(e,t)=>{let{Err:r}=Jd;if(e<0||e>256)throw new r("tlv.encode: wrong tag");if(t.length&1)throw new r("tlv.encode: unpadded data");let n=t.length/2,s=UA(n);if(s.length/2&128)throw new r("tlv.encode: long form length too big");let o=n>127?UA(s.length/2|128):"";return UA(e)+o+s+t},decode(e,t){let{Err:r}=Jd,n=0;if(e<0||e>256)throw new r("tlv.encode: wrong tag");if(t.length<2||t[n++]!==e)throw new r("tlv.decode: wrong tlv");let s=t[n++],o=!!(s&128),i=0;if(!o)i=s;else{let c=s&127;if(!c)throw new r("tlv.decode(long): indefinite length not supported");if(c>4)throw new r("tlv.decode(long): byte length is too big");let l=t.subarray(n,n+c);if(l.length!==c)throw new r("tlv.decode: length bytes not complete");if(l[0]===0)throw new r("tlv.decode(long): zero leftmost byte");for(let u of l)i=i<<8|u;if(n+=c,i<128)throw new r("tlv.decode(long): not minimal encoding")}let a=t.subarray(n,n+i);if(a.length!==i)throw new r("tlv.decode: wrong value length");return{v:a,l:t.subarray(n+i)}}},_int:{encode(e){let{Err:t}=Jd;if(e<Qd)throw new t("integer: negative integers are not allowed");let r=UA(e);if(Number.parseInt(r[0],16)&8&&(r="00"+r),r.length&1)throw new t("unexpected DER parsing assertion: unpadded hex");return r},decode(e){let{Err:t}=Jd;if(e[0]&128)throw new t("invalid signature integer: negative");if(e[0]===0&&!(e[1]&128))throw new t("invalid signature integer: unnecessary leading zero");return nC(e)}},toSig(e){let{Err:t,_int:r,_tlv:n}=Jd,s=Gs("signature",e),{v:o,l:i}=n.decode(48,s);if(i.length)throw new t("invalid signature: left bytes after parsing");let{v:a,l:c}=n.decode(2,o),{v:l,l:u}=n.decode(2,c);if(u.length)throw new t("invalid signature: left bytes after parsing");return{r:r.decode(a),s:r.decode(l)}},hexFromSig(e){let{_tlv:t,_int:r}=Jd,n=t.encode(2,r.encode(e.r)),s=t.encode(2,r.encode(e.s)),o=n+s;return t.encode(48,o)}},Qd=BigInt(0),ty=BigInt(1),GJ=BigInt(2),MA=BigInt(3),FOe=BigInt(4);function X2(e,t){let{BYTES:r}=e,n;if(typeof t=="bigint")n=t;else{let s=Gs("private key",t);try{n=e.fromBytes(s)}catch{throw new Error(`invalid private key: expected ui8a of size ${r}, got ${typeof t}`)}}if(!e.isValidNot0(n))throw new Error("invalid private key: out of range [1..N-1]");return n}function jOe(e,t={}){let r=POe("weierstrass",e,t),{Fp:n,Fn:s}=r,o=r.CURVE,{h:i,n:a}=o;sC(t,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});let{endo:c}=t;if(c&&(!n.is0(o.a)||typeof c.beta!="bigint"||!Array.isArray(c.basises)))throw new Error('invalid endo: expected "beta": bigint and "basises": array');let l=JJ(n,s);function u(){if(!n.isOdd)throw new Error("compression is not supported: Field does not have .isOdd()")}function d(I,S,O){let{x,y:v}=S.toAffine(),N=n.toBytes(x);if(zA(O,"isCompressed"),O){u();let D=!n.isOdd(v);return Jf(YJ(D),N)}else return Jf(Uint8Array.of(4),N,n.toBytes(v))}function p(I){Qm(I,void 0,"Point");let{publicKey:S,publicKeyUncompressed:O}=l,x=I.length,v=I[0],N=I.subarray(1);if(x===S&&(v===2||v===3)){let D=n.fromBytes(N);if(!n.isValid(D))throw new Error("bad point: is not on curve, wrong x");let T=g(D),L;try{L=n.sqrt(T)}catch(q){let ie=q instanceof Error?": "+q.message:"";throw new Error("bad point: is not on curve, sqrt error"+ie)}u();let j=n.isOdd(L);return(v&1)===1!==j&&(L=n.neg(L)),{x:D,y:L}}else if(x===O&&v===4){let D=n.BYTES,T=n.fromBytes(N.subarray(0,D)),L=n.fromBytes(N.subarray(D,D*2));if(!y(T,L))throw new Error("bad point: is not on curve");return{x:T,y:L}}else throw new Error(`bad point: got length ${x}, expected compressed=${S} or uncompressed=${O}`)}let f=t.toBytes||d,h=t.fromBytes||p;function g(I){let S=n.sqr(I),O=n.mul(S,I);return n.add(n.add(O,n.mul(I,o.a)),o.b)}function y(I,S){let O=n.sqr(S),x=g(I);return n.eql(O,x)}if(!y(o.Gx,o.Gy))throw new Error("bad curve params: generator point");let E=n.mul(n.pow(o.a,MA),FOe),A=n.mul(n.sqr(o.b),BigInt(27));if(n.is0(n.add(E,A)))throw new Error("bad curve params: a or b");function b(I,S,O=!1){if(!n.isValid(S)||O&&n.is0(S))throw new Error(`bad point coordinate ${I}`);return S}function w(I){if(!(I instanceof k))throw new Error("ProjectivePoint expected")}function C(I){if(!c||!c.basises)throw new Error("no endo");return $Oe(I,c.basises,s.ORDER)}let _=kY((I,S)=>{let{X:O,Y:x,Z:v}=I;if(n.eql(v,n.ONE))return{x:O,y:x};let N=I.is0();S==null&&(S=N?n.ONE:n.inv(v));let D=n.mul(O,S),T=n.mul(x,S),L=n.mul(v,S);if(N)return{x:n.ZERO,y:n.ZERO};if(!n.eql(L,n.ONE))throw new Error("invZ was invalid");return{x:D,y:T}}),B=kY(I=>{if(I.is0()){if(t.allowInfinityPoint&&!n.is0(I.Y))return;throw new Error("bad point: ZERO")}let{x:S,y:O}=I.toAffine();if(!n.isValid(S)||!n.isValid(O))throw new Error("bad point: x or y not field elements");if(!y(S,O))throw new Error("bad point: equation left != right");if(!I.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});function U(I,S,O,x,v){return O=new k(n.mul(O.X,I),O.Y,O.Z),S=qA(x,S),O=qA(v,O),S.add(O)}class k{constructor(S,O,x){this.X=b("x",S),this.Y=b("y",O,!0),this.Z=b("z",x),Object.freeze(this)}static CURVE(){return o}static fromAffine(S){let{x:O,y:x}=S||{};if(!S||!n.isValid(O)||!n.isValid(x))throw new Error("invalid affine point");if(S instanceof k)throw new Error("projective point not allowed");return n.is0(O)&&n.is0(x)?k.ZERO:new k(O,x,n.ONE)}static fromBytes(S){let O=k.fromAffine(h(Qm(S,void 0,"point")));return O.assertValidity(),O}static fromHex(S){return k.fromBytes(Gs("pointHex",S))}get x(){return this.toAffine().x}get y(){return this.toAffine().y}precompute(S=8,O=!0){return P.createCache(this,S),O||this.multiply(MA),this}assertValidity(){B(this)}hasEvenY(){let{y:S}=this.toAffine();if(!n.isOdd)throw new Error("Field doesn't support isOdd");return!n.isOdd(S)}equals(S){w(S);let{X:O,Y:x,Z:v}=this,{X:N,Y:D,Z:T}=S,L=n.eql(n.mul(O,T),n.mul(N,v)),j=n.eql(n.mul(x,T),n.mul(D,v));return L&&j}negate(){return new k(this.X,n.neg(this.Y),this.Z)}double(){let{a:S,b:O}=o,x=n.mul(O,MA),{X:v,Y:N,Z:D}=this,T=n.ZERO,L=n.ZERO,j=n.ZERO,q=n.mul(v,v),ie=n.mul(N,N),ne=n.mul(D,D),Y=n.mul(v,N);return Y=n.add(Y,Y),j=n.mul(v,D),j=n.add(j,j),T=n.mul(S,j),L=n.mul(x,ne),L=n.add(T,L),T=n.sub(ie,L),L=n.add(ie,L),L=n.mul(T,L),T=n.mul(Y,T),j=n.mul(x,j),ne=n.mul(S,ne),Y=n.sub(q,ne),Y=n.mul(S,Y),Y=n.add(Y,j),j=n.add(q,q),q=n.add(j,q),q=n.add(q,ne),q=n.mul(q,Y),L=n.add(L,q),ne=n.mul(N,D),ne=n.add(ne,ne),q=n.mul(ne,Y),T=n.sub(T,q),j=n.mul(ne,ie),j=n.add(j,j),j=n.add(j,j),new k(T,L,j)}add(S){w(S);let{X:O,Y:x,Z:v}=this,{X:N,Y:D,Z:T}=S,L=n.ZERO,j=n.ZERO,q=n.ZERO,ie=o.a,ne=n.mul(o.b,MA),Y=n.mul(O,N),me=n.mul(x,D),ue=n.mul(v,T),Te=n.add(O,x),de=n.add(N,D);Te=n.mul(Te,de),de=n.add(Y,me),Te=n.sub(Te,de),de=n.add(O,v);let Pe=n.add(N,T);return de=n.mul(de,Pe),Pe=n.add(Y,ue),de=n.sub(de,Pe),Pe=n.add(x,v),L=n.add(D,T),Pe=n.mul(Pe,L),L=n.add(me,ue),Pe=n.sub(Pe,L),q=n.mul(ie,de),L=n.mul(ne,ue),q=n.add(L,q),L=n.sub(me,q),q=n.add(me,q),j=n.mul(L,q),me=n.add(Y,Y),me=n.add(me,Y),ue=n.mul(ie,ue),de=n.mul(ne,de),me=n.add(me,ue),ue=n.sub(Y,ue),ue=n.mul(ie,ue),de=n.add(de,ue),Y=n.mul(me,de),j=n.add(j,Y),Y=n.mul(Pe,de),L=n.mul(Te,L),L=n.sub(L,Y),Y=n.mul(Te,me),q=n.mul(Pe,q),q=n.add(q,Y),new k(L,j,q)}subtract(S){return this.add(S.negate())}is0(){return this.equals(k.ZERO)}multiply(S){let{endo:O}=t;if(!s.isValidNot0(S))throw new Error("invalid scalar: out of range");let x,v,N=D=>P.cached(this,D,T=>EO(k,T));if(O){let{k1neg:D,k1:T,k2neg:L,k2:j}=C(S),{p:q,f:ie}=N(T),{p:ne,f:Y}=N(j);v=ie.add(Y),x=U(O.beta,q,ne,D,L)}else{let{p:D,f:T}=N(S);x=D,v=T}return EO(k,[x,v])[0]}multiplyUnsafe(S){let{endo:O}=t,x=this;if(!s.isValid(S))throw new Error("invalid scalar: out of range");if(S===Qd||x.is0())return k.ZERO;if(S===ty)return x;if(P.hasCache(this))return this.multiply(S);if(O){let{k1neg:v,k1:N,k2neg:D,k2:T}=C(S),{p1:L,p2:j}=_Oe(k,x,N,T);return U(O.beta,L,j,v,D)}else return P.unsafe(x,S)}multiplyAndAddUnsafe(S,O,x){let v=this.multiplyUnsafe(O).add(S.multiplyUnsafe(x));return v.is0()?void 0:v}toAffine(S){return _(this,S)}isTorsionFree(){let{isTorsionFree:S}=t;return i===ty?!0:S?S(k,this):P.unsafe(this,a).is0()}clearCofactor(){let{clearCofactor:S}=t;return i===ty?this:S?S(k,this):this.multiplyUnsafe(i)}isSmallOrder(){return this.multiplyUnsafe(i).is0()}toBytes(S=!0){return zA(S,"isCompressed"),this.assertValidity(),f(k,this,S)}toHex(S=!0){return ey(this.toBytes(S))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}get px(){return this.X}get py(){return this.X}get pz(){return this.Z}toRawBytes(S=!0){return this.toBytes(S)}_setWindowSize(S){this.precompute(S)}static normalizeZ(S){return EO(k,S)}static msm(S,O){return TOe(k,s,S,O)}static fromPrivateKey(S){return k.BASE.multiply(X2(s,S))}}k.BASE=new k(o.Gx,o.Gy,n.ONE),k.ZERO=new k(n.ZERO,n.ONE,n.ZERO),k.Fp=n,k.Fn=s;let $=s.BITS,P=new zO(k,t.endo?Math.ceil($/2):$);return k.BASE.precompute(8),k}function YJ(e){return Uint8Array.of(e?2:3)}function JJ(e,t){return{secretKey:t.BYTES,publicKey:1+e.BYTES,publicKeyUncompressed:1+2*e.BYTES,publicKeyHasPrefix:!0,signature:2*t.BYTES}}function zOe(e,t={}){let{Fn:r}=e,n=t.randomBytes||n1,s=Object.assign(JJ(e.Fp,r),{seed:qJ(r.ORDER)});function o(p){try{return!!X2(r,p)}catch{return!1}}function i(p,f){let{publicKey:h,publicKeyUncompressed:g}=s;try{let y=p.length;return f===!0&&y!==h||f===!1&&y!==g?!1:!!e.fromBytes(p)}catch{return!1}}function a(p=n(s.seed)){return COe(Qm(p,s.seed,"seed"),r.ORDER)}function c(p,f=!0){return e.BASE.multiply(X2(r,p)).toBytes(f)}function l(p){let f=a(p);return{secretKey:f,publicKey:c(f)}}function u(p){if(typeof p=="bigint")return!1;if(p instanceof e)return!0;let{secretKey:f,publicKey:h,publicKeyUncompressed:g}=s;if(r.allowedLengths||f===h)return;let y=Gs("key",p).length;return y===h||y===g}function d(p,f,h=!0){if(u(p)===!0)throw new Error("first arg must be private key");if(u(f)===!1)throw new Error("second arg must be public key");let g=X2(r,p);return e.fromHex(f).multiply(g).toBytes(h)}return Object.freeze({getPublicKey:c,getSharedSecret:d,keygen:l,Point:e,utils:{isValidSecretKey:o,isValidPublicKey:i,randomSecretKey:a,isValidPrivateKey:o,randomPrivateKey:a,normPrivateKeyToScalar:p=>X2(r,p),precompute(p=8,f=e.BASE){return f.precompute(p,!1)}},lengths:s})}function VOe(e,t,r={}){JA(t),sC(r,{},{hmac:"function",lowS:"boolean",randomBytes:"function",bits2int:"function",bits2int_modN:"function"});let n=r.randomBytes||n1,s=r.hmac||((O,...x)=>tC(t,O,Jf(...x))),{Fp:o,Fn:i}=e,{ORDER:a,BITS:c}=i,{keygen:l,getPublicKey:u,getSharedSecret:d,utils:p,lengths:f}=zOe(e,r),h={prehash:!1,lowS:typeof r.lowS=="boolean"?r.lowS:!1,format:void 0,extraEntropy:!1},g="compact";function y(O){let x=a>>ty;return O>x}function E(O,x){if(!i.isValidNot0(x))throw new Error(`invalid signature ${O}: out of range 1..Point.Fn.ORDER`);return x}function A(O,x){qO(x);let v=f.signature,N=x==="compact"?v:x==="recovered"?v+1:void 0;return Qm(O,N,`${x} signature`)}class b{constructor(x,v,N){this.r=E("r",x),this.s=E("s",v),N!=null&&(this.recovery=N),Object.freeze(this)}static fromBytes(x,v=g){A(x,v);let N;if(v==="der"){let{r:j,s:q}=Jd.toSig(Qm(x));return new b(j,q)}v==="recovered"&&(N=x[0],v="compact",x=x.subarray(1));let D=i.BYTES,T=x.subarray(0,D),L=x.subarray(D,D*2);return new b(i.fromBytes(T),i.fromBytes(L),N)}static fromHex(x,v){return this.fromBytes($A(x),v)}addRecoveryBit(x){return new b(this.r,this.s,x)}recoverPublicKey(x){let v=o.ORDER,{r:N,s:D,recovery:T}=this;if(T==null||![0,1,2,3].includes(T))throw new Error("recovery id invalid");if(a*GJ<v&&T>1)throw new Error("recovery id is ambiguous for h>1 curve");let L=T===2||T===3?N+a:N;if(!o.isValid(L))throw new Error("recovery id 2 or 3 invalid");let j=o.toBytes(L),q=e.fromBytes(Jf(YJ((T&1)===0),j)),ie=i.inv(L),ne=C(Gs("msgHash",x)),Y=i.create(-ne*ie),me=i.create(D*ie),ue=e.BASE.multiplyUnsafe(Y).add(q.multiplyUnsafe(me));if(ue.is0())throw new Error("point at infinify");return ue.assertValidity(),ue}hasHighS(){return y(this.s)}toBytes(x=g){if(qO(x),x==="der")return $A(Jd.hexFromSig(this));let v=i.toBytes(this.r),N=i.toBytes(this.s);if(x==="recovered"){if(this.recovery==null)throw new Error("recovery bit must be present");return Jf(Uint8Array.of(this.recovery),v,N)}return Jf(v,N)}toHex(x){return ey(this.toBytes(x))}assertValidity(){}static fromCompact(x){return b.fromBytes(Gs("sig",x),"compact")}static fromDER(x){return b.fromBytes(Gs("sig",x),"der")}normalizeS(){return this.hasHighS()?new b(this.r,i.neg(this.s),this.recovery):this}toDERRawBytes(){return this.toBytes("der")}toDERHex(){return ey(this.toBytes("der"))}toCompactRawBytes(){return this.toBytes("compact")}toCompactHex(){return ey(this.toBytes("compact"))}}let w=r.bits2int||function(O){if(O.length>8192)throw new Error("input is too large");let x=nC(O),v=O.length*8-c;return v>0?x>>BigInt(v):x},C=r.bits2int_modN||function(O){return i.create(w(O))},_=V8(c);function B(O){return jO("num < 2^"+c,O,Qd,_),i.toBytes(O)}function U(O,x){return Qm(O,void 0,"message"),x?Qm(t(O),void 0,"prehashed message"):O}function k(O,x,v){if(["recovered","canonical"].some(me=>me in v))throw new Error("sign() legacy options not supported");let{lowS:N,prehash:D,extraEntropy:T}=IO(v,h);O=U(O,D);let L=C(O),j=X2(i,x),q=[B(j),B(L)];if(T!=null&&T!==!1){let me=T===!0?n(f.secretKey):T;q.push(Gs("extraEntropy",me))}let ie=Jf(...q),ne=L;function Y(me){let ue=w(me);if(!i.isValidNot0(ue))return;let Te=i.inv(ue),de=e.BASE.multiply(ue).toAffine(),Pe=i.create(de.x);if(Pe===Qd)return;let bt=i.create(Te*i.create(ne+Pe*j));if(bt===Qd)return;let At=(de.x===Pe?0:2)|Number(de.y&ty),vt=bt;return N&&y(bt)&&(vt=i.neg(bt),At^=1),new b(Pe,vt,At)}return{seed:ie,k2sig:Y}}function $(O,x,v={}){O=Gs("message",O);let{seed:N,k2sig:D}=k(O,x,v);return mOe(t.outputLen,i.BYTES,s)(N,D)}function P(O){let x,v=typeof O=="string"||YA(O),N=!v&&O!==null&&typeof O=="object"&&typeof O.r=="bigint"&&typeof O.s=="bigint";if(!v&&!N)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");if(N)x=new b(O.r,O.s);else if(v){try{x=b.fromBytes(Gs("sig",O),"der")}catch(D){if(!(D instanceof Jd.Err))throw D}if(!x)try{x=b.fromBytes(Gs("sig",O),"compact")}catch{return!1}}return x||!1}function I(O,x,v,N={}){let{lowS:D,prehash:T,format:L}=IO(N,h);if(v=Gs("publicKey",v),x=U(Gs("message",x),T),"strict"in N)throw new Error("options.strict was renamed to lowS");let j=L===void 0?P(O):b.fromBytes(Gs("sig",O),L);if(j===!1)return!1;try{let q=e.fromBytes(v);if(D&&j.hasHighS())return!1;let{r:ie,s:ne}=j,Y=C(x),me=i.inv(ne),ue=i.create(Y*me),Te=i.create(ie*me),de=e.BASE.multiplyUnsafe(ue).add(q.multiplyUnsafe(Te));return de.is0()?!1:i.create(de.x)===ie}catch{return!1}}function S(O,x,v={}){let{prehash:N}=IO(v,h);return x=U(x,N),b.fromBytes(O,"recovered").recoverPublicKey(x).toBytes()}return Object.freeze({keygen:l,getPublicKey:u,getSharedSecret:d,utils:p,lengths:f,Point:e,sign:$,verify:I,recoverPublicKey:S,Signature:b,hash:t})}function qOe(e){let t={a:e.a,b:e.b,p:e.Fp.ORDER,n:e.n,h:e.h,Gx:e.Gx,Gy:e.Gy},r=e.Fp,n=e.allowedPrivateKeyLengths?Array.from(new Set(e.allowedPrivateKeyLengths.map(i=>Math.ceil(i/2)))):void 0,s=rh(t.n,{BITS:e.nBitLength,allowedLengths:n,modFromBytes:e.wrapPrivateKey}),o={Fp:r,Fn:s,allowInfinityPoint:e.allowInfinityPoint,endo:e.endo,isTorsionFree:e.isTorsionFree,clearCofactor:e.clearCofactor,fromBytes:e.fromBytes,toBytes:e.toBytes};return{CURVE:t,curveOpts:o}}function WOe(e){let{CURVE:t,curveOpts:r}=qOe(e),n={hmac:e.hmac,randomBytes:e.randomBytes,lowS:e.lowS,bits2int:e.bits2int,bits2int_modN:e.bits2int_modN};return{CURVE:t,curveOpts:r,hash:e.hash,ecdsaOpts:n}}function KOe(e,t){let r=t.Point;return Object.assign({},t,{ProjectivePoint:r,CURVE:Object.assign({},e,zJ(r.Fn.ORDER,r.Fn.BITS))})}function ZOe(e){let{CURVE:t,curveOpts:r,hash:n,ecdsaOpts:s}=WOe(e),o=jOe(t,r),i=VOe(o,n,s);return KOe(e,i)}function KO(e,t){let r=n=>ZOe({...e,hash:n});return{...r(t),create:r}}var QJ={p:BigInt("0xffffffff00000001000000000000000000000000ffffffffffffffffffffffff"),n:BigInt("0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551"),h:BigInt(1),a:BigInt("0xffffffff00000001000000000000000000000000fffffffffffffffffffffffc"),b:BigInt("0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b"),Gx:BigInt("0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296"),Gy:BigInt("0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5")},XJ={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000ffffffff"),n:BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffc7634d81f4372ddf581a0db248b0a77aecec196accc52973"),h:BigInt(1),a:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000fffffffc"),b:BigInt("0xb3312fa7e23ee7e4988e056be3f82d19181d9c6efe8141120314088f5013875ac656398d8a2ed19d2a85c8edd3ec2aef"),Gx:BigInt("0xaa87ca22be8b05378eb1c71ef320ad746e1d3b628ba79b9859f741e082542a385502f25dbf55296c3a545e3872760ab7"),Gy:BigInt("0x3617de4a96262c6f5d9e98bf9292dc29f8f41dbd289a147ce9da3113b5f0b8c00a60b1ce1d7e819d7a431d7c90ea0e5f")},eQ={p:BigInt("0x1ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),n:BigInt("0x01fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffa51868783bf2f966b7fcc0148f709a5d03bb5c9b8899c47aebb6fb71e91386409"),h:BigInt(1),a:BigInt("0x1fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc"),b:BigInt("0x0051953eb9618e1c9a1f929a21a0b68540eea2da725b99b315f3b8b489918ef109e156193951ec7e937b1652c0bd3bb1bf073573df883d2c34f1ef451fd46b503f00"),Gx:BigInt("0x00c6858e06b70404e9cd9e3ecb662395b4429c648139053fb521f828af606b4d3dbaa14b5e77efe75928fe1dc127a2ffa8de3348b3c1856a429bf97e7e31c2e5bd66"),Gy:BigInt("0x011839296a789a3bc0045c8a5fb42c7d1bd998f54449579b446817afbd17273e662c97ee72995ef42640c550b9013fad0761353c7086a272c24088be94769fd16650")},GOe=rh(QJ.p),YOe=rh(XJ.p),JOe=rh(eQ.p),QOe=KO({...QJ,Fp:GOe,lowS:!1},QA);KO({...XJ,Fp:YOe,lowS:!1},fRe),KO({...eQ,Fp:JOe,lowS:!1,allowedPrivateKeyLengths:[130,131,132]},pRe);var XOe=QOe,tQ="base10",Ys="base16",Js="base64pad",np="base64url",q8="utf8",rQ=0,$c=1,oy=2,eke=0,FY=1,B8=12,hk=32;function nQ(){let e=VO.utils.randomPrivateKey(),t=VO.getPublicKey(e);return{privateKey:Xt(e,Ys),publicKey:Xt(t,Ys)}}function oC(){let e=n1(hk);return Xt(e,Ys)}function sQ(e,t){let r=VO.getSharedSecret(Nr(e,Ys),Nr(t,Ys)),n=fOe(rC,r,void 0,void 0,hk);return Xt(n,Ys)}function iy(e){let t=rC(Nr(e,Ys));return Xt(t,Ys)}function wi(e){let t=rC(Nr(e,q8));return Xt(t,Ys)}function oQ(e){return Nr(`${e}`,tQ)}function eh(e){return Number(Xt(e,tQ))}function iQ(e){return e.replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function aQ(e){let t=e.replace(/-/g,"+").replace(/_/g,"/"),r=(4-t.length%4)%4;return t+"=".repeat(r)}function cQ(e){let t=oQ(typeof e.type<"u"?e.type:rQ);if(eh(t)===$c&&typeof e.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");let r=typeof e.senderPublicKey<"u"?Nr(e.senderPublicKey,Ys):void 0,n=typeof e.iv<"u"?Nr(e.iv,Ys):n1(B8),s=Nr(e.symKey,Ys),o=OJ(s,n).encrypt(Nr(e.message,q8)),i=pQ({type:t,sealed:o,iv:n,senderPublicKey:r});return e.encoding===np?iQ(i):i}function lQ(e){let t=Nr(e.symKey,Ys),{sealed:r,iv:n}=ay({encoded:e.encoded,encoding:e.encoding}),s=OJ(t,n).decrypt(r);if(s===null)throw new Error("Failed to decrypt");return Xt(s,q8)}function uQ(e,t){let r=oQ(oy),n=n1(B8),s=Nr(e,q8),o=pQ({type:r,sealed:s,iv:n});return t===np?iQ(o):o}function dQ(e,t){let{sealed:r}=ay({encoded:e,encoding:t});return Xt(r,q8)}function pQ(e){if(eh(e.type)===oy)return Xt(ia([e.type,e.sealed]),Js);if(eh(e.type)===$c){if(typeof e.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");return Xt(ia([e.type,e.senderPublicKey,e.iv,e.sealed]),Js)}return Xt(ia([e.type,e.iv,e.sealed]),Js)}function ay(e){let t=(e.encoding||Js)===np?aQ(e.encoded):e.encoded,r=Nr(t,Js),n=r.slice(eke,FY),s=FY;if(eh(n)===$c){let c=s+hk,l=c+B8,u=r.slice(s,c),d=r.slice(c,l),p=r.slice(l);return{type:n,sealed:p,iv:d,senderPublicKey:u}}if(eh(n)===oy){let c=r.slice(s),l=n1(B8);return{type:n,sealed:c,iv:l}}let o=s+B8,i=r.slice(s,o),a=r.slice(o);return{type:n,sealed:a,iv:i}}function fQ(e,t){let r=ay({encoded:e,encoding:t?.encoding});return mk({type:eh(r.type),senderPublicKey:typeof r.senderPublicKey<"u"?Xt(r.senderPublicKey,Ys):void 0,receiverPublicKey:t?.receiverPublicKey})}function mk(e){let t=e?.type||rQ;if(t===$c){if(typeof e?.senderPublicKey>"u")throw new Error("missing sender public key");if(typeof e?.receiverPublicKey>"u")throw new Error("missing receiver public key")}return{type:t,senderPublicKey:e?.senderPublicKey,receiverPublicKey:e?.receiverPublicKey}}function gk(e){return e.type===$c&&typeof e.senderPublicKey=="string"&&typeof e.receiverPublicKey=="string"}function yk(e){return e.type===oy}function tke(e){let t=Buffer.from(e.x,"base64"),r=Buffer.from(e.y,"base64");return ia([new Uint8Array([4]),t,r])}function hQ(e,t){let[r,n,s]=e.split("."),o=Buffer.from(aQ(s),"base64");if(o.length!==64)throw new Error("Invalid signature length");let i=o.slice(0,32),a=o.slice(32,64),c=`${r}.${n}`,l=rC(c),u=tke(t);if(!XOe.verify(ia([i,a]),l,u))throw new Error("Invalid signature");return Ul(e).payload}var rke="irn";function W8(e){return e?.relay||{protocol:rke}}function s1(e){let t=CA[e];if(typeof t>"u")throw new Error(`Relay Protocol not supported: ${e}`);return t}var nke=Object.defineProperty,ske=Object.defineProperties,oke=Object.getOwnPropertyDescriptors,jY=Object.getOwnPropertySymbols,ike=Object.prototype.hasOwnProperty,ake=Object.prototype.propertyIsEnumerable,zY=(e,t,r)=>t in e?nke(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,_O=(e,t)=>{for(var r in t||(t={}))ike.call(t,r)&&zY(e,r,t[r]);if(jY)for(var r of jY(t))ake.call(t,r)&&zY(e,r,t[r]);return e},cke=(e,t)=>ske(e,oke(t));function lke(e,t="-"){let r={},n="relay"+t;return Object.keys(e).forEach(s=>{if(s.startsWith(n)){let o=s.replace(n,""),i=e[s];r[o]=i}}),r}function wk(e){if(!e.includes("wc:")){let l=aJ(e);l!=null&&l.includes("wc:")&&(e=l)}e=e.includes("wc://")?e.replace("wc://",""):e,e=e.includes("wc:")?e.replace("wc:",""):e;let t=e.indexOf(":"),r=e.indexOf("?")!==-1?e.indexOf("?"):void 0,n=e.substring(0,t),s=e.substring(t+1,r).split("@"),o=typeof r<"u"?e.substring(r):"",i=new URLSearchParams(o),a=Object.fromEntries(i.entries()),c=typeof a.methods=="string"?a.methods.split(","):void 0;return{protocol:n,topic:uke(s[0]),version:parseInt(s[1],10),symKey:a.symKey,relay:lke(a),methods:c,expiryTimestamp:a.expiryTimestamp?parseInt(a.expiryTimestamp,10):void 0}}function uke(e){return e.startsWith("//")?e.substring(2):e}function dke(e,t="-"){let r="relay",n={};return Object.keys(e).forEach(s=>{let o=s,i=r+t+o;e[o]&&(n[i]=e[o])}),n}function bk(e){let t=new URLSearchParams,r=_O(_O(cke(_O({},dke(e.relay)),{symKey:e.symKey}),e.expiryTimestamp&&{expiryTimestamp:e.expiryTimestamp.toString()}),e.methods&&{methods:e.methods.join(",")});return Object.entries(r).sort(([n],[s])=>n.localeCompare(s)).forEach(([n,s])=>{s!==void 0&&t.append(n,String(s))}),`${e.protocol}:${e.topic}@${e.version}?${t}`}function K8(e,t,r){return`${e}?wc_ev=${r}&topic=${t}`}var pke=Object.defineProperty,fke=Object.defineProperties,hke=Object.getOwnPropertyDescriptors,VY=Object.getOwnPropertySymbols,mke=Object.prototype.hasOwnProperty,gke=Object.prototype.propertyIsEnumerable,qY=(e,t,r)=>t in e?pke(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,yke=(e,t)=>{for(var r in t||(t={}))mke.call(t,r)&&qY(e,r,t[r]);if(VY)for(var r of VY(t))gke.call(t,r)&&qY(e,r,t[r]);return e},wke=(e,t)=>fke(e,hke(t));function cy(e){let t=[];return e.forEach(r=>{let[n,s]=r.split(":");t.push(`${n}:${s}`)}),t}function xk(e){let t=[];return Object.values(e).forEach(r=>{t.push(...cy(r.accounts))}),[...new Set(t)]}function mQ(e){let t=[];return Object.values(e).forEach(r=>{t.push(...r.methods)}),[...new Set(t)]}function gQ(e){let t=[];return Object.values(e).forEach(r=>{t.push(...r.events)}),[...new Set(t)]}function bke(e,t){let r=[];return Object.values(e).forEach(n=>{cy(n.accounts).includes(t)&&r.push(...n.methods)}),r}function xke(e,t){let r=[];return Object.values(e).forEach(n=>{cy(n.accounts).includes(t)&&r.push(...n.events)}),r}function Z8(e){return e.includes(":")}function o1(e){return Z8(e)?e.split(":")[0]:e}function WY(e){var t,r,n;let s={};if(!qa(e))return s;for(let[o,i]of Object.entries(e)){let a=Z8(o)?[o]:i.chains,c=i.methods||[],l=i.events||[],u=o1(o);s[u]=wke(yke({},s[u]),{chains:Bc(a,(t=s[u])==null?void 0:t.chains),methods:Bc(c,(r=s[u])==null?void 0:r.methods),events:Bc(l,(n=s[u])==null?void 0:n.events)})}return s}function vke(e){let t={};return e?.forEach(r=>{var n;let[s,o]=r.split(":");t[s]||(t[s]={accounts:[],chains:[],events:[],methods:[]}),t[s].accounts.push(r),(n=t[s].chains)==null||n.push(`${s}:${o}`)}),t}function vk(e,t){t=t.map(n=>n.replace("did:pkh:",""));let r=vke(t);for(let[n,s]of Object.entries(r))s.methods?s.methods=Bc(s.methods,e):s.methods=e,s.events=["chainChanged","accountsChanged"];return r}function yQ(e,t){var r,n,s,o,i,a;let c=WY(e),l=WY(t),u={},d=Object.keys(c).concat(Object.keys(l));for(let p of d)u[p]={chains:Bc((r=c[p])==null?void 0:r.chains,(n=l[p])==null?void 0:n.chains),methods:Bc((s=c[p])==null?void 0:s.methods,(o=l[p])==null?void 0:o.methods),events:Bc((i=c[p])==null?void 0:i.events,(a=l[p])==null?void 0:a.events)};return u}var Eke={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},Ake={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function Ae(e,t){let{message:r,code:n}=Ake[e];return{message:t?`${r} ${t}`:r,code:n}}function br(e,t){let{message:r,code:n}=Eke[e];return{message:t?`${r} ${t}`:r,code:n}}function Uo(e,t){return Array.isArray(e)?typeof t<"u"&&e.length?e.every(t):!0:!1}function qa(e){return Object.getPrototypeOf(e)===Object.prototype&&Object.keys(e).length}function In(e){return typeof e>"u"}function wn(e,t){return t&&In(e)?!0:typeof e=="string"&&!!e.trim().length}function Ek(e,t){return t&&In(e)?!0:typeof e=="number"&&!isNaN(e)}function wQ(e,t){let{requiredNamespaces:r}=t,n=Object.keys(e.namespaces),s=Object.keys(r),o=!0;return Jm(s,n)?(n.forEach(i=>{let{accounts:a,methods:c,events:l}=e.namespaces[i],u=cy(a),d=r[i];(!Jm(JY(i,d),u)||!Jm(d.methods,c)||!Jm(d.events,l))&&(o=!1)}),o):!1}function WA(e){return wn(e,!1)&&e.includes(":")?e.split(":").length===2:!1}function Cke(e){if(wn(e,!1)&&e.includes(":")){let t=e.split(":");if(t.length===3){let r=t[0]+":"+t[1];return!!t[2]&&WA(r)}}return!1}function bQ(e){function t(r){try{return typeof new URL(r)<"u"}catch{return!1}}try{if(wn(e,!1)){if(t(e))return!0;let r=aJ(e);return t(r)}}catch{}return!1}function xQ(e){var t;return(t=e?.proposer)==null?void 0:t.publicKey}function vQ(e){return e?.topic}function EQ(e,t){let r=null;return wn(e?.publicKey,!1)||(r=Ae("MISSING_OR_INVALID",`${t} controller public key should be a string`)),r}function KY(e){let t=!0;return Uo(e)?e.length&&(t=e.every(r=>wn(r,!1))):t=!1,t}function Ske(e,t,r){let n=null;return Uo(t)&&t.length?t.forEach(s=>{n||WA(s)||(n=br("UNSUPPORTED_CHAINS",`${r}, chain ${s} should be a string and conform to "namespace:chainId" format`))}):WA(e)||(n=br("UNSUPPORTED_CHAINS",`${r}, chains must be defined as "namespace:chainId" e.g. "eip155:1": {...} in the namespace key OR as an array of CAIP-2 chainIds e.g. eip155: { chains: ["eip155:1", "eip155:5"] }`)),n}function Ike(e,t,r){let n=null;return Object.entries(e).forEach(([s,o])=>{if(n)return;let i=Ske(s,JY(s,o),`${t} ${r}`);i&&(n=i)}),n}function _ke(e,t){let r=null;return Uo(e)?e.forEach(n=>{r||Cke(n)||(r=br("UNSUPPORTED_ACCOUNTS",`${t}, account ${n} should be a string and conform to "namespace:chainId:address" format`))}):r=br("UNSUPPORTED_ACCOUNTS",`${t}, accounts should be an array of strings conforming to "namespace:chainId:address" format`),r}function Tke(e,t){let r=null;return Object.values(e).forEach(n=>{if(r)return;let s=_ke(n?.accounts,`${t} namespace`);s&&(r=s)}),r}function Pke(e,t){let r=null;return KY(e?.methods)?KY(e?.events)||(r=br("UNSUPPORTED_EVENTS",`${t}, events should be an array of strings or empty array for no events`)):r=br("UNSUPPORTED_METHODS",`${t}, methods should be an array of strings or empty array for no methods`),r}function AQ(e,t){let r=null;return Object.values(e).forEach(n=>{if(r)return;let s=Pke(n,`${t}, namespace`);s&&(r=s)}),r}function CQ(e,t,r){let n=null;if(e&&qa(e)){let s=AQ(e,t);s&&(n=s);let o=Ike(e,t,r);o&&(n=o)}else n=Ae("MISSING_OR_INVALID",`${t}, ${r} should be an object with data`);return n}function iC(e,t){let r=null;if(e&&qa(e)){let n=AQ(e,t);n&&(r=n);let s=Tke(e,t);s&&(r=s)}else r=Ae("MISSING_OR_INVALID",`${t}, namespaces should be an object with data`);return r}function Ak(e){return wn(e.protocol,!0)}function SQ(e,t){let r=!1;return t&&!e?r=!0:e&&Uo(e)&&e.length&&e.forEach(n=>{r=Ak(n)}),r}function IQ(e){return typeof e=="number"}function Qs(e){return typeof e<"u"&&typeof e!==null}function _Q(e){return!(!e||typeof e!="object"||!e.code||!Ek(e.code,!1)||!e.message||!wn(e.message,!1))}function TQ(e){return!(In(e)||!wn(e.method,!1))}function PQ(e){return!(In(e)||In(e.result)&&In(e.error)||!Ek(e.id,!1)||!wn(e.jsonrpc,!1))}function NQ(e){return!(In(e)||!wn(e.name,!1))}function Ck(e,t){return!(!WA(t)||!xk(e).includes(t))}function RQ(e,t,r){return wn(r,!1)?bke(e,t).includes(r):!1}function OQ(e,t,r){return wn(r,!1)?xke(e,t).includes(r):!1}function Sk(e,t,r){let n=null,s=Nke(e),o=Rke(t),i=Object.keys(s),a=Object.keys(o),c=ZY(Object.keys(e)),l=ZY(Object.keys(t)),u=c.filter(d=>!l.includes(d));return u.length&&(n=Ae("NON_CONFORMING_NAMESPACES",`${r} namespaces keys don't satisfy requiredNamespaces.
      Required: ${u.toString()}
      Received: ${Object.keys(t).toString()}`)),Jm(i,a)||(n=Ae("NON_CONFORMING_NAMESPACES",`${r} namespaces chains don't satisfy required namespaces.
      Required: ${i.toString()}
      Approved: ${a.toString()}`)),Object.keys(t).forEach(d=>{if(!d.includes(":")||n)return;let p=cy(t[d].accounts);p.includes(d)||(n=Ae("NON_CONFORMING_NAMESPACES",`${r} namespaces accounts don't satisfy namespace accounts for ${d}
        Required: ${d}
        Approved: ${p.toString()}`))}),i.forEach(d=>{n||(Jm(s[d].methods,o[d].methods)?Jm(s[d].events,o[d].events)||(n=Ae("NON_CONFORMING_NAMESPACES",`${r} namespaces events don't satisfy namespace events for ${d}`)):n=Ae("NON_CONFORMING_NAMESPACES",`${r} namespaces methods don't satisfy namespace methods for ${d}`))}),n}function Nke(e){let t={};return Object.keys(e).forEach(r=>{var n;r.includes(":")?t[r]=e[r]:(n=e[r].chains)==null||n.forEach(s=>{t[s]={methods:e[r].methods,events:e[r].events}})}),t}function ZY(e){return[...new Set(e.map(t=>t.includes(":")?t.split(":")[0]:t))]}function Rke(e){let t={};return Object.keys(e).forEach(r=>{r.includes(":")?t[r]=e[r]:cy(e[r].accounts)?.forEach(s=>{t[s]={accounts:e[r].accounts.filter(o=>o.includes(`${s}:`)),methods:e[r].methods,events:e[r].events}})}),t}function kQ(e,t){return Ek(e,!1)&&e<=t.max&&e>=t.min}function Ik(){let e=H8();return new Promise(t=>{switch(e){case gi.browser:t(Oke());break;case gi.reactNative:t(kke());break;case gi.node:t(Bke());break;default:t(!0)}})}function Oke(){return r1()&&navigator?.onLine}async function kke(){return tp()&&typeof globalThis<"u"&&globalThis!=null&&globalThis.NetInfo?(await globalThis?.NetInfo.fetch())?.isConnected:!0}function Bke(){return!0}function BQ(e){switch(H8()){case gi.browser:Dke(e);break;case gi.reactNative:Uke(e);break;case gi.node:break}}function Dke(e){!tp()&&r1()&&(window.addEventListener("online",()=>e(!0)),window.addEventListener("offline",()=>e(!1)))}function Uke(e){tp()&&typeof globalThis<"u"&&globalThis!=null&&globalThis.NetInfo&&globalThis?.NetInfo.addEventListener(t=>e(t?.isConnected))}function DQ(){var e;return r1()&&(0,Uc.getDocument)()?((e=(0,Uc.getDocument)())==null?void 0:e.visibilityState)==="visible":!0}var TO={},th=class{static get(t){return TO[t]}static set(t,r){TO[t]=r}static delete(t){delete TO[t]}};function Lke(e){let t=H2.decode(e);if(t.length<33)throw new Error("Too short to contain a public key");return t.slice(1,33)}function Mke({publicKey:e,signature:t,payload:r}){var n;let s=ZO(r.method),o=128|parseInt(((n=r.version)==null?void 0:n.toString())||"4"),i=Fke(r.address),a=r.era==="00"?new Uint8Array([0]):ZO(r.era);if(a.length!==1&&a.length!==2)throw new Error("Invalid era length");let c=parseInt(r.nonce,16),l=new Uint8Array([c&255,c>>8&255]),u=BigInt(`0x${$ke(r.tip)}`),d=zke(u),p=new Uint8Array([0,...e,i,...t,...a,...l,...d,...s]),f=jke(p.length+1);return new Uint8Array([...f,o,...p])}function Hke(e){let t=ZO(e),r=(0,YY.blake2b)(t,void 0,32);return"0x"+Buffer.from(r).toString("hex")}function ZO(e){return new Uint8Array(e.replace(/^0x/,"").match(/.{1,2}/g).map(t=>parseInt(t,16)))}function $ke(e){return e.startsWith("0x")?e.slice(2):e}function Fke(e){let t=H2.decode(e)[0];return t===42?0:t===60?2:1}function jke(e){if(e<64)return new Uint8Array([e<<2]);if(e<16384){let t=e<<2|1;return new Uint8Array([t&255,t>>8&255])}else if(e<1<<30){let t=e<<2|2;return new Uint8Array([t&255,t>>8&255,t>>16&255,t>>24&255])}else throw new Error("Compact encoding > 2^30 not supported")}function zke(e){if(e<BigInt(1)<<BigInt(6))return new Uint8Array([Number(e<<BigInt(2))]);if(e<BigInt(1)<<BigInt(14)){let t=e<<BigInt(2)|BigInt(1);return new Uint8Array([Number(t&BigInt(255)),Number(t>>BigInt(8)&BigInt(255))])}else if(e<BigInt(1)<<BigInt(30)){let t=e<<BigInt(2)|BigInt(2);return new Uint8Array([Number(t&BigInt(255)),Number(t>>BigInt(8)&BigInt(255)),Number(t>>BigInt(16)&BigInt(255)),Number(t>>BigInt(24)&BigInt(255))])}else throw new Error("BigInt compact encoding not supported > 2^30")}function UQ(e){let t=Uint8Array.from(Buffer.from(e.signature,"hex")),r=Lke(e.transaction.address),n=Mke({publicKey:r,signature:t,payload:e.transaction}),s=Buffer.from(n).toString("hex");return Hke(s)}function ly({logger:e,name:t}){let r=typeof e=="string"?Hl({opts:{level:e,name:t}}).logger:e;return r.level=typeof e=="string"?e:e.level,r}var HC=Bt(Oo(),1);var sp=Bt(Oo(),1);Tk();Uk();Ff();aC();var oX=Bt(Oo()),dBe=Object.defineProperty,pBe=(e,t,r)=>t in e?dBe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,nX=(e,t,r)=>pBe(e,typeof t!="symbol"?t+"":t,r),uC=class extends us{constructor(t){super(),this.opts=t,nX(this,"protocol","wc"),nX(this,"version",2)}};var fBe=Object.defineProperty,hBe=(e,t,r)=>t in e?fBe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,mBe=(e,t,r)=>hBe(e,typeof t!="symbol"?t+"":t,r),dC=class extends us{constructor(t,r){super(),this.core=t,this.logger=r,mBe(this,"records",new Map)}},pC=class{constructor(t,r){this.logger=t,this.core=r}},fC=class extends us{constructor(t,r){super(),this.relayer=t,this.logger=r}},hC=class extends us{constructor(t){super()}},mC=class{constructor(t,r,n,s){this.core=t,this.logger=r,this.name=n}};var gC=class extends us{constructor(t,r){super(),this.relayer=t,this.logger=r}};var yC=class extends us{constructor(t,r){super(),this.core=t,this.logger=r}};var wC=class{constructor(t,r,n){this.core=t,this.logger=r,this.store=n}},bC=class{constructor(t,r){this.projectId=t,this.logger=r}},xC=class{constructor(t,r,n){this.core=t,this.logger=r,this.telemetryEnabled=n}},gBe=Object.defineProperty,yBe=(e,t,r)=>t in e?gBe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,sX=(e,t,r)=>yBe(e,typeof t!="symbol"?t+"":t,r);var vC=class{constructor(t){this.opts=t,sX(this,"protocol","wc"),sX(this,"version",2)}};var EC=class{constructor(t){this.client=t}};var We=Bt(Ld(),1);qm();Km();Km();S8();py();jc();Vk();var see=Bt(T2(),1),oee="wc",iee=2,UC="core",zl=`${oee}@2:${UC}:`,OBe={name:UC,logger:"error"},kBe={database:":memory:"},BBe="crypto",BX="client_ed25519_seed",DBe=We.ONE_DAY,UBe="keychain",LBe="0.3",MBe="messages",HBe="0.3",$Be=We.SIX_HOURS,FBe="publisher",CB="irn",jBe="error",aee="wss://relay.walletconnect.org",zBe="relayer",bn={message:"relayer_message",message_ack:"relayer_message_ack",connect:"relayer_connect",disconnect:"relayer_disconnect",error:"relayer_error",connection_stalled:"relayer_connection_stalled",transport_closed:"relayer_transport_closed",publish:"relayer_publish"},VBe="_subscription",Wa={payload:"payload",connect:"connect",disconnect:"disconnect",error:"error"},qBe=.1;var Zk="2.23.5";var $r={link_mode:"link_mode",relay:"relay"},DC={inbound:"inbound",outbound:"outbound"},WBe="0.3",KBe="WALLETCONNECT_CLIENT_ID",DX="WALLETCONNECT_LINK_MODE_APPS",ha={created:"subscription_created",deleted:"subscription_deleted",expired:"subscription_expired",disabled:"subscription_disabled",sync:"subscription_sync",resubscribed:"subscription_resubscribed"};var ZBe="subscription",GBe="0.3",I0t=We.FIVE_SECONDS*1e3,YBe="pairing",JBe="0.3";var sx={wc_pairingDelete:{req:{ttl:We.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:We.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:We.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:We.THIRTY_SECONDS,prompt:!1,tag:1003}},unregistered_method:{req:{ttl:We.ONE_DAY,prompt:!1,tag:0},res:{ttl:We.ONE_DAY,prompt:!1,tag:0}}},ih={create:"pairing_create",expire:"pairing_expire",delete:"pairing_delete",ping:"pairing_ping"},zc={created:"history_created",updated:"history_updated",deleted:"history_deleted",sync:"history_sync"},QBe="history",XBe="0.3",eDe="expirer",ma={created:"expirer_created",deleted:"expirer_deleted",expired:"expirer_expired",sync:"expirer_sync"},tDe="0.3";var rDe="verify-api",nDe="https://verify.walletconnect.com",cee="https://verify.walletconnect.org",gy=cee,sDe=`${gy}/v3`,oDe=[nDe,cee],iDe="echo",aDe="https://echo.walletconnect.com";var Vc={pairing_started:"pairing_started",pairing_uri_validation_success:"pairing_uri_validation_success",pairing_uri_not_expired:"pairing_uri_not_expired",store_new_pairing:"store_new_pairing",subscribing_pairing_topic:"subscribing_pairing_topic",subscribe_pairing_topic_success:"subscribe_pairing_topic_success",existing_pairing:"existing_pairing",pairing_not_expired:"pairing_not_expired",emit_inactive_pairing:"emit_inactive_pairing",emit_session_proposal:"emit_session_proposal",subscribing_to_pairing_topic:"subscribing_to_pairing_topic"},jl={no_wss_connection:"no_wss_connection",no_internet_connection:"no_internet_connection",malformed_pairing_uri:"malformed_pairing_uri",active_pairing_already_exists:"active_pairing_already_exists",subscribe_pairing_topic_failure:"subscribe_pairing_topic_failure",pairing_expired:"pairing_expired",proposal_expired:"proposal_expired",proposal_listener_not_found:"proposal_listener_not_found"},Za={session_approve_started:"session_approve_started",proposal_not_expired:"proposal_not_expired",session_namespaces_validation_success:"session_namespaces_validation_success",create_session_topic:"create_session_topic",subscribing_session_topic:"subscribing_session_topic",subscribe_session_topic_success:"subscribe_session_topic_success",publishing_session_approve:"publishing_session_approve",session_approve_publish_success:"session_approve_publish_success",store_session:"store_session",publishing_session_settle:"publishing_session_settle",session_settle_publish_success:"session_settle_publish_success",session_request_response_started:"session_request_response_started",session_request_response_validation_success:"session_request_response_validation_success",session_request_response_publish_started:"session_request_response_publish_started"},ah={no_internet_connection:"no_internet_connection",no_wss_connection:"no_wss_connection",proposal_expired:"proposal_expired",subscribe_session_topic_failure:"subscribe_session_topic_failure",session_approve_publish_failure:"session_approve_publish_failure",session_settle_publish_failure:"session_settle_publish_failure",session_approve_namespace_validation_failure:"session_approve_namespace_validation_failure",proposal_not_found:"proposal_not_found",session_request_response_validation_failure:"session_request_response_validation_failure",session_request_response_publish_failure:"session_request_response_publish_failure"},ch={authenticated_session_approve_started:"authenticated_session_approve_started",authenticated_session_not_expired:"authenticated_session_not_expired",chains_caip2_compliant:"chains_caip2_compliant",chains_evm_compliant:"chains_evm_compliant",create_authenticated_session_topic:"create_authenticated_session_topic",cacaos_verified:"cacaos_verified",store_authenticated_session:"store_authenticated_session",subscribing_authenticated_session_topic:"subscribing_authenticated_session_topic",subscribe_authenticated_session_topic_success:"subscribe_authenticated_session_topic_success",publishing_authenticated_session_approve:"publishing_authenticated_session_approve",authenticated_session_approve_publish_success:"authenticated_session_approve_publish_success"},yy={no_internet_connection:"no_internet_connection",no_wss_connection:"no_wss_connection",missing_session_authenticate_request:"missing_session_authenticate_request",session_authenticate_request_expired:"session_authenticate_request_expired",chains_caip2_compliant_failure:"chains_caip2_compliant_failure",chains_evm_compliant_failure:"chains_evm_compliant_failure",invalid_cacao:"invalid_cacao",subscribe_authenticated_session_topic_failure:"subscribe_authenticated_session_topic_failure",authenticated_session_approve_publish_failure:"authenticated_session_approve_publish_failure",authenticated_session_pending_request_not_found:"authenticated_session_pending_request_not_found"},cDe=.1,lDe="event-client",uDe=86400,dDe="https://pulse.walletconnect.org/batch";function pDe(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var s=0;s<e.length;s++){var o=e.charAt(s),i=o.charCodeAt(0);if(r[i]!==255)throw new TypeError(o+" is ambiguous");r[i]=s}var a=e.length,c=e.charAt(0),l=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function d(h){if(h instanceof Uint8Array||(ArrayBuffer.isView(h)?h=new Uint8Array(h.buffer,h.byteOffset,h.byteLength):Array.isArray(h)&&(h=Uint8Array.from(h))),!(h instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(h.length===0)return"";for(var g=0,y=0,E=0,A=h.length;E!==A&&h[E]===0;)E++,g++;for(var b=(A-E)*u+1>>>0,w=new Uint8Array(b);E!==A;){for(var C=h[E],_=0,B=b-1;(C!==0||_<y)&&B!==-1;B--,_++)C+=256*w[B]>>>0,w[B]=C%a>>>0,C=C/a>>>0;if(C!==0)throw new Error("Non-zero carry");y=_,E++}for(var U=b-y;U!==b&&w[U]===0;)U++;for(var k=c.repeat(g);U<b;++U)k+=e.charAt(w[U]);return k}function p(h){if(typeof h!="string")throw new TypeError("Expected String");if(h.length===0)return new Uint8Array;var g=0;if(h[g]!==" "){for(var y=0,E=0;h[g]===c;)y++,g++;for(var A=(h.length-g)*l+1>>>0,b=new Uint8Array(A);h[g];){var w=r[h.charCodeAt(g)];if(w===255)return;for(var C=0,_=A-1;(w!==0||C<E)&&_!==-1;_--,C++)w+=a*b[_]>>>0,b[_]=w%256>>>0,w=w/256>>>0;if(w!==0)throw new Error("Non-zero carry");E=C,g++}if(h[g]!==" "){for(var B=A-E;B!==A&&b[B]===0;)B++;for(var U=new Uint8Array(y+(A-B)),k=y;B!==A;)U[k++]=b[B++];return U}}}function f(h){var g=p(h);if(g)return g;throw new Error(`Non-${t} character`)}return{encode:d,decodeUnsafe:p,decode:f}}var fDe=pDe,hDe=fDe,lee=e=>{if(e instanceof Uint8Array&&e.constructor.name==="Uint8Array")return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")},mDe=e=>new TextEncoder().encode(e),gDe=e=>new TextDecoder().decode(e),Gk=class{constructor(t,r,n){this.name=t,this.prefix=r,this.baseEncode=n}encode(t){if(t instanceof Uint8Array)return`${this.prefix}${this.baseEncode(t)}`;throw Error("Unknown type, must be binary type")}},Yk=class{constructor(t,r,n){if(this.name=t,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=n}decode(t){if(typeof t=="string"){if(t.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(t)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(t.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(t){return uee(this,t)}},Jk=class{constructor(t){this.decoders=t}or(t){return uee(this,t)}decode(t){let r=t[0],n=this.decoders[r];if(n)return n.decode(t);throw RangeError(`Unable to decode multibase string ${JSON.stringify(t)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}},uee=(e,t)=>new Jk({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}}),Qk=class{constructor(t,r,n,s){this.name=t,this.prefix=r,this.baseEncode=n,this.baseDecode=s,this.encoder=new Gk(t,r,n),this.decoder=new Yk(t,r,s)}encode(t){return this.encoder.encode(t)}decode(t){return this.decoder.decode(t)}},LC=({name:e,prefix:t,encode:r,decode:n})=>new Qk(e,t,r,n),lx=({prefix:e,name:t,alphabet:r})=>{let{encode:n,decode:s}=hDe(r,t);return LC({prefix:e,name:t,encode:n,decode:o=>lee(s(o))})},yDe=(e,t,r,n)=>{let s={};for(let u=0;u<t.length;++u)s[t[u]]=u;let o=e.length;for(;e[o-1]==="=";)--o;let i=new Uint8Array(o*r/8|0),a=0,c=0,l=0;for(let u=0;u<o;++u){let d=s[e[u]];if(d===void 0)throw new SyntaxError(`Non-${n} character`);c=c<<r|d,a+=r,a>=8&&(a-=8,i[l++]=255&c>>a)}if(a>=r||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return i},wDe=(e,t,r)=>{let n=t[t.length-1]==="=",s=(1<<r)-1,o="",i=0,a=0;for(let c=0;c<e.length;++c)for(a=a<<8|e[c],i+=8;i>r;)i-=r,o+=t[s&a>>i];if(i&&(o+=t[s&a<<r-i]),n)for(;o.length*r&7;)o+="=";return o},Rs=({name:e,prefix:t,bitsPerChar:r,alphabet:n})=>LC({prefix:t,name:e,encode(s){return wDe(s,n,r)},decode(s){return yDe(s,n,r,e)}}),bDe=LC({prefix:"\0",name:"identity",encode:e=>gDe(e),decode:e=>mDe(e)}),xDe=Object.freeze({__proto__:null,identity:bDe}),vDe=Rs({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),EDe=Object.freeze({__proto__:null,base2:vDe}),ADe=Rs({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),CDe=Object.freeze({__proto__:null,base8:ADe}),SDe=lx({prefix:"9",name:"base10",alphabet:"0123456789"}),IDe=Object.freeze({__proto__:null,base10:SDe}),_De=Rs({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),TDe=Rs({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),PDe=Object.freeze({__proto__:null,base16:_De,base16upper:TDe}),NDe=Rs({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),RDe=Rs({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),ODe=Rs({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),kDe=Rs({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),BDe=Rs({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),DDe=Rs({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),UDe=Rs({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),LDe=Rs({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),MDe=Rs({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),HDe=Object.freeze({__proto__:null,base32:NDe,base32upper:RDe,base32pad:ODe,base32padupper:kDe,base32hex:BDe,base32hexupper:DDe,base32hexpad:UDe,base32hexpadupper:LDe,base32z:MDe}),$De=lx({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),FDe=lx({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),jDe=Object.freeze({__proto__:null,base36:$De,base36upper:FDe}),zDe=lx({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),VDe=lx({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),qDe=Object.freeze({__proto__:null,base58btc:zDe,base58flickr:VDe}),WDe=Rs({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),KDe=Rs({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),ZDe=Rs({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),GDe=Rs({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),YDe=Object.freeze({__proto__:null,base64:WDe,base64pad:KDe,base64url:ZDe,base64urlpad:GDe}),dee=Array.from("\u{1F680}\u{1FA90}\u2604\u{1F6F0}\u{1F30C}\u{1F311}\u{1F312}\u{1F313}\u{1F314}\u{1F315}\u{1F316}\u{1F317}\u{1F318}\u{1F30D}\u{1F30F}\u{1F30E}\u{1F409}\u2600\u{1F4BB}\u{1F5A5}\u{1F4BE}\u{1F4BF}\u{1F602}\u2764\u{1F60D}\u{1F923}\u{1F60A}\u{1F64F}\u{1F495}\u{1F62D}\u{1F618}\u{1F44D}\u{1F605}\u{1F44F}\u{1F601}\u{1F525}\u{1F970}\u{1F494}\u{1F496}\u{1F499}\u{1F622}\u{1F914}\u{1F606}\u{1F644}\u{1F4AA}\u{1F609}\u263A\u{1F44C}\u{1F917}\u{1F49C}\u{1F614}\u{1F60E}\u{1F607}\u{1F339}\u{1F926}\u{1F389}\u{1F49E}\u270C\u2728\u{1F937}\u{1F631}\u{1F60C}\u{1F338}\u{1F64C}\u{1F60B}\u{1F497}\u{1F49A}\u{1F60F}\u{1F49B}\u{1F642}\u{1F493}\u{1F929}\u{1F604}\u{1F600}\u{1F5A4}\u{1F603}\u{1F4AF}\u{1F648}\u{1F447}\u{1F3B6}\u{1F612}\u{1F92D}\u2763\u{1F61C}\u{1F48B}\u{1F440}\u{1F62A}\u{1F611}\u{1F4A5}\u{1F64B}\u{1F61E}\u{1F629}\u{1F621}\u{1F92A}\u{1F44A}\u{1F973}\u{1F625}\u{1F924}\u{1F449}\u{1F483}\u{1F633}\u270B\u{1F61A}\u{1F61D}\u{1F634}\u{1F31F}\u{1F62C}\u{1F643}\u{1F340}\u{1F337}\u{1F63B}\u{1F613}\u2B50\u2705\u{1F97A}\u{1F308}\u{1F608}\u{1F918}\u{1F4A6}\u2714\u{1F623}\u{1F3C3}\u{1F490}\u2639\u{1F38A}\u{1F498}\u{1F620}\u261D\u{1F615}\u{1F33A}\u{1F382}\u{1F33B}\u{1F610}\u{1F595}\u{1F49D}\u{1F64A}\u{1F639}\u{1F5E3}\u{1F4AB}\u{1F480}\u{1F451}\u{1F3B5}\u{1F91E}\u{1F61B}\u{1F534}\u{1F624}\u{1F33C}\u{1F62B}\u26BD\u{1F919}\u2615\u{1F3C6}\u{1F92B}\u{1F448}\u{1F62E}\u{1F646}\u{1F37B}\u{1F343}\u{1F436}\u{1F481}\u{1F632}\u{1F33F}\u{1F9E1}\u{1F381}\u26A1\u{1F31E}\u{1F388}\u274C\u270A\u{1F44B}\u{1F630}\u{1F928}\u{1F636}\u{1F91D}\u{1F6B6}\u{1F4B0}\u{1F353}\u{1F4A2}\u{1F91F}\u{1F641}\u{1F6A8}\u{1F4A8}\u{1F92C}\u2708\u{1F380}\u{1F37A}\u{1F913}\u{1F619}\u{1F49F}\u{1F331}\u{1F616}\u{1F476}\u{1F974}\u25B6\u27A1\u2753\u{1F48E}\u{1F4B8}\u2B07\u{1F628}\u{1F31A}\u{1F98B}\u{1F637}\u{1F57A}\u26A0\u{1F645}\u{1F61F}\u{1F635}\u{1F44E}\u{1F932}\u{1F920}\u{1F927}\u{1F4CC}\u{1F535}\u{1F485}\u{1F9D0}\u{1F43E}\u{1F352}\u{1F617}\u{1F911}\u{1F30A}\u{1F92F}\u{1F437}\u260E\u{1F4A7}\u{1F62F}\u{1F486}\u{1F446}\u{1F3A4}\u{1F647}\u{1F351}\u2744\u{1F334}\u{1F4A3}\u{1F438}\u{1F48C}\u{1F4CD}\u{1F940}\u{1F922}\u{1F445}\u{1F4A1}\u{1F4A9}\u{1F450}\u{1F4F8}\u{1F47B}\u{1F910}\u{1F92E}\u{1F3BC}\u{1F975}\u{1F6A9}\u{1F34E}\u{1F34A}\u{1F47C}\u{1F48D}\u{1F4E3}\u{1F942}"),JDe=dee.reduce((e,t,r)=>(e[r]=t,e),[]),QDe=dee.reduce((e,t,r)=>(e[t.codePointAt(0)]=r,e),[]);function XDe(e){return e.reduce((t,r)=>(t+=JDe[r],t),"")}function eUe(e){let t=[];for(let r of e){let n=QDe[r.codePointAt(0)];if(n===void 0)throw new Error(`Non-base256emoji character: ${r}`);t.push(n)}return new Uint8Array(t)}var tUe=LC({prefix:"\u{1F680}",name:"base256emoji",encode:XDe,decode:eUe}),rUe=Object.freeze({__proto__:null,base256emoji:tUe}),nUe=pee,UX=128,sUe=127,oUe=~sUe,iUe=Math.pow(2,31);function pee(e,t,r){t=t||[],r=r||0;for(var n=r;e>=iUe;)t[r++]=e&255|UX,e/=128;for(;e&oUe;)t[r++]=e&255|UX,e>>>=7;return t[r]=e|0,pee.bytes=r-n+1,t}var aUe=Xk,cUe=128,LX=127;function Xk(e,n){var r=0,n=n||0,s=0,o=n,i,a=e.length;do{if(o>=a)throw Xk.bytes=0,new RangeError("Could not decode varint");i=e[o++],r+=s<28?(i&LX)<<s:(i&LX)*Math.pow(2,s),s+=7}while(i>=cUe);return Xk.bytes=o-n,r}var lUe=Math.pow(2,7),uUe=Math.pow(2,14),dUe=Math.pow(2,21),pUe=Math.pow(2,28),fUe=Math.pow(2,35),hUe=Math.pow(2,42),mUe=Math.pow(2,49),gUe=Math.pow(2,56),yUe=Math.pow(2,63),wUe=function(e){return e<lUe?1:e<uUe?2:e<dUe?3:e<pUe?4:e<fUe?5:e<hUe?6:e<mUe?7:e<gUe?8:e<yUe?9:10},bUe={encode:nUe,decode:aUe,encodingLength:wUe},fee=bUe,MX=(e,t,r=0)=>(fee.encode(e,t,r),t),HX=e=>fee.encodingLength(e),eB=(e,t)=>{let r=t.byteLength,n=HX(e),s=n+HX(r),o=new Uint8Array(s+r);return MX(e,o,0),MX(r,o,n),o.set(t,s),new tB(e,r,t,o)},tB=class{constructor(t,r,n,s){this.code=t,this.size=r,this.digest=n,this.bytes=s}},hee=({name:e,code:t,encode:r})=>new rB(e,t,r),rB=class{constructor(t,r,n){this.name=t,this.code=r,this.encode=n}digest(t){if(t instanceof Uint8Array){let r=this.encode(t);return r instanceof Uint8Array?eB(this.code,r):r.then(n=>eB(this.code,n))}else throw Error("Unknown type, must be binary type")}},mee=e=>async t=>new Uint8Array(await crypto.subtle.digest(e,t)),xUe=hee({name:"sha2-256",code:18,encode:mee("SHA-256")}),vUe=hee({name:"sha2-512",code:19,encode:mee("SHA-512")}),EUe=Object.freeze({__proto__:null,sha256:xUe,sha512:vUe}),gee=0,AUe="identity",yee=lee,CUe=e=>eB(gee,yee(e)),SUe={code:gee,name:AUe,encode:yee,digest:CUe},IUe=Object.freeze({__proto__:null,identity:SUe});new TextEncoder,new TextDecoder;var $X={...xDe,...EDe,...CDe,...IDe,...PDe,...HDe,...jDe,...qDe,...YDe,...rUe};({...EUe,...IUe});function wee(e){return globalThis.Buffer!=null?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e}function _Ue(e=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?wee(globalThis.Buffer.allocUnsafe(e)):new Uint8Array(e)}function bee(e,t,r,n){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:r},decoder:{decode:n}}}var FX=bee("utf8","u",e=>"u"+new TextDecoder("utf8").decode(e),e=>new TextEncoder().encode(e.substring(1))),qk=bee("ascii","a",e=>{let t="a";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t},e=>{e=e.substring(1);let t=_Ue(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}),TUe={utf8:FX,"utf-8":FX,hex:$X.base16,latin1:qk,ascii:qk,binary:qk,...$X};function PUe(e,t="utf8"){let r=TUe[t];if(!r)throw new Error(`Unsupported encoding "${t}"`);return(t==="utf8"||t==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?wee(globalThis.Buffer.from(e,"utf-8")):r.decoder.decode(`${r.prefix}${e}`)}var NUe=Object.defineProperty,RUe=(e,t,r)=>t in e?NUe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Fl=(e,t,r)=>RUe(e,typeof t!="symbol"?t+"":t,r),nB=class{constructor(t,r){this.core=t,this.logger=r,Fl(this,"keychain",new Map),Fl(this,"name",UBe),Fl(this,"version",LBe),Fl(this,"initialized",!1),Fl(this,"storagePrefix",zl),Fl(this,"init",async()=>{if(!this.initialized){let n=await this.getKeyChain();typeof n<"u"&&(this.keychain=n),this.initialized=!0}}),Fl(this,"has",n=>(this.isInitialized(),this.keychain.has(n))),Fl(this,"set",async(n,s)=>{this.isInitialized(),this.keychain.set(n,s),await this.persist()}),Fl(this,"get",n=>{this.isInitialized();let s=this.keychain.get(n);if(typeof s>"u"){let{message:o}=Ae("NO_MATCHING_KEY",`${this.name}: ${n}`);throw new Error(o)}return s}),Fl(this,"del",async n=>{this.isInitialized(),this.keychain.delete(n),await this.persist()}),this.core=t,this.logger=_r(r,this.name)}get context(){return ar(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setKeyChain(t){await this.core.storage.setItem(this.storageKey,KA(t))}async getKeyChain(){let t=await this.core.storage.getItem(this.storageKey);return typeof t<"u"?ZA(t):void 0}async persist(){await this.setKeyChain(this.keychain)}isInitialized(){if(!this.initialized){let{message:t}=Ae("NOT_INITIALIZED",this.name);throw new Error(t)}}},OUe=Object.defineProperty,kUe=(e,t,r)=>t in e?OUe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,ps=(e,t,r)=>kUe(e,typeof t!="symbol"?t+"":t,r),sB=class{constructor(t,r,n){this.core=t,this.logger=r,ps(this,"name",BBe),ps(this,"keychain"),ps(this,"randomSessionIdentifier",oC()),ps(this,"initialized",!1),ps(this,"clientId"),ps(this,"init",async()=>{this.initialized||(await this.keychain.init(),this.initialized=!0)}),ps(this,"hasKeys",s=>(this.isInitialized(),this.keychain.has(s))),ps(this,"getClientId",async()=>{if(this.isInitialized(),this.clientId)return this.clientId;let s=await this.getClientSeed(),o=z2(s),i=y8(o.publicKey);return this.clientId=i,i}),ps(this,"generateKeyPair",()=>{this.isInitialized();let s=nQ();return this.setPrivateKey(s.publicKey,s.privateKey)}),ps(this,"signJWT",async s=>{this.isInitialized();let o=await this.getClientSeed(),i=z2(o),a=this.randomSessionIdentifier;return await gA(a,s,DBe,i)}),ps(this,"generateSharedKey",(s,o,i)=>{this.isInitialized();let a=this.getPrivateKey(s),c=sQ(a,o);return this.setSymKey(c,i)}),ps(this,"setSymKey",async(s,o)=>{this.isInitialized();let i=o||iy(s);return await this.keychain.set(i,s),i}),ps(this,"deleteKeyPair",async s=>{this.isInitialized(),await this.keychain.del(s)}),ps(this,"deleteSymKey",async s=>{this.isInitialized(),await this.keychain.del(s)}),ps(this,"encode",async(s,o,i)=>{this.isInitialized();let a=mk(i),c=fi(o);if(yk(a))return uQ(c,i?.encoding);if(gk(a)){let p=a.senderPublicKey,f=a.receiverPublicKey;s=await this.generateSharedKey(p,f)}let l=this.getSymKey(s),{type:u,senderPublicKey:d}=a;return cQ({type:u,symKey:l,message:c,senderPublicKey:d,encoding:i?.encoding})}),ps(this,"decode",async(s,o,i)=>{this.isInitialized();let a=fQ(o,i);if(yk(a)){let c=dQ(o,i?.encoding);return Bo(c)}if(gk(a)){let c=a.receiverPublicKey,l=a.senderPublicKey;s=await this.generateSharedKey(c,l)}try{let c=this.getSymKey(s),l=lQ({symKey:c,encoded:o,encoding:i?.encoding});return Bo(l)}catch(c){this.logger.error(`Failed to decode message from topic: '${s}', clientId: '${await this.getClientId()}'`),this.logger.error(c)}}),ps(this,"getPayloadType",(s,o=Js)=>{let i=ay({encoded:s,encoding:o});return eh(i.type)}),ps(this,"getPayloadSenderPublicKey",(s,o=Js)=>{let i=ay({encoded:s,encoding:o});return i.senderPublicKey?Xt(i.senderPublicKey,Ys):void 0}),this.core=t,this.logger=_r(r,this.name),this.keychain=n||new nB(this.core,this.logger)}get context(){return ar(this.logger)}async setPrivateKey(t,r){return await this.keychain.set(t,r),t}getPrivateKey(t){return this.keychain.get(t)}async getClientSeed(){let t="";try{t=this.keychain.get(BX)}catch{t=oC(),await this.keychain.set(BX,t)}return PUe(t,"base16")}getSymKey(t){return this.keychain.get(t)}isInitialized(){if(!this.initialized){let{message:t}=Ae("NOT_INITIALIZED",this.name);throw new Error(t)}}},BUe=Object.defineProperty,DUe=Object.defineProperties,UUe=Object.getOwnPropertyDescriptors,jX=Object.getOwnPropertySymbols,LUe=Object.prototype.hasOwnProperty,MUe=Object.prototype.propertyIsEnumerable,oB=(e,t,r)=>t in e?BUe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,HUe=(e,t)=>{for(var r in t||(t={}))LUe.call(t,r)&&oB(e,r,t[r]);if(jX)for(var r of jX(t))MUe.call(t,r)&&oB(e,r,t[r]);return e},$Ue=(e,t)=>DUe(e,UUe(t)),fa=(e,t,r)=>oB(e,typeof t!="symbol"?t+"":t,r),iB=class extends pC{constructor(t,r){super(t,r),this.logger=t,this.core=r,fa(this,"messages",new Map),fa(this,"messagesWithoutClientAck",new Map),fa(this,"name",MBe),fa(this,"version",HBe),fa(this,"initialized",!1),fa(this,"storagePrefix",zl),fa(this,"init",async()=>{if(!this.initialized){this.logger.trace("Initialized");try{let n=await this.getRelayerMessages();typeof n<"u"&&(this.messages=n);let s=await this.getRelayerMessagesWithoutClientAck();typeof s<"u"&&(this.messagesWithoutClientAck=s),this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",size:this.messages.size})}catch(n){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(n)}finally{this.initialized=!0}}}),fa(this,"set",async(n,s,o)=>{this.isInitialized();let i=wi(s),a=this.messages.get(n);if(typeof a>"u"&&(a={}),typeof a[i]<"u")return i;if(a[i]=s,this.messages.set(n,a),o===DC.inbound){let c=this.messagesWithoutClientAck.get(n)||{};this.messagesWithoutClientAck.set(n,$Ue(HUe({},c),{[i]:s}))}return await this.persist(),i}),fa(this,"get",n=>{this.isInitialized();let s=this.messages.get(n);return typeof s>"u"&&(s={}),s}),fa(this,"getWithoutAck",n=>{this.isInitialized();let s={};for(let o of n){let i=this.messagesWithoutClientAck.get(o)||{};s[o]=Object.values(i)}return s}),fa(this,"has",(n,s)=>{this.isInitialized();let o=this.get(n),i=wi(s);return typeof o[i]<"u"}),fa(this,"ack",async(n,s)=>{this.isInitialized();let o=this.messagesWithoutClientAck.get(n);if(typeof o>"u")return;let i=wi(s);delete o[i],Object.keys(o).length===0?this.messagesWithoutClientAck.delete(n):this.messagesWithoutClientAck.set(n,o),await this.persist()}),fa(this,"del",async n=>{this.isInitialized(),this.messages.delete(n),this.messagesWithoutClientAck.delete(n),await this.persist()}),this.logger=_r(t,this.name),this.core=r}get context(){return ar(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get storageKeyWithoutClientAck(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name+"_withoutClientAck"}async setRelayerMessages(t){await this.core.storage.setItem(this.storageKey,KA(t))}async setRelayerMessagesWithoutClientAck(t){await this.core.storage.setItem(this.storageKeyWithoutClientAck,KA(t))}async getRelayerMessages(){let t=await this.core.storage.getItem(this.storageKey);return typeof t<"u"?ZA(t):void 0}async getRelayerMessagesWithoutClientAck(){let t=await this.core.storage.getItem(this.storageKeyWithoutClientAck);return typeof t<"u"?ZA(t):void 0}async persist(){await this.setRelayerMessages(this.messages),await this.setRelayerMessagesWithoutClientAck(this.messagesWithoutClientAck)}isInitialized(){if(!this.initialized){let{message:t}=Ae("NOT_INITIALIZED",this.name);throw new Error(t)}}},FUe=Object.defineProperty,jUe=Object.defineProperties,zUe=Object.getOwnPropertyDescriptors,zX=Object.getOwnPropertySymbols,VUe=Object.prototype.hasOwnProperty,qUe=Object.prototype.propertyIsEnumerable,aB=(e,t,r)=>t in e?FUe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,hy=(e,t)=>{for(var r in t||(t={}))VUe.call(t,r)&&aB(e,r,t[r]);if(zX)for(var r of zX(t))qUe.call(t,r)&&aB(e,r,t[r]);return e},VX=(e,t)=>jUe(e,zUe(t)),Ka=(e,t,r)=>aB(e,typeof t!="symbol"?t+"":t,r),cB=class extends fC{constructor(t,r){super(t,r),this.relayer=t,this.logger=r,Ka(this,"events",new sp.EventEmitter),Ka(this,"name",FBe),Ka(this,"queue",new Map),Ka(this,"publishTimeout",(0,We.toMiliseconds)(We.ONE_MINUTE)),Ka(this,"initialPublishTimeout",(0,We.toMiliseconds)(We.ONE_SECOND*15)),Ka(this,"needsTransportRestart",!1),Ka(this,"publish",async(n,s,o)=>{var i,a,c,l,u;this.logger.debug("Publishing Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:n,message:s,opts:o}});let d=o?.ttl||$Be,p=o?.prompt||!1,f=o?.tag||0,h=o?.id||Tn().toString(),g=s1(W8().protocol),y={id:h,method:o?.publishMethod||g.publish,params:hy({topic:n,message:s,ttl:d,prompt:p,tag:f,attestation:o?.attestation},o?.tvf)},E=`Failed to publish payload, please try again. id:${h} tag:${f}`;try{In((i=y.params)==null?void 0:i.prompt)&&((a=y.params)==null||delete a.prompt),In((c=y.params)==null?void 0:c.tag)&&((l=y.params)==null||delete l.tag);let A=new Promise(async b=>{let w=({id:_})=>{var B;((B=y.id)==null?void 0:B.toString())===_.toString()&&(this.removeRequestFromQueue(_),this.relayer.events.removeListener(bn.publish,w),b())};this.relayer.events.on(bn.publish,w);let C=Hc(new Promise((_,B)=>{this.rpcPublish(y,o).then(_).catch(U=>{this.logger.warn(U,U?.message),B(U)})}),this.initialPublishTimeout,`Failed initial publish, retrying.... id:${h} tag:${f}`);try{await C,this.events.removeListener(bn.publish,w)}catch(_){this.queue.set(h,{request:y,opts:o,attempt:1}),this.logger.warn(_,_?.message)}});this.logger.trace({type:"method",method:"publish",params:{id:h,topic:n,message:s,opts:o}}),await Hc(A,this.publishTimeout,E)}catch(A){if(this.logger.debug("Failed to Publish Payload"),this.logger.error(A),(u=o?.internal)!=null&&u.throwOnFailedPublish)throw A}finally{this.queue.delete(h)}}),Ka(this,"publishCustom",async n=>{var s,o,i,a,c;this.logger.debug("Publishing custom payload"),this.logger.trace({type:"method",method:"publishCustom",params:n});let{payload:l,opts:u={}}=n,{attestation:d,tvf:p,publishMethod:f,prompt:h,tag:g,ttl:y=We.FIVE_MINUTES}=u,E=u.id||Tn().toString(),A=s1(W8().protocol),b=f||A.publish,w={id:E,method:b,params:hy(VX(hy({},l),{ttl:y,prompt:h,tag:g,attestation:d}),p)},C=`Failed to publish custom payload, please try again. id:${E} tag:${g}`;try{In((s=w.params)==null?void 0:s.prompt)&&((o=w.params)==null||delete o.prompt),In((i=w.params)==null?void 0:i.tag)&&((a=w.params)==null||delete a.tag);let _=new Promise(async B=>{let U=({id:$})=>{var P;((P=w.id)==null?void 0:P.toString())===$.toString()&&(this.removeRequestFromQueue($),this.relayer.events.removeListener(bn.publish,U),B())};this.relayer.events.on(bn.publish,U);let k=Hc(new Promise(($,P)=>{this.rpcPublish(w,u).then($).catch(I=>{this.logger.warn(I,I?.message),P(I)})}),this.initialPublishTimeout,`Failed initial custom payload publish, retrying.... method:${b} id:${E} tag:${g}`);try{await k,this.events.removeListener(bn.publish,U)}catch($){this.queue.set(E,{request:w,opts:u,attempt:1}),this.logger.warn($,$?.message)}});this.logger.trace({type:"method",method:"publish",params:{id:E,payload:l,opts:u}}),await Hc(_,this.publishTimeout,C)}catch(_){if(this.logger.debug("Failed to Publish Payload"),this.logger.error(_),(c=u?.internal)!=null&&c.throwOnFailedPublish)throw _}finally{this.queue.delete(E)}}),Ka(this,"on",(n,s)=>{this.events.on(n,s)}),Ka(this,"once",(n,s)=>{this.events.once(n,s)}),Ka(this,"off",(n,s)=>{this.events.off(n,s)}),Ka(this,"removeListener",(n,s)=>{this.events.removeListener(n,s)}),this.relayer=t,this.logger=_r(r,this.name),this.registerEventListeners()}get context(){return ar(this.logger)}async rpcPublish(t,r){this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"message",direction:"outgoing",request:t});let n=await this.relayer.request(t);return this.relayer.events.emit(bn.publish,hy(hy({},t),r)),this.logger.debug("Successfully Published Payload"),n}removeRequestFromQueue(t){this.queue.delete(t)}checkQueue(){this.queue.forEach(async(t,r)=>{var n;let s=t.attempt+1;this.queue.set(r,VX(hy({},t),{attempt:s})),this.logger.warn({},`Publisher: queue->publishing: ${t.request.id}, tag: ${(n=t.request.params)==null?void 0:n.tag}, attempt: ${s}`),await this.rpcPublish(t.request,t.opts),this.logger.warn({},`Publisher: queue->published: ${t.request.id}`)})}registerEventListeners(){this.relayer.core.heartbeat.on(Lo.pulse,()=>{if(this.needsTransportRestart){this.needsTransportRestart=!1,this.relayer.events.emit(bn.connection_stalled);return}this.checkQueue()}),this.relayer.on(bn.message_ack,t=>{this.removeRequestFromQueue(t.id.toString())})}},WUe=Object.defineProperty,KUe=(e,t,r)=>t in e?WUe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,my=(e,t,r)=>KUe(e,typeof t!="symbol"?t+"":t,r),lB=class{constructor(){my(this,"map",new Map),my(this,"set",(t,r)=>{let n=this.get(t);this.exists(t,r)||this.map.set(t,[...n,r])}),my(this,"get",t=>this.map.get(t)||[]),my(this,"exists",(t,r)=>this.get(t).includes(r)),my(this,"delete",(t,r)=>{if(typeof r>"u"){this.map.delete(t);return}if(!this.map.has(t))return;let n=this.get(t);if(!this.exists(t,r))return;let s=n.filter(o=>o!==r);if(!s.length){this.map.delete(t);return}this.map.set(t,s)}),my(this,"clear",()=>{this.map.clear()})}get topics(){return Array.from(this.map.keys())}},ZUe=Object.defineProperty,GUe=Object.defineProperties,YUe=Object.getOwnPropertyDescriptors,qX=Object.getOwnPropertySymbols,JUe=Object.prototype.hasOwnProperty,QUe=Object.prototype.propertyIsEnumerable,uB=(e,t,r)=>t in e?ZUe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,ox=(e,t)=>{for(var r in t||(t={}))JUe.call(t,r)&&uB(e,r,t[r]);if(qX)for(var r of qX(t))QUe.call(t,r)&&uB(e,r,t[r]);return e},Wk=(e,t)=>GUe(e,YUe(t)),Rr=(e,t,r)=>uB(e,typeof t!="symbol"?t+"":t,r),dB=class extends gC{constructor(t,r){super(t,r),this.relayer=t,this.logger=r,Rr(this,"subscriptions",new Map),Rr(this,"topicMap",new lB),Rr(this,"events",new sp.EventEmitter),Rr(this,"name",ZBe),Rr(this,"version",GBe),Rr(this,"pending",new Map),Rr(this,"cached",[]),Rr(this,"initialized",!1),Rr(this,"storagePrefix",zl),Rr(this,"subscribeTimeout",(0,We.toMiliseconds)(We.ONE_MINUTE)),Rr(this,"initialSubscribeTimeout",(0,We.toMiliseconds)(We.ONE_SECOND*15)),Rr(this,"clientId"),Rr(this,"batchSubscribeTopicsLimit",500),Rr(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),this.registerEventListeners(),await this.restore()),this.initialized=!0}),Rr(this,"subscribe",async(n,s)=>{var o;this.isInitialized(),this.logger.debug("Subscribing Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:n,opts:s}});try{let i=W8(s),a={topic:n,relay:i,transportType:s?.transportType};(o=s?.internal)!=null&&o.skipSubscribe||this.pending.set(n,a);let c=await this.rpcSubscribe(n,i,s);return typeof c=="string"&&(this.onSubscribe(c,a),this.logger.debug("Successfully Subscribed Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:n,opts:s}})),c}catch(i){throw this.logger.debug("Failed to Subscribe Topic"),this.logger.error(i),i}}),Rr(this,"unsubscribe",async(n,s)=>{this.isInitialized(),typeof s?.id<"u"?await this.unsubscribeById(n,s.id,s):await this.unsubscribeByTopic(n,s)}),Rr(this,"isSubscribed",n=>new Promise(s=>{s(this.topicMap.topics.includes(n))})),Rr(this,"isKnownTopic",n=>new Promise(s=>{s(this.topicMap.topics.includes(n)||this.pending.has(n)||this.cached.some(o=>o.topic===n))})),Rr(this,"on",(n,s)=>{this.events.on(n,s)}),Rr(this,"once",(n,s)=>{this.events.once(n,s)}),Rr(this,"off",(n,s)=>{this.events.off(n,s)}),Rr(this,"removeListener",(n,s)=>{this.events.removeListener(n,s)}),Rr(this,"start",async()=>{await this.onConnect()}),Rr(this,"stop",async()=>{await this.onDisconnect()}),Rr(this,"restart",async()=>{await this.restore(),await this.onRestart()}),Rr(this,"checkPending",async()=>{if(this.pending.size===0&&(!this.initialized||!this.relayer.connected))return;let n=[];this.pending.forEach(s=>{n.push(s)}),await this.batchSubscribe(n)}),Rr(this,"registerEventListeners",()=>{this.relayer.core.heartbeat.on(Lo.pulse,async()=>{await this.checkPending()}),this.events.on(ha.created,async n=>{let s=ha.created;this.logger.info(`Emitting ${s}`),this.logger.debug({type:"event",event:s,data:n}),await this.persist()}),this.events.on(ha.deleted,async n=>{let s=ha.deleted;this.logger.info(`Emitting ${s}`),this.logger.debug({type:"event",event:s,data:n}),await this.persist()})}),this.relayer=t,this.logger=_r(r,this.name),this.clientId=""}get context(){return ar(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.relayer.core.customStoragePrefix+"//"+this.name}get length(){return this.subscriptions.size}get ids(){return Array.from(this.subscriptions.keys())}get values(){return Array.from(this.subscriptions.values())}get topics(){return this.topicMap.topics}get hasAnyTopics(){return this.topicMap.topics.length>0||this.pending.size>0||this.cached.length>0||this.subscriptions.size>0}hasSubscription(t,r){let n=!1;try{n=this.getSubscription(t).topic===r}catch{}return n}reset(){this.cached=[],this.initialized=!0}onDisable(){this.values.length>0&&(this.cached=this.values),this.subscriptions.clear(),this.topicMap.clear()}async unsubscribeByTopic(t,r){let n=this.topicMap.get(t);await Promise.all(n.map(async s=>await this.unsubscribeById(t,s,r)))}async unsubscribeById(t,r,n){this.logger.debug("Unsubscribing Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:t,id:r,opts:n}});try{let s=W8(n);await this.restartToComplete({topic:t,id:r,relay:s}),await this.rpcUnsubscribe(t,r,s);let o=br("USER_DISCONNECTED",`${this.name}, ${t}`);await this.onUnsubscribe(t,r,o),this.logger.debug("Successfully Unsubscribed Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:t,id:r,opts:n}})}catch(s){throw this.logger.debug("Failed to Unsubscribe Topic"),this.logger.error(s),s}}async rpcSubscribe(t,r,n){var s,o;let i=await this.getSubscriptionId(t);if((s=n?.internal)!=null&&s.skipSubscribe)return i;(!n||n?.transportType===$r.relay)&&await this.restartToComplete({topic:t,id:t,relay:r});let a={method:s1(r.protocol).subscribe,params:{topic:t}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:a});let c=(o=n?.internal)==null?void 0:o.throwOnFailedPublish;try{if(n?.transportType===$r.link_mode)return setTimeout(()=>{(this.relayer.connected||this.relayer.connecting)&&this.relayer.request(a).catch(d=>this.logger.warn(d))},(0,We.toMiliseconds)(We.ONE_SECOND)),i;let l=new Promise(async d=>{let p=f=>{f.topic===t&&(this.events.removeListener(ha.created,p),d(f.id))};this.events.on(ha.created,p);try{let f=await Hc(new Promise((h,g)=>{this.relayer.request(a).catch(y=>{this.logger.warn(y,y?.message),g(y)}).then(h)}),this.initialSubscribeTimeout,`Subscribing to ${t} failed, please try again`);this.events.removeListener(ha.created,p),d(f)}catch{}}),u=await Hc(l,this.subscribeTimeout,`Subscribing to ${t} failed, please try again`);if(!u&&c)throw new Error(`Subscribing to ${t} failed, please try again`);return u?i:null}catch(l){if(this.logger.debug("Outgoing Relay Subscribe Payload stalled"),this.relayer.events.emit(bn.connection_stalled),c)throw l}return null}async rpcBatchSubscribe(t){if(!t.length)return!0;let r=t[0].relay,n={method:s1(r.protocol).batchSubscribe,params:{topics:t.map(s=>s.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:n});try{return await Hc(new Promise((s,o)=>{this.relayer.request(n).then(s).catch(i=>{this.logger.warn(i),o(i)})}),this.subscribeTimeout,"rpcBatchSubscribe failed, please try again"),!0}catch{return this.relayer.events.emit(bn.connection_stalled),!1}}async rpcBatchFetchMessages(t){if(!t.length)return;let r=t[0].relay,n={method:s1(r.protocol).batchFetchMessages,params:{topics:t.map(o=>o.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:n});let s;try{s=await await Hc(new Promise((o,i)=>{this.relayer.request(n).catch(a=>{this.logger.warn(a),i(a)}).then(o)}),this.subscribeTimeout,"rpcBatchFetchMessages failed, please try again")}catch{this.relayer.events.emit(bn.connection_stalled)}return s}rpcUnsubscribe(t,r,n){let s={method:s1(n.protocol).unsubscribe,params:{topic:t,id:r}};return this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:s}),this.relayer.request(s)}onSubscribe(t,r){this.setSubscription(t,Wk(ox({},r),{id:t})),this.pending.delete(r.topic)}onBatchSubscribe(t){t.length&&t.forEach(r=>{this.setSubscription(r.id,ox({},r)),this.pending.delete(r.topic)})}async onUnsubscribe(t,r,n){this.events.removeAllListeners(r),this.hasSubscription(r,t)&&this.deleteSubscription(r,n),await this.relayer.messages.del(t)}async setRelayerSubscriptions(t){await this.relayer.core.storage.setItem(this.storageKey,t)}async getRelayerSubscriptions(){return await this.relayer.core.storage.getItem(this.storageKey)}setSubscription(t,r){this.logger.debug("Setting subscription"),this.logger.trace({type:"method",method:"setSubscription",id:t,subscription:r}),this.addSubscription(t,r)}addSubscription(t,r){this.subscriptions.set(t,ox({},r)),this.topicMap.set(r.topic,t),this.events.emit(ha.created,r)}getSubscription(t){this.logger.debug("Getting subscription"),this.logger.trace({type:"method",method:"getSubscription",id:t});let r=this.subscriptions.get(t);if(!r){let{message:n}=Ae("NO_MATCHING_KEY",`${this.name}: ${t}`);throw new Error(n)}return r}deleteSubscription(t,r){this.logger.debug("Deleting subscription"),this.logger.trace({type:"method",method:"deleteSubscription",id:t,reason:r});let n=this.getSubscription(t);this.subscriptions.delete(t),this.topicMap.delete(n.topic,t),this.events.emit(ha.deleted,Wk(ox({},n),{reason:r}))}async persist(){await this.setRelayerSubscriptions(this.values),this.events.emit(ha.sync)}async onRestart(){if(this.cached.length){let t=[...this.cached],r=Math.ceil(this.cached.length/this.batchSubscribeTopicsLimit);for(let n=0;n<r;n++){let s=t.splice(0,this.batchSubscribeTopicsLimit);await this.batchSubscribe(s)}}this.events.emit(ha.resubscribed)}async restore(){try{let t=await this.getRelayerSubscriptions();if(typeof t>"u"||!t.length)return;if(this.subscriptions.size&&!t.every(r=>{var n;return r.topic===((n=this.subscriptions.get(r.id))==null?void 0:n.topic)})){let{message:r}=Ae("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),this.logger.error(`${this.name}: ${JSON.stringify(this.values)}`),new Error(r)}this.cached=t,this.logger.debug(`Successfully Restored subscriptions for ${this.name}`),this.logger.trace({type:"method",method:"restore",subscriptions:this.values})}catch(t){this.logger.debug(`Failed to Restore subscriptions for ${this.name}`),this.logger.error(t)}}async batchSubscribe(t){if(t.length){if(!await this.rpcBatchSubscribe(t)){this.logger.warn(`Batch subscribe failed for ${t.length} topics, adding to pending for retry`),t.forEach(r=>{this.pending.set(r.topic,r)});return}this.onBatchSubscribe(await Promise.all(t.map(async r=>Wk(ox({},r),{id:await this.getSubscriptionId(r.topic)}))))}}async batchFetchMessages(t){if(!t.length)return;this.logger.trace(`Fetching batch messages for ${t.length} subscriptions`);let r=await this.rpcBatchFetchMessages(t);r&&r.messages&&(await cJ((0,We.toMiliseconds)(We.ONE_SECOND)),await this.relayer.handleBatchMessageEvents(r.messages))}async onConnect(){await this.restart(),this.reset()}onDisconnect(){this.onDisable()}isInitialized(){if(!this.initialized){let{message:t}=Ae("NOT_INITIALIZED",this.name);throw new Error(t)}}async restartToComplete(t){!this.relayer.connected&&!this.relayer.connecting&&(this.cached.push(t),await this.relayer.transportOpen())}async getClientId(){return this.clientId||(this.clientId=await this.relayer.core.crypto.getClientId()),this.clientId}async getSubscriptionId(t){return wi(t+await this.getClientId())}},XUe=Object.defineProperty,WX=Object.getOwnPropertySymbols,eLe=Object.prototype.hasOwnProperty,tLe=Object.prototype.propertyIsEnumerable,pB=(e,t,r)=>t in e?XUe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,KX=(e,t)=>{for(var r in t||(t={}))eLe.call(t,r)&&pB(e,r,t[r]);if(WX)for(var r of WX(t))tLe.call(t,r)&&pB(e,r,t[r]);return e},Dt=(e,t,r)=>pB(e,typeof t!="symbol"?t+"":t,r),fB=class extends hC{constructor(t){var r;super(t),Dt(this,"protocol","wc"),Dt(this,"version",2),Dt(this,"core"),Dt(this,"logger"),Dt(this,"events",new sp.EventEmitter),Dt(this,"provider"),Dt(this,"messages"),Dt(this,"subscriber"),Dt(this,"publisher"),Dt(this,"name",zBe),Dt(this,"transportExplicitlyClosed",!1),Dt(this,"initialized",!1),Dt(this,"connectionAttemptInProgress",!1),Dt(this,"relayUrl"),Dt(this,"projectId"),Dt(this,"packageName"),Dt(this,"bundleId"),Dt(this,"hasExperiencedNetworkDisruption",!1),Dt(this,"pingTimeout"),Dt(this,"heartBeatTimeout",(0,We.toMiliseconds)(We.THIRTY_SECONDS+We.FIVE_SECONDS)),Dt(this,"reconnectTimeout"),Dt(this,"connectPromise"),Dt(this,"reconnectInProgress",!1),Dt(this,"requestsInFlight",[]),Dt(this,"connectTimeout",(0,We.toMiliseconds)(We.ONE_SECOND*15)),Dt(this,"stalledRestartInProgress",!1),Dt(this,"stalledRestartTimeout"),Dt(this,"stalledRestartBackoff",0),Dt(this,"stalledRestartBaseInterval",(0,We.toMiliseconds)(We.ONE_SECOND*2)),Dt(this,"stalledRestartMaxInterval",(0,We.toMiliseconds)(We.THIRTY_SECONDS)),Dt(this,"request",async n=>{var s,o;this.logger.debug("Publishing Request Payload");let i=n.id||Tn().toString();await this.toEstablishConnection();try{this.logger.trace({id:i,method:n.method,topic:(s=n.params)==null?void 0:s.topic},"relayer.request - publishing...");let a=`${i}:${((o=n.params)==null?void 0:o.tag)||""}`;this.requestsInFlight.push(a);let c=await this.provider.request(n);return this.requestsInFlight=this.requestsInFlight.filter(l=>l!==a),c}catch(a){throw this.logger.debug(`Failed to Publish Request: ${i}`),a}}),Dt(this,"resetPingTimeout",()=>{M8()&&(clearTimeout(this.pingTimeout),this.pingTimeout=setTimeout(()=>{var n,s,o,i;try{this.logger.debug({},"pingTimeout: Connection stalled, terminating..."),(i=(o=(s=(n=this.provider)==null?void 0:n.connection)==null?void 0:s.socket)==null?void 0:o.terminate)==null||i.call(o)}catch(a){this.logger.warn(a,a?.message)}},this.heartBeatTimeout))}),Dt(this,"onPayloadHandler",n=>{this.onProviderPayload(n),this.resetPingTimeout()}),Dt(this,"onConnectHandler",()=>{this.logger.warn({},"Relayer connected \u{1F6DC}"),this.startPingTimeout(),this.events.emit(bn.connect)}),Dt(this,"onDisconnectHandler",()=>{this.logger.warn({},"Relayer disconnected \u{1F6D1}"),this.requestsInFlight=[],this.onProviderDisconnect()}),Dt(this,"onProviderErrorHandler",n=>{this.logger.fatal(`Fatal socket error: ${n.message}`),this.events.emit(bn.error,n),this.logger.fatal("Fatal socket error received, closing transport"),this.transportExplicitlyClosed=!0,clearTimeout(this.reconnectTimeout),this.reconnectTimeout=void 0,this.reconnectInProgress=!1,this.transportClose().catch(s=>this.logger.warn(s))}),Dt(this,"registerProviderListeners",()=>{this.provider.on(Wa.payload,this.onPayloadHandler),this.provider.on(Wa.connect,this.onConnectHandler),this.provider.on(Wa.disconnect,this.onDisconnectHandler),this.provider.on(Wa.error,this.onProviderErrorHandler)}),this.core=t.core,this.logger=ly({logger:(r=t.logger)!=null?r:jBe,name:this.name}),this.messages=new iB(this.logger,t.core),this.subscriber=new dB(this,this.logger),this.publisher=new cB(this,this.logger),this.projectId=t?.projectId,this.relayUrl=t?.relayUrl||aee,QY()?this.packageName=YO():XY()&&(this.bundleId=YO()),this.provider={}}async init(){this.logger.trace("Initialized"),this.registerEventListeners(),await Promise.all([this.messages.init(),this.subscriber.init()]),this.initialized=!0,this.transportOpen().catch(t=>this.logger.warn(t,t?.message))}get context(){return ar(this.logger)}get connected(){var t,r,n;return((n=(r=(t=this.provider)==null?void 0:t.connection)==null?void 0:r.socket)==null?void 0:n.readyState)===1||!1}get connecting(){var t,r,n;return((n=(r=(t=this.provider)==null?void 0:t.connection)==null?void 0:r.socket)==null?void 0:n.readyState)===0||this.connectPromise!==void 0||!1}async publish(t,r,n){this.isInitialized(),await this.publisher.publish(t,r,n),await this.recordMessageEvent({topic:t,message:r,publishedAt:Date.now(),transportType:$r.relay},DC.outbound)}async publishCustom(t){this.isInitialized(),await this.publisher.publishCustom(t)}async subscribe(t,r){var n,s,o;this.isInitialized(),(!(r!=null&&r.transportType)||r?.transportType==="relay")&&await this.toEstablishConnection();let i=typeof((n=r?.internal)==null?void 0:n.throwOnFailedPublish)>"u"?!0:(s=r?.internal)==null?void 0:s.throwOnFailedPublish,a=((o=this.subscriber.topicMap.get(t))==null?void 0:o[0])||"",c,l=u=>{u.topic===t&&(this.subscriber.off(ha.created,l),c())};return await Promise.all([new Promise(u=>{c=u,this.subscriber.on(ha.created,l)}),new Promise(async(u,d)=>{a=await this.subscriber.subscribe(t,KX({internal:{throwOnFailedPublish:i}},r)).catch(p=>{i&&d(p)})||a,u()})]),a}async unsubscribe(t,r){this.isInitialized(),await this.subscriber.unsubscribe(t,r)}on(t,r){this.events.on(t,r)}once(t,r){this.events.once(t,r)}off(t,r){this.events.off(t,r)}removeListener(t,r){this.events.removeListener(t,r)}async transportDisconnect(){this.provider.disconnect&&(this.hasExperiencedNetworkDisruption||this.connected)?await Hc(this.provider.disconnect(),2e3,"provider.disconnect()").catch(()=>this.onProviderDisconnect()):this.onProviderDisconnect()}async transportClose(){this.transportExplicitlyClosed=!0,clearTimeout(this.stalledRestartTimeout),this.stalledRestartInProgress=!1,this.stalledRestartBackoff=0,await this.resetTransport()}async transportOpen(t){if(!this.subscriber.hasAnyTopics){this.logger.info("Starting WS connection skipped because the client has no topics to work with.");return}if(this.connectPromise?(this.logger.debug({},"Waiting for existing connection attempt to resolve..."),await this.connectPromise,this.logger.debug({},"Existing connection attempt resolved")):(this.connectPromise=new Promise(async(r,n)=>{await this.connect(t).then(r).catch(n).finally(()=>{this.connectPromise=void 0})}),await this.connectPromise),!this.connected)throw new Error(`Couldn't establish socket connection to the relay server: ${this.relayUrl}`)}async restartTransport(t){this.logger.debug({},"Restarting transport..."),!this.connectionAttemptInProgress&&(this.relayUrl=t||this.relayUrl,await this.confirmOnlineStateOrThrow(),await this.resetTransport(),await this.transportOpen())}async resetTransport(){this.reconnectInProgress=!0,clearTimeout(this.reconnectTimeout),this.reconnectTimeout=void 0,await this.transportDisconnect(),await this.subscriber.stop(),this.reconnectInProgress=!1}async confirmOnlineStateOrThrow(){if(!await Ik())throw new Error("No internet connection detected. Please restart your network and try again.")}async handleBatchMessageEvents(t){if(t?.length===0){this.logger.trace("Batch message events is empty. Ignoring...");return}let r=t.sort((n,s)=>n.publishedAt-s.publishedAt);this.logger.debug(`Batch of ${r.length} message events sorted`);for(let n of r)try{await this.onMessageEvent(n)}catch(s){this.logger.warn(s,"Error while processing batch message event: "+s?.message)}this.logger.trace(`Batch of ${r.length} message events processed`)}async onLinkMessageEvent(t,r){let{topic:n}=t;if(!r.sessionExists){let s=cn(We.FIVE_MINUTES),o={topic:n,expiry:s,relay:{protocol:"irn"},active:!1};await this.core.pairing.pairings.set(n,o)}this.events.emit(bn.message,t),await this.recordMessageEvent(t,DC.inbound)}async connect(t){await this.confirmOnlineStateOrThrow(),t&&t!==this.relayUrl&&(this.relayUrl=t,await this.transportDisconnect()),this.connectionAttemptInProgress=!0,this.transportExplicitlyClosed=!1;let r=1;for(;r<6;){try{if(this.transportExplicitlyClosed)break;this.logger.debug({},`Connecting to ${this.relayUrl}, attempt: ${r}...`),await this.createProvider(),await new Promise(async(n,s)=>{let o=()=>{s(new Error("Connection interrupted while trying to connect"))};this.provider.once(Wa.disconnect,o),await Hc(new Promise((i,a)=>{this.provider.connect().then(i).catch(a)}),this.connectTimeout,`Socket stalled when trying to connect to ${this.relayUrl}`).catch(i=>{s(i)}).finally(()=>{this.provider.off(Wa.disconnect,o),clearTimeout(this.reconnectTimeout)}),await new Promise(async(i,a)=>{let c=()=>{s(new Error("Connection interrupted while trying to subscribe"))};this.provider.once(Wa.disconnect,c),await this.subscriber.start().then(i).catch(a).finally(()=>{this.provider.off(Wa.disconnect,c)})}),this.hasExperiencedNetworkDisruption=!1,n()})}catch(n){await this.subscriber.stop();let s=n;this.logger.warn({},s.message),this.hasExperiencedNetworkDisruption=!0}finally{this.connectionAttemptInProgress=!1}if(this.connected){this.logger.debug({},`Connected to ${this.relayUrl} successfully on attempt: ${r}`);break}await new Promise(n=>setTimeout(n,(0,We.toMiliseconds)(r*1))),r++}}startPingTimeout(){var t,r,n,s,o;if(M8())try{(r=(t=this.provider)==null?void 0:t.connection)!=null&&r.socket&&((o=(s=(n=this.provider)==null?void 0:n.connection)==null?void 0:s.socket)==null||o.on("ping",()=>{this.resetPingTimeout()})),this.resetPingTimeout()}catch(i){this.logger.warn(i,i?.message)}}async createProvider(){this.provider.connection&&this.unregisterProviderListeners();let t=await this.core.crypto.signJWT(this.relayUrl);this.provider=new pa(new fy(tJ({sdkVersion:Zk,protocol:this.protocol,version:this.version,relayUrl:this.relayUrl,projectId:this.projectId,auth:t,useOnCloseEvent:!0,bundleId:this.bundleId,packageName:this.packageName}))),this.registerProviderListeners()}async recordMessageEvent(t,r){let{topic:n,message:s}=t;await this.messages.set(n,s,r)}async shouldIgnoreMessageEvent(t){let{topic:r,message:n}=t;if(!n||n.length===0)return this.logger.warn(`Ignoring invalid/empty message: ${n}`),!0;if(!await this.subscriber.isKnownTopic(r))return this.logger.warn(`Ignoring message for unknown topic ${r}`),!0;let s=this.messages.has(r,n);return s&&this.logger.warn(`Ignoring duplicate message: ${n}`),s}async onProviderPayload(t){if(this.logger.debug("Incoming Relay Payload"),this.logger.trace({type:"payload",direction:"incoming",payload:t}),Fc(t)){if(!t.method.endsWith(VBe))return;let r=t.params,{topic:n,message:s,publishedAt:o,attestation:i}=r.data,a={topic:n,message:s,publishedAt:o,transportType:$r.relay,attestation:i};this.logger.debug("Emitting Relayer Payload"),this.logger.trace(KX({type:"event",event:r.id},a)),this.events.emit(r.id,a),await this.acknowledgePayload(t),await this.onMessageEvent(a)}else ua(t)&&this.events.emit(bn.message_ack,t)}async onMessageEvent(t){await this.shouldIgnoreMessageEvent(t)||(await this.recordMessageEvent(t,DC.inbound),this.events.emit(bn.message,t))}async acknowledgePayload(t){let r=ds(t.id,!0);await this.provider.connection.send(r)}unregisterProviderListeners(){this.provider.off(Wa.payload,this.onPayloadHandler),this.provider.off(Wa.connect,this.onConnectHandler),this.provider.off(Wa.disconnect,this.onDisconnectHandler),this.provider.off(Wa.error,this.onProviderErrorHandler),clearTimeout(this.pingTimeout)}async registerEventListeners(){let t=await Ik();BQ(async r=>{t!==r&&(t=r,r?await this.transportOpen().catch(n=>this.logger.error(n,n?.message)):(this.hasExperiencedNetworkDisruption=!0,await this.transportDisconnect(),this.transportExplicitlyClosed=!1))}),this.core.heartbeat.on(Lo.pulse,async()=>{if(!this.transportExplicitlyClosed&&!this.connected&&DQ())try{await this.confirmOnlineStateOrThrow(),await this.transportOpen()}catch(r){this.logger.warn(r,r?.message)}}),this.events.on(bn.connection_stalled,()=>{if(this.transportExplicitlyClosed||this.stalledRestartInProgress)return;this.stalledRestartInProgress=!0;let r=this.stalledRestartBackoff===0?0:Math.min(Math.pow(2,this.stalledRestartBackoff-1)*this.stalledRestartBaseInterval,this.stalledRestartMaxInterval);this.stalledRestartBackoff++,this.logger.warn(`Connection stalled, restarting transport${r?` in ${r}ms`:""}...`),this.stalledRestartTimeout=setTimeout(async()=>{try{if(this.transportExplicitlyClosed)return;await this.restartTransport()}catch(n){this.logger.error(n,n?.message)}finally{this.stalledRestartInProgress=!1}},r)})}async onProviderDisconnect(){clearTimeout(this.pingTimeout),this.events.emit(bn.disconnect),this.connectionAttemptInProgress=!1,!this.reconnectInProgress&&(this.reconnectInProgress=!0,await this.subscriber.stop(),this.subscriber.hasAnyTopics&&(this.transportExplicitlyClosed||(this.reconnectTimeout=setTimeout(async()=>{await this.transportOpen().catch(t=>this.logger.error(t,t?.message)),this.reconnectTimeout=void 0,this.reconnectInProgress=!1},(0,We.toMiliseconds)(qBe)))))}isInitialized(){if(!this.initialized){let{message:t}=Ae("NOT_INITIALIZED",this.name);throw new Error(t)}}async toEstablishConnection(){if(await this.confirmOnlineStateOrThrow(),!this.connected){if(this.connectPromise){await this.connectPromise;return}await this.connect()}}};function rLe(e,t){return e===t||Number.isNaN(e)&&Number.isNaN(t)}function ZX(e){return Object.getOwnPropertySymbols(e).filter(t=>Object.prototype.propertyIsEnumerable.call(e,t))}function GX(e){return e==null?e===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}var nLe="[object RegExp]",sLe="[object String]",oLe="[object Number]",iLe="[object Boolean]",YX="[object Arguments]",aLe="[object Symbol]",cLe="[object Date]",lLe="[object Map]",uLe="[object Set]",dLe="[object Array]",pLe="[object Function]",fLe="[object ArrayBuffer]",Kk="[object Object]",hLe="[object Error]",mLe="[object DataView]",gLe="[object Uint8Array]",yLe="[object Uint8ClampedArray]",wLe="[object Uint16Array]",bLe="[object Uint32Array]",xLe="[object BigUint64Array]",vLe="[object Int8Array]",ELe="[object Int16Array]",ALe="[object Int32Array]",CLe="[object BigInt64Array]",SLe="[object Float32Array]",ILe="[object Float64Array]";function JX(e){if(!e||typeof e!="object")return!1;let t=Object.getPrototypeOf(e);return t===null||t===Object.prototype||Object.getPrototypeOf(t)===null?Object.prototype.toString.call(e)==="[object Object]":!1}function _Le(e,t,r){return ax(e,t,void 0,void 0,void 0,void 0,r)}function ax(e,t,r,n,s,o,i){let a=i(e,t,r,n,s,o);if(a!==void 0)return a;if(typeof e==typeof t)switch(typeof e){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return e===t;case"number":return e===t||Object.is(e,t);case"function":return e===t;case"object":return cx(e,t,o,i)}return cx(e,t,o,i)}function cx(e,t,r,n){if(Object.is(e,t))return!0;let s=GX(e),o=GX(t);if(s===YX&&(s=Kk),o===YX&&(o=Kk),s!==o)return!1;switch(s){case sLe:return e.toString()===t.toString();case oLe:{let c=e.valueOf(),l=t.valueOf();return rLe(c,l)}case iLe:case cLe:case aLe:return Object.is(e.valueOf(),t.valueOf());case nLe:return e.source===t.source&&e.flags===t.flags;case pLe:return e===t}r=r??new Map;let i=r.get(e),a=r.get(t);if(i!=null&&a!=null)return i===t;r.set(e,t),r.set(t,e);try{switch(s){case lLe:{if(e.size!==t.size)return!1;for(let[c,l]of e.entries())if(!t.has(c)||!ax(l,t.get(c),c,e,t,r,n))return!1;return!0}case uLe:{if(e.size!==t.size)return!1;let c=Array.from(e.values()),l=Array.from(t.values());for(let u=0;u<c.length;u++){let d=c[u],p=l.findIndex(f=>ax(d,f,void 0,e,t,r,n));if(p===-1)return!1;l.splice(p,1)}return!0}case dLe:case gLe:case yLe:case wLe:case bLe:case xLe:case vLe:case ELe:case ALe:case CLe:case SLe:case ILe:{if(typeof Buffer<"u"&&Buffer.isBuffer(e)!==Buffer.isBuffer(t)||e.length!==t.length)return!1;for(let c=0;c<e.length;c++)if(!ax(e[c],t[c],c,e,t,r,n))return!1;return!0}case fLe:return e.byteLength!==t.byteLength?!1:cx(new Uint8Array(e),new Uint8Array(t),r,n);case mLe:return e.byteLength!==t.byteLength||e.byteOffset!==t.byteOffset?!1:cx(new Uint8Array(e),new Uint8Array(t),r,n);case hLe:return e.name===t.name&&e.message===t.message;case Kk:{if(!(cx(e.constructor,t.constructor,r,n)||JX(e)&&JX(t)))return!1;let c=[...Object.keys(e),...ZX(e)],l=[...Object.keys(t),...ZX(t)];if(c.length!==l.length)return!1;for(let u=0;u<c.length;u++){let d=c[u],p=e[d];if(!Object.hasOwn(t,d))return!1;let f=t[d];if(!ax(p,f,d,e,t,r,n))return!1}return!0}default:return!1}}finally{r.delete(e),r.delete(t)}}function TLe(){}function PLe(e,t){return _Le(e,t,TLe)}var NLe=Object.defineProperty,QX=Object.getOwnPropertySymbols,RLe=Object.prototype.hasOwnProperty,OLe=Object.prototype.propertyIsEnumerable,hB=(e,t,r)=>t in e?NLe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,XX=(e,t)=>{for(var r in t||(t={}))RLe.call(t,r)&&hB(e,r,t[r]);if(QX)for(var r of QX(t))OLe.call(t,r)&&hB(e,r,t[r]);return e},bi=(e,t,r)=>hB(e,typeof t!="symbol"?t+"":t,r),Vl=class extends mC{constructor(t,r,n,s=zl,o=void 0){super(t,r,n,s),this.core=t,this.logger=r,this.name=n,bi(this,"map",new Map),bi(this,"version",WBe),bi(this,"cached",[]),bi(this,"initialized",!1),bi(this,"getKey"),bi(this,"storagePrefix",zl),bi(this,"recentlyDeleted",[]),bi(this,"recentlyDeletedLimit",200),bi(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(i=>{this.getKey&&i!==null&&!In(i)?this.map.set(this.getKey(i),i):xQ(i)?this.map.set(i.id,i):vQ(i)&&this.map.set(i.topic,i)}),this.cached=[],this.initialized=!0)}),bi(this,"set",async(i,a)=>{this.isInitialized(),this.map.has(i)?await this.update(i,a):(this.logger.debug("Setting value"),this.logger.trace({type:"method",method:"set",key:i,value:a}),this.map.set(i,a),await this.persist())}),bi(this,"get",i=>(this.isInitialized(),this.logger.debug("Getting value"),this.logger.trace({type:"method",method:"get",key:i}),this.getData(i))),bi(this,"getAll",i=>(this.isInitialized(),i?this.values.filter(a=>Object.keys(i).every(c=>PLe(a[c],i[c]))):this.values)),bi(this,"update",async(i,a)=>{this.isInitialized(),this.logger.debug("Updating value"),this.logger.trace({type:"method",method:"update",key:i,update:a});let c=XX(XX({},this.getData(i)),a);this.map.set(i,c),await this.persist()}),bi(this,"delete",async(i,a)=>{this.isInitialized(),this.map.has(i)&&(this.logger.debug("Deleting value"),this.logger.trace({type:"method",method:"delete",key:i,reason:a}),this.map.delete(i),this.addToRecentlyDeleted(i),await this.persist())}),this.logger=_r(r,this.name),this.storagePrefix=s,this.getKey=o}get context(){return ar(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.map.size}get keys(){return Array.from(this.map.keys())}get values(){return Array.from(this.map.values())}addToRecentlyDeleted(t){this.recentlyDeleted.push(t),this.recentlyDeleted.length>=this.recentlyDeletedLimit&&this.recentlyDeleted.splice(0,this.recentlyDeletedLimit/2)}async setDataStore(t){await this.core.storage.setItem(this.storageKey,t)}async getDataStore(){return await this.core.storage.getItem(this.storageKey)}getData(t){let r=this.map.get(t);if(!r){if(this.recentlyDeleted.includes(t)){let{message:s}=Ae("MISSING_OR_INVALID",`Record was recently deleted - ${this.name}: ${t}`);throw this.logger.error(s),new Error(s)}let{message:n}=Ae("NO_MATCHING_KEY",`${this.name}: ${t}`);throw this.logger.error(n),new Error(n)}return r}async persist(){await this.setDataStore(this.values)}async restore(){try{let t=await this.getDataStore();if(typeof t>"u"||!t.length)return;if(this.map.size){let{message:r}=Ae("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),new Error(r)}this.cached=t,this.logger.debug(`Successfully Restored value for ${this.name}`),this.logger.trace({type:"method",method:"restore",value:this.values})}catch(t){this.logger.debug(`Failed to Restore value for ${this.name}`),this.logger.error(t)}}isInitialized(){if(!this.initialized){let{message:t}=Ae("NOT_INITIALIZED",this.name);throw new Error(t)}}},kLe=Object.defineProperty,BLe=(e,t,r)=>t in e?kLe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,$t=(e,t,r)=>BLe(e,typeof t!="symbol"?t+"":t,r),mB=class{constructor(t,r){this.core=t,this.logger=r,$t(this,"name",YBe),$t(this,"version",JBe),$t(this,"events",new sp.default),$t(this,"pairings"),$t(this,"initialized",!1),$t(this,"storagePrefix",zl),$t(this,"ignoredPayloadTypes",[$c]),$t(this,"registeredMethods",[]),$t(this,"init",async()=>{this.initialized||(await this.pairings.init(),await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.initialized=!0,this.logger.trace("Initialized"))}),$t(this,"register",({methods:n})=>{this.isInitialized(),this.registeredMethods=[...new Set([...this.registeredMethods,...n])]}),$t(this,"create",async n=>{this.isInitialized();let s=oC(),o=await this.core.crypto.setSymKey(s),i=cn(We.FIVE_MINUTES),a={protocol:CB},c={topic:o,expiry:i,relay:a,active:!1,methods:n?.methods},l=bk({protocol:this.core.protocol,version:this.core.version,topic:o,symKey:s,relay:a,expiryTimestamp:i,methods:n?.methods});return this.events.emit(ih.create,c),this.core.expirer.set(o,i),await this.pairings.set(o,c),await this.core.relayer.subscribe(o,{transportType:n?.transportType,internal:n?.internal}),{topic:o,uri:l}}),$t(this,"pair",async n=>{this.isInitialized();let s=this.core.eventClient.createEvent({properties:{topic:n?.uri,trace:[Vc.pairing_started]}});this.isValidPair(n,s);let{topic:o,symKey:i,relay:a,expiryTimestamp:c,methods:l}=wk(n.uri);s.props.properties.topic=o,s.addTrace(Vc.pairing_uri_validation_success),s.addTrace(Vc.pairing_uri_not_expired);let u;if(this.pairings.keys.includes(o)){if(u=this.pairings.get(o),s.addTrace(Vc.existing_pairing),u.active)throw s.setError(jl.active_pairing_already_exists),new Error(`Pairing already exists: ${o}. Please try again with a new connection URI.`);s.addTrace(Vc.pairing_not_expired)}let d=c||cn(We.FIVE_MINUTES),p={topic:o,relay:a,expiry:d,active:!1,methods:l};this.core.expirer.set(o,d),await this.pairings.set(o,p),s.addTrace(Vc.store_new_pairing),n.activatePairing&&await this.activate({topic:o}),this.events.emit(ih.create,p),s.addTrace(Vc.emit_inactive_pairing),this.core.crypto.keychain.has(o)||await this.core.crypto.setSymKey(i,o),s.addTrace(Vc.subscribing_pairing_topic);try{await this.core.relayer.confirmOnlineStateOrThrow()}catch{s.setError(jl.no_internet_connection)}try{await this.core.relayer.subscribe(o,{relay:a})}catch(f){throw s.setError(jl.subscribe_pairing_topic_failure),f}return s.addTrace(Vc.subscribe_pairing_topic_success),p}),$t(this,"activate",async({topic:n})=>{this.isInitialized();let s=cn(We.FIVE_MINUTES);this.core.expirer.set(n,s),await this.pairings.update(n,{active:!0,expiry:s})}),$t(this,"ping",async n=>{this.isInitialized(),await this.isValidPing(n),this.logger.warn("ping() is deprecated and will be removed in the next major release.");let{topic:s}=n;if(this.pairings.keys.includes(s)){let o=await this.sendRequest(s,"wc_pairingPing",{}),{done:i,resolve:a,reject:c}=rp();this.events.once(cr("pairing_ping",o),({error:l})=>{l?c(l):a()}),await i()}}),$t(this,"updateExpiry",async({topic:n,expiry:s})=>{this.isInitialized(),await this.pairings.update(n,{expiry:s})}),$t(this,"updateMetadata",async({topic:n,metadata:s})=>{this.isInitialized(),await this.pairings.update(n,{peerMetadata:s})}),$t(this,"getPairings",()=>(this.isInitialized(),this.pairings.values)),$t(this,"disconnect",async n=>{this.isInitialized(),await this.isValidDisconnect(n);let{topic:s}=n;this.pairings.keys.includes(s)&&(await this.sendRequest(s,"wc_pairingDelete",br("USER_DISCONNECTED")),await this.deletePairing(s))}),$t(this,"formatUriFromPairing",n=>{this.isInitialized();let{topic:s,relay:o,expiry:i,methods:a}=n,c=this.core.crypto.keychain.get(s);return bk({protocol:this.core.protocol,version:this.core.version,topic:s,symKey:c,relay:o,expiryTimestamp:i,methods:a})}),$t(this,"sendRequest",async(n,s,o)=>{let i=fr(s,o),a=await this.core.crypto.encode(n,i),c=sx[s].req;return this.core.history.set(n,i),this.core.relayer.publish(n,a,c),i.id}),$t(this,"sendResult",async(n,s,o)=>{let i=ds(n,o),a=await this.core.crypto.encode(s,i),c=(await this.core.history.get(s,n)).request.method,l=sx[c].res;await this.core.relayer.publish(s,a,l),await this.core.history.resolve(i)}),$t(this,"sendError",async(n,s,o)=>{let i=la(n,o),a=await this.core.crypto.encode(s,i),c=(await this.core.history.get(s,n)).request.method,l=sx[c]?sx[c].res:sx.unregistered_method.res;await this.core.relayer.publish(s,a,l),await this.core.history.resolve(i)}),$t(this,"deletePairing",async(n,s)=>{await this.core.relayer.unsubscribe(n),await Promise.all([this.pairings.delete(n,br("USER_DISCONNECTED")),this.core.crypto.deleteSymKey(n),s?Promise.resolve():this.core.expirer.del(n)])}),$t(this,"cleanup",async()=>{let n=this.pairings.getAll().filter(s=>ca(s.expiry));await Promise.all(n.map(s=>this.deletePairing(s.topic)))}),$t(this,"onRelayEventRequest",async n=>{let{topic:s,payload:o}=n;switch(o.method){case"wc_pairingPing":return await this.onPairingPingRequest(s,o);case"wc_pairingDelete":return await this.onPairingDeleteRequest(s,o);default:return await this.onUnknownRpcMethodRequest(s,o)}}),$t(this,"onRelayEventResponse",async n=>{let{topic:s,payload:o}=n,i=(await this.core.history.get(s,o.id)).request.method;return i==="wc_pairingPing"?this.onPairingPingResponse(s,o):this.onUnknownRpcMethodResponse(i)}),$t(this,"onPairingPingRequest",async(n,s)=>{let{id:o}=s;try{this.isValidPing({topic:n}),await this.sendResult(o,n,!0),this.events.emit(ih.ping,{id:o,topic:n})}catch(i){await this.sendError(o,n,i),this.logger.error(i)}}),$t(this,"onPairingPingResponse",(n,s)=>{let{id:o}=s;setTimeout(()=>{Qr(s)?this.events.emit(cr("pairing_ping",o),{}):Tr(s)&&this.events.emit(cr("pairing_ping",o),{error:s.error})},500)}),$t(this,"onPairingDeleteRequest",async(n,s)=>{let{id:o}=s;try{this.isValidDisconnect({topic:n}),await this.deletePairing(n),this.events.emit(ih.delete,{id:o,topic:n})}catch(i){await this.sendError(o,n,i),this.logger.error(i)}}),$t(this,"onUnknownRpcMethodRequest",async(n,s)=>{let{id:o,method:i}=s;try{if(this.registeredMethods.includes(i))return;let a=br("WC_METHOD_UNSUPPORTED",i);await this.sendError(o,n,a),this.logger.error(a)}catch(a){await this.sendError(o,n,a),this.logger.error(a)}}),$t(this,"onUnknownRpcMethodResponse",n=>{this.registeredMethods.includes(n)||this.logger.error(br("WC_METHOD_UNSUPPORTED",n))}),$t(this,"isValidPair",(n,s)=>{var o;if(!Qs(n)){let{message:a}=Ae("MISSING_OR_INVALID",`pair() params: ${n}`);throw s.setError(jl.malformed_pairing_uri),new Error(a)}if(!bQ(n.uri)){let{message:a}=Ae("MISSING_OR_INVALID",`pair() uri: ${n.uri}`);throw s.setError(jl.malformed_pairing_uri),new Error(a)}let i=wk(n?.uri);if(!((o=i?.relay)!=null&&o.protocol)){let{message:a}=Ae("MISSING_OR_INVALID","pair() uri#relay-protocol");throw s.setError(jl.malformed_pairing_uri),new Error(a)}if(!(i!=null&&i.symKey)){let{message:a}=Ae("MISSING_OR_INVALID","pair() uri#symKey");throw s.setError(jl.malformed_pairing_uri),new Error(a)}if(i!=null&&i.expiryTimestamp&&(0,We.toMiliseconds)(i?.expiryTimestamp)<Date.now()){s.setError(jl.pairing_expired);let{message:a}=Ae("EXPIRED","pair() URI has expired. Please try again with a new connection URI.");throw new Error(a)}}),$t(this,"isValidPing",async n=>{if(!Qs(n)){let{message:o}=Ae("MISSING_OR_INVALID",`ping() params: ${n}`);throw new Error(o)}let{topic:s}=n;await this.isValidPairingTopic(s)}),$t(this,"isValidDisconnect",async n=>{if(!Qs(n)){let{message:o}=Ae("MISSING_OR_INVALID",`disconnect() params: ${n}`);throw new Error(o)}let{topic:s}=n;await this.isValidPairingTopic(s)}),$t(this,"isValidPairingTopic",async n=>{if(!wn(n,!1)){let{message:s}=Ae("MISSING_OR_INVALID",`pairing topic should be a string: ${n}`);throw new Error(s)}if(!this.pairings.keys.includes(n)){let{message:s}=Ae("NO_MATCHING_KEY",`pairing topic doesn't exist: ${n}`);throw new Error(s)}if(ca(this.pairings.get(n).expiry)){await this.deletePairing(n);let{message:s}=Ae("EXPIRED",`pairing topic: ${n}`);throw new Error(s)}}),this.core=t,this.logger=_r(r,this.name),this.pairings=new Vl(this.core,this.logger,this.name,this.storagePrefix)}get context(){return ar(this.logger)}isInitialized(){if(!this.initialized){let{message:t}=Ae("NOT_INITIALIZED",this.name);throw new Error(t)}}registerRelayerEvents(){this.core.relayer.on(bn.message,async t=>{let{topic:r,message:n,transportType:s}=t;if(this.pairings.keys.includes(r)&&s!==$r.link_mode&&!this.ignoredPayloadTypes.includes(this.core.crypto.getPayloadType(n)))try{let o=await this.core.crypto.decode(r,n);Fc(o)?(this.core.history.set(r,o),await this.onRelayEventRequest({topic:r,payload:o})):ua(o)&&(await this.core.history.resolve(o),await this.onRelayEventResponse({topic:r,payload:o}),this.core.history.delete(r,o.id)),await this.core.relayer.messages.ack(r,n)}catch(o){this.logger.error(o)}})}registerExpirerEvents(){this.core.expirer.on(ma.expired,async t=>{let{topic:r}=GA(t.target);r&&this.pairings.keys.includes(r)&&(await this.deletePairing(r,!0),this.events.emit(ih.expire,{topic:r}))})}},DLe=Object.defineProperty,ULe=(e,t,r)=>t in e?DLe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Ns=(e,t,r)=>ULe(e,typeof t!="symbol"?t+"":t,r),gB=class extends dC{constructor(t,r){super(t,r),this.core=t,this.logger=r,Ns(this,"records",new Map),Ns(this,"events",new sp.EventEmitter),Ns(this,"name",QBe),Ns(this,"version",XBe),Ns(this,"cached",[]),Ns(this,"initialized",!1),Ns(this,"storagePrefix",zl),Ns(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(n=>this.records.set(n.id,n)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),Ns(this,"set",(n,s,o)=>{if(this.isInitialized(),this.logger.debug("Setting JSON-RPC request history record"),this.logger.trace({type:"method",method:"set",topic:n,request:s,chainId:o}),this.records.has(s.id))return;let i={id:s.id,topic:n,request:{method:s.method,params:s.params||null},chainId:o,expiry:cn(We.THIRTY_DAYS)};this.records.set(i.id,i),this.persist(),this.events.emit(zc.created,i)}),Ns(this,"resolve",async n=>{if(this.isInitialized(),this.logger.debug("Updating JSON-RPC response history record"),this.logger.trace({type:"method",method:"update",response:n}),!this.records.has(n.id))return;let s=await this.getRecord(n.id);typeof s.response>"u"&&(s.response=Tr(n)?{error:n.error}:{result:n.result},this.records.set(s.id,s),this.persist(),this.events.emit(zc.updated,s))}),Ns(this,"get",async(n,s)=>(this.isInitialized(),this.logger.debug("Getting record"),this.logger.trace({type:"method",method:"get",topic:n,id:s}),await this.getRecord(s))),Ns(this,"delete",(n,s)=>{this.isInitialized(),this.logger.debug("Deleting record"),this.logger.trace({type:"method",method:"delete",id:s}),this.values.forEach(o=>{if(o.topic===n){if(typeof s<"u"&&o.id!==s)return;this.records.delete(o.id),this.events.emit(zc.deleted,o)}}),this.persist()}),Ns(this,"exists",async(n,s)=>(this.isInitialized(),this.records.has(s)?(await this.getRecord(s)).topic===n:!1)),Ns(this,"on",(n,s)=>{this.events.on(n,s)}),Ns(this,"once",(n,s)=>{this.events.once(n,s)}),Ns(this,"off",(n,s)=>{this.events.off(n,s)}),Ns(this,"removeListener",(n,s)=>{this.events.removeListener(n,s)}),this.logger=_r(r,this.name)}get context(){return ar(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get size(){return this.records.size}get keys(){return Array.from(this.records.keys())}get values(){return Array.from(this.records.values())}get pending(){let t=[];return this.values.forEach(r=>{if(typeof r.response<"u")return;let n={topic:r.topic,request:fr(r.request.method,r.request.params,r.id),chainId:r.chainId};return t.push(n)}),t}async setJsonRpcRecords(t){await this.core.storage.setItem(this.storageKey,t)}async getJsonRpcRecords(){return await this.core.storage.getItem(this.storageKey)}getRecord(t){this.isInitialized();let r=this.records.get(t);if(!r){let{message:n}=Ae("NO_MATCHING_KEY",`${this.name}: ${t}`);throw new Error(n)}return r}async persist(){await this.setJsonRpcRecords(this.values),this.events.emit(zc.sync)}async restore(){try{let t=await this.getJsonRpcRecords();if(typeof t>"u"||!t.length)return;if(this.records.size){let{message:r}=Ae("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),new Error(r)}this.cached=t,this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",records:this.values})}catch(t){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(t)}}registerEventListeners(){this.events.on(zc.created,t=>{let r=zc.created;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,record:t})}),this.events.on(zc.updated,t=>{let r=zc.updated;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,record:t})}),this.events.on(zc.deleted,t=>{let r=zc.deleted;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,record:t})}),this.core.heartbeat.on(Lo.pulse,()=>{this.cleanup()})}cleanup(){try{this.isInitialized();let t=!1;this.records.forEach(r=>{(0,We.toMiliseconds)(r.expiry||0)-Date.now()<=0&&(this.logger.info(`Deleting expired history log: ${r.id}`),this.records.delete(r.id),this.events.emit(zc.deleted,r,!1),t=!0)}),t&&this.persist()}catch(t){this.logger.warn(t)}}isInitialized(){if(!this.initialized){let{message:t}=Ae("NOT_INITIALIZED",this.name);throw new Error(t)}}},LLe=Object.defineProperty,MLe=(e,t,r)=>t in e?LLe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,eo=(e,t,r)=>MLe(e,typeof t!="symbol"?t+"":t,r),yB=class extends yC{constructor(t,r){super(t,r),this.core=t,this.logger=r,eo(this,"expirations",new Map),eo(this,"events",new sp.EventEmitter),eo(this,"name",eDe),eo(this,"version",tDe),eo(this,"cached",[]),eo(this,"initialized",!1),eo(this,"storagePrefix",zl),eo(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(n=>this.expirations.set(n.target,n)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),eo(this,"has",n=>{try{let s=this.formatTarget(n);return typeof this.getExpiration(s)<"u"}catch{return!1}}),eo(this,"set",(n,s)=>{this.isInitialized();let o=this.formatTarget(n),i={target:o,expiry:s};this.expirations.set(o,i),this.checkExpiry(o,i),this.events.emit(ma.created,{target:o,expiration:i})}),eo(this,"get",n=>{this.isInitialized();let s=this.formatTarget(n);return this.getExpiration(s)}),eo(this,"del",n=>{if(this.isInitialized(),this.has(n)){let s=this.formatTarget(n),o=this.getExpiration(s);this.expirations.delete(s),this.events.emit(ma.deleted,{target:s,expiration:o})}}),eo(this,"on",(n,s)=>{this.events.on(n,s)}),eo(this,"once",(n,s)=>{this.events.once(n,s)}),eo(this,"off",(n,s)=>{this.events.off(n,s)}),eo(this,"removeListener",(n,s)=>{this.events.removeListener(n,s)}),this.logger=_r(r,this.name)}get context(){return ar(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.expirations.size}get keys(){return Array.from(this.expirations.keys())}get values(){return Array.from(this.expirations.values())}formatTarget(t){if(typeof t=="string")return nJ(t);if(typeof t=="number")return sJ(t);let{message:r}=Ae("UNKNOWN_TYPE",`Target type: ${typeof t}`);throw new Error(r)}async setExpirations(t){await this.core.storage.setItem(this.storageKey,t)}async getExpirations(){return await this.core.storage.getItem(this.storageKey)}async persist(){await this.setExpirations(this.values),this.events.emit(ma.sync)}async restore(){try{let t=await this.getExpirations();if(typeof t>"u"||!t.length)return;if(this.expirations.size){let{message:r}=Ae("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),new Error(r)}this.cached=t,this.logger.debug(`Successfully Restored expirations for ${this.name}`),this.logger.trace({type:"method",method:"restore",expirations:this.values})}catch(t){this.logger.debug(`Failed to Restore expirations for ${this.name}`),this.logger.error(t)}}getExpiration(t){let r=this.expirations.get(t);if(!r){let{message:n}=Ae("NO_MATCHING_KEY",`${this.name}: ${t}`);throw this.logger.warn(n),new Error(n)}return r}checkExpiry(t,r){let{expiry:n}=r;(0,We.toMiliseconds)(n)-Date.now()<=0&&this.expire(t,r)}expire(t,r){this.expirations.delete(t),this.events.emit(ma.expired,{target:t,expiration:r})}checkExpirations(){this.core.relayer.connected&&this.expirations.forEach((t,r)=>this.checkExpiry(r,t))}registerEventListeners(){this.core.heartbeat.on(Lo.pulse,()=>this.checkExpirations()),this.events.on(ma.created,t=>{let r=ma.created;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:t}),this.persist()}),this.events.on(ma.expired,t=>{let r=ma.expired;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:t}),this.persist()}),this.events.on(ma.deleted,t=>{let r=ma.deleted;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:t}),this.persist()})}isInitialized(){if(!this.initialized){let{message:t}=Ae("NOT_INITIALIZED",this.name);throw new Error(t)}}},HLe=Object.defineProperty,$Le=(e,t,r)=>t in e?HLe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Mn=(e,t,r)=>$Le(e,typeof t!="symbol"?t+"":t,r),wB=class extends wC{constructor(t,r,n){super(t,r,n),this.core=t,this.logger=r,this.store=n,Mn(this,"name",rDe),Mn(this,"abortController"),Mn(this,"isDevEnv"),Mn(this,"verifyUrlV3",sDe),Mn(this,"storagePrefix",zl),Mn(this,"version",iee),Mn(this,"publicKey"),Mn(this,"fetchPromise"),Mn(this,"init",async()=>{var s;this.isDevEnv||(this.publicKey=await this.store.getItem(this.storeKey),this.publicKey&&(0,We.toMiliseconds)((s=this.publicKey)==null?void 0:s.expiresAt)<Date.now()&&(this.logger.debug("verify v2 public key expired"),await this.removePublicKey()))}),Mn(this,"register",async s=>{if(!r1()||this.isDevEnv)return;let o=window.location.origin,{id:i,decryptedId:a}=s,c=`${this.verifyUrlV3}/attestation?projectId=${this.core.projectId}&origin=${o}&id=${i}&decryptedId=${a}`;try{let l=(0,see.getDocument)(),u=this.startAbortTimer(We.ONE_SECOND*5),d=await new Promise((p,f)=>{let h=()=>{window.removeEventListener("message",y),l.body.removeChild(g),f("attestation aborted")};this.abortController.signal.addEventListener("abort",h);let g=l.createElement("iframe");g.src=c,g.style.display="none",g.addEventListener("error",h,{signal:this.abortController.signal});let y=E=>{if(E.data&&typeof E.data=="string")try{let A=JSON.parse(E.data);if(A.type==="verify_attestation"){if(Ul(A.attestation).payload.id!==i)return;clearInterval(u),l.body.removeChild(g),this.abortController.signal.removeEventListener("abort",h),window.removeEventListener("message",y),p(A.attestation===null?"":A.attestation)}}catch(A){this.logger.warn(A)}};l.body.appendChild(g),window.addEventListener("message",y,{signal:this.abortController.signal})});return this.logger.debug(d,"jwt attestation"),d}catch(l){this.logger.warn(l)}return""}),Mn(this,"resolve",async s=>{if(this.isDevEnv)return"";let{attestationId:o,hash:i,encryptedId:a}=s;if(o===""){this.logger.debug("resolve: attestationId is empty, skipping");return}if(o){if(Ul(o).payload.id!==a)return;let l=await this.isValidJwtAttestation(o);if(l){if(!l.isVerified){this.logger.warn("resolve: jwt attestation: origin url not verified");return}return l}}if(!i)return;let c=this.getVerifyUrl(s?.verifyUrl);return this.fetchAttestation(i,c)}),Mn(this,"fetchAttestation",async(s,o)=>{this.logger.debug(`resolving attestation: ${s} from url: ${o}`);let i=this.startAbortTimer(We.ONE_SECOND*5),a=await fetch(`${o}/attestation/${s}?v2Supported=true`,{signal:this.abortController.signal});return clearTimeout(i),a.status===200?await a.json():void 0}),Mn(this,"getVerifyUrl",s=>{let o=s||gy;return oDe.includes(o)||(this.logger.info(`verify url: ${o}, not included in trusted list, assigning default: ${gy}`),o=gy),o}),Mn(this,"fetchPublicKey",async()=>{try{this.logger.debug(`fetching public key from: ${this.verifyUrlV3}`);let s=this.startAbortTimer(We.FIVE_SECONDS),o=await fetch(`${this.verifyUrlV3}/public-key`,{signal:this.abortController.signal});return clearTimeout(s),await o.json()}catch(s){this.logger.warn(s)}}),Mn(this,"persistPublicKey",async s=>{this.logger.debug(s,"persisting public key to local storage"),await this.store.setItem(this.storeKey,s),this.publicKey=s}),Mn(this,"removePublicKey",async()=>{this.logger.debug("removing verify v2 public key from storage"),await this.store.removeItem(this.storeKey),this.publicKey=void 0}),Mn(this,"isValidJwtAttestation",async s=>{let o=await this.getPublicKey();try{if(o)return this.validateAttestation(s,o)}catch(a){this.logger.error(a),this.logger.warn("error validating attestation")}let i=await this.fetchAndPersistPublicKey();try{if(i)return this.validateAttestation(s,i)}catch(a){this.logger.error(a),this.logger.warn("error validating attestation")}}),Mn(this,"getPublicKey",async()=>this.publicKey?this.publicKey:await this.fetchAndPersistPublicKey()),Mn(this,"fetchAndPersistPublicKey",async()=>{if(this.fetchPromise)return await this.fetchPromise,this.publicKey;this.fetchPromise=new Promise(async o=>{let i=await this.fetchPublicKey();i&&(await this.persistPublicKey(i),o(i))});let s=await this.fetchPromise;return this.fetchPromise=void 0,s}),Mn(this,"validateAttestation",(s,o)=>{let i=hQ(s,o.publicKey),a={hasExpired:(0,We.toMiliseconds)(i.exp)<Date.now(),payload:i};if(a.hasExpired)throw this.logger.warn("resolve: jwt attestation expired"),new Error("JWT attestation expired");return{origin:a.payload.origin,isScam:a.payload.isScam,isVerified:a.payload.isVerified}}),this.logger=_r(r,this.name),this.abortController=new AbortController,this.isDevEnv=$8(),this.init()}get storeKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//verify:public:key"}get context(){return ar(this.logger)}startAbortTimer(t){return this.abortController=new AbortController,setTimeout(()=>this.abortController.abort(),(0,We.toMiliseconds)(t))}},FLe=Object.defineProperty,jLe=(e,t,r)=>t in e?FLe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,eee=(e,t,r)=>jLe(e,typeof t!="symbol"?t+"":t,r),bB=class extends bC{constructor(t,r){super(t,r),this.projectId=t,this.logger=r,eee(this,"context",iDe),eee(this,"registerDeviceToken",async n=>{let{clientId:s,token:o,notificationType:i,enableEncrypted:a=!1}=n,c=`${aDe}/${this.projectId}/clients`;await fetch(c,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:s,type:i,token:o,always_raw:a})})}),this.logger=_r(r,this.context)}},zLe=Object.defineProperty,tee=Object.getOwnPropertySymbols,VLe=Object.prototype.hasOwnProperty,qLe=Object.prototype.propertyIsEnumerable,xB=(e,t,r)=>t in e?zLe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,ix=(e,t)=>{for(var r in t||(t={}))VLe.call(t,r)&&xB(e,r,t[r]);if(tee)for(var r of tee(t))qLe.call(t,r)&&xB(e,r,t[r]);return e},fs=(e,t,r)=>xB(e,typeof t!="symbol"?t+"":t,r),vB=class extends xC{constructor(t,r,n=!0){super(t,r,n),this.core=t,this.logger=r,fs(this,"context",lDe),fs(this,"storagePrefix",zl),fs(this,"storageVersion",cDe),fs(this,"events",new Map),fs(this,"shouldPersist",!1),fs(this,"init",async()=>{if(!$8())try{let s={eventId:ek(),timestamp:Date.now(),domain:this.getAppDomain(),props:{event:"INIT",type:"",properties:{client_id:await this.core.crypto.getClientId(),user_agent:QO(this.core.relayer.protocol,this.core.relayer.version,Zk)}}};await this.sendEvent([s])}catch(s){this.logger.warn(s)}}),fs(this,"createEvent",s=>{let{event:o="ERROR",type:i="",properties:{topic:a,trace:c}}=s,l=ek(),u=this.core.projectId||"",d=Date.now(),p=ix({eventId:l,timestamp:d,props:{event:o,type:i,properties:{topic:a,trace:c}},bundleId:u,domain:this.getAppDomain()},this.setMethods(l));return this.telemetryEnabled&&(this.events.set(l,p),this.shouldPersist=!0),p}),fs(this,"getEvent",s=>{let{eventId:o,topic:i}=s;if(o)return this.events.get(o);let a=Array.from(this.events.values()).find(c=>c.props.properties.topic===i);if(a)return ix(ix({},a),this.setMethods(a.eventId))}),fs(this,"deleteEvent",s=>{let{eventId:o}=s;this.events.delete(o),this.shouldPersist=!0}),fs(this,"setEventListeners",()=>{this.core.heartbeat.on(Lo.pulse,async()=>{this.shouldPersist&&await this.persist(),this.events.forEach(s=>{(0,We.fromMiliseconds)(Date.now())-(0,We.fromMiliseconds)(s.timestamp)>uDe&&(this.events.delete(s.eventId),this.shouldPersist=!0)})})}),fs(this,"setMethods",s=>({addTrace:o=>this.addTrace(s,o),setError:o=>this.setError(s,o)})),fs(this,"addTrace",(s,o)=>{let i=this.events.get(s);i&&(i.props.properties.trace.push(o),this.events.set(s,i),this.shouldPersist=!0)}),fs(this,"setError",(s,o)=>{let i=this.events.get(s);i&&(i.props.type=o,i.timestamp=Date.now(),this.events.set(s,i),this.shouldPersist=!0)}),fs(this,"persist",async()=>{await this.core.storage.setItem(this.storageKey,Array.from(this.events.values())),this.shouldPersist=!1}),fs(this,"restore",async()=>{try{let s=await this.core.storage.getItem(this.storageKey)||[];if(!s.length)return;s.forEach(o=>{this.events.set(o.eventId,ix(ix({},o),this.setMethods(o.eventId)))})}catch(s){this.logger.warn(s)}}),fs(this,"submit",async()=>{if(!this.telemetryEnabled||this.events.size===0)return;let s=[];for(let[o,i]of this.events)i.props.type&&s.push(i);if(s.length!==0)try{if((await this.sendEvent(s)).ok)for(let o of s)this.events.delete(o.eventId),this.shouldPersist=!0}catch(o){this.logger.warn(o)}}),fs(this,"sendEvent",async s=>{let o=this.getAppDomain()?"":"&sp=desktop";return await fetch(`${dDe}?projectId=${this.core.projectId}&st=events_sdk&sv=js-${Zk}${o}`,{method:"POST",body:JSON.stringify(s)})}),fs(this,"getAppDomain",()=>JO().url),this.logger=_r(r,this.context),this.telemetryEnabled=n,n?this.restore().then(async()=>{await this.submit(),this.setEventListeners()}):this.persist()}get storageKey(){return this.storagePrefix+this.storageVersion+this.core.customStoragePrefix+"//"+this.context}},WLe=Object.defineProperty,ree=Object.getOwnPropertySymbols,KLe=Object.prototype.hasOwnProperty,ZLe=Object.prototype.propertyIsEnumerable,EB=(e,t,r)=>t in e?WLe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,nee=(e,t)=>{for(var r in t||(t={}))KLe.call(t,r)&&EB(e,r,t[r]);if(ree)for(var r of ree(t))ZLe.call(t,r)&&EB(e,r,t[r]);return e},Hr=(e,t,r)=>EB(e,typeof t!="symbol"?t+"":t,r),AB=class e extends uC{constructor(t){var r;super(t),Hr(this,"protocol",oee),Hr(this,"version",iee),Hr(this,"name",UC),Hr(this,"relayUrl"),Hr(this,"projectId"),Hr(this,"customStoragePrefix"),Hr(this,"events",new sp.EventEmitter),Hr(this,"logger"),Hr(this,"heartbeat"),Hr(this,"relayer"),Hr(this,"crypto"),Hr(this,"storage"),Hr(this,"history"),Hr(this,"expirer"),Hr(this,"pairing"),Hr(this,"verify"),Hr(this,"echoClient"),Hr(this,"linkModeSupportedApps"),Hr(this,"eventClient"),Hr(this,"initialized",!1),Hr(this,"logChunkController"),Hr(this,"on",(a,c)=>this.events.on(a,c)),Hr(this,"once",(a,c)=>this.events.once(a,c)),Hr(this,"off",(a,c)=>this.events.off(a,c)),Hr(this,"removeListener",(a,c)=>this.events.removeListener(a,c)),Hr(this,"dispatchEnvelope",({topic:a,message:c,sessionExists:l})=>{if(!a||!c)return;let u={topic:a,message:c,publishedAt:Date.now(),transportType:$r.link_mode};this.relayer.onLinkMessageEvent(u,{sessionExists:l})});let n=this.getGlobalCore(t?.customStoragePrefix);if(n)try{return this.customStoragePrefix=n.customStoragePrefix,this.logger=n.logger,this.heartbeat=n.heartbeat,this.crypto=n.crypto,this.history=n.history,this.expirer=n.expirer,this.storage=n.storage,this.relayer=n.relayer,this.pairing=n.pairing,this.verify=n.verify,this.echoClient=n.echoClient,this.linkModeSupportedApps=n.linkModeSupportedApps,this.eventClient=n.eventClient,this.initialized=n.initialized,this.logChunkController=n.logChunkController,n}catch(a){console.warn("Failed to copy global core",a)}this.projectId=t?.projectId,this.relayUrl=t?.relayUrl||aee,this.customStoragePrefix=t!=null&&t.customStoragePrefix?`:${t.customStoragePrefix}`:"";let s=Y2({level:typeof t?.logger=="string"&&t.logger?t.logger:OBe.logger,name:UC}),{logger:o,chunkLoggerController:i}=Hl({opts:s,maxSizeInBytes:t?.maxLogBlobSizeInBytes,loggerOverride:t?.logger});this.logChunkController=i,(r=this.logChunkController)!=null&&r.downloadLogsBlobInBrowser&&(window.downloadLogsBlobInBrowser=async()=>{var a,c;(a=this.logChunkController)!=null&&a.downloadLogsBlobInBrowser&&((c=this.logChunkController)==null||c.downloadLogsBlobInBrowser({clientId:await this.crypto.getClientId()}))}),this.logger=_r(o,this.name),this.heartbeat=new uy,this.crypto=new sB(this,this.logger,t?.keychain),this.history=new gB(this,this.logger),this.expirer=new yB(this,this.logger),this.storage=t!=null&&t.storage?t.storage:new dy(nee(nee({},kBe),t?.storageOptions)),this.relayer=new fB({core:this,logger:this.logger,relayUrl:this.relayUrl,projectId:this.projectId}),this.pairing=new mB(this,this.logger),this.verify=new wB(this,this.logger,this.storage),this.echoClient=new bB(this.projectId||"",this.logger),this.linkModeSupportedApps=[],this.eventClient=new vB(this,this.logger,t?.telemetryEnabled),this.setGlobalCore(this)}static async init(t){let r=new e(t);await r.initialize();let n=await r.crypto.getClientId();return await r.storage.setItem(KBe,n),r}get context(){return ar(this.logger)}async start(){this.initialized||await this.initialize()}async getLogsBlob(){var t;return(t=this.logChunkController)==null?void 0:t.logsToBlob({clientId:await this.crypto.getClientId()})}async addLinkModeSupportedApp(t){this.linkModeSupportedApps.includes(t)||(this.linkModeSupportedApps.push(t),await this.storage.setItem(DX,this.linkModeSupportedApps))}async initialize(){this.logger.trace("Initialized");try{await this.crypto.init(),await this.history.init(),await this.expirer.init(),await this.relayer.init(),await this.heartbeat.init(),await this.pairing.init(),this.linkModeSupportedApps=await this.storage.getItem(DX)||[],this.initialized=!0,this.logger.info("Core Initialization Success")}catch(t){throw this.logger.warn(t,`Core Initialization Failure at epoch ${Date.now()}`),this.logger.error(t.message),t}}getGlobalCore(t=""){try{if(this.isGlobalCoreDisabled())return;let r=`_walletConnectCore_${t}`,n=`${r}_count`;return globalThis[n]=(globalThis[n]||0)+1,globalThis[n]>1&&console.warn(`WalletConnect Core is already initialized. This is probably a mistake and can lead to unexpected behavior. Init() was called ${globalThis[n]} times.`),globalThis[r]}catch(r){console.warn("Failed to get global WalletConnect core",r);return}}setGlobalCore(t){var r;try{if(this.isGlobalCoreDisabled())return;let n=`_walletConnectCore_${((r=t.opts)==null?void 0:r.customStoragePrefix)||""}`;globalThis[n]=t}catch(n){console.warn("Failed to set global WalletConnect core",n)}}isGlobalCoreDisabled(){try{return typeof process<"u"&&process.env.DISABLE_GLOBAL_CORE==="true"}catch{return!0}}},xee=AB;Ff();var It=Bt(Ld(),1);jc();var Cee="wc",See=2,Iee="client",MB=`${Cee}@${See}:${Iee}:`,SB={name:Iee,logger:"error",controller:!1,relayUrl:"wss://relay.walletconnect.org"};var vee="WALLETCONNECT_DEEPLINK_CHOICE";var GLe="proposal";var Eee="Proposal expired",YLe="session",wy=It.SEVEN_DAYS,JLe="engine",Os={wc_sessionPropose:{req:{ttl:It.FIVE_MINUTES,prompt:!0,tag:1100},res:{ttl:It.FIVE_MINUTES,prompt:!1,tag:1101},reject:{ttl:It.FIVE_MINUTES,prompt:!1,tag:1120},autoReject:{ttl:It.FIVE_MINUTES,prompt:!1,tag:1121}},wc_sessionSettle:{req:{ttl:It.FIVE_MINUTES,prompt:!1,tag:1102},res:{ttl:It.FIVE_MINUTES,prompt:!1,tag:1103}},wc_sessionUpdate:{req:{ttl:It.ONE_DAY,prompt:!1,tag:1104},res:{ttl:It.ONE_DAY,prompt:!1,tag:1105}},wc_sessionExtend:{req:{ttl:It.ONE_DAY,prompt:!1,tag:1106},res:{ttl:It.ONE_DAY,prompt:!1,tag:1107}},wc_sessionRequest:{req:{ttl:It.FIVE_MINUTES,prompt:!0,tag:1108},res:{ttl:It.FIVE_MINUTES,prompt:!1,tag:1109}},wc_sessionEvent:{req:{ttl:It.FIVE_MINUTES,prompt:!0,tag:1110},res:{ttl:It.FIVE_MINUTES,prompt:!1,tag:1111}},wc_sessionDelete:{req:{ttl:It.ONE_DAY,prompt:!1,tag:1112},res:{ttl:It.ONE_DAY,prompt:!1,tag:1113}},wc_sessionPing:{req:{ttl:It.ONE_DAY,prompt:!1,tag:1114},res:{ttl:It.ONE_DAY,prompt:!1,tag:1115}},wc_sessionAuthenticate:{req:{ttl:It.ONE_HOUR,prompt:!0,tag:1116},res:{ttl:It.ONE_HOUR,prompt:!1,tag:1117},reject:{ttl:It.FIVE_MINUTES,prompt:!1,tag:1118},autoReject:{ttl:It.FIVE_MINUTES,prompt:!1,tag:1119}}},IB={min:It.FIVE_MINUTES,max:It.SEVEN_DAYS},ql={idle:"IDLE",active:"ACTIVE"},QLe={eth_sendTransaction:{key:""},eth_sendRawTransaction:{key:""},wallet_sendCalls:{key:""},solana_signTransaction:{key:"signature"},solana_signAllTransactions:{key:"transactions"},solana_signAndSendTransaction:{key:"signature"},sui_signAndExecuteTransaction:{key:"digest"},sui_signTransaction:{key:""},hedera_signAndExecuteTransaction:{key:"transactionId"},hedera_executeTransaction:{key:"transactionId"},near_signTransaction:{key:""},near_signTransactions:{key:""},tron_signTransaction:{key:"txID"},xrpl_signTransaction:{key:""},xrpl_signTransactionFor:{key:""},algo_signTxn:{key:""},sendTransfer:{key:"txid"},stacks_stxTransfer:{key:"txId"},polkadot_signTransaction:{key:""},cosmos_signDirect:{key:""}},XLe="request",eMe=["wc_sessionPropose","wc_sessionRequest","wc_authRequest","wc_sessionAuthenticate"],tMe="wc";var rMe="auth",nMe="authKeys",sMe="pairingTopics",oMe="requests",$C=`${tMe}@${1.5}:${rMe}:`,MC=`${$C}:PUB_KEY`,iMe=Object.defineProperty,aMe=Object.defineProperties,cMe=Object.getOwnPropertyDescriptors,Aee=Object.getOwnPropertySymbols,lMe=Object.prototype.hasOwnProperty,uMe=Object.prototype.propertyIsEnumerable,TB=(e,t,r)=>t in e?iMe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,lr=(e,t)=>{for(var r in t||(t={}))lMe.call(t,r)&&TB(e,r,t[r]);if(Aee)for(var r of Aee(t))uMe.call(t,r)&&TB(e,r,t[r]);return e},ks=(e,t)=>aMe(e,cMe(t)),be=(e,t,r)=>TB(e,typeof t!="symbol"?t+"":t,r),PB=class extends EC{constructor(t){super(t),be(this,"name",JLe),be(this,"events",new HC.default),be(this,"initialized",!1),be(this,"requestQueue",{state:ql.idle,queue:[]}),be(this,"sessionRequestQueue",{state:ql.idle,queue:[]}),be(this,"emittedSessionRequests",new HA({limit:500})),be(this,"requestQueueDelay",It.ONE_SECOND),be(this,"expectedPairingMethodMap",new Map),be(this,"recentlyDeletedMap",new Map),be(this,"recentlyDeletedLimit",200),be(this,"relayMessageCache",[]),be(this,"pendingSessions",new Map),be(this,"init",async()=>{this.initialized||(await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.registerPairingEvents(),await this.registerLinkModeListeners(),this.client.core.pairing.register({methods:Object.keys(Os)}),this.initialized=!0,setTimeout(async()=>{await this.processPendingMessageEvents(),this.sessionRequestQueue.queue=this.getPendingSessionRequests(),this.processSessionRequestQueue()},(0,It.toMiliseconds)(this.requestQueueDelay)))}),be(this,"connect",async r=>{var n;this.isInitialized(),await this.confirmOnlineStateOrThrow();let s=ks(lr({},r),{requiredNamespaces:r.requiredNamespaces||{},optionalNamespaces:r.optionalNamespaces||{}});await this.isValidConnect(s),s.optionalNamespaces=yQ(s.requiredNamespaces,s.optionalNamespaces),s.requiredNamespaces={};let{pairingTopic:o,requiredNamespaces:i,optionalNamespaces:a,sessionProperties:c,scopedProperties:l,relays:u,authentication:d,walletPay:p}=s,f=((n=d?.[0])==null?void 0:n.ttl)||Os.wc_sessionPropose.req.ttl||It.FIVE_MINUTES;this.validateRequestExpiry(f);let h=o,g,y=!1;try{if(h){let k=this.client.core.pairing.pairings.get(h);this.client.logger.warn("connect() with existing pairing topic is deprecated and will be removed in the next major release."),y=k.active}}catch(k){throw this.client.logger.error(`connect() -> pairing.get(${h}) failed`),k}if(!h||!y){let{topic:k,uri:$}=await this.client.core.pairing.create({internal:{skipSubscribe:!0}});h=k,g=$}if(!h){let{message:k}=Ae("NO_MATCHING_KEY",`connect() pairing topic: ${h}`);throw new Error(k)}let E=await this.client.core.crypto.generateKeyPair(),A=cn(f),b=lr(ks(lr(lr({requiredNamespaces:i,optionalNamespaces:a,relays:u??[{protocol:CB}],proposer:{publicKey:E,metadata:this.client.metadata},expiryTimestamp:A,pairingTopic:h},c&&{sessionProperties:c}),l&&{scopedProperties:l}),{id:_n()}),(d||p)&&{requests:{authentication:d?.map(k=>{let{domain:$,chains:P,nonce:I,uri:S,exp:O,nbf:x,type:v,statement:N,requestId:D,resources:T,signatureTypes:L}=k;return{domain:$,chains:P,nonce:I,type:v??"caip122",aud:S,version:"1",iat:new Date().toISOString(),exp:O,nbf:x,statement:N,requestId:D,resources:T,signatureTypes:L}}),walletPay:p}}),w=cr("session_connect",b.id),{reject:C,resolve:_,done:B}=rp(f,Eee),U=({id:k})=>{k===b.id&&(this.client.events.off("proposal_expire",U),this.pendingSessions.delete(b.id),this.events.emit(w,{error:{message:Eee,code:0}}))};return this.client.events.on("proposal_expire",U),this.events.once(w,({error:k,session:$})=>{this.client.events.off("proposal_expire",U),k?C(k):$&&_($)}),await this.setProposal(b.id,b),await this.sendProposeSession({proposal:b,publishOpts:{internal:{throwOnFailedPublish:!0},tvf:{correlationId:b.id}}}).catch(k=>{throw this.deleteProposal(b.id),k}),{uri:g,approval:B}}),be(this,"pair",async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{return await this.client.core.pairing.pair(r)}catch(n){throw this.client.logger.error("pair() failed"),n}}),be(this,"approve",async r=>{var n,s,o;let i=this.client.core.eventClient.createEvent({properties:{topic:(n=r?.id)==null?void 0:n.toString(),trace:[Za.session_approve_started]}});try{this.isInitialized(),await this.confirmOnlineStateOrThrow()}catch($){throw i.setError(ah.no_internet_connection),$}try{await this.isValidProposalId(r?.id)}catch($){throw this.client.logger.error(`approve() -> proposal.get(${r?.id}) failed`),i.setError(ah.proposal_not_found),$}try{await this.isValidApprove(r)}catch($){throw this.client.logger.error("approve() -> isValidApprove() failed"),i.setError(ah.session_approve_namespace_validation_failure),$}let{id:a,relayProtocol:c,namespaces:l,sessionProperties:u,scopedProperties:d,sessionConfig:p,proposalRequestsResponses:f}=r,h=this.client.proposal.get(a);this.client.core.eventClient.deleteEvent({eventId:i.eventId});let{pairingTopic:g,proposer:y,requiredNamespaces:E,optionalNamespaces:A}=h,b=(s=this.client.core.eventClient)==null?void 0:s.getEvent({topic:g});b||(b=(o=this.client.core.eventClient)==null?void 0:o.createEvent({type:Za.session_approve_started,properties:{topic:g,trace:[Za.session_approve_started,Za.session_namespaces_validation_success]}}));let w=await this.client.core.crypto.generateKeyPair(),C=y.publicKey,_=await this.client.core.crypto.generateSharedKey(w,C),B=ks(lr(lr(lr({relay:{protocol:c??"irn"},namespaces:l,controller:{publicKey:w,metadata:this.client.metadata},expiry:cn(wy)},u&&{sessionProperties:u}),d&&{scopedProperties:d}),p&&{sessionConfig:p}),{proposalRequestsResponses:f}),U=$r.relay;b.addTrace(Za.subscribing_session_topic);try{await this.client.core.relayer.subscribe(_,{transportType:U,internal:{skipSubscribe:!0}})}catch($){throw b.setError(ah.subscribe_session_topic_failure),$}b.addTrace(Za.subscribe_session_topic_success);let k=ks(lr({},B),{topic:_,requiredNamespaces:E,optionalNamespaces:A,pairingTopic:g,acknowledged:!1,self:B.controller,peer:{publicKey:y.publicKey,metadata:y.metadata},controller:w,transportType:$r.relay,authentication:f?.authentication,walletPayResult:f?.walletPay});await this.client.session.set(_,k),b.addTrace(Za.store_session);try{await this.sendApproveSession({sessionTopic:_,proposal:h,pairingProposalResponse:{relay:{protocol:c??"irn"},responderPublicKey:w},sessionSettleRequest:B,publishOpts:{internal:{throwOnFailedPublish:!0},tvf:lr({correlationId:a},this.getTVFApproveParams(k))}}),b.addTrace(Za.session_approve_publish_success)}catch($){throw this.client.logger.error($),this.client.session.delete(_,br("USER_DISCONNECTED")),await this.client.core.relayer.unsubscribe(_),$}return this.client.core.eventClient.deleteEvent({eventId:b.eventId}),await this.client.core.pairing.updateMetadata({topic:g,metadata:y.metadata}),await this.deleteProposal(a),await this.client.core.pairing.activate({topic:g}),await this.setExpiry(_,cn(wy)),{topic:_,acknowledged:()=>Promise.resolve(this.client.session.get(_))}}),be(this,"reject",async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidReject(r)}catch(i){throw this.client.logger.error("reject() -> isValidReject() failed"),i}let{id:n,reason:s}=r,o;try{o=this.client.proposal.get(n).pairingTopic}catch(i){throw this.client.logger.error(`reject() -> proposal.get(${n}) failed`),i}o&&await this.sendError({id:n,topic:o,error:s,rpcOpts:Os.wc_sessionPropose.reject}),await this.deleteProposal(n)}),be(this,"update",async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidUpdate(r)}catch(d){throw this.client.logger.error("update() -> isValidUpdate() failed"),d}let{topic:n,namespaces:s}=r,{done:o,resolve:i,reject:a}=rp(It.FIVE_MINUTES,"Session update request expired without receiving any acknowledgement"),c=_n(),l=Tn().toString(),u=this.client.session.get(n).namespaces;return this.events.once(cr("session_update",c),({error:d})=>{d?a(d):i()}),await this.client.session.update(n,{namespaces:s}),await this.sendRequest({topic:n,method:"wc_sessionUpdate",params:{namespaces:s},throwOnFailedPublish:!0,clientRpcId:c,relayRpcId:l}).catch(d=>{this.client.logger.error(d),this.client.session.update(n,{namespaces:u}),a(d)}),{acknowledged:o}}),be(this,"extend",async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidExtend(r)}catch(c){throw this.client.logger.error("extend() -> isValidExtend() failed"),c}let{topic:n}=r,s=_n(),{done:o,resolve:i,reject:a}=rp(It.FIVE_MINUTES,"Session extend request expired without receiving any acknowledgement");return this.events.once(cr("session_extend",s),({error:c})=>{c?a(c):i()}),await this.setExpiry(n,cn(wy)),this.sendRequest({topic:n,method:"wc_sessionExtend",params:{},clientRpcId:s,throwOnFailedPublish:!0}).catch(c=>{a(c)}),{acknowledged:o}}),be(this,"request",async r=>{this.isInitialized();try{await this.isValidRequest(r)}catch(y){throw this.client.logger.error("request() -> isValidRequest() failed"),y}let{chainId:n,request:s,topic:o,expiry:i=Os.wc_sessionRequest.req.ttl}=r,a=this.client.session.get(o);a?.transportType===$r.relay&&await this.confirmOnlineStateOrThrow();let c=_n(),l=Tn().toString(),{done:u,resolve:d,reject:p}=rp(i,"Request expired. Please try again.");this.events.once(cr("session_request",c),({error:y,result:E})=>{y?p(y):d(E)});let f="wc_sessionRequest",h=this.getAppLinkIfEnabled(a.peer.metadata,a.transportType);if(h)return await this.sendRequest({clientRpcId:c,relayRpcId:l,topic:o,method:f,params:{request:ks(lr({},s),{expiryTimestamp:cn(i)}),chainId:n},expiry:i,throwOnFailedPublish:!0,appLink:h}).catch(y=>p(y)),this.client.events.emit("session_request_sent",{topic:o,request:s,chainId:n,id:c}),await u();let g={request:ks(lr({},s),{expiryTimestamp:cn(i)}),chainId:n};return await Promise.all([new Promise(async y=>{await this.sendRequest({clientRpcId:c,relayRpcId:l,topic:o,method:f,params:g,expiry:i,throwOnFailedPublish:!0,tvf:this.getTVFParams(c,g)}).catch(E=>p(E)),this.client.events.emit("session_request_sent",{topic:o,request:s,chainId:n,id:c}),y()}),new Promise(async y=>{var E;if(!((E=a.sessionConfig)!=null&&E.disableDeepLink)){let A=await iJ(this.client.core.storage,vee);await oJ({id:c,topic:o,wcDeepLink:A})}y()}),u()]).then(y=>y[2])}),be(this,"respond",async r=>{var n,s;this.isInitialized();let o=this.client.core.eventClient.createEvent({properties:{topic:r?.topic||((s=(n=r?.response)==null?void 0:n.id)==null?void 0:s.toString()),trace:[Za.session_request_response_started]}});try{await this.isValidRespond(r)}catch(d){throw o.addTrace(d?.message),o.setError(ah.session_request_response_validation_failure),d}o.addTrace(Za.session_request_response_validation_success);let{topic:i,response:a}=r,{id:c}=a,l=this.client.session.get(i);l.transportType===$r.relay&&await this.confirmOnlineStateOrThrow();let u=this.getAppLinkIfEnabled(l.peer.metadata,l.transportType);try{o.addTrace(Za.session_request_response_publish_started),Qr(a)?await this.sendResult({id:c,topic:i,result:a.result,throwOnFailedPublish:!0,appLink:u}):Tr(a)&&await this.sendError({id:c,topic:i,error:a.error,appLink:u}),this.cleanupAfterResponse(r)}catch(d){throw o.addTrace(d?.message),o.setError(ah.session_request_response_publish_failure),d}}),be(this,"ping",async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidPing(r)}catch(s){throw this.client.logger.error("ping() -> isValidPing() failed"),s}let{topic:n}=r;if(this.client.session.keys.includes(n)){let s=_n(),o=Tn().toString(),{done:i,resolve:a,reject:c}=rp(It.FIVE_MINUTES,"Ping request expired without receiving any acknowledgement");this.events.once(cr("session_ping",s),({error:l})=>{l?c(l):a()}),await Promise.all([this.sendRequest({topic:n,method:"wc_sessionPing",params:{},throwOnFailedPublish:!0,clientRpcId:s,relayRpcId:o}),i()])}else this.client.core.pairing.pairings.keys.includes(n)&&(this.client.logger.warn("ping() on pairing topic is deprecated and will be removed in the next major release."),await this.client.core.pairing.ping({topic:n}))}),be(this,"emit",async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidEmit(r);let{topic:n,event:s,chainId:o}=r,i=Tn().toString(),a=_n();await this.sendRequest({topic:n,method:"wc_sessionEvent",params:{event:s,chainId:o},throwOnFailedPublish:!0,relayRpcId:i,clientRpcId:a})}),be(this,"disconnect",async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidDisconnect(r);let{topic:n}=r;if(this.client.session.keys.includes(n))await this.sendRequest({topic:n,method:"wc_sessionDelete",params:br("USER_DISCONNECTED"),throwOnFailedPublish:!0}),await this.deleteSession({topic:n,emitEvent:!1});else if(this.client.core.pairing.pairings.keys.includes(n))await this.client.core.pairing.disconnect({topic:n});else{let{message:s}=Ae("MISMATCHED_TOPIC",`Session or pairing topic not found: ${n}`);throw new Error(s)}}),be(this,"find",r=>(this.isInitialized(),this.client.session.getAll().filter(n=>wQ(n,r)))),be(this,"getPendingSessionRequests",()=>this.client.pendingRequest.getAll()),be(this,"authenticate",async(r,n)=>{var s;this.isInitialized(),this.isValidAuthenticate(r);let o=n&&this.client.core.linkModeSupportedApps.includes(n)&&((s=this.client.metadata.redirect)==null?void 0:s.linkMode),i=o?$r.link_mode:$r.relay;i===$r.relay&&await this.confirmOnlineStateOrThrow();let{chains:a,statement:c="",uri:l,domain:u,nonce:d,type:p,exp:f,nbf:h,methods:g=[],expiry:y}=r,E=[...r.resources||[]],{topic:A,uri:b}=await this.client.core.pairing.create({methods:["wc_sessionAuthenticate"],transportType:i});this.client.logger.info({message:"Generated new pairing",pairing:{topic:A,uri:b}});let w=await this.client.core.crypto.generateKeyPair(),C=iy(w);if(await Promise.all([this.client.auth.authKeys.set(MC,{responseTopic:C,publicKey:w}),this.client.auth.pairingTopics.set(C,{topic:C,pairingTopic:A})]),await this.client.core.relayer.subscribe(C,{transportType:i}),this.client.logger.info(`sending request to new pairing topic: ${A}`),g.length>0){let{namespace:T}=Mc(a[0]),L=_J(T,"request",g);z8(E)&&(L=TJ(L,E.pop())),E.push(L)}let _=y&&y>Os.wc_sessionAuthenticate.req.ttl?y:Os.wc_sessionAuthenticate.req.ttl,B={authPayload:{type:p??"caip122",chains:a,statement:c,aud:l,domain:u,version:"1",nonce:d,iat:new Date().toISOString(),exp:f,nbf:h,resources:E},requester:{publicKey:w,metadata:this.client.metadata},expiryTimestamp:cn(_)},U={eip155:{chains:a,methods:[...new Set(["personal_sign",...g])],events:["chainChanged","accountsChanged"]}},k={requiredNamespaces:{},optionalNamespaces:U,relays:[{protocol:"irn"}],pairingTopic:A,proposer:{publicKey:w,metadata:this.client.metadata},expiryTimestamp:cn(Os.wc_sessionPropose.req.ttl),id:_n()},{done:$,resolve:P,reject:I}=rp(_,"Request expired"),S=_n(),O=cr("session_connect",k.id),x=cr("session_request",S),v=async({error:T,session:L})=>{this.events.off(x,N),T?I(T):L&&P({session:L})},N=async T=>{var L,j,q;if(await this.deletePendingAuthRequest(S,{message:"fulfilled",code:0}),T.error){let de=br("WC_METHOD_UNSUPPORTED","wc_sessionAuthenticate");return T.error.code===de.code?void 0:(this.events.off(O,v),I(T.error.message))}await this.deleteProposal(k.id),this.events.off(O,v);let{cacaos:ie,responder:ne}=T.result,Y=[],me=[];for(let de of ie){await ik({cacao:de,projectId:this.client.core.projectId})||(this.client.logger.error(de,"Signature verification failed"),I(br("SESSION_SETTLEMENT_FAILED","Signature verification failed")));let{p:Pe}=de,bt=z8(Pe.resources),At=[eC(Pe.iss)],vt=j8(Pe.iss);if(bt){let Zt=ck(bt),Lr=lk(bt);Y.push(...Zt),At.push(...Lr)}for(let Zt of At)me.push(`${Zt}:${vt}`)}let ue=await this.client.core.crypto.generateSharedKey(w,ne.publicKey),Te;Y.length>0&&(Te={topic:ue,acknowledged:!0,self:{publicKey:w,metadata:this.client.metadata},peer:ne,controller:ne.publicKey,expiry:cn(wy),requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:A,namespaces:vk([...new Set(Y)],[...new Set(me)]),transportType:i},await this.client.core.relayer.subscribe(ue,{transportType:i}),await this.client.session.set(ue,Te),A&&await this.client.core.pairing.updateMetadata({topic:A,metadata:ne.metadata}),Te=this.client.session.get(ue)),(L=this.client.metadata.redirect)!=null&&L.linkMode&&(j=ne.metadata.redirect)!=null&&j.linkMode&&(q=ne.metadata.redirect)!=null&&q.universal&&n&&(this.client.core.addLinkModeSupportedApp(ne.metadata.redirect.universal),this.client.session.update(ue,{transportType:$r.link_mode})),P({auths:ie,session:Te})};this.events.once(O,v),this.events.once(x,N);let D;try{if(o){let T=fr("wc_sessionAuthenticate",B,S);this.client.core.history.set(A,T);let L=await this.client.core.crypto.encode("",T,{type:oy,encoding:np});D=K8(n,A,L)}else await Promise.all([this.sendRequest({topic:A,method:"wc_sessionAuthenticate",params:B,expiry:r.expiry,throwOnFailedPublish:!0,clientRpcId:S}),this.sendRequest({topic:A,method:"wc_sessionPropose",params:k,expiry:Os.wc_sessionPropose.req.ttl,throwOnFailedPublish:!0,clientRpcId:k.id})])}catch(T){throw this.events.off(O,v),this.events.off(x,N),T}return await this.setProposal(k.id,k),await this.setAuthRequest(S,{request:ks(lr({},B),{verifyContext:{}}),pairingTopic:A,transportType:i}),{uri:D??b,response:$}}),be(this,"approveSessionAuthenticate",async r=>{let{id:n,auths:s}=r,o=this.client.core.eventClient.createEvent({properties:{topic:n.toString(),trace:[ch.authenticated_session_approve_started]}});try{this.isInitialized()}catch(y){throw o.setError(yy.no_internet_connection),y}let i=this.getPendingAuthRequest(n);if(!i)throw o.setError(yy.authenticated_session_pending_request_not_found),new Error(`Could not find pending auth request with id ${n}`);let a=i.transportType||$r.relay;a===$r.relay&&await this.confirmOnlineStateOrThrow();let c=i.requester.publicKey,l=await this.client.core.crypto.generateKeyPair(),u=iy(c),d={type:$c,receiverPublicKey:c,senderPublicKey:l},p=[],f=[];for(let y of s){if(!await ik({cacao:y,projectId:this.client.core.projectId})){o.setError(yy.invalid_cacao);let C=br("SESSION_SETTLEMENT_FAILED","Signature verification failed");throw await this.sendError({id:n,topic:u,error:C,encodeOpts:d}),new Error(C.message)}o.addTrace(ch.cacaos_verified);let{p:E}=y,A=z8(E.resources),b=[eC(E.iss)],w=j8(E.iss);if(A){let C=ck(A),_=lk(A);p.push(...C),b.push(..._)}for(let C of b)f.push(`${C}:${w}`)}let h=await this.client.core.crypto.generateSharedKey(l,c);o.addTrace(ch.create_authenticated_session_topic);let g;if(p?.length>0){g={topic:h,acknowledged:!0,self:{publicKey:l,metadata:this.client.metadata},peer:{publicKey:c,metadata:i.requester.metadata},controller:c,expiry:cn(wy),authentication:s,requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:i.pairingTopic,namespaces:vk([...new Set(p)],[...new Set(f)]),transportType:a},o.addTrace(ch.subscribing_authenticated_session_topic);try{await this.client.core.relayer.subscribe(h,{transportType:a})}catch(y){throw o.setError(yy.subscribe_authenticated_session_topic_failure),y}o.addTrace(ch.subscribe_authenticated_session_topic_success),await this.client.session.set(h,g),o.addTrace(ch.store_authenticated_session),await this.client.core.pairing.updateMetadata({topic:i.pairingTopic,metadata:i.requester.metadata})}o.addTrace(ch.publishing_authenticated_session_approve);try{await this.sendResult({topic:u,id:n,result:{cacaos:s,responder:{publicKey:l,metadata:this.client.metadata}},encodeOpts:d,throwOnFailedPublish:!0,appLink:this.getAppLinkIfEnabled(i.requester.metadata,a)})}catch(y){throw o.setError(yy.authenticated_session_approve_publish_failure),y}return await this.client.auth.requests.delete(n,{message:"fulfilled",code:0}),await this.client.core.pairing.activate({topic:i.pairingTopic}),this.client.core.eventClient.deleteEvent({eventId:o.eventId}),{session:g}}),be(this,"rejectSessionAuthenticate",async r=>{this.isInitialized();let{id:n,reason:s}=r,o=this.getPendingAuthRequest(n);if(!o)throw new Error(`Could not find pending auth request with id ${n}`);o.transportType===$r.relay&&await this.confirmOnlineStateOrThrow();let i=o.requester.publicKey,a=await this.client.core.crypto.generateKeyPair(),c=iy(i),l={type:$c,receiverPublicKey:i,senderPublicKey:a};await this.sendError({id:n,topic:c,error:s,encodeOpts:l,rpcOpts:Os.wc_sessionAuthenticate.reject,appLink:this.getAppLinkIfEnabled(o.requester.metadata,o.transportType)}),await this.client.auth.requests.delete(n,{message:"rejected",code:0}),await this.deleteProposal(n)}),be(this,"formatAuthMessage",r=>{this.isInitialized();let{request:n,iss:s}=r;return ak(n,s)}),be(this,"processRelayMessageCache",()=>{setTimeout(async()=>{if(this.relayMessageCache.length!==0)for(;this.relayMessageCache.length>0;)try{let r=this.relayMessageCache.shift();r&&await this.onRelayMessage(r)}catch(r){this.client.logger.error(r)}},50)}),be(this,"cleanupDuplicatePairings",async r=>{if(r.pairingTopic)try{let n=this.client.core.pairing.pairings.get(r.pairingTopic),s=this.client.core.pairing.pairings.getAll().filter(o=>{var i,a;return((i=o.peerMetadata)==null?void 0:i.url)&&((a=o.peerMetadata)==null?void 0:a.url)===r.peer.metadata.url&&o.topic&&o.topic!==n.topic});if(s.length===0)return;this.client.logger.info(`Cleaning up ${s.length} duplicate pairing(s)`),await Promise.all(s.map(o=>this.client.core.pairing.disconnect({topic:o.topic}))),this.client.logger.info("Duplicate pairings clean up finished")}catch(n){this.client.logger.error(n)}}),be(this,"deleteSession",async r=>{var n;let{topic:s,expirerHasDeleted:o=!1,emitEvent:i=!0,id:a=0}=r,{self:c}=this.client.session.get(s);await this.client.core.relayer.unsubscribe(s),await this.client.session.delete(s,br("USER_DISCONNECTED")),this.addToRecentlyDeleted(s,"session"),this.client.core.crypto.keychain.has(c.publicKey)&&await this.client.core.crypto.deleteKeyPair(c.publicKey),this.client.core.crypto.keychain.has(s)&&await this.client.core.crypto.deleteSymKey(s),o||this.client.core.expirer.del(s),this.client.core.storage.removeItem(vee).catch(l=>this.client.logger.warn(l)),s===((n=this.sessionRequestQueue.queue[0])==null?void 0:n.topic)&&(this.sessionRequestQueue.state=ql.idle),await Promise.all(this.getPendingSessionRequests().filter(l=>l.topic===s).map(l=>this.deletePendingSessionRequest(l.id,br("USER_DISCONNECTED")))),i&&this.client.events.emit("session_delete",{id:a,topic:s})}),be(this,"deleteProposal",async(r,n)=>{if(n)try{let s=this.client.proposal.get(r);this.client.core.eventClient.getEvent({topic:s.pairingTopic})?.setError(ah.proposal_expired)}catch{}await Promise.all([this.client.proposal.delete(r,br("USER_DISCONNECTED")),n?Promise.resolve():this.client.core.expirer.del(r)]),this.addToRecentlyDeleted(r,"proposal")}),be(this,"deletePendingSessionRequest",async(r,n,s=!1)=>{await Promise.all([this.client.pendingRequest.delete(r,n),s?Promise.resolve():this.client.core.expirer.del(r)]),this.addToRecentlyDeleted(r,"request"),this.sessionRequestQueue.queue=this.sessionRequestQueue.queue.filter(o=>o.id!==r),s&&(this.sessionRequestQueue.state=ql.idle,this.client.events.emit("session_request_expire",{id:r}))}),be(this,"deletePendingAuthRequest",async(r,n,s=!1)=>{await Promise.all([this.client.auth.requests.delete(r,n),s?Promise.resolve():this.client.core.expirer.del(r)])}),be(this,"setExpiry",async(r,n)=>{this.client.session.keys.includes(r)&&(this.client.core.expirer.set(r,n),await this.client.session.update(r,{expiry:n}))}),be(this,"setProposal",async(r,n)=>{this.client.core.expirer.set(r,cn(Os.wc_sessionPropose.req.ttl)),await this.client.proposal.set(r,n)}),be(this,"setAuthRequest",async(r,n)=>{let{request:s,pairingTopic:o,transportType:i=$r.relay}=n;this.client.core.expirer.set(r,s.expiryTimestamp),await this.client.auth.requests.set(r,{authPayload:s.authPayload,requester:s.requester,expiryTimestamp:s.expiryTimestamp,id:r,pairingTopic:o,verifyContext:s.verifyContext,transportType:i})}),be(this,"setPendingSessionRequest",async r=>{let{id:n,topic:s,params:o,verifyContext:i}=r,a=o.request.expiryTimestamp||cn(Os.wc_sessionRequest.req.ttl);this.client.core.expirer.set(n,a),await this.client.pendingRequest.set(n,{id:n,topic:s,params:o,verifyContext:i})}),be(this,"sendRequest",async r=>{let{topic:n,method:s,params:o,expiry:i,relayRpcId:a,clientRpcId:c,throwOnFailedPublish:l,appLink:u,tvf:d,publishOpts:p={}}=r,f=fr(s,o,c),h,g=!!u;try{let A=g?np:Js;h=await this.client.core.crypto.encode(n,f,{encoding:A})}catch(A){throw await this.cleanup(),this.client.logger.error(`sendRequest() -> core.crypto.encode() for topic ${n} failed`),A}let y;if(eMe.includes(s)){let A=wi(JSON.stringify(f)),b=wi(h);y=await this.client.core.verify.register({id:b,decryptedId:A})}let E=lr(lr({},Os[s].req),p);if(E.attestation=y,i&&(E.ttl=i),a&&(E.id=a),this.client.core.history.set(n,f),g){let A=K8(u,n,h);await globalThis.Linking.openURL(A,this.client.name)}else E.tvf=ks(lr({},d),{correlationId:f.id}),l?(E.internal=ks(lr({},E.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(n,h,E)):this.client.core.relayer.publish(n,h,E).catch(A=>this.client.logger.error(A));return f.id}),be(this,"sendProposeSession",async r=>{let{proposal:n,publishOpts:s}=r,o=fr("wc_sessionPropose",n,n.id);this.client.core.history.set(n.pairingTopic,o);let i=await this.client.core.crypto.encode(n.pairingTopic,o,{encoding:Js}),a=wi(JSON.stringify(o)),c=wi(i),l=await this.client.core.verify.register({id:c,decryptedId:a});await this.client.core.relayer.publishCustom({payload:{pairingTopic:n.pairingTopic,sessionProposal:i},opts:ks(lr({},s),{publishMethod:"wc_proposeSession",attestation:l})})}),be(this,"sendApproveSession",async r=>{let{sessionTopic:n,pairingProposalResponse:s,proposal:o,sessionSettleRequest:i,publishOpts:a}=r,c=ds(o.id,s),l=await this.client.core.crypto.encode(o.pairingTopic,c,{encoding:Js}),u=fr("wc_sessionSettle",i,a?.id),d=await this.client.core.crypto.encode(n,u,{encoding:Js});this.client.core.history.set(n,u),await this.client.core.relayer.publishCustom({payload:{sessionTopic:n,pairingTopic:o.pairingTopic,sessionProposalResponse:l,sessionSettlementRequest:d},opts:ks(lr({},a),{publishMethod:"wc_approveSession"})})}),be(this,"sendResult",async r=>{let{id:n,topic:s,result:o,throwOnFailedPublish:i,encodeOpts:a,appLink:c}=r,l=ds(n,o),u,d=c&&typeof globalThis?.Linking<"u";try{let h=d?np:Js;u=await this.client.core.crypto.encode(s,l,ks(lr({},a||{}),{encoding:h}))}catch(h){throw await this.cleanup(),this.client.logger.error(`sendResult() -> core.crypto.encode() for topic ${s} failed`),h}let p,f;try{p=await this.client.core.history.get(s,n);let h=p.request;try{f=this.getTVFParams(n,h.params,o)}catch(g){this.client.logger.warn(`sendResult() -> getTVFParams() failed: ${g?.message}`)}}catch(h){throw this.client.logger.error(`sendResult() -> history.get(${s}, ${n}) failed`),h}if(d){let h=K8(c,s,u);await globalThis.Linking.openURL(h,this.client.name)}else{let h=p.request.method,g=Os[h].res;g.tvf=ks(lr({},f),{correlationId:n}),i?(g.internal=ks(lr({},g.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(s,u,g)):this.client.core.relayer.publish(s,u,g).catch(y=>this.client.logger.error(y))}await this.client.core.history.resolve(l)}),be(this,"sendError",async r=>{let{id:n,topic:s,error:o,encodeOpts:i,rpcOpts:a,appLink:c}=r,l=la(n,o),u,d=c&&typeof globalThis?.Linking<"u";try{let f=d?np:Js;u=await this.client.core.crypto.encode(s,l,ks(lr({},i||{}),{encoding:f}))}catch(f){throw await this.cleanup(),this.client.logger.error(`sendError() -> core.crypto.encode() for topic ${s} failed`),f}let p;try{p=await this.client.core.history.get(s,n)}catch(f){throw this.client.logger.error(`sendError() -> history.get(${s}, ${n}) failed`),f}if(d){let f=K8(c,s,u);await globalThis.Linking.openURL(f,this.client.name)}else{let f=p.request.method,h=a||Os[f].res;this.client.core.relayer.publish(s,u,h)}await this.client.core.history.resolve(l)}),be(this,"cleanup",async()=>{let r=[],n=[];this.client.session.getAll().forEach(s=>{let o=!1;ca(s.expiry)&&(o=!0),this.client.core.crypto.keychain.has(s.topic)||(o=!0),o&&r.push(s.topic)}),this.client.proposal.getAll().forEach(s=>{ca(s.expiryTimestamp)&&n.push(s.id)}),await Promise.all([...r.map(s=>this.deleteSession({topic:s})),...n.map(s=>this.deleteProposal(s))])}),be(this,"onProviderMessageEvent",async r=>{!this.initialized||this.relayMessageCache.length>0?this.relayMessageCache.push(r):await this.onRelayMessage(r)}),be(this,"onRelayEventRequest",async r=>{this.requestQueue.queue.push(r),await this.processRequestsQueue()}),be(this,"processRequestsQueue",async()=>{if(this.requestQueue.state===ql.active){this.client.logger.info("Request queue already active, skipping...");return}for(this.client.logger.info(`Request queue starting with ${this.requestQueue.queue.length} requests`);this.requestQueue.queue.length>0;){this.requestQueue.state=ql.active;let r=this.requestQueue.queue.shift();if(r)try{await this.processRequest(r)}catch(n){this.client.logger.warn(n)}}this.requestQueue.state=ql.idle}),be(this,"processRequest",async r=>{let{topic:n,payload:s,attestation:o,transportType:i,encryptedId:a}=r,c=s.method;if(!this.shouldIgnorePairingRequest({topic:n,requestMethod:c}))switch(c){case"wc_sessionPropose":return await this.onSessionProposeRequest({topic:n,payload:s,attestation:o,encryptedId:a});case"wc_sessionSettle":return await this.onSessionSettleRequest(n,s);case"wc_sessionUpdate":return await this.onSessionUpdateRequest(n,s);case"wc_sessionExtend":return await this.onSessionExtendRequest(n,s);case"wc_sessionPing":return await this.onSessionPingRequest(n,s);case"wc_sessionDelete":return await this.onSessionDeleteRequest(n,s);case"wc_sessionRequest":return await this.onSessionRequest({topic:n,payload:s,attestation:o,encryptedId:a,transportType:i});case"wc_sessionEvent":return await this.onSessionEventRequest(n,s);case"wc_sessionAuthenticate":return await this.onSessionAuthenticateRequest({topic:n,payload:s,attestation:o,encryptedId:a,transportType:i});default:return this.client.logger.info(`Unsupported request method ${c}`)}}),be(this,"onRelayEventResponse",async r=>{let{topic:n,payload:s,transportType:o}=r,i=(await this.client.core.history.get(n,s.id)).request.method;switch(i){case"wc_sessionPropose":return this.onSessionProposeResponse(n,s,o);case"wc_sessionSettle":return this.onSessionSettleResponse(n,s);case"wc_sessionUpdate":return this.onSessionUpdateResponse(n,s);case"wc_sessionExtend":return this.onSessionExtendResponse(n,s);case"wc_sessionPing":return this.onSessionPingResponse(n,s);case"wc_sessionRequest":return this.onSessionRequestResponse(n,s);case"wc_sessionAuthenticate":return this.onSessionAuthenticateResponse(n,s);default:return this.client.logger.info(`Unsupported response method ${i}`)}}),be(this,"onRelayEventUnknownPayload",r=>{let{topic:n}=r,{message:s}=Ae("MISSING_OR_INVALID",`Decoded payload on topic ${n} is not identifiable as a JSON-RPC request or a response.`);throw new Error(s)}),be(this,"shouldIgnorePairingRequest",r=>{let{topic:n,requestMethod:s}=r,o=this.expectedPairingMethodMap.get(n);return!o||o.includes(s)?!1:!!(o.includes("wc_sessionAuthenticate")&&this.client.events.listenerCount("session_authenticate")>0)}),be(this,"onSessionProposeRequest",async r=>{let{topic:n,payload:s,attestation:o,encryptedId:i}=r,{params:a,id:c}=s;try{let l=this.client.core.eventClient.getEvent({topic:n});this.client.events.listenerCount("session_proposal")===0&&(console.warn("No listener for session_proposal event"),l?.setError(jl.proposal_listener_not_found)),this.isValidConnect(lr({},s.params));let u=a.expiryTimestamp||cn(Os.wc_sessionPropose.req.ttl),d=lr({id:c,pairingTopic:n,expiryTimestamp:u,attestation:o,encryptedId:i},a);await this.setProposal(c,d);let p=await this.getVerifyContext({attestationId:o,hash:wi(JSON.stringify(s)),encryptedId:i,metadata:d.proposer.metadata});l?.addTrace(Vc.emit_session_proposal),this.client.events.emit("session_proposal",{id:c,params:d,verifyContext:p})}catch(l){await this.sendError({id:c,topic:n,error:l,rpcOpts:Os.wc_sessionPropose.autoReject}),this.client.logger.error(l)}}),be(this,"onSessionProposeResponse",async(r,n,s)=>{let{id:o}=n;if(Qr(n)){let{result:i}=n;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",result:i});let a=this.client.proposal.get(o);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",proposal:a});let c=a.proposer.publicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",selfPublicKey:c});let l=i.responderPublicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",peerPublicKey:l});let u=await this.client.core.crypto.generateSharedKey(c,l);this.pendingSessions.set(o,{sessionTopic:u,pairingTopic:r,proposalId:o,publicKey:c});let d=await this.client.core.relayer.subscribe(u,{transportType:s});this.client.logger.trace({type:"method",method:"onSessionProposeResponse",subscriptionId:d}),await this.client.core.pairing.activate({topic:r})}else if(Tr(n)){await this.deleteProposal(o);let i=cr("session_connect",o);if(this.events.listenerCount(i)===0)throw new Error(`emitting ${i} without any listeners, 954`);this.events.emit(i,{error:n.error})}}),be(this,"onSessionSettleRequest",async(r,n)=>{let{id:s,params:o}=n;try{this.isValidSessionSettleRequest(o);let{relay:i,controller:a,expiry:c,namespaces:l,sessionProperties:u,scopedProperties:d,sessionConfig:p,proposalRequestsResponses:f}=n.params,h=[...this.pendingSessions.values()].find(E=>E.sessionTopic===r);if(!h)return this.client.logger.error(`Pending session not found for topic ${r}`);let g=this.client.proposal.get(h.proposalId),y=ks(lr(lr(lr({topic:r,relay:i,expiry:c,namespaces:l,acknowledged:!0,pairingTopic:h.pairingTopic,requiredNamespaces:g.requiredNamespaces,optionalNamespaces:g.optionalNamespaces,controller:a.publicKey,self:{publicKey:h.publicKey,metadata:this.client.metadata},peer:{publicKey:a.publicKey,metadata:a.metadata}},u&&{sessionProperties:u}),d&&{scopedProperties:d}),p&&{sessionConfig:p}),{transportType:$r.relay,authentication:f?.authentication,walletPayResult:f?.walletPay});await this.client.session.set(y.topic,y),await this.setExpiry(y.topic,y.expiry),await this.client.core.pairing.updateMetadata({topic:h.pairingTopic,metadata:y.peer.metadata}),this.pendingSessions.delete(h.proposalId),this.deleteProposal(h.proposalId,!1),this.cleanupDuplicatePairings(y),await this.sendResult({id:n.id,topic:r,throwOnFailedPublish:!0,result:!0}),this.client.events.emit("session_connect",{session:y}),this.events.emit(cr("session_connect",h.proposalId),{session:y})}catch(i){await this.sendError({id:s,topic:r,error:i}),this.client.logger.error(i)}}),be(this,"onSessionSettleResponse",async(r,n)=>{let{id:s}=n;Qr(n)?(await this.client.session.update(r,{acknowledged:!0}),this.events.emit(cr("session_approve",s),{})):Tr(n)&&(await this.client.session.delete(r,br("USER_DISCONNECTED")),this.events.emit(cr("session_approve",s),{error:n.error}))}),be(this,"onSessionUpdateRequest",async(r,n)=>{let{params:s,id:o}=n;try{let i=`${r}_session_update`,a=th.get(i);if(a&&this.isRequestOutOfSync(a,o)){this.client.logger.warn(`Discarding out of sync request - ${o}`),this.sendError({id:o,topic:r,error:br("INVALID_UPDATE_REQUEST")});return}this.isValidUpdate(lr({topic:r},s));try{th.set(i,o),await this.client.session.update(r,{namespaces:s.namespaces}),await this.sendResult({id:o,topic:r,result:!0})}catch(c){throw th.delete(i),c}this.client.events.emit("session_update",{id:o,topic:r,params:s})}catch(i){await this.sendError({id:o,topic:r,error:i}),this.client.logger.error(i)}}),be(this,"isRequestOutOfSync",(r,n)=>n.toString().slice(0,-3)<r.toString().slice(0,-3)),be(this,"onSessionUpdateResponse",(r,n)=>{let{id:s}=n,o=cr("session_update",s);if(this.events.listenerCount(o)===0)throw new Error(`emitting ${o} without any listeners`);Qr(n)?this.events.emit(cr("session_update",s),{}):Tr(n)&&this.events.emit(cr("session_update",s),{error:n.error})}),be(this,"onSessionExtendRequest",async(r,n)=>{let{id:s}=n;try{this.isValidExtend({topic:r}),await this.setExpiry(r,cn(wy)),await this.sendResult({id:s,topic:r,result:!0}),this.client.events.emit("session_extend",{id:s,topic:r})}catch(o){await this.sendError({id:s,topic:r,error:o}),this.client.logger.error(o)}}),be(this,"onSessionExtendResponse",(r,n)=>{let{id:s}=n,o=cr("session_extend",s);if(this.events.listenerCount(o)===0)throw new Error(`emitting ${o} without any listeners`);Qr(n)?this.events.emit(cr("session_extend",s),{}):Tr(n)&&this.events.emit(cr("session_extend",s),{error:n.error})}),be(this,"onSessionPingRequest",async(r,n)=>{let{id:s}=n;try{this.isValidPing({topic:r}),await this.sendResult({id:s,topic:r,result:!0,throwOnFailedPublish:!0}),this.client.events.emit("session_ping",{id:s,topic:r})}catch(o){await this.sendError({id:s,topic:r,error:o}),this.client.logger.error(o)}}),be(this,"onSessionPingResponse",(r,n)=>{let{id:s}=n,o=cr("session_ping",s);setTimeout(()=>{if(this.events.listenerCount(o)===0)throw new Error(`emitting ${o} without any listeners 2176`);Qr(n)?this.events.emit(cr("session_ping",s),{}):Tr(n)&&this.events.emit(cr("session_ping",s),{error:n.error})},500)}),be(this,"onSessionDeleteRequest",async(r,n)=>{let{id:s}=n;try{await this.isValidDisconnect({topic:r,reason:n.params}),this.cleanupPendingSentRequestsForTopic({topic:r,error:br("USER_DISCONNECTED")}),await this.deleteSession({topic:r,id:s})}catch(o){this.client.logger.error(o)}}),be(this,"onSessionRequest",async r=>{var n,s,o;let{topic:i,payload:a,attestation:c,encryptedId:l,transportType:u}=r,{id:d,params:p}=a;try{await this.isValidRequest(lr({topic:i},p));let f=this.client.session.get(i),h=await this.getVerifyContext({attestationId:c,hash:wi(JSON.stringify(fr("wc_sessionRequest",p,d))),encryptedId:l,metadata:f.peer.metadata,transportType:u}),g={id:d,topic:i,params:p,verifyContext:h};await this.setPendingSessionRequest(g),u===$r.link_mode&&(n=f.peer.metadata.redirect)!=null&&n.universal&&this.client.core.addLinkModeSupportedApp((s=f.peer.metadata.redirect)==null?void 0:s.universal),(o=this.client.signConfig)!=null&&o.disableRequestQueue?this.emitSessionRequest(g):(this.addSessionRequestToSessionRequestQueue(g),this.processSessionRequestQueue())}catch(f){await this.sendError({id:d,topic:i,error:f}),this.client.logger.error(f)}}),be(this,"onSessionRequestResponse",(r,n)=>{let{id:s}=n,o=cr("session_request",s);if(this.events.listenerCount(o)===0)throw new Error(`emitting ${o} without any listeners`);Qr(n)?this.events.emit(cr("session_request",s),{result:n.result}):Tr(n)&&this.events.emit(cr("session_request",s),{error:n.error})}),be(this,"onSessionEventRequest",async(r,n)=>{let{id:s,params:o}=n;try{let i=`${r}_session_event_${o.event.name}`,a=th.get(i);if(a&&this.isRequestOutOfSync(a,s)){this.client.logger.info(`Discarding out of sync request - ${s}`);return}this.isValidEmit(lr({topic:r},o)),this.client.events.emit("session_event",{id:s,topic:r,params:o}),th.set(i,s)}catch(i){await this.sendError({id:s,topic:r,error:i}),this.client.logger.error(i)}}),be(this,"onSessionAuthenticateResponse",(r,n)=>{let{id:s}=n;this.client.logger.trace({type:"method",method:"onSessionAuthenticateResponse",topic:r,payload:n}),Qr(n)?this.events.emit(cr("session_request",s),{result:n.result}):Tr(n)&&this.events.emit(cr("session_request",s),{error:n.error})}),be(this,"onSessionAuthenticateRequest",async r=>{var n;let{topic:s,payload:o,attestation:i,encryptedId:a,transportType:c}=r;try{let{requester:l,authPayload:u,expiryTimestamp:d}=o.params,p=await this.getVerifyContext({attestationId:i,hash:wi(JSON.stringify(o)),encryptedId:a,metadata:l.metadata,transportType:c}),f={requester:l,pairingTopic:s,id:o.id,authPayload:u,verifyContext:p,expiryTimestamp:d};await this.setAuthRequest(o.id,{request:f,pairingTopic:s,transportType:c}),c===$r.link_mode&&(n=l.metadata.redirect)!=null&&n.universal&&this.client.core.addLinkModeSupportedApp(l.metadata.redirect.universal),this.client.events.emit("session_authenticate",{topic:s,params:o.params,id:o.id,verifyContext:p})}catch(l){this.client.logger.error(l);let u=o.params.requester.publicKey,d=await this.client.core.crypto.generateKeyPair(),p=this.getAppLinkIfEnabled(o.params.requester.metadata,c),f={type:$c,receiverPublicKey:u,senderPublicKey:d};await this.sendError({id:o.id,topic:s,error:l,encodeOpts:f,rpcOpts:Os.wc_sessionAuthenticate.autoReject,appLink:p})}}),be(this,"addSessionRequestToSessionRequestQueue",r=>{this.sessionRequestQueue.queue.push(r)}),be(this,"cleanupAfterResponse",r=>{this.deletePendingSessionRequest(r.response.id,{message:"fulfilled",code:0}),setTimeout(()=>{this.sessionRequestQueue.state=ql.idle,this.processSessionRequestQueue()},(0,It.toMiliseconds)(this.requestQueueDelay))}),be(this,"cleanupPendingSentRequestsForTopic",({topic:r,error:n})=>{let s=this.client.core.history.pending;s.length>0&&s.filter(o=>o.topic===r&&o.request.method==="wc_sessionRequest").forEach(o=>{this.events.emit(cr("session_request",o.request.id),{error:n})})}),be(this,"processSessionRequestQueue",()=>{if(this.sessionRequestQueue.state===ql.active){this.client.logger.info("session request queue is already active.");return}let r=this.sessionRequestQueue.queue[0];if(!r){this.client.logger.info("session request queue is empty.");return}try{this.emitSessionRequest(r)}catch(n){this.client.logger.error(n)}}),be(this,"emitSessionRequest",r=>{if(this.emittedSessionRequests.has(r.id)){this.client.logger.warn({id:r.id},`Skipping emitting \`session_request\` event for duplicate request. id: ${r.id}`);return}this.sessionRequestQueue.state=ql.active,this.emittedSessionRequests.add(r.id),this.client.events.emit("session_request",r)}),be(this,"onPairingCreated",r=>{if(r.methods&&this.expectedPairingMethodMap.set(r.topic,r.methods),r.active)return;let n=this.client.proposal.getAll().find(s=>s.pairingTopic===r.topic);n&&this.onSessionProposeRequest({topic:r.topic,payload:fr("wc_sessionPropose",ks(lr({},n),{requiredNamespaces:n.requiredNamespaces,optionalNamespaces:n.optionalNamespaces,relays:n.relays,proposer:n.proposer,sessionProperties:n.sessionProperties,scopedProperties:n.scopedProperties}),n.id),attestation:n.attestation,encryptedId:n.encryptedId})}),be(this,"isValidConnect",async r=>{if(!Qs(r)){let{message:l}=Ae("MISSING_OR_INVALID",`connect() params: ${JSON.stringify(r)}`);throw new Error(l)}let{pairingTopic:n,requiredNamespaces:s,optionalNamespaces:o,sessionProperties:i,scopedProperties:a,relays:c}=r;if(In(n)||await this.isValidPairingTopic(n),!SQ(c,!0)){let{message:l}=Ae("MISSING_OR_INVALID",`connect() relays: ${c}`);throw new Error(l)}if(s&&!In(s)&&qa(s)!==0){let l="requiredNamespaces are deprecated and are automatically assigned to optionalNamespaces";["fatal","error","silent"].includes(this.client.logger.level)?console.warn(l):this.client.logger.warn(l),this.validateNamespaces(s,"requiredNamespaces")}if(o&&!In(o)&&qa(o)!==0&&this.validateNamespaces(o,"optionalNamespaces"),i&&!In(i)&&this.validateSessionProps(i,"sessionProperties"),a&&!In(a)){this.validateSessionProps(a,"scopedProperties");let l=Object.keys(s||{}).concat(Object.keys(o||{}));if(!Object.keys(a).every(u=>l.includes(u.split(":")[0])))throw new Error(`Scoped properties must be a subset of required/optional namespaces, received: ${JSON.stringify(a)}, required/optional namespaces: ${JSON.stringify(l)}`)}}),be(this,"validateNamespaces",(r,n)=>{let s=CQ(r,"connect()",n);if(s)throw new Error(s.message)}),be(this,"isValidApprove",async r=>{if(!Qs(r))throw new Error(Ae("MISSING_OR_INVALID",`approve() params: ${r}`).message);let{id:n,namespaces:s,relayProtocol:o,sessionProperties:i,scopedProperties:a}=r;this.checkRecentlyDeleted(n),await this.isValidProposalId(n);let c=this.client.proposal.get(n),l=iC(s,"approve()");if(l)throw new Error(l.message);let u=Sk(c.requiredNamespaces,s,"approve()");if(u)throw new Error(u.message);if(!wn(o,!0)){let{message:d}=Ae("MISSING_OR_INVALID",`approve() relayProtocol: ${o}`);throw new Error(d)}if(i&&!In(i)&&this.validateSessionProps(i,"sessionProperties"),a&&!In(a)){this.validateSessionProps(a,"scopedProperties");let d=new Set(Object.keys(s));if(!Object.keys(a).every(p=>d.has(p.split(":")[0])))throw new Error(`Scoped properties must be a subset of approved namespaces, received: ${JSON.stringify(a)}, approved namespaces: ${Array.from(d).join(", ")}`)}}),be(this,"isValidReject",async r=>{if(!Qs(r)){let{message:o}=Ae("MISSING_OR_INVALID",`reject() params: ${r}`);throw new Error(o)}let{id:n,reason:s}=r;if(this.checkRecentlyDeleted(n),await this.isValidProposalId(n),!_Q(s)){let{message:o}=Ae("MISSING_OR_INVALID",`reject() reason: ${JSON.stringify(s)}`);throw new Error(o)}}),be(this,"isValidSessionSettleRequest",r=>{if(!Qs(r)){let{message:l}=Ae("MISSING_OR_INVALID",`onSessionSettleRequest() params: ${r}`);throw new Error(l)}let{relay:n,controller:s,namespaces:o,expiry:i}=r;if(!Ak(n)){let{message:l}=Ae("MISSING_OR_INVALID","onSessionSettleRequest() relay protocol should be a string");throw new Error(l)}let a=EQ(s,"onSessionSettleRequest()");if(a)throw new Error(a.message);let c=iC(o,"onSessionSettleRequest()");if(c)throw new Error(c.message);if(ca(i)){let{message:l}=Ae("EXPIRED","onSessionSettleRequest()");throw new Error(l)}}),be(this,"isValidUpdate",async r=>{if(!Qs(r)){let{message:c}=Ae("MISSING_OR_INVALID",`update() params: ${r}`);throw new Error(c)}let{topic:n,namespaces:s}=r;this.checkRecentlyDeleted(n),await this.isValidSessionTopic(n);let o=this.client.session.get(n),i=iC(s,"update()");if(i)throw new Error(i.message);let a=Sk(o.requiredNamespaces,s,"update()");if(a)throw new Error(a.message)}),be(this,"isValidExtend",async r=>{if(!Qs(r)){let{message:s}=Ae("MISSING_OR_INVALID",`extend() params: ${r}`);throw new Error(s)}let{topic:n}=r;this.checkRecentlyDeleted(n),await this.isValidSessionTopic(n)}),be(this,"isValidRequest",async r=>{if(!Qs(r)){let{message:c}=Ae("MISSING_OR_INVALID",`request() params: ${r}`);throw new Error(c)}let{topic:n,request:s,chainId:o,expiry:i}=r;this.checkRecentlyDeleted(n),await this.isValidSessionTopic(n);let{namespaces:a}=this.client.session.get(n);if(!Ck(a,o)){let{message:c}=Ae("MISSING_OR_INVALID",`request() chainId: ${o}`);throw new Error(c)}if(!TQ(s)){let{message:c}=Ae("MISSING_OR_INVALID",`request() ${JSON.stringify(s)}`);throw new Error(c)}if(!RQ(a,o,s.method)){let{message:c}=Ae("MISSING_OR_INVALID",`request() method: ${s.method}`);throw new Error(c)}this.validateRequestExpiry(i)}),be(this,"isValidRespond",async r=>{var n;if(!Qs(r)){let{message:a}=Ae("MISSING_OR_INVALID",`respond() params: ${r}`);throw new Error(a)}let{topic:s,response:o}=r;try{await this.isValidSessionTopic(s)}catch(a){throw(n=r?.response)!=null&&n.id&&this.cleanupAfterResponse(r),a}if(!PQ(o)){let{message:a}=Ae("MISSING_OR_INVALID",`respond() response: ${JSON.stringify(o)}`);throw new Error(a)}let i=this.client.pendingRequest.get(o.id);if(i.topic!==s){let{message:a}=Ae("MISMATCHED_TOPIC",`Request response topic mismatch. reqId: ${o.id}, expected topic: ${i.topic}, received topic: ${s}`);throw new Error(a)}}),be(this,"isValidPing",async r=>{if(!Qs(r)){let{message:s}=Ae("MISSING_OR_INVALID",`ping() params: ${r}`);throw new Error(s)}let{topic:n}=r;await this.isValidSessionOrPairingTopic(n)}),be(this,"isValidEmit",async r=>{if(!Qs(r)){let{message:a}=Ae("MISSING_OR_INVALID",`emit() params: ${r}`);throw new Error(a)}let{topic:n,event:s,chainId:o}=r;await this.isValidSessionTopic(n);let{namespaces:i}=this.client.session.get(n);if(!Ck(i,o)){let{message:a}=Ae("MISSING_OR_INVALID",`emit() chainId: ${o}`);throw new Error(a)}if(!NQ(s)){let{message:a}=Ae("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(s)}`);throw new Error(a)}if(!OQ(i,o,s.name)){let{message:a}=Ae("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(s)}`);throw new Error(a)}}),be(this,"isValidDisconnect",async r=>{if(!Qs(r)){let{message:s}=Ae("MISSING_OR_INVALID",`disconnect() params: ${r}`);throw new Error(s)}let{topic:n}=r;await this.isValidSessionOrPairingTopic(n)}),be(this,"isValidAuthenticate",r=>{let{chains:n,uri:s,domain:o,nonce:i}=r;if(!Array.isArray(n)||n.length===0)throw new Error("chains is required and must be a non-empty array");if(!wn(s,!1))throw new Error("uri is required parameter");if(!wn(o,!1))throw new Error("domain is required parameter");if(!wn(i,!1))throw new Error("nonce is required parameter");if([...new Set(n.map(c=>Mc(c).namespace))].length>1)throw new Error("Multi-namespace requests are not supported. Please request single namespace only.");let{namespace:a}=Mc(n[0]);if(a!=="eip155")throw new Error("Only eip155 namespace is supported for authenticated sessions. Please use .connect() for non-eip155 chains.")}),be(this,"getVerifyContext",async r=>{let{attestationId:n,hash:s,encryptedId:o,metadata:i,transportType:a}=r,c={verified:{verifyUrl:i.verifyUrl||gy,validation:"UNKNOWN",origin:i.url||""}};try{if(a===$r.link_mode){let u=this.getAppLinkIfEnabled(i,a);return c.verified.validation=u&&new URL(u).origin===new URL(i.url).origin?"VALID":"INVALID",c}let l=await this.client.core.verify.resolve({attestationId:n,hash:s,encryptedId:o,verifyUrl:i.verifyUrl});l&&(c.verified.origin=l.origin,c.verified.isScam=l.isScam,c.verified.validation=l.origin===new URL(i.url).origin?"VALID":"INVALID")}catch(l){this.client.logger.warn(l)}return this.client.logger.debug(`Verify context: ${JSON.stringify(c)}`),c}),be(this,"validateSessionProps",(r,n)=>{Object.values(r).forEach((s,o)=>{if(s==null){let{message:i}=Ae("MISSING_OR_INVALID",`${n} must contain an existing value for each key. Received: ${s} for key ${Object.keys(r)[o]}`);throw new Error(i)}})}),be(this,"getPendingAuthRequest",r=>{let n=this.client.auth.requests.get(r);return typeof n=="object"?n:void 0}),be(this,"addToRecentlyDeleted",(r,n)=>{if(this.recentlyDeletedMap.set(r,n),this.recentlyDeletedMap.size>=this.recentlyDeletedLimit){let s=0,o=this.recentlyDeletedLimit/2;for(let i of this.recentlyDeletedMap.keys()){if(s++>=o)break;this.recentlyDeletedMap.delete(i)}}}),be(this,"checkRecentlyDeleted",r=>{let n=this.recentlyDeletedMap.get(r);if(n){let{message:s}=Ae("MISSING_OR_INVALID",`Record was recently deleted - ${n}: ${r}`);throw new Error(s)}}),be(this,"isLinkModeEnabled",(r,n)=>{var s,o,i,a,c,l,u,d,p;return!r||n!==$r.link_mode?!1:((o=(s=this.client.metadata)==null?void 0:s.redirect)==null?void 0:o.linkMode)===!0&&((a=(i=this.client.metadata)==null?void 0:i.redirect)==null?void 0:a.universal)!==void 0&&((l=(c=this.client.metadata)==null?void 0:c.redirect)==null?void 0:l.universal)!==""&&((u=r?.redirect)==null?void 0:u.universal)!==void 0&&((d=r?.redirect)==null?void 0:d.universal)!==""&&((p=r?.redirect)==null?void 0:p.linkMode)===!0&&this.client.core.linkModeSupportedApps.includes(r.redirect.universal)&&typeof globalThis?.Linking<"u"}),be(this,"getAppLinkIfEnabled",(r,n)=>{var s;return this.isLinkModeEnabled(r,n)?(s=r?.redirect)==null?void 0:s.universal:void 0}),be(this,"handleLinkModeMessage",({url:r})=>{if(!r||!r.includes("wc_ev")||!r.includes("topic"))return;let n=XO(r,"topic")||"",s=decodeURIComponent(XO(r,"wc_ev")||""),o=this.client.session.keys.includes(n);o&&this.client.session.update(n,{transportType:$r.link_mode}),this.client.core.dispatchEnvelope({topic:n,message:s,sessionExists:o})}),be(this,"registerLinkModeListeners",async()=>{var r;if($8()||tp()&&(r=this.client.metadata.redirect)!=null&&r.linkMode){let n=globalThis?.Linking;if(typeof n<"u"){n.addEventListener("url",this.handleLinkModeMessage,this.client.name);let s=await n.getInitialURL();s&&setTimeout(()=>{this.handleLinkModeMessage({url:s})},50)}}}),be(this,"getTVFApproveParams",r=>{try{let n=xk(r.namespaces),s=mQ(r.namespaces),o=gQ(r.namespaces),i=r.sessionProperties,a=r.scopedProperties;return{approvedChains:n,approvedMethods:s,approvedEvents:o,sessionProperties:i,scopedProperties:a}}catch(n){return this.client.logger.warn(n,"Error getting TVF approve params"),{}}}),be(this,"getTVFParams",(r,n,s)=>{var o,i,a;if(!((o=n.request)!=null&&o.method))return{};let c={correlationId:r,rpcMethods:[n.request.method],chainId:n.chainId};try{let l=this.extractTxHashesFromResult(n.request,s);c.txHashes=l,c.contractAddresses=this.isValidContractData(n.request.params)?[(a=(i=n.request.params)==null?void 0:i[0])==null?void 0:a.to]:[]}catch(l){this.client.logger.warn(l,"Error getting TVF params")}return c}),be(this,"isValidContractData",r=>{var n;if(!r)return!1;try{let s=r?.data||((n=r?.[0])==null?void 0:n.data);if(!s.startsWith("0x"))return!1;let o=s.slice(2);return/^[0-9a-fA-F]*$/.test(o)?o.length%2===0:!1}catch{}return!1}),be(this,"extractTxHashesFromResult",(r,n)=>{var s;try{if(!n)return[];let o=r.method,i=QLe[o];if(o==="sui_signTransaction")return[EJ(n.transactionBytes)];if(o==="near_signTransaction")return[sk(n)];if(o==="near_signTransactions")return n.map(c=>sk(c));if(o==="xrpl_signTransactionFor"||o==="xrpl_signTransaction")return[(s=n.tx_json)==null?void 0:s.hash];if(o==="polkadot_signTransaction")return[UQ({transaction:r.params.transactionPayload,signature:n.signature})];if(o==="algo_signTxn")return Uo(n)?n.map(c=>ok(c)):[ok(n)];if(o==="cosmos_signDirect")return[AJ(n)];if(o==="wallet_sendCalls")return CJ(n);if(typeof n=="string")return[n];let a=n[i.key];if(Uo(a))return o==="solana_signAllTransactions"?a.map(c=>vJ(c)):a;if(typeof a=="string")return[a]}catch(o){this.client.logger.warn(o,"Error extracting tx hashes from result")}return[]})}async processPendingMessageEvents(){try{let t=this.client.session.keys,r=this.client.core.relayer.messages.getWithoutAck(t);for(let[n,s]of Object.entries(r))for(let o of s)try{await this.onProviderMessageEvent({topic:n,message:o,publishedAt:Date.now()})}catch{this.client.logger.warn(`Error processing pending message event for topic: ${n}, message: ${o}`)}}catch(t){this.client.logger.warn(t,"processPendingMessageEvents failed")}}isInitialized(){if(!this.initialized){let{message:t}=Ae("NOT_INITIALIZED",this.name);throw new Error(t)}}async confirmOnlineStateOrThrow(){await this.client.core.relayer.confirmOnlineStateOrThrow()}registerRelayerEvents(){this.client.core.relayer.on(bn.message,t=>{this.onProviderMessageEvent(t)})}async onRelayMessage(t){let{topic:r,message:n,attestation:s,transportType:o}=t,{publicKey:i}=this.client.auth.authKeys.keys.includes(MC)?this.client.auth.authKeys.get(MC):{responseTopic:void 0,publicKey:void 0};try{let a=await this.client.core.crypto.decode(r,n,{receiverPublicKey:i,encoding:o===$r.link_mode?np:Js});Fc(a)?(this.client.core.history.set(r,a),await this.onRelayEventRequest({topic:r,payload:a,attestation:s,transportType:o,encryptedId:wi(n)})):ua(a)?(await this.client.core.history.resolve(a),await this.onRelayEventResponse({topic:r,payload:a,transportType:o}),this.client.core.history.delete(r,a.id)):(this.client.logger.error(`onRelayMessage() -> unknown payload: ${JSON.stringify(a)}`),await this.onRelayEventUnknownPayload({topic:r,payload:a,transportType:o})),await this.client.core.relayer.messages.ack(r,n)}catch(a){this.client.logger.error(`onRelayMessage() -> failed to process an inbound message: ${n}`),this.client.logger.error(a)}}registerExpirerEvents(){this.client.core.expirer.on(ma.expired,async t=>{let{topic:r,id:n}=GA(t.target);if(n&&this.client.pendingRequest.keys.includes(n))return await this.deletePendingSessionRequest(n,Ae("EXPIRED"),!0);if(n&&this.client.auth.requests.keys.includes(n))return await this.deletePendingAuthRequest(n,Ae("EXPIRED"),!0);r?this.client.session.keys.includes(r)&&(await this.deleteSession({topic:r,expirerHasDeleted:!0}),this.client.events.emit("session_expire",{topic:r})):n&&(await this.deleteProposal(n,!0),this.client.events.emit("proposal_expire",{id:n}))})}registerPairingEvents(){this.client.core.pairing.events.on(ih.create,t=>this.onPairingCreated(t)),this.client.core.pairing.events.on(ih.delete,t=>{this.addToRecentlyDeleted(t.topic,"pairing")})}isValidPairingTopic(t){if(!wn(t,!1)){let{message:r}=Ae("MISSING_OR_INVALID",`pairing topic should be a string: ${t}`);throw new Error(r)}if(!this.client.core.pairing.pairings.keys.includes(t)){let{message:r}=Ae("NO_MATCHING_KEY",`pairing topic doesn't exist: ${t}`);throw new Error(r)}if(ca(this.client.core.pairing.pairings.get(t).expiry)){let{message:r}=Ae("EXPIRED",`pairing topic: ${t}`);throw new Error(r)}}async isValidSessionTopic(t){if(!wn(t,!1)){let{message:r}=Ae("MISSING_OR_INVALID",`session topic should be a string: ${t}`);throw new Error(r)}if(this.checkRecentlyDeleted(t),!this.client.session.keys.includes(t)){let{message:r}=Ae("NO_MATCHING_KEY",`session topic doesn't exist: ${t}`);throw new Error(r)}if(ca(this.client.session.get(t).expiry)){await this.deleteSession({topic:t});let{message:r}=Ae("EXPIRED",`session topic: ${t}`);throw new Error(r)}if(!this.client.core.crypto.keychain.has(t)){let{message:r}=Ae("MISSING_OR_INVALID",`session topic does not exist in keychain: ${t}`);throw await this.deleteSession({topic:t}),new Error(r)}}async isValidSessionOrPairingTopic(t){if(this.checkRecentlyDeleted(t),this.client.session.keys.includes(t))await this.isValidSessionTopic(t);else if(this.client.core.pairing.pairings.keys.includes(t))this.isValidPairingTopic(t);else if(wn(t,!1)){let{message:r}=Ae("NO_MATCHING_KEY",`session or pairing topic doesn't exist: ${t}`);throw new Error(r)}else{let{message:r}=Ae("MISSING_OR_INVALID",`session or pairing topic should be a string: ${t}`);throw new Error(r)}}async isValidProposalId(t){if(!IQ(t)){let{message:r}=Ae("MISSING_OR_INVALID",`proposal id should be a number: ${t}`);throw new Error(r)}if(!this.client.proposal.keys.includes(t)){let{message:r}=Ae("NO_MATCHING_KEY",`proposal id doesn't exist: ${t}`);throw new Error(r)}if(ca(this.client.proposal.get(t).expiryTimestamp)){await this.deleteProposal(t);let{message:r}=Ae("EXPIRED",`proposal id: ${t}`);throw new Error(r)}}validateRequestExpiry(t){if(t&&!kQ(t,IB)){let{message:r}=Ae("MISSING_OR_INVALID",`request() expiry: ${t}. Expiry must be a number (in seconds) between ${IB.min} and ${IB.max}`);throw new Error(r)}}},NB=class extends Vl{constructor(t,r){super(t,r,GLe,MB),this.core=t,this.logger=r}},RB=class extends Vl{constructor(t,r){super(t,r,YLe,MB),this.core=t,this.logger=r}},OB=class extends Vl{constructor(t,r){super(t,r,XLe,MB,n=>n.id),this.core=t,this.logger=r}},kB=class extends Vl{constructor(t,r){super(t,r,nMe,$C,()=>MC),this.core=t,this.logger=r}},BB=class extends Vl{constructor(t,r){super(t,r,sMe,$C),this.core=t,this.logger=r}},DB=class extends Vl{constructor(t,r){super(t,r,oMe,$C,n=>n.id),this.core=t,this.logger=r}},dMe=Object.defineProperty,pMe=(e,t,r)=>t in e?dMe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,_B=(e,t,r)=>pMe(e,typeof t!="symbol"?t+"":t,r),UB=class{constructor(t,r){this.core=t,this.logger=r,_B(this,"authKeys"),_B(this,"pairingTopics"),_B(this,"requests"),this.authKeys=new kB(this.core,this.logger),this.pairingTopics=new BB(this.core,this.logger),this.requests=new DB(this.core,this.logger)}async init(){await this.authKeys.init(),await this.pairingTopics.init(),await this.requests.init()}},fMe=Object.defineProperty,hMe=(e,t,r)=>t in e?fMe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Ft=(e,t,r)=>hMe(e,typeof t!="symbol"?t+"":t,r),LB=class e extends vC{constructor(t){super(t),Ft(this,"protocol",Cee),Ft(this,"version",See),Ft(this,"name",SB.name),Ft(this,"metadata"),Ft(this,"core"),Ft(this,"logger"),Ft(this,"events",new HC.EventEmitter),Ft(this,"engine"),Ft(this,"session"),Ft(this,"proposal"),Ft(this,"pendingRequest"),Ft(this,"auth"),Ft(this,"signConfig"),Ft(this,"on",(n,s)=>this.events.on(n,s)),Ft(this,"once",(n,s)=>this.events.once(n,s)),Ft(this,"off",(n,s)=>this.events.off(n,s)),Ft(this,"removeListener",(n,s)=>this.events.removeListener(n,s)),Ft(this,"removeAllListeners",n=>this.events.removeAllListeners(n)),Ft(this,"connect",async n=>{try{return await this.engine.connect(n)}catch(s){throw this.logger.error(s.message),s}}),Ft(this,"pair",async n=>{try{return await this.engine.pair(n)}catch(s){throw this.logger.error(s.message),s}}),Ft(this,"approve",async n=>{try{return await this.engine.approve(n)}catch(s){throw this.logger.error(s.message),s}}),Ft(this,"reject",async n=>{try{return await this.engine.reject(n)}catch(s){throw this.logger.error(s.message),s}}),Ft(this,"update",async n=>{try{return await this.engine.update(n)}catch(s){throw this.logger.error(s.message),s}}),Ft(this,"extend",async n=>{try{return await this.engine.extend(n)}catch(s){throw this.logger.error(s.message),s}}),Ft(this,"request",async n=>{try{return await this.engine.request(n)}catch(s){throw this.logger.error(s.message),s}}),Ft(this,"respond",async n=>{try{return await this.engine.respond(n)}catch(s){throw this.logger.error(s.message),s}}),Ft(this,"ping",async n=>{try{return await this.engine.ping(n)}catch(s){throw this.logger.error(s.message),s}}),Ft(this,"emit",async n=>{try{return await this.engine.emit(n)}catch(s){throw this.logger.error(s.message),s}}),Ft(this,"disconnect",async n=>{try{return await this.engine.disconnect(n)}catch(s){throw this.logger.error(s.message),s}}),Ft(this,"find",n=>{try{return this.engine.find(n)}catch(s){throw this.logger.error(s.message),s}}),Ft(this,"getPendingSessionRequests",()=>{try{return this.engine.getPendingSessionRequests()}catch(n){throw this.logger.error(n.message),n}}),Ft(this,"authenticate",async(n,s)=>{try{return await this.engine.authenticate(n,s)}catch(o){throw this.logger.error(o.message),o}}),Ft(this,"formatAuthMessage",n=>{try{return this.engine.formatAuthMessage(n)}catch(s){throw this.logger.error(s.message),s}}),Ft(this,"approveSessionAuthenticate",async n=>{try{return await this.engine.approveSessionAuthenticate(n)}catch(s){throw this.logger.error(s.message),s}}),Ft(this,"rejectSessionAuthenticate",async n=>{try{return await this.engine.rejectSessionAuthenticate(n)}catch(s){throw this.logger.error(s.message),s}}),this.name=t?.name||SB.name,this.metadata=eJ(t?.metadata),this.signConfig=t?.signConfig;let r=ly({logger:t?.logger||SB.logger,name:this.name});this.logger=r,this.core=t?.core||new xee(t),this.session=new RB(this.core,this.logger),this.proposal=new NB(this.core,this.logger),this.pendingRequest=new OB(this.core,this.logger),this.engine=new PB(this),this.auth=new UB(this.core,this.logger)}static async init(t){let r=new e(t);return await r.initialize(),r}get context(){return ar(this.logger)}get pairing(){return this.core.pairing.pairings}async initialize(){this.logger.trace("Initialized");try{await this.core.start(),await this.session.init(),await this.proposal.init(),await this.pendingRequest.init(),await this.auth.init(),await this.engine.init(),this.logger.info("SignClient Initialization Success")}catch(t){throw this.logger.info("SignClient Initialization Failure"),this.logger.error(t.message),t}}};var _ee=LB;jc();py();zC();var tte=Bt(Oo(),1);function EMe(e){return Number.isSafeInteger(e)&&e>=0}function AMe(e){return e!=null&&typeof e!="function"&&EMe(e.length)}function CMe(e){return e==="__proto__"}function rD(e){return e==null||typeof e!="object"&&typeof e!="function"}function rte(e){return Object.getOwnPropertySymbols(e).filter(t=>Object.prototype.propertyIsEnumerable.call(e,t))}function nD(e){return e==null?e===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}var SMe="[object RegExp]",nte="[object String]",ste="[object Number]",ote="[object Boolean]",ite="[object Arguments]",IMe="[object Symbol]",_Me="[object Date]",TMe="[object Map]",PMe="[object Set]",NMe="[object Array]",RMe="[object ArrayBuffer]",ate="[object Object]",OMe="[object DataView]",kMe="[object Uint8Array]",BMe="[object Uint8ClampedArray]",DMe="[object Uint16Array]",UMe="[object Uint32Array]",LMe="[object Int8Array]",MMe="[object Int16Array]",HMe="[object Int32Array]",$Me="[object Float32Array]",FMe="[object Float64Array]";function sD(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function jMe(e,t){return vy(e,void 0,e,new Map,t)}function vy(e,t,r,n=new Map,s=void 0){let o=s?.(e,t,r,n);if(o!==void 0)return o;if(rD(e))return e;if(n.has(e))return n.get(e);if(Array.isArray(e)){let i=new Array(e.length);n.set(e,i);for(let a=0;a<e.length;a++)i[a]=vy(e[a],a,r,n,s);return Object.hasOwn(e,"index")&&(i.index=e.index),Object.hasOwn(e,"input")&&(i.input=e.input),i}if(e instanceof Date)return new Date(e.getTime());if(e instanceof RegExp){let i=new RegExp(e.source,e.flags);return i.lastIndex=e.lastIndex,i}if(e instanceof Map){let i=new Map;n.set(e,i);for(let[a,c]of e)i.set(a,vy(c,a,r,n,s));return i}if(e instanceof Set){let i=new Set;n.set(e,i);for(let a of e)i.add(vy(a,void 0,r,n,s));return i}if(typeof Buffer<"u"&&Buffer.isBuffer(e))return e.subarray();if(sD(e)){let i=new(Object.getPrototypeOf(e)).constructor(e.length);n.set(e,i);for(let a=0;a<e.length;a++)i[a]=vy(e[a],a,r,n,s);return i}if(e instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&e instanceof SharedArrayBuffer)return e.slice(0);if(e instanceof DataView){let i=new DataView(e.buffer.slice(0),e.byteOffset,e.byteLength);return n.set(e,i),qc(i,e,r,n,s),i}if(typeof File<"u"&&e instanceof File){let i=new File([e],e.name,{type:e.type});return n.set(e,i),qc(i,e,r,n,s),i}if(typeof Blob<"u"&&e instanceof Blob){let i=new Blob([e],{type:e.type});return n.set(e,i),qc(i,e,r,n,s),i}if(e instanceof Error){let i=new e.constructor;return n.set(e,i),i.message=e.message,i.name=e.name,i.stack=e.stack,i.cause=e.cause,qc(i,e,r,n,s),i}if(e instanceof Boolean){let i=new Boolean(e.valueOf());return n.set(e,i),qc(i,e,r,n,s),i}if(e instanceof Number){let i=new Number(e.valueOf());return n.set(e,i),qc(i,e,r,n,s),i}if(e instanceof String){let i=new String(e.valueOf());return n.set(e,i),qc(i,e,r,n,s),i}if(typeof e=="object"&&zMe(e)){let i=Object.create(Object.getPrototypeOf(e));return n.set(e,i),qc(i,e,r,n,s),i}return e}function qc(e,t,r=e,n,s){let o=[...Object.keys(t),...rte(t)];for(let i=0;i<o.length;i++){let a=o[i],c=Object.getOwnPropertyDescriptor(e,a);(c==null||c.writable)&&(e[a]=vy(t[a],a,r,n,s))}}function zMe(e){switch(nD(e)){case ite:case NMe:case RMe:case OMe:case ote:case _Me:case $Me:case FMe:case LMe:case MMe:case HMe:case TMe:case ste:case ate:case SMe:case PMe:case nte:case IMe:case kMe:case BMe:case DMe:case UMe:return!0;default:return!1}}function VMe(e,t){return jMe(e,(r,n,s,o)=>{let i=t?.(r,n,s,o);if(i!==void 0)return i;if(typeof e=="object"){if(nD(e)===ate&&typeof e.constructor!="function"){let a={};return o.set(e,a),qc(a,e,s,o),a}switch(Object.prototype.toString.call(e)){case ste:case nte:case ote:{let a=new e.constructor(e?.valueOf());return qc(a,e),a}case ite:{let a={};return qc(a,e),a.length=e.length,a[Symbol.iterator]=e[Symbol.iterator],a}default:return}}})}function Lee(e){return VMe(e)}function Mee(e){return e!==null&&typeof e=="object"&&nD(e)==="[object Arguments]"}function ZB(e){return typeof e=="object"&&e!==null}function qMe(e){return ZB(e)&&AMe(e)}function WMe(){}function $B(e){return sD(e)}function FB(e){if(typeof e!="object"||e==null)return!1;if(Object.getPrototypeOf(e)===null)return!0;if(Object.prototype.toString.call(e)!=="[object Object]"){let r=e[Symbol.toStringTag];return r==null||!Object.getOwnPropertyDescriptor(e,Symbol.toStringTag)?.writable?!1:e.toString()===`[object ${r}]`}let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function KMe(e){if(rD(e))return e;if(Array.isArray(e)||sD(e)||e instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&e instanceof SharedArrayBuffer)return e.slice(0);let t=Object.getPrototypeOf(e);if(t==null)return Object.assign(Object.create(t),e);let r=t.constructor;if(e instanceof Date||e instanceof Map||e instanceof Set)return new r(e);if(e instanceof RegExp){let n=new r(e);return n.lastIndex=e.lastIndex,n}if(e instanceof DataView)return new r(e.buffer.slice(0));if(e instanceof Error){let n;return e instanceof AggregateError?n=new r(e.errors,e.message,{cause:e.cause}):n=new r(e.message,{cause:e.cause}),n.stack=e.stack,Object.assign(n,e),n}if(typeof File<"u"&&e instanceof File)return new r([e],e.name,{type:e.type,lastModified:e.lastModified});if(typeof e=="object"){let n=Object.create(t);return Object.assign(n,e)}return e}function ZMe(e,...t){let r=t.slice(0,-1),n=t[t.length-1],s=e;for(let o=0;o<r.length;o++){let i=r[o];s=GB(s,i,n,new Map)}return s}function GB(e,t,r,n){if(rD(e)&&(e=Object(e)),t==null||typeof t!="object")return e;if(n.has(t))return KMe(n.get(t));if(n.set(t,e),Array.isArray(t)){t=t.slice();for(let o=0;o<t.length;o++)t[o]=t[o]??void 0}let s=[...Object.keys(t),...rte(t)];for(let o=0;o<s.length;o++){let i=s[o];if(CMe(i))continue;let a=t[i],c=e[i];if(Mee(a)&&(a={...a}),Mee(c)&&(c={...c}),typeof Buffer<"u"&&Buffer.isBuffer(a)&&(a=Lee(a)),Array.isArray(a))if(Array.isArray(c)){let u=[],d=Reflect.ownKeys(c);for(let p=0;p<d.length;p++){let f=d[p];u[f]=c[f]}c=u}else if(qMe(c)){let u=[];for(let d=0;d<c.length;d++)u[d]=c[d];c=u}else c=[];let l=r(c,a,i,e,t,n);l!==void 0?e[i]=l:Array.isArray(a)||ZB(c)&&ZB(a)&&(FB(c)||FB(a)||$B(c)||$B(a))?e[i]=GB(c,a,r,n):c==null&&FB(a)?e[i]=GB({},a,r,n):c==null&&$B(a)?e[i]=Lee(a):(c===void 0||a!==void 0)&&(e[i]=a)}return e}function GMe(e,...t){return ZMe(e,...t,WMe)}var Hee="error",YMe="wss://relay.walletconnect.org",JMe="wc",cte="universal_provider",VC=`${JMe}@2:${cte}:`,lte="https://rpc.walletconnect.org/v1/",ute="generic",QMe=`${lte}bundler`,Ey="call_status",XMe=86400,oD={DEFAULT_CHAIN_CHANGED:"default_chain_changed"},eHe=Object.defineProperty,tHe=Object.defineProperties,rHe=Object.getOwnPropertyDescriptors,$ee=Object.getOwnPropertySymbols,nHe=Object.prototype.hasOwnProperty,sHe=Object.prototype.propertyIsEnumerable,Fee=(e,t,r)=>t in e?eHe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,qC=(e,t)=>{for(var r in t||(t={}))nHe.call(t,r)&&Fee(e,r,t[r]);if($ee)for(var r of $ee(t))sHe.call(t,r)&&Fee(e,r,t[r]);return e},oHe=(e,t)=>tHe(e,rHe(t));function dte(e,t,r){var n;let s=Mc(e);return((n=t.rpcMap)==null?void 0:n[s.reference])||`${lte}?chainId=${s.namespace}:${s.reference}&projectId=${r}`}function iHe(e){return e.includes(":")?e.split(":")[1]:e}function pte(e){return e.map(t=>`${t.split(":")[0]}:${t.split(":")[1]}`)}function aHe(e,t){let r=Object.keys(t.namespaces).filter(s=>s.includes(e));if(!r.length)return[];let n=[];return r.forEach(s=>{let o=t.namespaces[s].accounts;n.push(...o)}),n}function jee(e){return Object.fromEntries(Object.entries(e).filter(([t,r])=>{var n,s;return((n=r?.chains)==null?void 0:n.length)&&((s=r?.chains)==null?void 0:s.length)>0}))}function WC(e={},t={}){let r=jee(zee(e)),n=jee(zee(t));return GMe(r,n)}function zee(e){var t,r,n,s,o;let i={};if(!qa(e))return i;for(let[a,c]of Object.entries(e)){let l=Z8(a)?[a]:c.chains,u=c.methods||[],d=c.events||[],p=c.rpcMap||{},f=o1(a);i[f]=oHe(qC(qC({},i[f]),c),{chains:Bc(l,(t=i[f])==null?void 0:t.chains),methods:Bc(u,(r=i[f])==null?void 0:r.methods),events:Bc(d,(n=i[f])==null?void 0:n.events)}),(qa(p)||qa(((s=i[f])==null?void 0:s.rpcMap)||{}))&&(i[f].rpcMap=qC(qC({},p),(o=i[f])==null?void 0:o.rpcMap))}return i}function Vee(e){return e.includes(":")?e.split(":")[2]:e}function qee(e){let t={};for(let[r,n]of Object.entries(e)){let s=n.methods||[],o=n.events||[],i=n.accounts||[],a=Z8(r)?[r]:n.chains?n.chains:pte(n.accounts);t[r]={chains:a,methods:s,events:o,accounts:i}}return t}function jB(e){return typeof e=="number"?e:e.includes("0x")?parseInt(e,16):(e=e.includes(":")?e.split(":")[1]:e,isNaN(Number(e))?e:Number(e))}function cHe(e){try{let t=JSON.parse(e);return typeof t=="object"&&t!==null&&!Array.isArray(t)}catch{return!1}}var fte={},Ay=e=>fte[e],zB=(e,t)=>{fte[e]=t},lHe=Object.defineProperty,Wee=Object.getOwnPropertySymbols,uHe=Object.prototype.hasOwnProperty,dHe=Object.prototype.propertyIsEnumerable,Kee=(e,t,r)=>t in e?lHe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Zee=(e,t)=>{for(var r in t||(t={}))uHe.call(t,r)&&Kee(e,r,t[r]);if(Wee)for(var r of Wee(t))dHe.call(t,r)&&Kee(e,r,t[r]);return e},Gee="eip155",pHe=["atomic","flow-control","paymasterService","sessionKeys","auxiliaryFunds"],fHe=e=>e&&e.startsWith("0x")?BigInt(e).toString(10):e,VB=e=>e&&e.startsWith("0x")?e:`0x${BigInt(e).toString(16)}`,Yee=e=>Object.keys(e).filter(t=>pHe.includes(t)).reduce((t,r)=>(t[r]=hHe(e[r]),t),{}),hHe=e=>typeof e=="string"&&cHe(e)?JSON.parse(e):e,mHe=(e,t,r)=>{let{sessionProperties:n={},scopedProperties:s={}}=e,o={};if(!qa(s)&&!qa(n))return;let i=Yee(n);for(let a of r){let c=fHe(a);if(!c)continue;o[VB(c)]=i;let l=s?.[`${Gee}:${c}`];if(l){let u=l?.[`${Gee}:${c}:${t}`];o[VB(c)]=Zee(Zee({},o[VB(c)]),Yee(u||l))}}for(let[a,c]of Object.entries(o))Object.keys(c).length===0&&delete o[a];return Object.keys(o).length>0?o:void 0},gHe=Object.defineProperty,yHe=(e,t,r)=>t in e?gHe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,wHe=(e,t,r)=>yHe(e,typeof t!="symbol"?t+"":t,r),qB,YB=class e{constructor(t){wHe(this,"storage"),this.storage=t}async getItem(t){return await this.storage.getItem(t)}async setItem(t,r){return await this.storage.setItem(t,r)}async removeItem(t){return await this.storage.removeItem(t)}static getStorage(t){return qB||(qB=new e(t)),qB}},bHe=Object.defineProperty,xHe=Object.defineProperties,vHe=Object.getOwnPropertyDescriptors,Jee=Object.getOwnPropertySymbols,EHe=Object.prototype.hasOwnProperty,AHe=Object.prototype.propertyIsEnumerable,Qee=(e,t,r)=>t in e?bHe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,CHe=(e,t)=>{for(var r in t||(t={}))EHe.call(t,r)&&Qee(e,r,t[r]);if(Jee)for(var r of Jee(t))AHe.call(t,r)&&Qee(e,r,t[r]);return e},SHe=(e,t)=>xHe(e,vHe(t));async function IHe(e,t){let r=Mc(e.result.capabilities.caip345.caip2),n=e.result.capabilities.caip345.transactionHashes,s=await Promise.allSettled(n.map(d=>_He(r.reference,d,t))),o=s.filter(d=>d.status==="fulfilled").map(d=>d.value).filter(d=>d);s.filter(d=>d.status==="rejected").forEach(d=>console.warn("Failed to fetch transaction receipt:",d.reason));let i=!o.length||o.some(d=>!d),a=o.every(d=>d?.status==="0x1"),c=o.every(d=>d?.status==="0x0"),l=o.some(d=>d?.status==="0x0"),u;return i?u=100:a?u=200:c?u=500:l&&(u=600),{id:e.result.id,version:e.request.version,atomic:e.request.atomicRequired,chainId:e.request.chainId,capabilities:e.result.capabilities,receipts:o,status:u}}async function _He(e,t,r){return await r(parseInt(e)).request(fr("eth_getTransactionReceipt",[t]))}async function THe({sendCalls:e,storage:t}){let r=await t.getItem(Ey);await t.setItem(Ey,SHe(CHe({},r),{[e.result.id]:{request:e.request,result:e.result,expiry:cn(XMe)}}))}async function PHe({resultId:e,storage:t}){let r=await t.getItem(Ey);if(r){delete r[e],await t.setItem(Ey,r);for(let n in r)ca(r[n].expiry)&&delete r[n];await t.setItem(Ey,r)}}async function NHe({resultId:e,storage:t}){let r=await t.getItem(Ey),n=r?.[e];if(n&&!ca(n.expiry))return n;await PHe({resultId:e,storage:t})}var RHe=Object.defineProperty,OHe=Object.defineProperties,kHe=Object.getOwnPropertyDescriptors,Xee=Object.getOwnPropertySymbols,BHe=Object.prototype.hasOwnProperty,DHe=Object.prototype.propertyIsEnumerable,JB=(e,t,r)=>t in e?RHe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,WB=(e,t)=>{for(var r in t||(t={}))BHe.call(t,r)&&JB(e,r,t[r]);if(Xee)for(var r of Xee(t))DHe.call(t,r)&&JB(e,r,t[r]);return e},KB=(e,t)=>OHe(e,kHe(t)),a1=(e,t,r)=>JB(e,typeof t!="symbol"?t+"":t,r),QB=class{constructor(t){a1(this,"name","eip155"),a1(this,"client"),a1(this,"chainId"),a1(this,"namespace"),a1(this,"httpProviders"),a1(this,"events"),a1(this,"storage"),this.namespace=t.namespace,this.events=Ay("events"),this.client=Ay("client"),this.httpProviders=this.createHttpProviders(),this.chainId=parseInt(this.getDefaultChain()),this.storage=YB.getStorage(this.client.core.storage)}async request(t){switch(t.request.method){case"eth_requestAccounts":return this.getAccounts();case"eth_accounts":return this.getAccounts();case"wallet_switchEthereumChain":return await this.handleSwitchChain(t);case"eth_chainId":return parseInt(this.getDefaultChain());case"wallet_getCapabilities":return await this.getCapabilities(t);case"wallet_getCallsStatus":return await this.getCallStatus(t);case"wallet_sendCalls":return await this.sendCalls(t)}return this.namespace.methods.includes(t.request.method)?await this.client.request(t):this.getHttpProvider().request(t.request)}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}setDefaultChain(t,r){this.httpProviders[t]||this.setHttpProvider(parseInt(t),r);let n=this.chainId;this.chainId=parseInt(t),this.events.emit(oD.DEFAULT_CHAIN_CHANGED,{currentCaipChainId:`${this.name}:${t}`,previousCaipChainId:`${this.name}:${n}`})}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId.toString();if(this.namespace.defaultChain)return this.namespace.defaultChain;let t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}createHttpProvider(t,r){let n=r||dte(`${this.name}:${t}`,this.namespace,this.client.core.projectId);if(!n)throw new Error(`No RPC url provided for chainId: ${t}`);return new pa(new Ga(n,Ay("disableProviderPing")))}setHttpProvider(t,r){let n=this.createHttpProvider(t,r);n&&(this.httpProviders[t]=n)}createHttpProviders(){let t={};return this.namespace.chains.forEach(r=>{var n;let s=parseInt(iHe(r));t[s]=this.createHttpProvider(s,(n=this.namespace.rpcMap)==null?void 0:n[r])}),t}getAccounts(){let t=this.namespace.accounts;return t?[...new Set(t.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}getHttpProvider(t){let r=t||this.chainId;return this.httpProviders[r]||(this.httpProviders=KB(WB({},this.httpProviders),{[r]:this.createHttpProvider(r)}),this.httpProviders[r])}async handleSwitchChain(t){var r,n;let s=t.request.params?(r=t.request.params[0])==null?void 0:r.chainId:"0x0";s=s.startsWith("0x")?s:`0x${s}`;let o=parseInt(s,16);if(this.isChainApproved(o))this.setDefaultChain(`${o}`);else if(this.namespace.methods.includes("wallet_switchEthereumChain"))await this.client.request({topic:t.topic,request:{method:t.request.method,params:[{chainId:s}]},chainId:(n=this.namespace.chains)==null?void 0:n[0]}),this.setDefaultChain(`${o}`);else throw new Error(`Failed to switch to chain 'eip155:${o}'. The chain is not approved or the wallet does not support 'wallet_switchEthereumChain' method.`);return null}isChainApproved(t){return this.namespace.chains.includes(`${this.name}:${t}`)}async getCapabilities(t){var r,n,s,o,i;let a=(n=(r=t.request)==null?void 0:r.params)==null?void 0:n[0],c=((o=(s=t.request)==null?void 0:s.params)==null?void 0:o[1])||[];if(!a)throw new Error("Missing address parameter in `wallet_getCapabilities` request");let l=this.client.session.get(t.topic),u=((i=l?.sessionProperties)==null?void 0:i.capabilities)||{},d=c.length>0?c.join(","):`0x${this.chainId.toString(16)}`,p=`${a}${d}`,f=u?.[p];if(f)return f;let h;try{h=mHe(l,a,c)}catch(y){console.warn("Failed to extract capabilities from session",y)}if(h)return h;let g=await this.client.request(t);try{await this.client.session.update(t.topic,{sessionProperties:KB(WB({},l.sessionProperties||{}),{capabilities:KB(WB({},u||{}),{[p]:g})})})}catch(y){console.warn("Failed to update session with capabilities",y)}return g}async getCallStatus(t){var r,n,s;let o=this.client.session.get(t.topic),i=(r=o.sessionProperties)==null?void 0:r.bundler_name;if(i){let l=this.getBundlerUrl(t.chainId,i);try{return await this.getUserOperationReceipt(l,t)}catch(u){console.warn("Failed to fetch call status from bundler",u,l)}}let a=(n=o.sessionProperties)==null?void 0:n.bundler_url;if(a)try{return await this.getUserOperationReceipt(a,t)}catch(l){console.warn("Failed to fetch call status from custom bundler",l,a)}let c=await NHe({resultId:(s=t.request.params)==null?void 0:s[0],storage:this.storage});if(c)try{return await IHe(c,this.getHttpProvider.bind(this))}catch(l){console.warn("Failed to fetch call status from stored send calls",l,c)}if(this.namespace.methods.includes(t.request.method))return await this.client.request(t);throw new Error("Fetching call status not approved by the wallet.")}async getUserOperationReceipt(t,r){var n;let s=new URL(t),o=await fetch(s,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(fr("eth_getUserOperationReceipt",[(n=r.request.params)==null?void 0:n[0]]))});if(!o.ok)throw new Error(`Failed to fetch user operation receipt - ${o.status}`);return await o.json()}getBundlerUrl(t,r){return`${QMe}?projectId=${this.client.core.projectId}&chainId=${t}&bundler=${r}`}async sendCalls(t){var r,n,s;let o=await this.client.request(t),i=(r=t.request.params)==null?void 0:r[0],a=o?.id,c=o?.capabilities||{},l=(n=c?.caip345)==null?void 0:n.caip2,u=(s=c?.caip345)==null?void 0:s.transactionHashes;return!a||!l||!(u!=null&&u.length)||await THe({sendCalls:{request:i,result:o},storage:this.storage}),o}},UHe=Object.defineProperty,LHe=(e,t,r)=>t in e?UHe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,xy=(e,t,r)=>LHe(e,typeof t!="symbol"?t+"":t,r),XB=class{constructor(t){xy(this,"name",ute),xy(this,"client"),xy(this,"httpProviders"),xy(this,"events"),xy(this,"namespace"),xy(this,"chainId"),this.namespace=t.namespace,this.events=Ay("events"),this.client=Ay("client"),this.chainId=this.getDefaultChain(),this.name=this.getNamespaceName(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace.chains=[...new Set((this.namespace.chains||[]).concat(t.chains||[]))],this.namespace.accounts=[...new Set((this.namespace.accounts||[]).concat(t.accounts||[]))],this.namespace.methods=[...new Set((this.namespace.methods||[]).concat(t.methods||[]))],this.namespace.events=[...new Set((this.namespace.events||[]).concat(t.events||[]))],this.httpProviders=this.createHttpProviders()}requestAccounts(){return this.getAccounts()}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider(t.chainId).request(t.request)}setDefaultChain(t,r){this.httpProviders[t]||this.setHttpProvider(t,r);let n=this.chainId;this.chainId=t,this.events.emit(oD.DEFAULT_CHAIN_CHANGED,{currentCaipChainId:`${this.name}:${t}`,previousCaipChainId:`${this.name}:${n}`})}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;let t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}getNamespaceName(){let t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return Mc(t).namespace}getAccounts(){let t=this.namespace.accounts;return t?[...new Set(t.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}createHttpProviders(){var t,r;let n={};return(r=(t=this.namespace)==null?void 0:t.accounts)==null||r.forEach(s=>{var o,i;let a=Mc(s),c=(i=(o=this.namespace)==null?void 0:o.rpcMap)==null?void 0:i[`${a.namespace}:${a.reference}`];n[a.reference]=this.createHttpProvider(s,c)}),n}getHttpProvider(t){let r=Mc(t).reference,n=this.httpProviders[r];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return n}setHttpProvider(t,r){let n=this.createHttpProvider(t,r);n&&(this.httpProviders[t]=n)}createHttpProvider(t,r){let n=r||dte(t,this.namespace,this.client.core.projectId);if(!n)throw new Error(`No RPC url provided for chainId: ${t}`);return new pa(new Ga(n,Ay("disableProviderPing")))}},MHe=Object.defineProperty,HHe=Object.defineProperties,$He=Object.getOwnPropertyDescriptors,ete=Object.getOwnPropertySymbols,FHe=Object.prototype.hasOwnProperty,jHe=Object.prototype.propertyIsEnumerable,eD=(e,t,r)=>t in e?MHe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,ux=(e,t)=>{for(var r in t||(t={}))FHe.call(t,r)&&eD(e,r,t[r]);if(ete)for(var r of ete(t))jHe.call(t,r)&&eD(e,r,t[r]);return e},KC=(e,t)=>HHe(e,$He(t)),ga=(e,t,r)=>eD(e,typeof t!="symbol"?t+"":t,r),tD=class e{constructor(t){ga(this,"client"),ga(this,"namespaces"),ga(this,"optionalNamespaces"),ga(this,"sessionProperties"),ga(this,"scopedProperties"),ga(this,"events",new tte.default),ga(this,"rpcProviders",{}),ga(this,"session"),ga(this,"providerOpts"),ga(this,"logger"),ga(this,"uri"),ga(this,"disableProviderPing",!1),ga(this,"connectParams");var r,n;this.providerOpts=t,this.logger=ly({logger:(r=t.logger)!=null?r:Hee,name:(n=this.providerOpts.name)!=null?n:cte}),this.disableProviderPing=t?.disableProviderPing||!1}static async init(t){let r=new e(t);return await r.initialize(),r}async request(t,r,n){let[s,o]=this.validateChain(r);if(!this.session)throw new Error("Please call connect() before request()");return await this.getProvider(s).request({request:ux({},t),chainId:`${s}:${o}`,topic:this.session.topic,expiry:n})}sendAsync(t,r,n,s){let o=new Date().getTime();this.request(t,n,s).then(i=>r(null,ds(o,i))).catch(i=>r(i,void 0))}async enable(){if(!this.client)throw new Error("Sign Client not initialized");return this.session||await this.connect({namespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties}),await this.requestAccounts()}async disconnect(){var t;if(!this.session)throw new Error("Please call connect() before enable()");await this.client.disconnect({topic:(t=this.session)==null?void 0:t.topic,reason:br("USER_DISCONNECTED")}),await this.cleanup()}async connect(t){if(!this.client)throw new Error("Sign Client not initialized");if(this.connectParams=t,this.setNamespaces(t),this.cleanupPendingPairings(),!t.skipPairing)return await this.pair(t.pairingTopic)}async authenticate(t,r){if(!this.client)throw new Error("Sign Client not initialized");this.setNamespaces(t),await this.cleanupPendingPairings();let{uri:n,response:s}=await this.client.authenticate(t,r);n&&(this.uri=n,this.events.emit("display_uri",n));let o=await s();if(this.session=o.session,this.session){let i=qee(this.session.namespaces);this.namespaces=WC(this.namespaces,i),await this.persist("namespaces",this.namespaces),this.onConnect()}return o}on(t,r){this.events.on(t,r)}once(t,r){this.events.once(t,r)}removeListener(t,r){this.events.removeListener(t,r)}off(t,r){this.events.off(t,r)}get isWalletConnect(){return!0}async pair(t){var r,n;let{uri:s,approval:o}=await this.client.connect({pairingTopic:t,requiredNamespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties,authentication:(r=this.connectParams)==null?void 0:r.authentication,walletPay:(n=this.connectParams)==null?void 0:n.walletPay});s&&(this.uri=s,this.events.emit("display_uri",s));let i=await o();this.session=i;let a=qee(i.namespaces);return this.namespaces=WC(this.namespaces,a),await this.persist("namespaces",this.namespaces),await this.persist("optionalNamespaces",this.optionalNamespaces),this.onConnect(),this.session}setDefaultChain(t,r){try{if(!this.session)return;let[n,s]=this.validateChain(t),o=this.getProvider(n);o?o.setDefaultChain(s,r):this.session&&this.logger.warn(`Provider for namespace '${n}' not found in setDefaultChain`)}catch(n){if(!/Please call connect/.test(n.message))throw n}}async cleanupPendingPairings(t={}){try{this.logger.info("Cleaning up inactive pairings...");let r=this.client.pairing.getAll();if(!Uo(r))return;for(let n of r)t.deletePairings?this.client.core.expirer.set(n.topic,0):await this.client.core.relayer.subscriber.unsubscribe(n.topic);this.logger.info(`Inactive pairings cleared: ${r.length}`)}catch(r){this.logger.warn(r,"Failed to cleanup pending pairings")}}abortPairingAttempt(){this.logger.warn("abortPairingAttempt is deprecated. This is now a no-op.")}async checkStorage(){this.namespaces=await this.getFromStore("namespaces")||{},this.optionalNamespaces=await this.getFromStore("optionalNamespaces")||{},this.session&&this.createProviders()}async initialize(){this.logger.trace("Initialized"),await this.createClient(),await this.checkStorage(),this.registerEventListeners()}async createClient(){var t,r;if(this.client=this.providerOpts.client||await _ee.init({core:this.providerOpts.core,logger:this.providerOpts.logger||Hee,relayUrl:this.providerOpts.relayUrl||YMe,projectId:this.providerOpts.projectId,metadata:this.providerOpts.metadata,storageOptions:this.providerOpts.storageOptions,storage:this.providerOpts.storage,name:this.providerOpts.name,customStoragePrefix:this.providerOpts.customStoragePrefix,telemetryEnabled:this.providerOpts.telemetryEnabled}),this.providerOpts.session)try{this.session=this.client.session.get(this.providerOpts.session.topic)}catch(n){throw this.logger.error(n,"Failed to get session"),new Error(`The provided session: ${(r=(t=this.providerOpts)==null?void 0:t.session)==null?void 0:r.topic} doesn't exist in the Sign client`)}else{let n=this.client.session.getAll();this.session=n[0]}this.logger.trace("SignClient Initialized")}createProviders(){if(!this.client)throw new Error("Sign Client not initialized");if(!this.session)throw new Error("Session not initialized. Please call connect() before enable()");let t=[...new Set(Object.keys(this.session.namespaces).map(r=>o1(r)))];zB("client",this.client),zB("events",this.events),zB("disableProviderPing",this.disableProviderPing),t.forEach(r=>{if(!this.session)return;let n=aHe(r,this.session);if(n?.length===0)return;let s=pte(n),o=WC(this.namespaces,this.optionalNamespaces),i=KC(ux({},o[r]),{accounts:n,chains:s});r==="eip155"?this.rpcProviders[r]=new QB({namespace:i}):this.rpcProviders[r]=new XB({namespace:i})})}registerEventListeners(){if(typeof this.client>"u")throw new Error("Sign Client is not initialized");this.client.on("session_ping",t=>{var r;let{topic:n}=t;n===((r=this.session)==null?void 0:r.topic)&&this.events.emit("session_ping",t)}),this.client.on("session_event",t=>{var r;let{params:n,topic:s}=t;if(s!==((r=this.session)==null?void 0:r.topic))return;let{event:o}=n;if(o.name==="accountsChanged"){let i=o.data;i&&Uo(i)&&this.events.emit("accountsChanged",i.map(Vee))}else if(o.name==="chainChanged"){let i=n.chainId,a=n.event.data,c=o1(i),l=jB(i)!==jB(a)?`${c}:${jB(a)}`:i;this.onChainChanged({currentCaipChainId:l})}else this.events.emit(o.name,o.data);this.events.emit("session_event",t)}),this.client.on("session_update",({topic:t,params:r})=>{var n,s;if(t!==((n=this.session)==null?void 0:n.topic))return;let{namespaces:o}=r,i=(s=this.client)==null?void 0:s.session.get(t);this.session=KC(ux({},i),{namespaces:o}),this.onSessionUpdate(),this.events.emit("session_update",{topic:t,params:r})}),this.client.on("session_delete",async t=>{var r;t.topic===((r=this.session)==null?void 0:r.topic)&&(await this.cleanup(),this.events.emit("session_delete",t),this.events.emit("disconnect",KC(ux({},br("USER_DISCONNECTED")),{data:t.topic})))}),this.on(oD.DEFAULT_CHAIN_CHANGED,t=>{this.onChainChanged(KC(ux({},t),{internal:!0}))})}getProvider(t){return this.rpcProviders[t]||this.rpcProviders[ute]}onSessionUpdate(){Object.keys(this.rpcProviders).forEach(t=>{var r;this.getProvider(t).updateNamespace((r=this.session)==null?void 0:r.namespaces[t])})}setNamespaces(t){let{namespaces:r={},optionalNamespaces:n={},sessionProperties:s,scopedProperties:o}=t;this.optionalNamespaces=WC(r,n),this.sessionProperties=s,this.scopedProperties=o}validateChain(t){let[r,n]=t?.split(":")||["",""];if(!this.namespaces||!Object.keys(this.namespaces).length)return[r,n];if(r&&!Object.keys(this.namespaces||{}).map(i=>o1(i)).includes(r))throw new Error(`Namespace '${r}' is not configured. Please call connect() first with namespace config.`);if(r&&n)return[r,n];let s=o1(Object.keys(this.namespaces)[0]),o=this.rpcProviders[s].getDefaultChain();return[s,o]}async requestAccounts(){let[t]=this.validateChain();return await this.getProvider(t).requestAccounts()}async onChainChanged({currentCaipChainId:t,previousCaipChainId:r,internal:n=!1}){if(!this.namespaces)return;let[s,o]=this.validateChain(t);if(o){if(this.updateNamespaceChain(s,o),n)this.events.emit("chainChanged",o),this.emitAccountsChangedOnChainChange({namespace:s,currentCaipChainId:t,previousCaipChainId:r});else{let i=this.getProvider(s);i?i.setDefaultChain(o):this.session&&this.logger.warn(`Provider for namespace '${s}' not found during chain change`)}await this.persist("namespaces",this.namespaces)}}emitAccountsChangedOnChainChange({namespace:t,currentCaipChainId:r,previousCaipChainId:n}){var s,o;try{if(n===r)return;let i=(o=(s=this.session)==null?void 0:s.namespaces[t])==null?void 0:o.accounts;if(!i)return;let a=i.filter(c=>c.includes(`${r}:`)).map(Vee);if(!Uo(a))return;this.events.emit("accountsChanged",a)}catch(i){this.logger.warn(i,"Failed to emit accountsChanged on chain change")}}updateNamespaceChain(t,r){if(!this.namespaces)return;let n=this.namespaces[t]?t:`${t}:${r}`,s={chains:[],methods:[],events:[],defaultChain:r};this.namespaces[n]?this.namespaces[n]&&(this.namespaces[n].defaultChain=r):this.namespaces[n]=s}onConnect(){this.createProviders(),this.events.emit("connect",{session:this.session})}async cleanup(){this.connectParams=void 0,this.namespaces=void 0,this.optionalNamespaces=void 0,this.sessionProperties=void 0,await this.deleteFromStore("namespaces"),await this.deleteFromStore("optionalNamespaces"),await this.deleteFromStore("sessionProperties"),this.session=void 0,this.cleanupPendingPairings({deletePairings:!0}),await this.cleanupStorage()}async persist(t,r){var n;let s=((n=this.session)==null?void 0:n.topic)||"";await this.client.core.storage.setItem(`${VC}/${t}${s}`,r)}async getFromStore(t){var r;let n=((r=this.session)==null?void 0:r.topic)||"";return await this.client.core.storage.getItem(`${VC}/${t}${n}`)}async deleteFromStore(t){var r;let n=((r=this.session)==null?void 0:r.topic)||"";await this.client.core.storage.removeItem(`${VC}/${t}${n}`)}async cleanupStorage(){var t;try{if(((t=this.client)==null?void 0:t.session.length)>0)return;let r=await this.client.core.storage.getKeys();for(let n of r)n.startsWith(VC)&&await this.client.core.storage.removeItem(n)}catch(r){this.logger.warn(r,"Failed to cleanup storage")}}},hte=tD;var Wot="wc",Kot="ethereum_provider",Zot=`${Wot}@2:${Kot}:`,Got="https://rpc.walletconnect.org/v1/",qV=["eth_sendTransaction","personal_sign"],Yot=["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode","wallet_sendCalls","wallet_getCapabilities","wallet_getCallsStatus","wallet_showCallsStatus"],WV=["chainChanged","accountsChanged"],Jot=["chainChanged","accountsChanged","message","disconnect","connect"],Qot=async()=>{let{createAppKit:e}=await Promise.resolve().then(()=>(D5e(),B5e));return e},Xot=Object.defineProperty,eit=Object.defineProperties,tit=Object.getOwnPropertyDescriptors,U5e=Object.getOwnPropertySymbols,rit=Object.prototype.hasOwnProperty,nit=Object.prototype.propertyIsEnumerable,KV=(e,t,r)=>t in e?Xot(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,h2=(e,t)=>{for(var r in t||(t={}))rit.call(t,r)&&KV(e,r,t[r]);if(U5e)for(var r of U5e(t))nit.call(t,r)&&KV(e,r,t[r]);return e},q5=(e,t)=>eit(e,tit(t)),ja=(e,t,r)=>KV(e,typeof t!="symbol"?t+"":t,r);function nP(e){return Number(e[0].split(":")[1])}function rP(e){return`0x${e.toString(16)}`}function sit(e){let{chains:t,optionalChains:r,methods:n,optionalMethods:s,events:o,optionalEvents:i,rpcMap:a}=e;if(!Uo(t))throw new Error("Invalid chains");let c={chains:t,methods:n||qV,events:o||WV,rpcMap:h2({},t.length?{[nP(t)]:a[nP(t)]}:{})},l=o?.filter(f=>!WV.includes(f)),u=n?.filter(f=>!qV.includes(f));if(!r&&!i&&!s&&!(l!=null&&l.length)&&!(u!=null&&u.length))return{required:t.length?c:void 0};let d=l?.length&&u?.length||!r,p={chains:[...new Set(d?c.chains.concat(r||[]):r)],methods:[...new Set(c.methods.concat(s!=null&&s.length?s:Yot))],events:[...new Set(c.events.concat(i!=null&&i.length?i:Jot))],rpcMap:a};return{required:t.length?c:void 0,optional:r.length?p:void 0}}var ZV=class e{constructor(){ja(this,"events",new H5e.EventEmitter),ja(this,"namespace","eip155"),ja(this,"accounts",[]),ja(this,"signer"),ja(this,"chainId",1),ja(this,"modal"),ja(this,"rpc"),ja(this,"STORAGE_KEY",Zot),ja(this,"on",(t,r)=>(this.events.on(t,r),this)),ja(this,"once",(t,r)=>(this.events.once(t,r),this)),ja(this,"removeListener",(t,r)=>(this.events.removeListener(t,r),this)),ja(this,"off",(t,r)=>(this.events.off(t,r),this)),ja(this,"parseAccount",t=>this.isCompatibleChainId(t)?this.parseAccountId(t).address:t),this.signer={},this.rpc={}}static async init(t){let r=new e;return await r.initialize(t),r}async request(t,r){return await this.signer.request(t,this.formatChainId(this.chainId),r)}sendAsync(t,r,n){this.signer.sendAsync(t,r,this.formatChainId(this.chainId),n)}get connected(){return this.signer.client?this.signer.client.core.relayer.connected:!1}get connecting(){return this.signer.client?this.signer.client.core.relayer.connecting:!1}async enable(){return this.session||await this.connect(),await this.request({method:"eth_requestAccounts"})}async connect(t){var r;if(!this.signer.client)throw new Error("Provider not initialized. Call init() first");this.loadConnectOpts(t);let{required:n,optional:s}=sit(this.rpc);try{let o=await new Promise(async(a,c)=>{var l,u;this.rpc.showQrModal&&((l=this.modal)==null||l.open(),(u=this.modal)==null||u.subscribeState(p=>{!p.open&&!this.signer.session&&(this.signer.abortPairingAttempt(),c(new Error("Connection request reset. Please try again.")))}));let d=t!=null&&t.scopedProperties?{[this.namespace]:t.scopedProperties}:void 0;await this.signer.connect(q5(h2({namespaces:h2({},n&&{[this.namespace]:n})},s&&{optionalNamespaces:{[this.namespace]:s}}),{pairingTopic:t?.pairingTopic,scopedProperties:d})).then(p=>{a(p)}).catch(p=>{var f;(f=this.modal)==null||f.showErrorMessage("Unable to connect"),c(new Error(p.message))})});if(!o)return;let i=GO(o.namespaces,[this.namespace]);this.setChainIds(this.rpc.chains.length?this.rpc.chains:i),this.setAccounts(i),this.events.emit("connect",{chainId:rP(this.chainId)})}catch(o){throw this.signer.logger.error(o),o}finally{(r=this.modal)==null||r.close()}}async authenticate(t,r){var n;if(!this.signer.client)throw new Error("Provider not initialized. Call init() first");this.loadConnectOpts({chains:t?.chains});try{let s=await new Promise(async(i,a)=>{var c,l;this.rpc.showQrModal&&((c=this.modal)==null||c.open(),(l=this.modal)==null||l.subscribeState(u=>{!u.open&&!this.signer.session&&(this.signer.abortPairingAttempt(),a(new Error("Connection request reset. Please try again.")))})),await this.signer.authenticate(q5(h2({},t),{chains:this.rpc.chains}),r).then(u=>{i(u)}).catch(u=>{var d;(d=this.modal)==null||d.showErrorMessage("Unable to connect"),a(new Error(u.message))})}),o=s.session;if(o){let i=GO(o.namespaces,[this.namespace]);this.setChainIds(this.rpc.chains.length?this.rpc.chains:i),this.setAccounts(i),this.events.emit("connect",{chainId:rP(this.chainId)})}return s}catch(s){throw this.signer.logger.error(s),s}finally{(n=this.modal)==null||n.close()}}async disconnect(){this.session&&await this.signer.disconnect(),this.reset()}get isWalletConnect(){return!0}get session(){return this.signer.session}registerEventListeners(){this.signer.on("session_event",t=>{let{params:r}=t,{event:n}=r;n.name==="accountsChanged"?(this.accounts=this.parseAccounts(n.data),this.events.emit("accountsChanged",this.accounts)):n.name==="chainChanged"?this.setChainId(this.formatChainId(n.data)):this.events.emit(n.name,n.data),this.events.emit("session_event",t)}),this.signer.on("accountsChanged",t=>{this.accounts=this.parseAccounts(t),this.events.emit("accountsChanged",this.accounts)}),this.signer.on("chainChanged",t=>{let r=parseInt(t);this.chainId=r,this.events.emit("chainChanged",rP(this.chainId)),this.persist()}),this.signer.on("session_update",t=>{this.events.emit("session_update",t)}),this.signer.on("session_delete",t=>{this.reset(),this.events.emit("session_delete",t),this.events.emit("disconnect",q5(h2({},br("USER_DISCONNECTED")),{data:t.topic,name:"USER_DISCONNECTED"}))}),this.signer.on("display_uri",t=>{this.events.emit("display_uri",t)})}switchEthereumChain(t){this.request({method:"wallet_switchEthereumChain",params:[{chainId:t.toString(16)}]})}isCompatibleChainId(t){return typeof t=="string"?t.startsWith(`${this.namespace}:`):!1}formatChainId(t){return`${this.namespace}:${t}`}parseChainId(t){return Number(t.split(":")[1])}setChainIds(t){let r=t.filter(n=>this.isCompatibleChainId(n)).map(n=>this.parseChainId(n));r.length&&(this.chainId=r[0],this.events.emit("chainChanged",rP(this.chainId)),this.persist())}setChainId(t){if(this.isCompatibleChainId(t)){let r=this.parseChainId(t);this.chainId=r,this.switchEthereumChain(r)}}parseAccountId(t){let[r,n,s]=t.split(":");return{chainId:`${r}:${n}`,address:s}}setAccounts(t){this.accounts=t.filter(r=>this.parseChainId(this.parseAccountId(r).chainId)===this.chainId).map(r=>this.parseAccountId(r).address),this.events.emit("accountsChanged",this.accounts)}getRpcConfig(t){var r,n;let s=(r=t?.chains)!=null?r:[],o=(n=t?.optionalChains)!=null?n:[],i=s.concat(o);if(!i.length)throw new Error("No chains specified in either `chains` or `optionalChains`");let a=s.length?t?.methods||qV:[],c=s.length?t?.events||WV:[],l=t?.optionalMethods||[],u=t?.optionalEvents||[],d=t?.rpcMap||this.buildRpcMap(i,t.projectId),p=t?.qrModalOptions||void 0;return{chains:s?.map(f=>this.formatChainId(f)),optionalChains:o.map(f=>this.formatChainId(f)),methods:a,events:c,optionalMethods:l,optionalEvents:u,rpcMap:d,showQrModal:!!(t!=null&&t.showQrModal),qrModalOptions:p,projectId:t.projectId,metadata:t.metadata}}buildRpcMap(t,r){let n={};return t.forEach(s=>{n[s]=this.getRpcUrl(s,r)}),n}async initialize(t){var r;if(this.rpc=this.getRpcConfig(t),this.chainId=this.rpc.chains.length?nP(this.rpc.chains):nP(this.rpc.optionalChains),this.signer=await hte.init({projectId:this.rpc.projectId,metadata:this.rpc.metadata,disableProviderPing:t.disableProviderPing,relayUrl:t.relayUrl,storage:t.storage,storageOptions:t.storageOptions,customStoragePrefix:t.customStoragePrefix,telemetryEnabled:t.telemetryEnabled,logger:t.logger}),this.registerEventListeners(),await this.loadPersistedSession(),this.rpc.showQrModal){let n;try{let s=await Qot(),{convertWCMToAppKitOptions:o}=await Promise.resolve().then(function(){return hit}),i=o(q5(h2({},this.rpc.qrModalOptions),{chains:[...new Set([...this.rpc.chains,...this.rpc.optionalChains])],metadata:this.rpc.metadata,projectId:this.rpc.projectId}));if(!i.networks.length)throw new Error("No networks found for WalletConnect");n=s(q5(h2({},i),{universalProvider:this.signer,manualWCControl:!0,enableMobileFullScreen:((r=this.rpc.qrModalOptions)==null?void 0:r.enableMobileFullScreen)===!0}))}catch(s){throw console.warn(s),new Error("To use QR modal, please install @reown/appkit package")}if(n)try{this.modal=n}catch(s){throw this.signer.logger.error(s),new Error("Could not generate WalletConnectModal Instance")}}}loadConnectOpts(t){if(!t)return;let{chains:r,optionalChains:n,rpcMap:s}=t;r&&Uo(r)&&(this.rpc.chains=r.map(o=>this.formatChainId(o)),r.forEach(o=>{this.rpc.rpcMap[o]=s?.[o]||this.getRpcUrl(o)})),n&&Uo(n)&&(this.rpc.optionalChains=[],this.rpc.optionalChains=n?.map(o=>this.formatChainId(o)),n.forEach(o=>{this.rpc.rpcMap[o]=s?.[o]||this.getRpcUrl(o)}))}getRpcUrl(t,r){var n;return((n=this.rpc.rpcMap)==null?void 0:n[t])||`${Got}?chainId=eip155:${t}&projectId=${r||this.rpc.projectId}`}async loadPersistedSession(){if(this.session)try{let t=await this.signer.client.core.storage.getItem(`${this.STORAGE_KEY}/chainId`),r=this.session.namespaces[`${this.namespace}:${t}`]?this.session.namespaces[`${this.namespace}:${t}`]:this.session.namespaces[this.namespace];this.setChainIds(t?[this.formatChainId(t)]:r?.accounts),this.setAccounts(r?.accounts)}catch(t){this.signer.logger.error("Failed to load persisted session, clearing state..."),this.signer.logger.error(t),await this.disconnect().catch(r=>this.signer.logger.warn(r))}}reset(){this.chainId=1,this.accounts=[]}persist(){this.session&&this.signer.client.core.storage.setItem(`${this.STORAGE_KEY}/chainId`,this.chainId)}parseAccounts(t){return typeof t=="string"||t instanceof String?[this.parseAccount(t)]:t.map(r=>this.parseAccount(r))}},$5e=ZV,oit=Object.defineProperty,iit=Object.defineProperties,ait=Object.getOwnPropertyDescriptors,L5e=Object.getOwnPropertySymbols,cit=Object.prototype.hasOwnProperty,lit=Object.prototype.propertyIsEnumerable,M5e=(e,t,r)=>t in e?oit(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,F5e=(e,t)=>{for(var r in t||(t={}))cit.call(t,r)&&M5e(e,r,t[r]);if(L5e)for(var r of L5e(t))lit.call(t,r)&&M5e(e,r,t[r]);return e},uit=(e,t)=>iit(e,ait(t));function dit(e){if(e)return{"--w3m-font-family":e["--wcm-font-family"],"--w3m-accent":e["--wcm-accent-color"],"--w3m-color-mix":e["--wcm-background-color"],"--w3m-z-index":e["--wcm-z-index"]?Number(e["--wcm-z-index"]):void 0,"--w3m-qr-color":e["--wcm-accent-color"],"--w3m-font-size-master":e["--wcm-text-medium-regular-size"],"--w3m-border-radius-master":e["--wcm-container-border-radius"],"--w3m-color-mix-strength":0}}var pit=e=>{let[t,r]=e.split(":");return j5e({id:r,caipNetworkId:e,chainNamespace:t,name:"",nativeCurrency:{name:"",symbol:"",decimals:8},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}}})};function fit(e){var t,r,n,s,o,i,a;let c=(t=e.chains)==null?void 0:t.map(pit).filter(Boolean);if(c.length===0)throw new Error("At least one chain must be specified");let l=c.find(d=>{var p;return d.id===((p=e.defaultChain)==null?void 0:p.id)}),u={projectId:e.projectId,networks:c,themeMode:e.themeMode,themeVariables:dit(e.themeVariables),chainImages:e.chainImages,connectorImages:e.walletImages,defaultNetwork:l,metadata:uit(F5e({},e.metadata),{name:((r=e.metadata)==null?void 0:r.name)||"WalletConnect",description:((n=e.metadata)==null?void 0:n.description)||"Connect to WalletConnect-compatible wallets",url:((s=e.metadata)==null?void 0:s.url)||"https://walletconnect.org",icons:((o=e.metadata)==null?void 0:o.icons)||["https://walletconnect.org/walletconnect-logo.png"]}),showWallets:!0,featuredWalletIds:e.explorerRecommendedWalletIds==="NONE"?[]:Array.isArray(e.explorerRecommendedWalletIds)?e.explorerRecommendedWalletIds:[],excludeWalletIds:e.explorerExcludedWalletIds==="ALL"?[]:Array.isArray(e.explorerExcludedWalletIds)?e.explorerExcludedWalletIds:[],enableEIP6963:!1,enableInjected:!1,enableCoinbase:!0,enableWalletConnect:!0,features:{email:!1,socials:!1}};if((i=e.mobileWallets)!=null&&i.length||(a=e.desktopWallets)!=null&&a.length){let d=[...(e.mobileWallets||[]).map(h=>({id:h.id,name:h.name,links:h.links})),...(e.desktopWallets||[]).map(h=>({id:h.id,name:h.name,links:{native:h.links.native,universal:h.links.universal}}))],p=[...u.featuredWalletIds||[],...u.excludeWalletIds||[]],f=d.filter(h=>!p.includes(h.id));f.length&&(u.customWallets=f)}return u}function j5e(e){return F5e({formatters:void 0,fees:void 0,serializers:void 0},e)}var hit=Object.freeze({__proto__:null,convertWCMToAppKitOptions:fit,defineChain:j5e});var z5e=(e,t)=>{let r;switch(e){case"standard":return r=t,`data:image/svg+xml,%3Csvg width='${t}' height='${r}' viewBox='0 0 1024 1024' fill='none' xmlns='http://www.w3.org/2000/svg'%3E %3Crect width='1024' height='1024' fill='%230052FF'/%3E %3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M152 512C152 710.823 313.177 872 512 872C710.823 872 872 710.823 872 512C872 313.177 710.823 152 512 152C313.177 152 152 313.177 152 512ZM420 396C406.745 396 396 406.745 396 420V604C396 617.255 406.745 628 420 628H604C617.255 628 628 617.255 628 604V420C628 406.745 617.255 396 604 396H420Z' fill='white'/%3E %3C/svg%3E `;case"circle":return r=t,`data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='${t}' height='${r}' viewBox='0 0 999.81 999.81'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%230052fe;%7D.cls-2%7Bfill:%23fefefe;%7D.cls-3%7Bfill:%230152fe;%7D%3C/style%3E%3C/defs%3E%3Cpath class='cls-1' d='M655-115.9h56c.83,1.59,2.36.88,3.56,1a478,478,0,0,1,75.06,10.42C891.4-81.76,978.33-32.58,1049.19,44q116.7,126,131.94,297.61c.38,4.14-.34,8.53,1.78,12.45v59c-1.58.84-.91,2.35-1,3.56a482.05,482.05,0,0,1-10.38,74.05c-24,106.72-76.64,196.76-158.83,268.93s-178.18,112.82-287.2,122.6c-4.83.43-9.86-.25-14.51,1.77H654c-1-1.68-2.69-.91-4.06-1a496.89,496.89,0,0,1-105.9-18.59c-93.54-27.42-172.78-77.59-236.91-150.94Q199.34,590.1,184.87,426.58c-.47-5.19.25-10.56-1.77-15.59V355c1.68-1,.91-2.7,1-4.06a498.12,498.12,0,0,1,18.58-105.9c26-88.75,72.64-164.9,140.6-227.57q126-116.27,297.21-131.61C645.32-114.57,650.35-113.88,655-115.9Zm377.92,500c0-192.44-156.31-349.49-347.56-350.15-194.13-.68-350.94,155.13-352.29,347.42-1.37,194.55,155.51,352.1,348.56,352.47C876.15,734.23,1032.93,577.84,1032.93,384.11Z' transform='translate(-183.1 115.9)'/%3E%3Cpath class='cls-2' d='M1032.93,384.11c0,193.73-156.78,350.12-351.29,349.74-193-.37-349.93-157.92-348.56-352.47C334.43,189.09,491.24,33.28,685.37,34,876.62,34.62,1032.94,191.67,1032.93,384.11ZM683,496.81q43.74,0,87.48,0c15.55,0,25.32-9.72,25.33-25.21q0-87.48,0-175c0-15.83-9.68-25.46-25.59-25.46H595.77c-15.88,0-25.57,9.64-25.58,25.46q0,87.23,0,174.45c0,16.18,9.59,25.7,25.84,25.71Z' transform='translate(-183.1 115.9)'/%3E%3Cpath class='cls-3' d='M683,496.81H596c-16.25,0-25.84-9.53-25.84-25.71q0-87.23,0-174.45c0-15.82,9.7-25.46,25.58-25.46H770.22c15.91,0,25.59,9.63,25.59,25.46q0,87.47,0,175c0,15.49-9.78,25.2-25.33,25.21Q726.74,496.84,683,496.81Z' transform='translate(-183.1 115.9)'/%3E%3C/svg%3E`;case"text":return r=(.1*t).toFixed(2),`data:image/svg+xml,%3Csvg width='${t}' height='${r}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 528.15 53.64'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%230052ff;%7D%3C/style%3E%3C/defs%3E%3Ctitle%3ECoinbase_Wordmark_SubBrands_ALL%3C/title%3E%3Cpath class='cls-1' d='M164.45,15a15,15,0,0,0-11.74,5.4V0h-8.64V52.92h8.5V48a15,15,0,0,0,11.88,5.62c10.37,0,18.21-8.21,18.21-19.3S174.67,15,164.45,15Zm-1.3,30.67c-6.19,0-10.73-4.83-10.73-11.31S157,23,163.22,23s10.66,4.82,10.66,11.37S169.34,45.65,163.15,45.65Zm83.31-14.91-6.34-.93c-3-.43-5.18-1.44-5.18-3.82,0-2.59,2.8-3.89,6.62-3.89,4.18,0,6.84,1.8,7.42,4.76h8.35c-.94-7.49-6.7-11.88-15.55-11.88-9.15,0-15.2,4.68-15.2,11.3,0,6.34,4,10,12,11.16l6.33.94c3.1.43,4.83,1.65,4.83,4,0,2.95-3,4.17-7.2,4.17-5.12,0-8-2.09-8.43-5.25h-8.49c.79,7.27,6.48,12.38,16.84,12.38,9.44,0,15.7-4.32,15.7-11.74C258.12,35.28,253.58,31.82,246.46,30.74Zm-27.65-2.3c0-8.06-4.9-13.46-15.27-13.46-9.79,0-15.26,5-16.34,12.6h8.57c.43-3,2.73-5.4,7.63-5.4,4.39,0,6.55,1.94,6.55,4.32,0,3.09-4,3.88-8.85,4.39-6.63.72-14.84,3-14.84,11.66,0,6.7,5,11,12.89,11,6.19,0,10.08-2.59,12-6.7.28,3.67,3,6.05,6.84,6.05h5v-7.7h-4.25Zm-8.5,9.36c0,5-4.32,8.64-9.57,8.64-3.24,0-6-1.37-6-4.25,0-3.67,4.39-4.68,8.42-5.11s6-1.22,7.13-2.88ZM281.09,15c-11.09,0-19.23,8.35-19.23,19.36,0,11.6,8.72,19.3,19.37,19.3,9,0,16.06-5.33,17.86-12.89h-9c-1.3,3.31-4.47,5.19-8.71,5.19-5.55,0-9.72-3.46-10.66-9.51H299.3V33.12C299.3,22.46,291.53,15,281.09,15Zm-9.87,15.26c1.37-5.18,5.26-7.7,9.72-7.7,4.9,0,8.64,2.8,9.51,7.7ZM19.3,23a9.84,9.84,0,0,1,9.5,7h9.14c-1.65-8.93-9-15-18.57-15A19,19,0,0,0,0,34.34c0,11.09,8.28,19.3,19.37,19.3,9.36,0,16.85-6,18.5-15H28.8a9.75,9.75,0,0,1-9.43,7.06c-6.27,0-10.66-4.83-10.66-11.31S13,23,19.3,23Zm41.11-8A19,19,0,0,0,41,34.34c0,11.09,8.28,19.3,19.37,19.3A19,19,0,0,0,79.92,34.27C79.92,23.33,71.64,15,60.41,15Zm.07,30.67c-6.19,0-10.73-4.83-10.73-11.31S54.22,23,60.41,23s10.8,4.89,10.8,11.37S66.67,45.65,60.48,45.65ZM123.41,15c-5.62,0-9.29,2.3-11.45,5.54V15.7h-8.57V52.92H112V32.69C112,27,115.63,23,121,23c5,0,8.06,3.53,8.06,8.64V52.92h8.64V31C137.66,21.6,132.84,15,123.41,15ZM92,.36a5.36,5.36,0,0,0-5.55,5.47,5.55,5.55,0,0,0,11.09,0A5.35,5.35,0,0,0,92,.36Zm-9.72,23h5.4V52.92h8.64V15.7h-14Zm298.17-7.7L366.2,52.92H372L375.29,44H392l3.33,8.88h6L386.87,15.7ZM377,39.23l6.45-17.56h.1l6.56,17.56ZM362.66,15.7l-7.88,29h-.11l-8.14-29H341l-8,28.93h-.1l-8-28.87H319L329.82,53h5.45l8.19-29.24h.11L352,53h5.66L368.1,15.7Zm135.25,0v4.86h12.32V52.92h5.6V20.56h12.32V15.7ZM467.82,52.92h25.54V48.06H473.43v-12h18.35V31.35H473.43V20.56h19.93V15.7H467.82ZM443,15.7h-5.6V52.92h24.32V48.06H443Zm-30.45,0h-5.61V52.92h24.32V48.06H412.52Z'/%3E%3C/svg%3E`;case"textWithLogo":return r=(.25*t).toFixed(2),`data:image/svg+xml,%3Csvg width='${t}' height='${r}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 308.44 77.61'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%230052ff;%7D%3C/style%3E%3C/defs%3E%3Cpath class='cls-1' d='M142.94,20.2l-7.88,29H135l-8.15-29h-5.55l-8,28.93h-.11l-8-28.87H99.27l10.84,37.27h5.44l8.2-29.24h.1l8.41,29.24h5.66L148.39,20.2Zm17.82,0L146.48,57.42h5.82l3.28-8.88h16.65l3.34,8.88h6L167.16,20.2Zm-3.44,23.52,6.45-17.55h.11l6.56,17.55ZM278.2,20.2v4.86h12.32V57.42h5.6V25.06h12.32V20.2ZM248.11,57.42h25.54V52.55H253.71V40.61h18.35V35.85H253.71V25.06h19.94V20.2H248.11ZM223.26,20.2h-5.61V57.42H242V52.55H223.26Zm-30.46,0h-5.6V57.42h24.32V52.55H192.8Zm-154,38A19.41,19.41,0,1,1,57.92,35.57H77.47a38.81,38.81,0,1,0,0,6.47H57.92A19.39,19.39,0,0,1,38.81,58.21Z'/%3E%3C/svg%3E`;case"textLight":return r=(.1*t).toFixed(2),`data:image/svg+xml,%3Csvg width='${t}' height='${r}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 528.15 53.64'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%23fefefe;%7D%3C/style%3E%3C/defs%3E%3Ctitle%3ECoinbase_Wordmark_SubBrands_ALL%3C/title%3E%3Cpath class='cls-1' d='M164.45,15a15,15,0,0,0-11.74,5.4V0h-8.64V52.92h8.5V48a15,15,0,0,0,11.88,5.62c10.37,0,18.21-8.21,18.21-19.3S174.67,15,164.45,15Zm-1.3,30.67c-6.19,0-10.73-4.83-10.73-11.31S157,23,163.22,23s10.66,4.82,10.66,11.37S169.34,45.65,163.15,45.65Zm83.31-14.91-6.34-.93c-3-.43-5.18-1.44-5.18-3.82,0-2.59,2.8-3.89,6.62-3.89,4.18,0,6.84,1.8,7.42,4.76h8.35c-.94-7.49-6.7-11.88-15.55-11.88-9.15,0-15.2,4.68-15.2,11.3,0,6.34,4,10,12,11.16l6.33.94c3.1.43,4.83,1.65,4.83,4,0,2.95-3,4.17-7.2,4.17-5.12,0-8-2.09-8.43-5.25h-8.49c.79,7.27,6.48,12.38,16.84,12.38,9.44,0,15.7-4.32,15.7-11.74C258.12,35.28,253.58,31.82,246.46,30.74Zm-27.65-2.3c0-8.06-4.9-13.46-15.27-13.46-9.79,0-15.26,5-16.34,12.6h8.57c.43-3,2.73-5.4,7.63-5.4,4.39,0,6.55,1.94,6.55,4.32,0,3.09-4,3.88-8.85,4.39-6.63.72-14.84,3-14.84,11.66,0,6.7,5,11,12.89,11,6.19,0,10.08-2.59,12-6.7.28,3.67,3,6.05,6.84,6.05h5v-7.7h-4.25Zm-8.5,9.36c0,5-4.32,8.64-9.57,8.64-3.24,0-6-1.37-6-4.25,0-3.67,4.39-4.68,8.42-5.11s6-1.22,7.13-2.88ZM281.09,15c-11.09,0-19.23,8.35-19.23,19.36,0,11.6,8.72,19.3,19.37,19.3,9,0,16.06-5.33,17.86-12.89h-9c-1.3,3.31-4.47,5.19-8.71,5.19-5.55,0-9.72-3.46-10.66-9.51H299.3V33.12C299.3,22.46,291.53,15,281.09,15Zm-9.87,15.26c1.37-5.18,5.26-7.7,9.72-7.7,4.9,0,8.64,2.8,9.51,7.7ZM19.3,23a9.84,9.84,0,0,1,9.5,7h9.14c-1.65-8.93-9-15-18.57-15A19,19,0,0,0,0,34.34c0,11.09,8.28,19.3,19.37,19.3,9.36,0,16.85-6,18.5-15H28.8a9.75,9.75,0,0,1-9.43,7.06c-6.27,0-10.66-4.83-10.66-11.31S13,23,19.3,23Zm41.11-8A19,19,0,0,0,41,34.34c0,11.09,8.28,19.3,19.37,19.3A19,19,0,0,0,79.92,34.27C79.92,23.33,71.64,15,60.41,15Zm.07,30.67c-6.19,0-10.73-4.83-10.73-11.31S54.22,23,60.41,23s10.8,4.89,10.8,11.37S66.67,45.65,60.48,45.65ZM123.41,15c-5.62,0-9.29,2.3-11.45,5.54V15.7h-8.57V52.92H112V32.69C112,27,115.63,23,121,23c5,0,8.06,3.53,8.06,8.64V52.92h8.64V31C137.66,21.6,132.84,15,123.41,15ZM92,.36a5.36,5.36,0,0,0-5.55,5.47,5.55,5.55,0,0,0,11.09,0A5.35,5.35,0,0,0,92,.36Zm-9.72,23h5.4V52.92h8.64V15.7h-14Zm298.17-7.7L366.2,52.92H372L375.29,44H392l3.33,8.88h6L386.87,15.7ZM377,39.23l6.45-17.56h.1l6.56,17.56ZM362.66,15.7l-7.88,29h-.11l-8.14-29H341l-8,28.93h-.1l-8-28.87H319L329.82,53h5.45l8.19-29.24h.11L352,53h5.66L368.1,15.7Zm135.25,0v4.86h12.32V52.92h5.6V20.56h12.32V15.7ZM467.82,52.92h25.54V48.06H473.43v-12h18.35V31.35H473.43V20.56h19.93V15.7H467.82ZM443,15.7h-5.6V52.92h24.32V48.06H443Zm-30.45,0h-5.61V52.92h24.32V48.06H412.52Z'/%3E%3C/svg%3E`;case"textWithLogoLight":return r=(.25*t).toFixed(2),`data:image/svg+xml,%3Csvg width='${t}' height='${r}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 308.44 77.61'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%23fefefe;%7D%3C/style%3E%3C/defs%3E%3Cpath class='cls-1' d='M142.94,20.2l-7.88,29H135l-8.15-29h-5.55l-8,28.93h-.11l-8-28.87H99.27l10.84,37.27h5.44l8.2-29.24h.1l8.41,29.24h5.66L148.39,20.2Zm17.82,0L146.48,57.42h5.82l3.28-8.88h16.65l3.34,8.88h6L167.16,20.2Zm-3.44,23.52,6.45-17.55h.11l6.56,17.55ZM278.2,20.2v4.86h12.32V57.42h5.6V25.06h12.32V20.2ZM248.11,57.42h25.54V52.55H253.71V40.61h18.35V35.85H253.71V25.06h19.94V20.2H248.11ZM223.26,20.2h-5.61V57.42H242V52.55H223.26Zm-30.46,0h-5.6V57.42h24.32V52.55H192.8Zm-154,38A19.41,19.41,0,1,1,57.92,35.57H77.47a38.81,38.81,0,1,0,0,6.47H57.92A19.39,19.39,0,0,1,38.81,58.21Z'/%3E%3C/svg%3E`;default:return r=t,`data:image/svg+xml,%3Csvg width='${t}' height='${r}' viewBox='0 0 1024 1024' fill='none' xmlns='http://www.w3.org/2000/svg'%3E %3Crect width='1024' height='1024' fill='%230052FF'/%3E %3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M152 512C152 710.823 313.177 872 512 872C710.823 872 872 710.823 872 512C872 313.177 710.823 152 512 152C313.177 152 152 313.177 152 512ZM420 396C406.745 396 396 406.745 396 420V604C396 617.255 406.745 628 420 628H604C617.255 628 628 617.255 628 604V420C628 406.745 617.255 396 604 396H420Z' fill='white'/%3E %3C/svg%3E `}};$0();var To=class e{constructor(t,r){this.scope=t,this.module=r}storeObject(t,r){this.setItem(t,JSON.stringify(r))}loadObject(t){let r=this.getItem(t);return r?JSON.parse(r):void 0}setItem(t,r){localStorage.setItem(this.scopedKey(t),r)}getItem(t){return localStorage.getItem(this.scopedKey(t))}removeItem(t){localStorage.removeItem(this.scopedKey(t))}clear(){let t=this.scopedKey(""),r=[];for(let n=0;n<localStorage.length;n++){let s=localStorage.key(n);typeof s=="string"&&s.startsWith(t)&&r.push(s)}r.forEach(n=>localStorage.removeItem(n))}scopedKey(t){return`-${this.scope}${this.module?`:${this.module}`:""}:${t}`}static clearAll(){new e("CBWSDK").clear(),new e("walletlink").clear()}};var Yr={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901,unsupportedChain:4902}},sP={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."},4902:{standard:"EIP-3085",message:"Unrecognized chain ID."}};var W5e="Unspecified error message.",mit="Unspecified server error.";function oP(e,t=W5e){if(e&&Number.isInteger(e)){let r=e.toString();if(GV(sP,r))return sP[r].message;if(Z5e(e))return mit}return t}function git(e){if(!Number.isInteger(e))return!1;let t=e.toString();return!!(sP[t]||Z5e(e))}function K5e(e,{shouldIncludeStack:t=!1}={}){let r={};if(e&&typeof e=="object"&&!Array.isArray(e)&&GV(e,"code")&&git(e.code)){let n=e;r.code=n.code,n.message&&typeof n.message=="string"?(r.message=n.message,GV(n,"data")&&(r.data=n.data)):(r.message=oP(r.code),r.data={originalError:V5e(e)})}else r.code=Yr.rpc.internal,r.message=q5e(e,"message")?e.message:W5e,r.data={originalError:V5e(e)};return t&&(r.stack=q5e(e,"stack")?e.stack:void 0),r}function Z5e(e){return e>=-32099&&e<=-32e3}function V5e(e){return e&&typeof e=="object"&&!Array.isArray(e)?Object.assign({},e):e}function GV(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function q5e(e,t){return typeof e=="object"&&e!==null&&t in e&&typeof e[t]=="string"}var dt={rpc:{parse:e=>Cc(Yr.rpc.parse,e),invalidRequest:e=>Cc(Yr.rpc.invalidRequest,e),invalidParams:e=>Cc(Yr.rpc.invalidParams,e),methodNotFound:e=>Cc(Yr.rpc.methodNotFound,e),internal:e=>Cc(Yr.rpc.internal,e),server:e=>{if(!e||typeof e!="object"||Array.isArray(e))throw new Error("Ethereum RPC Server errors must provide single object argument.");let{code:t}=e;if(!Number.isInteger(t)||t>-32005||t<-32099)throw new Error('"code" must be an integer such that: -32099 <= code <= -32005');return Cc(t,e)},invalidInput:e=>Cc(Yr.rpc.invalidInput,e),resourceNotFound:e=>Cc(Yr.rpc.resourceNotFound,e),resourceUnavailable:e=>Cc(Yr.rpc.resourceUnavailable,e),transactionRejected:e=>Cc(Yr.rpc.transactionRejected,e),methodNotSupported:e=>Cc(Yr.rpc.methodNotSupported,e),limitExceeded:e=>Cc(Yr.rpc.limitExceeded,e)},provider:{userRejectedRequest:e=>L6(Yr.provider.userRejectedRequest,e),unauthorized:e=>L6(Yr.provider.unauthorized,e),unsupportedMethod:e=>L6(Yr.provider.unsupportedMethod,e),disconnected:e=>L6(Yr.provider.disconnected,e),chainDisconnected:e=>L6(Yr.provider.chainDisconnected,e),unsupportedChain:e=>L6(Yr.provider.unsupportedChain,e),custom:e=>{if(!e||typeof e!="object"||Array.isArray(e))throw new Error("Ethereum Provider custom errors must provide single object argument.");let{code:t,message:r,data:n}=e;if(!r||typeof r!="string")throw new Error('"message" must be a nonempty string');return new aP(t,r,n)}}};function Cc(e,t){let[r,n]=G5e(t);return new iP(e,r||oP(e),n)}function L6(e,t){let[r,n]=G5e(t);return new aP(e,r||oP(e),n)}function G5e(e){if(e){if(typeof e=="string")return[e];if(typeof e=="object"&&!Array.isArray(e)){let{message:t,data:r}=e;if(t&&typeof t!="string")throw new Error("Must specify string message.");return[t||void 0,r]}}return[]}var iP=class extends Error{constructor(t,r,n){if(!Number.isInteger(t))throw new Error('"code" must be an integer.');if(!r||typeof r!="string")throw new Error('"message" must be a nonempty string.');super(r),this.code=t,n!==void 0&&(this.data=n)}},aP=class extends iP{constructor(t,r,n){if(!yit(t))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');super(t,r,n)}};function yit(e){return Number.isInteger(e)&&e>=1e3&&e<=4999}function cP(){return e=>e}var M6=cP(),Y5e=cP(),J5e=cP();function Tl(e){return Math.floor(e)}var wit=cP();var Q5e=/^[0-9]*$/,X5e=/^[a-f0-9]*$/;function vf(e){return W5(crypto.getRandomValues(new Uint8Array(e)))}function W5(e){return[...e].map(t=>t.toString(16).padStart(2,"0")).join("")}function H6(e){return new Uint8Array(e.match(/.{1,2}/g).map(t=>Number.parseInt(t,16)))}function m2(e,t=!1){let r=e.toString("hex");return M6(t?`0x${r}`:r)}function lP(e){return m2(dP(e),!0)}function Pl(e){return J5e(e.toString(10))}function Nl(e){return M6(`0x${BigInt(e).toString(16)}`)}function eEe(e){return e.startsWith("0x")||e.startsWith("0X")}function YV(e){return eEe(e)?e.slice(2):e}function JV(e){return eEe(e)?`0x${e.slice(2)}`:`0x${e}`}function uP(e){if(typeof e!="string")return!1;let t=YV(e).toLowerCase();return X5e.test(t)}function bit(e,t=!1){if(typeof e=="string"){let r=YV(e).toLowerCase();if(X5e.test(r))return M6(t?`0x${r}`:r)}throw dt.rpc.invalidParams(`"${String(e)}" is not a hexadecimal string`)}function QV(e,t=!1){let r=bit(e,!1);return r.length%2===1&&(r=M6(`0${r}`)),t?M6(`0x${r}`):r}function Ef(e){if(typeof e=="string"){let t=YV(e).toLowerCase();if(uP(t)&&t.length===40)return Y5e(JV(t))}throw dt.rpc.invalidParams(`Invalid Ethereum address: ${String(e)}`)}function dP(e){if(Buffer.isBuffer(e))return e;if(typeof e=="string"){if(uP(e)){let t=QV(e,!1);return Buffer.from(t,"hex")}return Buffer.from(e,"utf8")}throw dt.rpc.invalidParams(`Not binary data: ${String(e)}`)}function g2(e){if(typeof e=="number"&&Number.isInteger(e))return Tl(e);if(typeof e=="string"){if(Q5e.test(e))return Tl(Number(e));if(uP(e))return Tl(Number(BigInt(QV(e,!0))))}throw dt.rpc.invalidParams(`Not an integer: ${String(e)}`)}function $6(e){if(e!==null&&(typeof e=="bigint"||xit(e)))return BigInt(e.toString(10));if(typeof e=="number")return BigInt(g2(e));if(typeof e=="string"){if(Q5e.test(e))return BigInt(e);if(uP(e))return BigInt(QV(e,!0))}throw dt.rpc.invalidParams(`Not an integer: ${String(e)}`)}function tEe(e){if(typeof e=="string")return JSON.parse(e);if(typeof e=="object")return e;throw dt.rpc.invalidParams(`Not a JSON string or an object: ${String(e)}`)}function xit(e){if(e==null||typeof e.constructor!="function")return!1;let{constructor:t}=e;return typeof t.config=="function"&&typeof t.EUCLID=="number"}function rEe(){let e=document.querySelector('link[sizes="192x192"]')||document.querySelector('link[sizes="180x180"]')||document.querySelector('link[rel="icon"]')||document.querySelector('link[rel="shortcut icon"]'),{protocol:t,host:r}=document.location,n=e?e.getAttribute("href"):null;return!n||n.startsWith("javascript:")||n.startsWith("vbscript:")?`${t}//${r}/favicon.ico`:n.startsWith("http://")||n.startsWith("https://")||n.startsWith("data:")?n:n.startsWith("//")?t+n:`${t}//${r}${n}`}async function nEe(){return crypto.subtle.generateKey({name:"ECDH",namedCurve:"P-256"},!0,["deriveKey"])}async function sEe(e,t){return crypto.subtle.deriveKey({name:"ECDH",public:t},e,{name:"AES-GCM",length:256},!1,["encrypt","decrypt"])}async function vit(e,t){let r=crypto.getRandomValues(new Uint8Array(12)),n=await crypto.subtle.encrypt({name:"AES-GCM",iv:r},e,new TextEncoder().encode(t));return{iv:r,cipherText:n}}async function Eit(e,{iv:t,cipherText:r}){let n=await crypto.subtle.decrypt({name:"AES-GCM",iv:t},e,r);return new TextDecoder().decode(n)}function oEe(e){switch(e){case"public":return"spki";case"private":return"pkcs8"}}async function pP(e,t){let r=oEe(e),n=await crypto.subtle.exportKey(r,t);return W5(new Uint8Array(n))}async function fP(e,t){let r=oEe(e),n=H6(t).buffer;return await crypto.subtle.importKey(r,new Uint8Array(n),{name:"ECDH",namedCurve:"P-256"},!0,e==="private"?["deriveKey"]:[])}async function iEe(e,t){let r=JSON.stringify(e,(n,s)=>{if(!(s instanceof Error))return s;let o=s;return Object.assign(Object.assign({},o.code?{code:o.code}:{}),{message:o.message})});return vit(t,r)}async function aEe(e,t){return JSON.parse(await Eit(t,e))}var XV={storageKey:"ownPrivateKey",keyType:"private"},eq={storageKey:"ownPublicKey",keyType:"public"},tq={storageKey:"peerPublicKey",keyType:"public"},hP=class{constructor(){this.storage=new To("CBWSDK","SCWKeyManager"),this.ownPrivateKey=null,this.ownPublicKey=null,this.peerPublicKey=null,this.sharedSecret=null}async getOwnPublicKey(){return await this.loadKeysIfNeeded(),this.ownPublicKey}async getSharedSecret(){return await this.loadKeysIfNeeded(),this.sharedSecret}async setPeerPublicKey(t){this.sharedSecret=null,this.peerPublicKey=t,await this.storeKey(tq,t),await this.loadKeysIfNeeded()}async clear(){this.ownPrivateKey=null,this.ownPublicKey=null,this.peerPublicKey=null,this.sharedSecret=null,this.storage.removeItem(eq.storageKey),this.storage.removeItem(XV.storageKey),this.storage.removeItem(tq.storageKey)}async generateKeyPair(){let t=await nEe();this.ownPrivateKey=t.privateKey,this.ownPublicKey=t.publicKey,await this.storeKey(XV,t.privateKey),await this.storeKey(eq,t.publicKey)}async loadKeysIfNeeded(){if(this.ownPrivateKey===null&&(this.ownPrivateKey=await this.loadKey(XV)),this.ownPublicKey===null&&(this.ownPublicKey=await this.loadKey(eq)),(this.ownPrivateKey===null||this.ownPublicKey===null)&&await this.generateKeyPair(),this.peerPublicKey===null&&(this.peerPublicKey=await this.loadKey(tq)),this.sharedSecret===null){if(this.ownPrivateKey===null||this.peerPublicKey===null)return;this.sharedSecret=await sEe(this.ownPrivateKey,this.peerPublicKey)}}async loadKey(t){let r=this.storage.getItem(t.storageKey);return r?fP(t.keyType,r):null}async storeKey(t,r){let n=await pP(t.keyType,r);this.storage.setItem(t.storageKey,n)}};$0();function cEe(e){if(!e||!Array.isArray(e)||e.length!==1&&e.length!==2)throw dt.rpc.invalidParams();if(typeof e[0]!="string"||!Vt(e[0]))throw dt.rpc.invalidParams();if(e.length===2){if(!Array.isArray(e[1]))throw dt.rpc.invalidParams();for(let t of e[1])if(typeof t!="string"||!t.startsWith("0x"))throw dt.rpc.invalidParams()}}var Dd="4.3.7",mP="@coinbase/wallet-sdk";async function F6(e,t){let r=Object.assign(Object.assign({},e),{jsonrpc:"2.0",id:crypto.randomUUID()}),n=await window.fetch(t,{method:"POST",body:JSON.stringify(r),mode:"cors",headers:{"Content-Type":"application/json","X-Cbw-Sdk-Version":Dd,"X-Cbw-Sdk-Platform":mP}}),{result:s,error:o}=await n.json();if(o)throw o;return s}function Ait(){return globalThis.coinbaseWalletExtension}function Cit(){var e,t;try{let r=globalThis;return(t=(e=r.top)===null||e===void 0?void 0:e.ethereum)!==null&&t!==void 0?t:r.ethereum}catch{return}}function lEe({metadata:e,preference:t}){var r,n;let{appName:s,appLogoUrl:o,appChainIds:i}=e;if(t.options!=="smartWalletOnly"){let c=Ait();if(c)return(r=c.setAppInfo)===null||r===void 0||r.call(c,s,o,i,t),c}let a=Cit();if(a?.isCoinbaseBrowser)return(n=a.setAppInfo)===null||n===void 0||n.call(a,s,o,i,t),a}function uEe(e){if(!e||typeof e!="object"||Array.isArray(e))throw dt.rpc.invalidParams({message:"Expected a single, non-array, object argument.",data:e});let{method:t,params:r}=e;if(typeof t!="string"||t.length===0)throw dt.rpc.invalidParams({message:"'args.method' must be a non-empty string.",data:e});if(r!==void 0&&!Array.isArray(r)&&(typeof r!="object"||r===null))throw dt.rpc.invalidParams({message:"'args.params' must be an object or array if provided.",data:e});switch(t){case"eth_sign":case"eth_signTypedData_v2":case"eth_subscribe":case"eth_unsubscribe":throw dt.provider.unsupportedMethod()}}var dEe="accounts",pEe="activeChain",fEe="availableChains",hEe="walletCapabilities",gP=class{constructor(t){var r,n,s;this.metadata=t.metadata,this.communicator=t.communicator,this.callback=t.callback,this.keyManager=new hP,this.storage=new To("CBWSDK","SCWStateManager"),this.accounts=(r=this.storage.loadObject(dEe))!==null&&r!==void 0?r:[],this.chain=this.storage.loadObject(pEe)||{id:(s=(n=t.metadata.appChainIds)===null||n===void 0?void 0:n[0])!==null&&s!==void 0?s:1},this.handshake=this.handshake.bind(this),this.request=this.request.bind(this),this.createRequestMessage=this.createRequestMessage.bind(this),this.decryptResponseMessage=this.decryptResponseMessage.bind(this)}async handshake(t){var r,n,s,o;await((n=(r=this.communicator).waitForPopupLoaded)===null||n===void 0?void 0:n.call(r));let i=await this.createRequestMessage({handshake:{method:t.method,params:Object.assign({},this.metadata,(s=t.params)!==null&&s!==void 0?s:{})}}),a=await this.communicator.postRequestAndWaitForResponse(i);if("failure"in a.content)throw a.content.failure;let c=await fP("public",a.sender);await this.keyManager.setPeerPublicKey(c);let u=(await this.decryptResponseMessage(a)).result;if("error"in u)throw u.error;if(t.method==="eth_requestAccounts"){let d=u.value;this.accounts=d,this.storage.storeObject(dEe,d),(o=this.callback)===null||o===void 0||o.call(this,"accountsChanged",d)}}async request(t){var r;if(this.accounts.length===0){if(t.method==="wallet_sendCalls")return this.sendRequestToPopup(t);throw dt.provider.unauthorized()}switch(t.method){case"eth_requestAccounts":return(r=this.callback)===null||r===void 0||r.call(this,"connect",{chainId:Nl(this.chain.id)}),this.accounts;case"eth_accounts":return this.accounts;case"eth_coinbase":return this.accounts[0];case"net_version":return this.chain.id;case"eth_chainId":return Nl(this.chain.id);case"wallet_getCapabilities":return this.handleGetCapabilitiesRequest(t);case"wallet_switchEthereumChain":return this.handleSwitchChainRequest(t);case"eth_ecRecover":case"personal_sign":case"wallet_sign":case"personal_ecRecover":case"eth_signTransaction":case"eth_sendTransaction":case"eth_signTypedData_v1":case"eth_signTypedData_v3":case"eth_signTypedData_v4":case"eth_signTypedData":case"wallet_addEthereumChain":case"wallet_watchAsset":case"wallet_sendCalls":case"wallet_showCallsStatus":case"wallet_grantPermissions":return this.sendRequestToPopup(t);default:if(!this.chain.rpcUrl)throw dt.rpc.internal("No RPC URL set for chain");return F6(t,this.chain.rpcUrl)}}async sendRequestToPopup(t){var r,n;await((n=(r=this.communicator).waitForPopupLoaded)===null||n===void 0?void 0:n.call(r));let s=await this.sendEncryptedRequest(t),i=(await this.decryptResponseMessage(s)).result;if("error"in i)throw i.error;return i.value}async cleanup(){var t,r;this.storage.clear(),await this.keyManager.clear(),this.accounts=[],this.chain={id:(r=(t=this.metadata.appChainIds)===null||t===void 0?void 0:t[0])!==null&&r!==void 0?r:1}}async handleSwitchChainRequest(t){var r;let n=t.params;if(!n||!(!((r=n[0])===null||r===void 0)&&r.chainId))throw dt.rpc.invalidParams();let s=g2(n[0].chainId);if(this.updateChain(s))return null;let i=await this.sendRequestToPopup(t);return i===null&&this.updateChain(s),i}async handleGetCapabilitiesRequest(t){cEe(t.params);let r=t.params[0],n=t.params[1];if(!this.accounts.some(a=>vn(a,r)))throw dt.provider.unauthorized("no active account found");let s=this.storage.loadObject(hEe);if(!s)return{};if(!n||n.length===0)return s;let o=new Set(n.map(a=>ft(a)));return Object.fromEntries(Object.entries(s).filter(([a])=>{try{let c=ft(a);return o.has(c)}catch{return!1}}))}async sendEncryptedRequest(t){let r=await this.keyManager.getSharedSecret();if(!r)throw dt.provider.unauthorized("No valid session found, try requestAccounts before other methods");let n=await iEe({action:t,chainId:this.chain.id},r),s=await this.createRequestMessage({encrypted:n});return this.communicator.postRequestAndWaitForResponse(s)}async createRequestMessage(t){let r=await pP("public",await this.keyManager.getOwnPublicKey());return{id:crypto.randomUUID(),sender:r,content:t,timestamp:new Date}}async decryptResponseMessage(t){var r,n;let s=t.content;if("failure"in s)throw s.failure;let o=await this.keyManager.getSharedSecret();if(!o)throw dt.provider.unauthorized("Invalid session");let i=await aEe(s.encrypted,o),a=(r=i.data)===null||r===void 0?void 0:r.chains;if(a){let l=Object.entries(a).map(([u,d])=>({id:Number(u),rpcUrl:d}));this.storage.storeObject(fEe,l),this.updateChain(this.chain.id,l)}let c=(n=i.data)===null||n===void 0?void 0:n.capabilities;return c&&this.storage.storeObject(hEe,c),i}updateChain(t,r){var n;let s=r??this.storage.loadObject(fEe),o=s?.find(i=>i.id===t);return o?(o!==this.chain&&(this.chain=o,this.storage.storeObject(pEe,o),(n=this.callback)===null||n===void 0||n.call(this,"chainChanged",Nl(o.id))),!0):!1}};var rE=Bt(mAe(),1);var gAe="walletUsername",J5="Addresses",yAe="AppVersion";function Yn(e){return e.errorMessage!==void 0}var vP=class{constructor(t){this.secret=t}async encrypt(t){let r=this.secret;if(r.length!==64)throw Error("secret must be 256 bits");let n=crypto.getRandomValues(new Uint8Array(12)),s=await crypto.subtle.importKey("raw",H6(r),{name:"aes-gcm"},!1,["encrypt","decrypt"]),o=new TextEncoder,i=await window.crypto.subtle.encrypt({name:"AES-GCM",iv:n},s,o.encode(t)),a=16,c=i.slice(i.byteLength-a),l=i.slice(0,i.byteLength-a),u=new Uint8Array(c),d=new Uint8Array(l),p=new Uint8Array([...n,...u,...d]);return W5(p)}async decrypt(t){let r=this.secret;if(r.length!==64)throw Error("secret must be 256 bits");return new Promise((n,s)=>{(async function(){let o=await crypto.subtle.importKey("raw",H6(r),{name:"aes-gcm"},!1,["encrypt","decrypt"]),i=H6(t),a=i.slice(0,12),c=i.slice(12,28),l=i.slice(28),u=new Uint8Array([...l,...c]),d={name:"AES-GCM",iv:new Uint8Array(a)};try{let p=await window.crypto.subtle.decrypt(d,o,u),f=new TextDecoder;n(f.decode(p))}catch(p){s(p)}})()})}};var EP=class{constructor(t,r,n){this.linkAPIUrl=t,this.sessionId=r;let s=`${r}:${n}`;this.auth=`Basic ${btoa(s)}`}async markUnseenEventsAsSeen(t){return Promise.all(t.map(r=>fetch(`${this.linkAPIUrl}/events/${r.eventId}/seen`,{method:"POST",headers:{Authorization:this.auth}}))).catch(r=>console.error("Unabled to mark event as failed:",r))}async fetchUnseenEvents(){var t;let r=await fetch(`${this.linkAPIUrl}/events?unseen=true`,{headers:{Authorization:this.auth}});if(r.ok){let{events:n,error:s}=await r.json();if(s)throw new Error(`Check unseen events failed: ${s}`);let o=(t=n?.filter(i=>i.event==="Web3Response").map(i=>({type:"Event",sessionId:this.sessionId,eventId:i.id,event:i.event,data:i.data})))!==null&&t!==void 0?t:[];return this.markUnseenEventsAsSeen(o),o}throw new Error(`Check unseen events failed: ${r.status}`)}};var Ol;(function(e){e[e.DISCONNECTED=0]="DISCONNECTED",e[e.CONNECTING=1]="CONNECTING",e[e.CONNECTED=2]="CONNECTED"})(Ol||(Ol={}));var w2=class e{setConnectionStateListener(t){this.connectionStateListener=t}setIncomingDataListener(t){this.incomingDataListener=t}constructor(t,r=WebSocket){this.WebSocketClass=r,this.webSocket=null,this.isDisconnecting=!1,this.url=t.replace(/^http/,"ws"),this.instanceId=e.instanceCounter++,e.activeInstances.add(this.instanceId)}async connect(){if(this.webSocket)throw new Error("webSocket object is not null");if(this.isDisconnecting)throw new Error("WebSocket is disconnecting, cannot reconnect on same instance");return new Promise((t,r)=>{var n;let s;try{this.webSocket=s=new this.WebSocketClass(this.url)}catch(o){r(o);return}(n=this.connectionStateListener)===null||n===void 0||n.call(this,Ol.CONNECTING),s.onclose=o=>{var i;this.clearWebSocket(),s.readyState!==WebSocket.OPEN&&r(new Error(`websocket error ${o.code}: ${o.reason}`)),(i=this.connectionStateListener)===null||i===void 0||i.call(this,Ol.DISCONNECTED)},s.onopen=o=>{var i;t(),(i=this.connectionStateListener)===null||i===void 0||i.call(this,Ol.CONNECTED),e.pendingData.length>0&&([...e.pendingData].forEach(c=>this.sendData(c)),e.pendingData=[])},s.onmessage=o=>{var i,a;if(o.data==="h")(i=this.incomingDataListener)===null||i===void 0||i.call(this,{type:"Heartbeat"});else try{let c=JSON.parse(o.data);(a=this.incomingDataListener)===null||a===void 0||a.call(this,c)}catch{}}})}disconnect(){var t;let{webSocket:r}=this;if(r){this.isDisconnecting=!0,this.clearWebSocket(),(t=this.connectionStateListener)===null||t===void 0||t.call(this,Ol.DISCONNECTED),this.connectionStateListener=void 0,this.incomingDataListener=void 0;try{r.close()}catch{}}}sendData(t){let{webSocket:r}=this;if(!r){e.pendingData.push(t),this.isDisconnecting||this.connect();return}if(r.readyState!==WebSocket.OPEN){e.pendingData.push(t);return}r.send(t)}clearWebSocket(){let{webSocket:t}=this;t&&(this.webSocket=null,t.onclose=null,t.onerror=null,t.onmessage=null,t.onopen=null)}cleanup(){e.activeInstances.delete(this.instanceId)}};w2.instanceCounter=0;w2.activeInstances=new Set;w2.pendingData=[];var wAe=1e4,uat=6e4,AP=class{constructor({session:t,linkAPIUrl:r,listener:n}){this.destroyed=!1,this.lastHeartbeatResponse=0,this.nextReqId=Tl(1),this.reconnectAttempts=0,this.isReconnecting=!1,this._connected=!1,this._linked=!1,this.requestResolutions=new Map,this.handleSessionMetadataUpdated=o=>{if(!o)return;new Map([["__destroyed",this.handleDestroyed],["EthereumAddress",this.handleAccountUpdated],["WalletUsername",this.handleWalletUsernameUpdated],["AppVersion",this.handleAppVersionUpdated],["ChainId",a=>o.JsonRpcUrl&&this.handleChainUpdated(a,o.JsonRpcUrl)]]).forEach((a,c)=>{let l=o[c];l!==void 0&&a(l)})},this.handleDestroyed=o=>{var i;o==="1"&&((i=this.listener)===null||i===void 0||i.resetAndReload())},this.handleAccountUpdated=async o=>{var i;try{let a=await this.cipher.decrypt(o);(i=this.listener)===null||i===void 0||i.accountUpdated(a)}catch{}},this.handleMetadataUpdated=async(o,i)=>{var a;try{let c=await this.cipher.decrypt(i);(a=this.listener)===null||a===void 0||a.metadataUpdated(o,c)}catch{}},this.handleWalletUsernameUpdated=async o=>{this.handleMetadataUpdated(gAe,o)},this.handleAppVersionUpdated=async o=>{this.handleMetadataUpdated(yAe,o)},this.handleChainUpdated=async(o,i)=>{var a;try{let c=await this.cipher.decrypt(o),l=await this.cipher.decrypt(i);(a=this.listener)===null||a===void 0||a.chainUpdated(c,l)}catch{}},this.session=t,this.cipher=new vP(t.secret),this.listener=n,this.linkAPIUrl=r,this.WebSocketClass=WebSocket;let s=this.createWebSocket();this.ws=s,this.http=new EP(r,t.id,t.key),this.setupVisibilityChangeHandler()}createWebSocket(){let t=new w2(`${this.linkAPIUrl}/rpc`,this.WebSocketClass);return this.activeWsInstance=t,t.setConnectionStateListener(async r=>{if(t!==this.activeWsInstance)return;let n=!1;switch(r){case Ol.DISCONNECTED:this.heartbeatIntervalId&&(clearInterval(this.heartbeatIntervalId),this.heartbeatIntervalId=void 0),this.lastHeartbeatResponse=0,n=!1,this.destroyed||(async()=>{if(this.isReconnecting)return;this.isReconnecting=!0;let o=this.reconnectAttempts===0?0:3e3;await new Promise(i=>setTimeout(i,o)),!this.destroyed&&t===this.activeWsInstance?(this.reconnectAttempts++,"cleanup"in this.ws&&typeof this.ws.cleanup=="function"&&this.ws.cleanup(),this.ws=this.createWebSocket(),this.ws.connect().catch(()=>{}).finally(()=>{this.isReconnecting=!1})):this.isReconnecting=!1})();break;case Ol.CONNECTED:this.reconnectAttempts=0;try{n=await this.handleConnected(),this.fetchUnseenEventsAPI().catch(()=>{})}catch{break}this.connected=n,this.updateLastHeartbeat(),this.heartbeatIntervalId&&clearInterval(this.heartbeatIntervalId),this.heartbeatIntervalId=window.setInterval(()=>{this.heartbeat()},wAe),setTimeout(()=>{this.heartbeat()},100);break;case Ol.CONNECTING:break}r!==Ol.CONNECTED&&(this.connected=n)}),t.setIncomingDataListener(r=>{var n;switch(r.type){case"Heartbeat":this.updateLastHeartbeat();return;case"IsLinkedOK":case"Linked":{let s=r.type==="IsLinkedOK"?r.linked:void 0;this.linked=s||r.onlineGuests>0;break}case"GetSessionConfigOK":case"SessionConfigUpdated":{this.handleSessionMetadataUpdated(r.metadata);break}case"Event":{this.handleIncomingEvent(r);break}}r.id!==void 0&&((n=this.requestResolutions.get(r.id))===null||n===void 0||n(r))}),t}setupVisibilityChangeHandler(){this.visibilityChangeHandler=()=>{!document.hidden&&!this.destroyed&&(this.connected?this.heartbeat():this.reconnectWithFreshWebSocket())},this.focusHandler=()=>{!this.destroyed&&!this.connected&&this.reconnectWithFreshWebSocket()},document.addEventListener("visibilitychange",this.visibilityChangeHandler),window.addEventListener("focus",this.focusHandler),window.addEventListener("pageshow",t=>{t.persisted&&this.focusHandler&&this.focusHandler()})}reconnectWithFreshWebSocket(){if(this.destroyed)return;let t=this.ws;this.activeWsInstance=void 0,t.disconnect(),"cleanup"in t&&typeof t.cleanup=="function"&&t.cleanup(),this.ws=this.createWebSocket(),this.ws.connect().catch(()=>{})}connect(){if(this.destroyed)throw new Error("instance is destroyed");this.ws.connect()}async destroy(){this.destroyed||(await this.makeRequest({type:"SetSessionConfig",id:Tl(this.nextReqId++),sessionId:this.session.id,metadata:{__destroyed:"1"}},{timeout:1e3}),this.destroyed=!0,this.activeWsInstance=void 0,this.heartbeatIntervalId&&(clearInterval(this.heartbeatIntervalId),this.heartbeatIntervalId=void 0),this.visibilityChangeHandler&&document.removeEventListener("visibilitychange",this.visibilityChangeHandler),this.focusHandler&&window.removeEventListener("focus",this.focusHandler),this.ws.disconnect(),"cleanup"in this.ws&&typeof this.ws.cleanup=="function"&&this.ws.cleanup(),this.listener=void 0)}get connected(){return this._connected}set connected(t){this._connected=t}get linked(){return this._linked}set linked(t){var r,n;this._linked=t,t&&((r=this.onceLinked)===null||r===void 0||r.call(this)),(n=this.listener)===null||n===void 0||n.linkedUpdated(t)}setOnceLinked(t){return new Promise(r=>{this.linked?t().then(r):this.onceLinked=()=>{t().then(r),this.onceLinked=void 0}})}async handleIncomingEvent(t){var r;if(!(t.type!=="Event"||t.event!=="Web3Response"))try{let n=await this.cipher.decrypt(t.data),s=JSON.parse(n);if(s.type!=="WEB3_RESPONSE")return;(r=this.listener)===null||r===void 0||r.handleWeb3ResponseMessage(s.id,s.response)}catch{}}async checkUnseenEvents(){await new Promise(t=>setTimeout(t,250));try{await this.fetchUnseenEventsAPI()}catch(t){console.error("Unable to check for unseen events",t)}}async fetchUnseenEventsAPI(){try{(await this.http.fetchUnseenEvents()).forEach(r=>{this.handleIncomingEvent(r)})}catch{}}async publishEvent(t,r,n=!1){let s=await this.cipher.encrypt(JSON.stringify(Object.assign(Object.assign({},r),{origin:location.origin,location:location.href,relaySource:"coinbaseWalletExtension"in window&&window.coinbaseWalletExtension?"injected_sdk":"sdk"}))),o={type:"PublishEvent",id:Tl(this.nextReqId++),sessionId:this.session.id,event:t,data:s,callWebhook:n};return this.setOnceLinked(async()=>{let i=await this.makeRequest(o);if(i.type==="Fail")throw new Error(i.error||"failed to publish event");return i.eventId})}sendData(t){this.ws.sendData(JSON.stringify(t))}updateLastHeartbeat(){this.lastHeartbeatResponse=Date.now()}heartbeat(){if(Date.now()-this.lastHeartbeatResponse>wAe*2){this.ws.disconnect();return}if(this.connected)try{this.ws.sendData("h")}catch{}}async makeRequest(t,r={timeout:uat}){let n=t.id;this.sendData(t);let s;return Promise.race([new Promise((o,i)=>{s=window.setTimeout(()=>{i(new Error(`request ${n} timed out`))},r.timeout)}),new Promise(o=>{this.requestResolutions.set(n,i=>{clearTimeout(s),o(i),this.requestResolutions.delete(n)})})])}async handleConnected(){return(await this.makeRequest({type:"HostSession",id:Tl(this.nextReqId++),sessionId:this.session.id,sessionKey:this.session.key})).type==="Fail"?!1:(this.sendData({type:"IsLinked",id:Tl(this.nextReqId++),sessionId:this.session.id}),this.sendData({type:"GetSessionConfig",id:Tl(this.nextReqId++),sessionId:this.session.id}),!0)}};var CP=class{constructor(){this._nextRequestId=0,this.callbacks=new Map}makeRequestId(){this._nextRequestId=(this._nextRequestId+1)%2147483647;let t=this._nextRequestId,r=JV(t.toString(16));return this.callbacks.get(r)&&this.callbacks.delete(r),t}};oN();ui();var bAe="session:id",xAe="session:secret",vAe="session:linked",q6=class e{constructor(t,r,n,s=!1){this.storage=t,this.id=r,this.secret=n,this.key=hW(AE(`${r}, ${n} WalletLink`)),this._linked=!!s}static create(t){let r=vf(16),n=vf(32);return new e(t,r,n).save()}static load(t){let r=t.getItem(bAe),n=t.getItem(vAe),s=t.getItem(xAe);return r&&s?new e(t,r,s,n==="1"):null}get linked(){return this._linked}set linked(t){this._linked=t,this.persistLinked()}save(){return this.storage.setItem(bAe,this.id),this.storage.setItem(xAe,this.secret),this.persistLinked(),this}persistLinked(){this.storage.setItem(vAe,this._linked?"1":"0")}};function dat(){try{return window.frameElement!==null}catch{return!1}}function EAe(){try{return dat()&&window.top?window.top.location:window.location}catch{return window.location}}function AAe(){var e;return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test((e=window?.navigator)===null||e===void 0?void 0:e.userAgent)}function SP(){var e,t;return(t=(e=window?.matchMedia)===null||e===void 0?void 0:e.call(window,"(prefers-color-scheme: dark)").matches)!==null&&t!==void 0?t:!1}var CAe='@namespace svg "http://www.w3.org/2000/svg";.-cbwsdk-css-reset,.-cbwsdk-css-reset *{animation:none;animation-delay:0;animation-direction:normal;animation-duration:0;animation-fill-mode:none;animation-iteration-count:1;animation-name:none;animation-play-state:running;animation-timing-function:ease;backface-visibility:visible;background:0;background-attachment:scroll;background-clip:border-box;background-color:rgba(0,0,0,0);background-image:none;background-origin:padding-box;background-position:0 0;background-position-x:0;background-position-y:0;background-repeat:repeat;background-size:auto auto;border:0;border-style:none;border-width:medium;border-color:inherit;border-bottom:0;border-bottom-color:inherit;border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom-style:none;border-bottom-width:medium;border-collapse:separate;border-image:none;border-left:0;border-left-color:inherit;border-left-style:none;border-left-width:medium;border-radius:0;border-right:0;border-right-color:inherit;border-right-style:none;border-right-width:medium;border-spacing:0;border-top:0;border-top-color:inherit;border-top-left-radius:0;border-top-right-radius:0;border-top-style:none;border-top-width:medium;box-shadow:none;box-sizing:border-box;caption-side:top;clear:none;clip:auto;color:inherit;columns:auto;column-count:auto;column-fill:balance;column-gap:normal;column-rule:medium none currentColor;column-rule-color:currentColor;column-rule-style:none;column-rule-width:none;column-span:1;column-width:auto;counter-increment:none;counter-reset:none;direction:ltr;empty-cells:show;float:none;font:normal;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;font-size:medium;font-style:normal;font-variant:normal;font-weight:normal;height:auto;hyphens:none;letter-spacing:normal;line-height:normal;list-style:none;list-style-image:none;list-style-position:outside;list-style-type:disc;margin:0;margin-bottom:0;margin-left:0;margin-right:0;margin-top:0;opacity:1;orphans:0;outline:0;outline-color:invert;outline-style:none;outline-width:medium;overflow:visible;overflow-x:visible;overflow-y:visible;padding:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;page-break-after:auto;page-break-before:auto;page-break-inside:auto;perspective:none;perspective-origin:50% 50%;pointer-events:auto;position:static;quotes:"\\201C" "\\201D" "\\2018" "\\2019";tab-size:8;table-layout:auto;text-align:inherit;text-align-last:auto;text-decoration:none;text-decoration-color:inherit;text-decoration-line:none;text-decoration-style:solid;text-indent:0;text-shadow:none;text-transform:none;transform:none;transform-style:flat;transition:none;transition-delay:0s;transition-duration:0s;transition-property:none;transition-timing-function:ease;unicode-bidi:normal;vertical-align:baseline;visibility:visible;white-space:normal;widows:0;word-spacing:normal;z-index:auto}.-cbwsdk-css-reset strong{font-weight:bold}.-cbwsdk-css-reset *{box-sizing:border-box;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;line-height:1}.-cbwsdk-css-reset [class*=container]{margin:0;padding:0}.-cbwsdk-css-reset style{display:none}';function IP(){let e=document.createElement("style");e.type="text/css",e.appendChild(document.createTextNode(CAe)),document.documentElement.appendChild(e)}function SAe(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(r=SAe(e[t]))&&(n&&(n+=" "),n+=r);else for(t in e)e[t]&&(n&&(n+=" "),n+=t);return n}function b2(){for(var e,t,r=0,n="";r<arguments.length;)(e=arguments[r++])&&(t=SAe(e))&&(n&&(n+=" "),n+=t);return n}var RP,Zr,NAe,pat,x2,IAe,RAe,OAe,kAe,fq,uq,dq,fat,Q5={},BAe=[],hat=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,OP=Array.isArray;function Cf(e,t){for(var r in t)e[r]=t[r];return e}function hq(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function wr(e,t,r){var n,s,o,i={};for(o in t)o=="key"?n=t[o]:o=="ref"?s=t[o]:i[o]=t[o];if(arguments.length>2&&(i.children=arguments.length>3?RP.call(arguments,2):r),typeof e=="function"&&e.defaultProps!=null)for(o in e.defaultProps)i[o]===void 0&&(i[o]=e.defaultProps[o]);return TP(e,i,n,s,null)}function TP(e,t,r,n,s){var o={type:e,props:t,key:r,ref:n,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:s??++NAe,__i:-1,__u:0};return s==null&&Zr.vnode!=null&&Zr.vnode(o),o}function kP(e){return e.children}function PP(e,t){this.props=e,this.context=t}function W6(e,t){if(t==null)return e.__?W6(e.__,e.__i+1):null;for(var r;t<e.__k.length;t++)if((r=e.__k[t])!=null&&r.__e!=null)return r.__e;return typeof e.type=="function"?W6(e):null}function DAe(e){var t,r;if((e=e.__)!=null&&e.__c!=null){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if((r=e.__k[t])!=null&&r.__e!=null){e.__e=e.__c.base=r.__e;break}return DAe(e)}}function _Ae(e){(!e.__d&&(e.__d=!0)&&x2.push(e)&&!NP.__r++||IAe!=Zr.debounceRendering)&&((IAe=Zr.debounceRendering)||RAe)(NP)}function NP(){for(var e,t,r,n,s,o,i,a=1;x2.length;)x2.length>a&&x2.sort(OAe),e=x2.shift(),a=x2.length,e.__d&&(r=void 0,n=void 0,s=(n=(t=e).__v).__e,o=[],i=[],t.__P&&((r=Cf({},n)).__v=n.__v+1,Zr.vnode&&Zr.vnode(r),mq(t.__P,r,n,t.__n,t.__P.namespaceURI,32&n.__u?[s]:null,o,s??W6(n),!!(32&n.__u),i),r.__v=n.__v,r.__.__k[r.__i]=r,MAe(o,r,i),n.__e=n.__=null,r.__e!=s&&DAe(r)));NP.__r=0}function UAe(e,t,r,n,s,o,i,a,c,l,u){var d,p,f,h,g,y,E,A=n&&n.__k||BAe,b=t.length;for(c=mat(r,t,A,c,b),d=0;d<b;d++)(f=r.__k[d])!=null&&(p=f.__i==-1?Q5:A[f.__i]||Q5,f.__i=d,y=mq(e,f,p,s,o,i,a,c,l,u),h=f.__e,f.ref&&p.ref!=f.ref&&(p.ref&&gq(p.ref,null,f),u.push(f.ref,f.__c||h,f)),g==null&&h!=null&&(g=h),(E=!!(4&f.__u))||p.__k===f.__k?c=LAe(f,c,e,E):typeof f.type=="function"&&y!==void 0?c=y:h&&(c=h.nextSibling),f.__u&=-7);return r.__e=g,c}function mat(e,t,r,n,s){var o,i,a,c,l,u=r.length,d=u,p=0;for(e.__k=new Array(s),o=0;o<s;o++)(i=t[o])!=null&&typeof i!="boolean"&&typeof i!="function"?(typeof i=="string"||typeof i=="number"||typeof i=="bigint"||i.constructor==String?i=e.__k[o]=TP(null,i,null,null,null):OP(i)?i=e.__k[o]=TP(kP,{children:i},null,null,null):i.constructor===void 0&&i.__b>0?i=e.__k[o]=TP(i.type,i.props,i.key,i.ref?i.ref:null,i.__v):e.__k[o]=i,c=o+p,i.__=e,i.__b=e.__b+1,a=null,(l=i.__i=gat(i,r,c,d))!=-1&&(d--,(a=r[l])&&(a.__u|=2)),a==null||a.__v==null?(l==-1&&(s>u?p--:s<u&&p++),typeof i.type!="function"&&(i.__u|=4)):l!=c&&(l==c-1?p--:l==c+1?p++:(l>c?p--:p++,i.__u|=4))):e.__k[o]=null;if(d)for(o=0;o<u;o++)(a=r[o])!=null&&(2&a.__u)==0&&(a.__e==n&&(n=W6(a)),$Ae(a,a));return n}function LAe(e,t,r,n){var s,o;if(typeof e.type=="function"){for(s=e.__k,o=0;s&&o<s.length;o++)s[o]&&(s[o].__=e,t=LAe(s[o],t,r,n));return t}e.__e!=t&&(n&&(t&&e.type&&!t.parentNode&&(t=W6(e)),r.insertBefore(e.__e,t||null)),t=e.__e);do t=t&&t.nextSibling;while(t!=null&&t.nodeType==8);return t}function gat(e,t,r,n){var s,o,i,a=e.key,c=e.type,l=t[r],u=l!=null&&(2&l.__u)==0;if(l===null&&a==null||u&&a==l.key&&c==l.type)return r;if(n>(u?1:0)){for(s=r-1,o=r+1;s>=0||o<t.length;)if((l=t[i=s>=0?s--:o++])!=null&&(2&l.__u)==0&&a==l.key&&c==l.type)return i}return-1}function TAe(e,t,r){t[0]=="-"?e.setProperty(t,r??""):e[t]=r==null?"":typeof r!="number"||hat.test(t)?r:r+"px"}function _P(e,t,r,n,s){var o,i;e:if(t=="style")if(typeof r=="string")e.style.cssText=r;else{if(typeof n=="string"&&(e.style.cssText=n=""),n)for(t in n)r&&t in r||TAe(e.style,t,"");if(r)for(t in r)n&&r[t]==n[t]||TAe(e.style,t,r[t])}else if(t[0]=="o"&&t[1]=="n")o=t!=(t=t.replace(kAe,"$1")),i=t.toLowerCase(),t=i in e||t=="onFocusOut"||t=="onFocusIn"?i.slice(2):t.slice(2),e.l||(e.l={}),e.l[t+o]=r,r?n?r.u=n.u:(r.u=fq,e.addEventListener(t,o?dq:uq,o)):e.removeEventListener(t,o?dq:uq,o);else{if(s=="http://www.w3.org/2000/svg")t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(t!="width"&&t!="height"&&t!="href"&&t!="list"&&t!="form"&&t!="tabIndex"&&t!="download"&&t!="rowSpan"&&t!="colSpan"&&t!="role"&&t!="popover"&&t in e)try{e[t]=r??"";break e}catch{}typeof r=="function"||(r==null||r===!1&&t[4]!="-"?e.removeAttribute(t):e.setAttribute(t,t=="popover"&&r==1?"":r))}}function PAe(e){return function(t){if(this.l){var r=this.l[t.type+e];if(t.t==null)t.t=fq++;else if(t.t<r.u)return;return r(Zr.event?Zr.event(t):t)}}}function mq(e,t,r,n,s,o,i,a,c,l){var u,d,p,f,h,g,y,E,A,b,w,C,_,B,U,k,$,P=t.type;if(t.constructor!==void 0)return null;128&r.__u&&(c=!!(32&r.__u),o=[a=t.__e=r.__e]),(u=Zr.__b)&&u(t);e:if(typeof P=="function")try{if(E=t.props,A="prototype"in P&&P.prototype.render,b=(u=P.contextType)&&n[u.__c],w=u?b?b.props.value:u.__:n,r.__c?y=(d=t.__c=r.__c).__=d.__E:(A?t.__c=d=new P(E,w):(t.__c=d=new PP(E,w),d.constructor=P,d.render=wat),b&&b.sub(d),d.state||(d.state={}),d.__n=n,p=d.__d=!0,d.__h=[],d._sb=[]),A&&d.__s==null&&(d.__s=d.state),A&&P.getDerivedStateFromProps!=null&&(d.__s==d.state&&(d.__s=Cf({},d.__s)),Cf(d.__s,P.getDerivedStateFromProps(E,d.__s))),f=d.props,h=d.state,d.__v=t,p)A&&P.getDerivedStateFromProps==null&&d.componentWillMount!=null&&d.componentWillMount(),A&&d.componentDidMount!=null&&d.__h.push(d.componentDidMount);else{if(A&&P.getDerivedStateFromProps==null&&E!==f&&d.componentWillReceiveProps!=null&&d.componentWillReceiveProps(E,w),t.__v==r.__v||!d.__e&&d.shouldComponentUpdate!=null&&d.shouldComponentUpdate(E,d.__s,w)===!1){for(t.__v!=r.__v&&(d.props=E,d.state=d.__s,d.__d=!1),t.__e=r.__e,t.__k=r.__k,t.__k.some(function(I){I&&(I.__=t)}),C=0;C<d._sb.length;C++)d.__h.push(d._sb[C]);d._sb=[],d.__h.length&&i.push(d);break e}d.componentWillUpdate!=null&&d.componentWillUpdate(E,d.__s,w),A&&d.componentDidUpdate!=null&&d.__h.push(function(){d.componentDidUpdate(f,h,g)})}if(d.context=w,d.props=E,d.__P=e,d.__e=!1,_=Zr.__r,B=0,A){for(d.state=d.__s,d.__d=!1,_&&_(t),u=d.render(d.props,d.state,d.context),U=0;U<d._sb.length;U++)d.__h.push(d._sb[U]);d._sb=[]}else do d.__d=!1,_&&_(t),u=d.render(d.props,d.state,d.context),d.state=d.__s;while(d.__d&&++B<25);d.state=d.__s,d.getChildContext!=null&&(n=Cf(Cf({},n),d.getChildContext())),A&&!p&&d.getSnapshotBeforeUpdate!=null&&(g=d.getSnapshotBeforeUpdate(f,h)),k=u,u!=null&&u.type===kP&&u.key==null&&(k=HAe(u.props.children)),a=UAe(e,OP(k)?k:[k],t,r,n,s,o,i,a,c,l),d.base=t.__e,t.__u&=-161,d.__h.length&&i.push(d),y&&(d.__E=d.__=null)}catch(I){if(t.__v=null,c||o!=null)if(I.then){for(t.__u|=c?160:128;a&&a.nodeType==8&&a.nextSibling;)a=a.nextSibling;o[o.indexOf(a)]=null,t.__e=a}else{for($=o.length;$--;)hq(o[$]);pq(t)}else t.__e=r.__e,t.__k=r.__k,I.then||pq(t);Zr.__e(I,t,r)}else o==null&&t.__v==r.__v?(t.__k=r.__k,t.__e=r.__e):a=t.__e=yat(r.__e,t,r,n,s,o,i,c,l);return(u=Zr.diffed)&&u(t),128&t.__u?void 0:a}function pq(e){e&&e.__c&&(e.__c.__e=!0),e&&e.__k&&e.__k.forEach(pq)}function MAe(e,t,r){for(var n=0;n<r.length;n++)gq(r[n],r[++n],r[++n]);Zr.__c&&Zr.__c(t,e),e.some(function(s){try{e=s.__h,s.__h=[],e.some(function(o){o.call(s)})}catch(o){Zr.__e(o,s.__v)}})}function HAe(e){return typeof e!="object"||e==null||e.__b&&e.__b>0?e:OP(e)?e.map(HAe):Cf({},e)}function yat(e,t,r,n,s,o,i,a,c){var l,u,d,p,f,h,g,y=r.props||Q5,E=t.props,A=t.type;if(A=="svg"?s="http://www.w3.org/2000/svg":A=="math"?s="http://www.w3.org/1998/Math/MathML":s||(s="http://www.w3.org/1999/xhtml"),o!=null){for(l=0;l<o.length;l++)if((f=o[l])&&"setAttribute"in f==!!A&&(A?f.localName==A:f.nodeType==3)){e=f,o[l]=null;break}}if(e==null){if(A==null)return document.createTextNode(E);e=document.createElementNS(s,A,E.is&&E),a&&(Zr.__m&&Zr.__m(t,o),a=!1),o=null}if(A==null)y===E||a&&e.data==E||(e.data=E);else{if(o=o&&RP.call(e.childNodes),!a&&o!=null)for(y={},l=0;l<e.attributes.length;l++)y[(f=e.attributes[l]).name]=f.value;for(l in y)if(f=y[l],l!="children"){if(l=="dangerouslySetInnerHTML")d=f;else if(!(l in E)){if(l=="value"&&"defaultValue"in E||l=="checked"&&"defaultChecked"in E)continue;_P(e,l,null,f,s)}}for(l in E)f=E[l],l=="children"?p=f:l=="dangerouslySetInnerHTML"?u=f:l=="value"?h=f:l=="checked"?g=f:a&&typeof f!="function"||y[l]===f||_P(e,l,f,y[l],s);if(u)a||d&&(u.__html==d.__html||u.__html==e.innerHTML)||(e.innerHTML=u.__html),t.__k=[];else if(d&&(e.innerHTML=""),UAe(t.type=="template"?e.content:e,OP(p)?p:[p],t,r,n,A=="foreignObject"?"http://www.w3.org/1999/xhtml":s,o,i,o?o[0]:r.__k&&W6(r,0),a,c),o!=null)for(l=o.length;l--;)hq(o[l]);a||(l="value",A=="progress"&&h==null?e.removeAttribute("value"):h!=null&&(h!==e[l]||A=="progress"&&!h||A=="option"&&h!=y[l])&&_P(e,l,h,y[l],s),l="checked",g!=null&&g!=e[l]&&_P(e,l,g,y[l],s))}return e}function gq(e,t,r){try{if(typeof e=="function"){var n=typeof e.__u=="function";n&&e.__u(),n&&t==null||(e.__u=e(t))}else e.current=t}catch(s){Zr.__e(s,r)}}function $Ae(e,t,r){var n,s;if(Zr.unmount&&Zr.unmount(e),(n=e.ref)&&(n.current&&n.current!=e.__e||gq(n,null,t)),(n=e.__c)!=null){if(n.componentWillUnmount)try{n.componentWillUnmount()}catch(o){Zr.__e(o,t)}n.base=n.__P=null}if(n=e.__k)for(s=0;s<n.length;s++)n[s]&&$Ae(n[s],t,r||typeof e.type!="function");r||hq(e.__e),e.__c=e.__=e.__e=void 0}function wat(e,t,r){return this.constructor(e,r)}function X5(e,t,r){var n,s,o,i;t==document&&(t=document.documentElement),Zr.__&&Zr.__(e,t),s=(n=typeof r=="function")?null:r&&r.__k||t.__k,o=[],i=[],mq(t,e=(!n&&r||t).__k=wr(kP,null,[e]),s||Q5,Q5,t.namespaceURI,!n&&r?[r]:s?null:t.firstChild?RP.call(t.childNodes):null,o,!n&&r?r:s?s.__e:t.firstChild,n,i),MAe(o,e,i)}RP=BAe.slice,Zr={__e:function(e,t,r,n){for(var s,o,i;t=t.__;)if((s=t.__c)&&!s.__)try{if((o=s.constructor)&&o.getDerivedStateFromError!=null&&(s.setState(o.getDerivedStateFromError(e)),i=s.__d),s.componentDidCatch!=null&&(s.componentDidCatch(e,n||{}),i=s.__d),i)return s.__E=s}catch(a){e=a}throw e}},NAe=0,pat=function(e){return e!=null&&e.constructor===void 0},PP.prototype.setState=function(e,t){var r;r=this.__s!=null&&this.__s!=this.state?this.__s:this.__s=Cf({},this.state),typeof e=="function"&&(e=e(Cf({},r),this.props)),e&&Cf(r,e),e!=null&&this.__v&&(t&&this._sb.push(t),_Ae(this))},PP.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),_Ae(this))},PP.prototype.render=kP,x2=[],RAe=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,OAe=function(e,t){return e.__v.__b-t.__v.__b},NP.__r=0,kAe=/(PointerCapture)$|Capture$/i,fq=0,uq=PAe(!1),dq=PAe(!0),fat=0;var DP,Ln,yq,FAe,wq=0,GAe=[],Jn=Zr,jAe=Jn.__b,zAe=Jn.__r,VAe=Jn.diffed,qAe=Jn.__c,WAe=Jn.unmount,KAe=Jn.__;function YAe(e,t){Jn.__h&&Jn.__h(Ln,e,wq||t),wq=0;var r=Ln.__H||(Ln.__H={__:[],__h:[]});return e>=r.__.length&&r.__.push({}),r.__[e]}function xq(e){return wq=1,bat(QAe,e)}function bat(e,t,r){var n=YAe(DP++,2);if(n.t=e,!n.__c&&(n.__=[r?r(t):QAe(void 0,t),function(a){var c=n.__N?n.__N[0]:n.__[0],l=n.t(c,a);c!==l&&(n.__N=[l,n.__[1]],n.__c.setState({}))}],n.__c=Ln,!Ln.__f)){var s=function(a,c,l){if(!n.__c.__H)return!0;var u=n.__c.__H.__.filter(function(p){return!!p.__c});if(u.every(function(p){return!p.__N}))return!o||o.call(this,a,c,l);var d=n.__c.props!==a;return u.forEach(function(p){if(p.__N){var f=p.__[0];p.__=p.__N,p.__N=void 0,f!==p.__[0]&&(d=!0)}}),o&&o.call(this,a,c,l)||d};Ln.__f=!0;var o=Ln.shouldComponentUpdate,i=Ln.componentWillUpdate;Ln.componentWillUpdate=function(a,c,l){if(this.__e){var u=o;o=void 0,s(a,c,l),o=u}i&&i.call(this,a,c,l)},Ln.shouldComponentUpdate=s}return n.__N||n.__}function JAe(e,t){var r=YAe(DP++,3);!Jn.__s&&Eat(r.__H,t)&&(r.__=e,r.u=t,Ln.__H.__h.push(r))}function xat(){for(var e;e=GAe.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(BP),e.__H.__h.forEach(bq),e.__H.__h=[]}catch(t){e.__H.__h=[],Jn.__e(t,e.__v)}}Jn.__b=function(e){Ln=null,jAe&&jAe(e)},Jn.__=function(e,t){e&&t.__k&&t.__k.__m&&(e.__m=t.__k.__m),KAe&&KAe(e,t)},Jn.__r=function(e){zAe&&zAe(e),DP=0;var t=(Ln=e.__c).__H;t&&(yq===Ln?(t.__h=[],Ln.__h=[],t.__.forEach(function(r){r.__N&&(r.__=r.__N),r.u=r.__N=void 0})):(t.__h.forEach(BP),t.__h.forEach(bq),t.__h=[],DP=0)),yq=Ln},Jn.diffed=function(e){VAe&&VAe(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&(GAe.push(t)!==1&&FAe===Jn.requestAnimationFrame||((FAe=Jn.requestAnimationFrame)||vat)(xat)),t.__H.__.forEach(function(r){r.u&&(r.__H=r.u),r.u=void 0})),yq=Ln=null},Jn.__c=function(e,t){t.some(function(r){try{r.__h.forEach(BP),r.__h=r.__h.filter(function(n){return!n.__||bq(n)})}catch(n){t.some(function(s){s.__h&&(s.__h=[])}),t=[],Jn.__e(n,r.__v)}}),qAe&&qAe(e,t)},Jn.unmount=function(e){WAe&&WAe(e);var t,r=e.__c;r&&r.__H&&(r.__H.__.forEach(function(n){try{BP(n)}catch(s){t=s}}),r.__H=void 0,t&&Jn.__e(t,r.__v))};var ZAe=typeof requestAnimationFrame=="function";function vat(e){var t,r=function(){clearTimeout(n),ZAe&&cancelAnimationFrame(t),setTimeout(e)},n=setTimeout(r,35);ZAe&&(t=requestAnimationFrame(r))}function BP(e){var t=Ln,r=e.__c;typeof r=="function"&&(e.__c=void 0,r()),Ln=t}function bq(e){var t=Ln;e.__c=e.__(),Ln=t}function Eat(e,t){return!e||e.length!==t.length||t.some(function(r,n){return r!==e[n]})}function QAe(e,t){return typeof t=="function"?t(e):t}var XAe=".-cbwsdk-css-reset .-gear-container{margin-left:16px !important;margin-right:9px !important;display:flex;align-items:center;justify-content:center;width:24px;height:24px;transition:opacity .25s}.-cbwsdk-css-reset .-gear-container *{user-select:none}.-cbwsdk-css-reset .-gear-container svg{opacity:0;position:absolute}.-cbwsdk-css-reset .-gear-icon{height:12px;width:12px;z-index:10000}.-cbwsdk-css-reset .-cbwsdk-snackbar{align-items:flex-end;display:flex;flex-direction:column;position:fixed;right:0;top:0;z-index:2147483647}.-cbwsdk-css-reset .-cbwsdk-snackbar *{user-select:none}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance{display:flex;flex-direction:column;margin:8px 16px 0 16px;overflow:visible;text-align:left;transform:translateX(0);transition:opacity .25s,transform .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header:hover .-gear-container svg{opacity:1}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header{display:flex;align-items:center;background:#fff;overflow:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header-cblogo{margin:8px 8px 8px 8px}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header *{cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header-message{color:#000;font-size:13px;line-height:1.5;user-select:none}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu{background:#fff;transition:opacity .25s ease-in-out,transform .25s linear,visibility 0s;visibility:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;opacity:0;flex-direction:column;padding-left:8px;padding-right:8px}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:last-child{margin-bottom:8px !important}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover{background:#f5f7f8;border-radius:6px;transition:background .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover span{color:#050f19;transition:color .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover svg path{fill:#000;transition:fill .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item{visibility:inherit;height:35px;margin-top:8px;margin-bottom:0;display:flex;flex-direction:row;align-items:center;padding:8px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item *{visibility:inherit;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover{background:rgba(223,95,103,.2);transition:background .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover *{cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover svg path{fill:#df5f67;transition:fill .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover span{color:#df5f67;transition:color .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-info{color:#aaa;font-size:13px;margin:0 8px 0 32px;position:absolute}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-hidden{opacity:0;text-align:left;transform:translateX(25%);transition:opacity .5s linear}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-expanded .-cbwsdk-snackbar-instance-menu{opacity:1;display:flex;transform:translateY(8px);visibility:visible}";var Aat="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEuNDkyIDEwLjQxOWE4LjkzIDguOTMgMCAwMTguOTMtOC45M2gxMS4xNjNhOC45MyA4LjkzIDAgMDE4LjkzIDguOTN2MTEuMTYzYTguOTMgOC45MyAwIDAxLTguOTMgOC45M0gxMC40MjJhOC45MyA4LjkzIDAgMDEtOC45My04LjkzVjEwLjQxOXoiIGZpbGw9IiMxNjUyRjAiLz48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTEwLjQxOSAwSDIxLjU4QzI3LjMzNSAwIDMyIDQuNjY1IDMyIDEwLjQxOVYyMS41OEMzMiAyNy4zMzUgMjcuMzM1IDMyIDIxLjU4MSAzMkgxMC40MkM0LjY2NSAzMiAwIDI3LjMzNSAwIDIxLjU4MVYxMC40MkMwIDQuNjY1IDQuNjY1IDAgMTAuNDE5IDB6bTAgMS40ODhhOC45MyA4LjkzIDAgMDAtOC45MyA4LjkzdjExLjE2M2E4LjkzIDguOTMgMCAwMDguOTMgOC45M0gyMS41OGE4LjkzIDguOTMgMCAwMDguOTMtOC45M1YxMC40MmE4LjkzIDguOTMgMCAwMC04LjkzLTguOTNIMTAuNDJ6IiBmaWxsPSIjZmZmIi8+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNS45OTggMjYuMDQ5Yy01LjU0OSAwLTEwLjA0Ny00LjQ5OC0xMC4wNDctMTAuMDQ3IDAtNS41NDggNC40OTgtMTAuMDQ2IDEwLjA0Ny0xMC4wNDYgNS41NDggMCAxMC4wNDYgNC40OTggMTAuMDQ2IDEwLjA0NiAwIDUuNTQ5LTQuNDk4IDEwLjA0Ny0xMC4wNDYgMTAuMDQ3eiIgZmlsbD0iI2ZmZiIvPjxwYXRoIGQ9Ik0xMi43NjIgMTQuMjU0YzAtLjgyMi42NjctMS40ODkgMS40ODktMS40ODloMy40OTdjLjgyMiAwIDEuNDg4LjY2NiAxLjQ4OCAxLjQ4OXYzLjQ5N2MwIC44MjItLjY2NiAxLjQ4OC0xLjQ4OCAxLjQ4OGgtMy40OTdhMS40ODggMS40ODggMCAwMS0xLjQ4OS0xLjQ4OHYtMy40OTh6IiBmaWxsPSIjMTY1MkYwIi8+PC9zdmc+",Cat="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTIiIGhlaWdodD0iMTIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEyIDYuNzV2LTEuNWwtMS43Mi0uNTdjLS4wOC0uMjctLjE5LS41Mi0uMzItLjc3bC44MS0xLjYyLTEuMDYtMS4wNi0xLjYyLjgxYy0uMjQtLjEzLS41LS4yNC0uNzctLjMyTDYuNzUgMGgtMS41bC0uNTcgMS43MmMtLjI3LjA4LS41My4xOS0uNzcuMzJsLTEuNjItLjgxLTEuMDYgMS4wNi44MSAxLjYyYy0uMTMuMjQtLjI0LjUtLjMyLjc3TDAgNS4yNXYxLjVsMS43Mi41N2MuMDguMjcuMTkuNTMuMzIuNzdsLS44MSAxLjYyIDEuMDYgMS4wNiAxLjYyLS44MWMuMjQuMTMuNS4yMy43Ny4zMkw1LjI1IDEyaDEuNWwuNTctMS43MmMuMjctLjA4LjUyLS4xOS43Ny0uMzJsMS42Mi44MSAxLjA2LTEuMDYtLjgxLTEuNjJjLjEzLS4yNC4yMy0uNS4zMi0uNzdMMTIgNi43NXpNNiA4LjVhMi41IDIuNSAwIDAxMC01IDIuNSAyLjUgMCAwMTAgNXoiIGZpbGw9IiMwNTBGMTkiLz48L3N2Zz4=",K6=class{constructor(){this.items=new Map,this.nextItemKey=0,this.root=null,this.darkMode=SP()}attach(t){this.root=document.createElement("div"),this.root.className="-cbwsdk-snackbar-root",t.appendChild(this.root),this.render()}presentItem(t){let r=this.nextItemKey++;return this.items.set(r,t),this.render(),()=>{this.items.delete(r),this.render()}}clear(){this.items.clear(),this.render()}render(){this.root&&X5(wr("div",null,wr(vq,{darkMode:this.darkMode},Array.from(this.items.entries()).map(([t,r])=>wr(Sat,Object.assign({},r,{key:t}))))),this.root)}},vq=e=>wr("div",{class:b2("-cbwsdk-snackbar-container")},wr("style",null,XAe),wr("div",{class:"-cbwsdk-snackbar"},e.children)),Sat=({autoExpand:e,message:t,menuItems:r})=>{let[n,s]=xq(!0),[o,i]=xq(e??!1);JAe(()=>{let c=[window.setTimeout(()=>{s(!1)},1),window.setTimeout(()=>{i(!0)},1e4)];return()=>{c.forEach(window.clearTimeout)}});let a=()=>{i(!o)};return wr("div",{class:b2("-cbwsdk-snackbar-instance",n&&"-cbwsdk-snackbar-instance-hidden",o&&"-cbwsdk-snackbar-instance-expanded")},wr("div",{class:"-cbwsdk-snackbar-instance-header",onClick:a},wr("img",{src:Aat,class:"-cbwsdk-snackbar-instance-header-cblogo"})," ",wr("div",{class:"-cbwsdk-snackbar-instance-header-message"},t),wr("div",{class:"-gear-container"},!o&&wr("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},wr("circle",{cx:"12",cy:"12",r:"12",fill:"#F5F7F8"})),wr("img",{src:Cat,class:"-gear-icon",title:"Expand"}))),r&&r.length>0&&wr("div",{class:"-cbwsdk-snackbar-instance-menu"},r.map((c,l)=>wr("div",{class:b2("-cbwsdk-snackbar-instance-menu-item",c.isRed&&"-cbwsdk-snackbar-instance-menu-item-is-red"),onClick:c.onClick,key:l},wr("svg",{width:c.svgWidth,height:c.svgHeight,viewBox:"0 0 10 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},wr("path",{"fill-rule":c.defaultFillRule,"clip-rule":c.defaultClipRule,d:c.path,fill:"#AAAAAA"})),wr("span",{class:b2("-cbwsdk-snackbar-instance-menu-item-info",c.isRed&&"-cbwsdk-snackbar-instance-menu-item-info-is-red")},c.info)))))};var Eq="M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z",UP=class{constructor(){this.attached=!1,this.snackbar=new K6}attach(){if(this.attached)throw new Error("Coinbase Wallet SDK UI is already attached");let t=document.documentElement,r=document.createElement("div");r.className="-cbwsdk-css-reset",t.appendChild(r),this.snackbar.attach(r),this.attached=!0,IP()}showConnecting(t){let r;return t.isUnlinkedErrorState?r={autoExpand:!0,message:"Connection lost",menuItems:[{isRed:!1,info:"Reset connection",svgWidth:"10",svgHeight:"11",path:"M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z",defaultFillRule:"evenodd",defaultClipRule:"evenodd",onClick:t.onResetConnection}]}:r={message:"Confirm on phone",menuItems:[{isRed:!0,info:"Cancel transaction",svgWidth:"11",svgHeight:"11",path:"M10.3711 1.52346L9.21775 0.370117L5.37109 4.21022L1.52444 0.370117L0.371094 1.52346L4.2112 5.37012L0.371094 9.21677L1.52444 10.3701L5.37109 6.53001L9.21775 10.3701L10.3711 9.21677L6.53099 5.37012L10.3711 1.52346Z",defaultFillRule:"inherit",defaultClipRule:"inherit",onClick:t.onCancel},{isRed:!1,info:"Reset connection",svgWidth:"10",svgHeight:"11",path:Eq,defaultFillRule:"evenodd",defaultClipRule:"evenodd",onClick:t.onResetConnection}]},this.snackbar.presentItem(r)}};var eCe=".-cbwsdk-css-reset .-cbwsdk-redirect-dialog-backdrop{position:fixed;top:0;left:0;right:0;bottom:0;transition:opacity .25s;background-color:rgba(10,11,13,.5)}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-backdrop-hidden{opacity:0}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box{display:block;position:fixed;top:50%;left:50%;transform:translate(-50%, -50%);padding:20px;border-radius:8px;background-color:#fff;color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box p{display:block;font-weight:400;font-size:14px;line-height:20px;padding-bottom:12px;color:#5b636e}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box button{appearance:none;border:none;background:none;color:#0052ff;padding:0;text-decoration:none;display:block;font-weight:600;font-size:16px;line-height:24px}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.dark{background-color:#0a0b0d;color:#fff}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.dark button{color:#0052ff}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.light{background-color:#fff;color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.light button{color:#0052ff}";var LP=class{constructor(){this.root=null,this.darkMode=SP()}attach(){let t=document.documentElement;this.root=document.createElement("div"),this.root.className="-cbwsdk-css-reset",t.appendChild(this.root),IP()}present(t){this.render(t)}clear(){this.render(null)}render(t){this.root&&(X5(null,this.root),t&&X5(wr(Iat,Object.assign({},t,{onDismiss:()=>{this.clear()},darkMode:this.darkMode})),this.root))}},Iat=({title:e,buttonText:t,darkMode:r,onButtonClick:n,onDismiss:s})=>{let o=r?"dark":"light";return wr(vq,{darkMode:r},wr("div",{class:"-cbwsdk-redirect-dialog"},wr("style",null,eCe),wr("div",{class:"-cbwsdk-redirect-dialog-backdrop",onClick:s}),wr("div",{class:b2("-cbwsdk-redirect-dialog-box",o)},wr("p",null,e),wr("button",{onClick:n},t))))};var tCe="https://keys.coinbase.com/connect",rCe="https://rpc.wallet.coinbase.com",Aq="https://www.walletlink.org",nCe="https://go.cb-w.com/walletlink";var eE=class{constructor(){this.attached=!1,this.redirectDialog=new LP}attach(){if(this.attached)throw new Error("Coinbase Wallet SDK UI is already attached");this.redirectDialog.attach(),this.attached=!0}redirectToCoinbaseWallet(t){let r=new URL(nCe);r.searchParams.append("redirect_url",EAe().href),t&&r.searchParams.append("wl_url",t);let n=document.createElement("a");n.target="cbw-opener",n.href=r.href,n.rel="noreferrer noopener",n.click()}openCoinbaseWalletDeeplink(t){this.redirectToCoinbaseWallet(t),setTimeout(()=>{this.redirectDialog.present({title:"Redirecting to Coinbase Wallet...",buttonText:"Open",onButtonClick:()=>{this.redirectToCoinbaseWallet(t)}})},99)}showConnecting(t){return()=>{this.redirectDialog.clear()}}};var tE=class e{constructor(t){this.chainCallbackParams={chainId:"",jsonRpcUrl:""},this.isMobileWeb=AAe(),this.linkedUpdated=o=>{this.isLinked=o;let i=this.storage.getItem(J5);if(o&&(this._session.linked=o),this.isUnlinkedErrorState=!1,i){let a=i.split(" "),c=this.storage.getItem("IsStandaloneSigning")==="true";a[0]!==""&&!o&&this._session.linked&&!c&&(this.isUnlinkedErrorState=!0)}},this.metadataUpdated=(o,i)=>{this.storage.setItem(o,i)},this.chainUpdated=(o,i)=>{this.chainCallbackParams.chainId===o&&this.chainCallbackParams.jsonRpcUrl===i||(this.chainCallbackParams={chainId:o,jsonRpcUrl:i},this.chainCallback&&this.chainCallback(i,Number.parseInt(o,10)))},this.accountUpdated=o=>{this.accountsCallback&&this.accountsCallback([o]),e.accountRequestCallbackIds.size>0&&(Array.from(e.accountRequestCallbackIds.values()).forEach(i=>{this.invokeCallback(i,{method:"requestEthereumAccounts",result:[o]})}),e.accountRequestCallbackIds.clear())},this.resetAndReload=this.resetAndReload.bind(this),this.linkAPIUrl=t.linkAPIUrl,this.storage=t.storage,this.metadata=t.metadata,this.accountsCallback=t.accountsCallback,this.chainCallback=t.chainCallback;let{session:r,ui:n,connection:s}=this.subscribe();this._session=r,this.connection=s,this.relayEventManager=new CP,this.ui=n,this.ui.attach()}subscribe(){let t=q6.load(this.storage)||q6.create(this.storage),{linkAPIUrl:r}=this,n=new AP({session:t,linkAPIUrl:r,listener:this}),s=this.isMobileWeb?new eE:new UP;return n.connect(),{session:t,ui:s,connection:n}}resetAndReload(){this.connection.destroy().then(()=>{let t=q6.load(this.storage);t?.id===this._session.id&&To.clearAll(),document.location.reload()}).catch(t=>{})}signEthereumTransaction(t){return this.sendRequest({method:"signEthereumTransaction",params:{fromAddress:t.fromAddress,toAddress:t.toAddress,weiValue:Pl(t.weiValue),data:m2(t.data,!0),nonce:t.nonce,gasPriceInWei:t.gasPriceInWei?Pl(t.gasPriceInWei):null,maxFeePerGas:t.gasPriceInWei?Pl(t.gasPriceInWei):null,maxPriorityFeePerGas:t.gasPriceInWei?Pl(t.gasPriceInWei):null,gasLimit:t.gasLimit?Pl(t.gasLimit):null,chainId:t.chainId,shouldSubmit:!1}})}signAndSubmitEthereumTransaction(t){return this.sendRequest({method:"signEthereumTransaction",params:{fromAddress:t.fromAddress,toAddress:t.toAddress,weiValue:Pl(t.weiValue),data:m2(t.data,!0),nonce:t.nonce,gasPriceInWei:t.gasPriceInWei?Pl(t.gasPriceInWei):null,maxFeePerGas:t.maxFeePerGas?Pl(t.maxFeePerGas):null,maxPriorityFeePerGas:t.maxPriorityFeePerGas?Pl(t.maxPriorityFeePerGas):null,gasLimit:t.gasLimit?Pl(t.gasLimit):null,chainId:t.chainId,shouldSubmit:!0}})}submitEthereumTransaction(t,r){return this.sendRequest({method:"submitEthereumTransaction",params:{signedTransaction:m2(t,!0),chainId:r}})}getWalletLinkSession(){return this._session}sendRequest(t){let r=null,n=vf(8),s=o=>{this.publishWeb3RequestCanceledEvent(n),this.handleErrorResponse(n,t.method,o),r?.()};return new Promise((o,i)=>{r=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:s,onResetConnection:this.resetAndReload}),this.relayEventManager.callbacks.set(n,a=>{if(r?.(),Yn(a))return i(new Error(a.errorMessage));o(a)}),this.publishWeb3RequestEvent(n,t)})}publishWeb3RequestEvent(t,r){let n={type:"WEB3_REQUEST",id:t,request:r};this.publishEvent("Web3Request",n,!0).then(s=>{}).catch(s=>{this.handleWeb3ResponseMessage(n.id,{method:r.method,errorMessage:s.message})}),this.isMobileWeb&&this.openCoinbaseWalletDeeplink(r.method)}openCoinbaseWalletDeeplink(t){if(this.ui instanceof eE)switch(t){case"requestEthereumAccounts":case"switchEthereumChain":return;default:window.addEventListener("blur",()=>{window.addEventListener("focus",()=>{this.connection.checkUnseenEvents()},{once:!0})},{once:!0}),this.ui.openCoinbaseWalletDeeplink();break}}publishWeb3RequestCanceledEvent(t){let r={type:"WEB3_REQUEST_CANCELED",id:t};this.publishEvent("Web3RequestCanceled",r,!1).then()}publishEvent(t,r,n){return this.connection.publishEvent(t,r,n)}handleWeb3ResponseMessage(t,r){if(r.method==="requestEthereumAccounts"){e.accountRequestCallbackIds.forEach(n=>this.invokeCallback(n,r)),e.accountRequestCallbackIds.clear();return}this.invokeCallback(t,r)}handleErrorResponse(t,r,n){var s;let o=(s=n?.message)!==null&&s!==void 0?s:"Unspecified error message.";this.handleWeb3ResponseMessage(t,{method:r,errorMessage:o})}invokeCallback(t,r){let n=this.relayEventManager.callbacks.get(t);n&&(n(r),this.relayEventManager.callbacks.delete(t))}requestEthereumAccounts(){let{appName:t,appLogoUrl:r}=this.metadata,n={method:"requestEthereumAccounts",params:{appName:t,appLogoUrl:r}},s=null,o=vf(8);return new Promise((i,a)=>{this.relayEventManager.callbacks.set(o,c=>{if(s?.(),Yn(c))return a(new Error(c.errorMessage));i(c)}),e.accountRequestCallbackIds.add(o),this.publishWeb3RequestEvent(o,n)})}watchAsset(t,r,n,s,o,i){let a={method:"watchAsset",params:{type:t,options:{address:r,symbol:n,decimals:s,image:o},chainId:i}},c=null,l=vf(8),u=d=>{this.publishWeb3RequestCanceledEvent(l),this.handleErrorResponse(l,a.method,d),c?.()};return c=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:u,onResetConnection:this.resetAndReload}),new Promise((d,p)=>{this.relayEventManager.callbacks.set(l,f=>{if(c?.(),Yn(f))return p(new Error(f.errorMessage));d(f)}),this.publishWeb3RequestEvent(l,a)})}addEthereumChain(t,r,n,s,o,i){let a={method:"addEthereumChain",params:{chainId:t,rpcUrls:r,blockExplorerUrls:s,chainName:o,iconUrls:n,nativeCurrency:i}},c=null,l=vf(8),u=d=>{this.publishWeb3RequestCanceledEvent(l),this.handleErrorResponse(l,a.method,d),c?.()};return c=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:u,onResetConnection:this.resetAndReload}),new Promise((d,p)=>{this.relayEventManager.callbacks.set(l,f=>{if(c?.(),Yn(f))return p(new Error(f.errorMessage));d(f)}),this.publishWeb3RequestEvent(l,a)})}switchEthereumChain(t,r){let n={method:"switchEthereumChain",params:Object.assign({chainId:t},{address:r})},s=null,o=vf(8),i=a=>{this.publishWeb3RequestCanceledEvent(o),this.handleErrorResponse(o,n.method,a),s?.()};return s=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:i,onResetConnection:this.resetAndReload}),new Promise((a,c)=>{this.relayEventManager.callbacks.set(o,l=>{if(s?.(),Yn(l)&&l.errorCode)return c(dt.provider.custom({code:l.errorCode,message:"Unrecognized chain ID. Try adding the chain using addEthereumChain first."}));if(Yn(l))return c(new Error(l.errorMessage));a(l)}),this.publishWeb3RequestEvent(o,n)})}};tE.accountRequestCallbackIds=new Set;var sCe="DefaultChainId",oCe="DefaultJsonRpcUrl",nE=class{constructor(t){this._relay=null,this._addresses=[],this.metadata=t.metadata,this._storage=new To("walletlink",Aq),this.callback=t.callback||null;let r=this._storage.getItem(J5);if(r){let n=r.split(" ");n[0]!==""&&(this._addresses=n.map(s=>Ef(s)))}this.initializeRelay()}getSession(){let t=this.initializeRelay(),{id:r,secret:n}=t.getWalletLinkSession();return{id:r,secret:n}}async handshake(){await this._eth_requestAccounts()}get selectedAddress(){return this._addresses[0]||void 0}get jsonRpcUrl(){var t;return(t=this._storage.getItem(oCe))!==null&&t!==void 0?t:void 0}set jsonRpcUrl(t){this._storage.setItem(oCe,t)}updateProviderInfo(t,r){var n;this.jsonRpcUrl=t;let s=this.getChainId();this._storage.setItem(sCe,r.toString(10)),g2(r)!==s&&((n=this.callback)===null||n===void 0||n.call(this,"chainChanged",Nl(r)))}async watchAsset(t){let r=Array.isArray(t)?t[0]:t;if(!r.type)throw dt.rpc.invalidParams("Type is required");if(r?.type!=="ERC20")throw dt.rpc.invalidParams(`Asset of type '${r.type}' is not supported`);if(!r?.options)throw dt.rpc.invalidParams("Options are required");if(!r?.options.address)throw dt.rpc.invalidParams("Address is required");let n=this.getChainId(),{address:s,symbol:o,image:i,decimals:a}=r.options,l=await this.initializeRelay().watchAsset(r.type,s,o,a,i,n?.toString());return Yn(l)?!1:!!l.result}async addEthereumChain(t){var r,n;let s=t[0];if(((r=s.rpcUrls)===null||r===void 0?void 0:r.length)===0)throw dt.rpc.invalidParams("please pass in at least 1 rpcUrl");if(!s.chainName||s.chainName.trim()==="")throw dt.rpc.invalidParams("chainName is a required field");if(!s.nativeCurrency)throw dt.rpc.invalidParams("nativeCurrency is a required field");let o=Number.parseInt(s.chainId,16);if(o===this.getChainId())return!1;let i=this.initializeRelay(),{rpcUrls:a=[],blockExplorerUrls:c=[],chainName:l,iconUrls:u=[],nativeCurrency:d}=s,p=await i.addEthereumChain(o.toString(),a,u,c,l,d);if(Yn(p))return!1;if(((n=p.result)===null||n===void 0?void 0:n.isApproved)===!0)return this.updateProviderInfo(a[0],o),null;throw dt.rpc.internal("unable to add ethereum chain")}async switchEthereumChain(t){let r=t[0],n=Number.parseInt(r.chainId,16),o=await this.initializeRelay().switchEthereumChain(n.toString(10),this.selectedAddress||void 0);if(Yn(o))throw o;let i=o.result;return i.isApproved&&i.rpcUrl.length>0&&this.updateProviderInfo(i.rpcUrl,n),null}async cleanup(){this.callback=null,this._relay&&this._relay.resetAndReload(),this._storage.clear()}_setAddresses(t,r){var n;if(!Array.isArray(t))throw new Error("addresses is not an array");let s=t.map(o=>Ef(o));JSON.stringify(s)!==JSON.stringify(this._addresses)&&(this._addresses=s,(n=this.callback)===null||n===void 0||n.call(this,"accountsChanged",s),this._storage.setItem(J5,s.join(" ")))}async request(t){let r=t.params||[];switch(t.method){case"eth_accounts":return[...this._addresses];case"eth_coinbase":return this.selectedAddress||null;case"net_version":return this.getChainId().toString(10);case"eth_chainId":return Nl(this.getChainId());case"eth_requestAccounts":return this._eth_requestAccounts();case"eth_ecRecover":case"personal_ecRecover":return this.ecRecover(t);case"personal_sign":return this.personalSign(t);case"eth_signTransaction":return this._eth_signTransaction(r);case"eth_sendRawTransaction":return this._eth_sendRawTransaction(r);case"eth_sendTransaction":return this._eth_sendTransaction(r);case"eth_signTypedData_v1":case"eth_signTypedData_v3":case"eth_signTypedData_v4":case"eth_signTypedData":return this.signTypedData(t);case"wallet_addEthereumChain":return this.addEthereumChain(r);case"wallet_switchEthereumChain":return this.switchEthereumChain(r);case"wallet_watchAsset":return this.watchAsset(r);default:if(!this.jsonRpcUrl)throw dt.rpc.internal("No RPC URL set for chain");return F6(t,this.jsonRpcUrl)}}_ensureKnownAddress(t){let r=Ef(t);if(!this._addresses.map(s=>Ef(s)).includes(r))throw new Error("Unknown Ethereum address")}_prepareTransactionParams(t){let r=t.from?Ef(t.from):this.selectedAddress;if(!r)throw new Error("Ethereum address is unavailable");this._ensureKnownAddress(r);let n=t.to?Ef(t.to):null,s=t.value!=null?$6(t.value):BigInt(0),o=t.data?dP(t.data):Buffer.alloc(0),i=t.nonce!=null?g2(t.nonce):null,a=t.gasPrice!=null?$6(t.gasPrice):null,c=t.maxFeePerGas!=null?$6(t.maxFeePerGas):null,l=t.maxPriorityFeePerGas!=null?$6(t.maxPriorityFeePerGas):null,u=t.gas!=null?$6(t.gas):null,d=t.chainId?g2(t.chainId):this.getChainId();return{fromAddress:r,toAddress:n,weiValue:s,data:o,nonce:i,gasPriceInWei:a,maxFeePerGas:c,maxPriorityFeePerGas:l,gasLimit:u,chainId:d}}async ecRecover(t){let{method:r,params:n}=t;if(!Array.isArray(n))throw dt.rpc.invalidParams();let o=await this.initializeRelay().sendRequest({method:"ethereumAddressFromSignedMessage",params:{message:lP(n[0]),signature:lP(n[1]),addPrefix:r==="personal_ecRecover"}});if(Yn(o))throw o;return o.result}getChainId(){var t;return Number.parseInt((t=this._storage.getItem(sCe))!==null&&t!==void 0?t:"1",10)}async _eth_requestAccounts(){var t,r;if(this._addresses.length>0)return(t=this.callback)===null||t===void 0||t.call(this,"connect",{chainId:Nl(this.getChainId())}),this._addresses;let s=await this.initializeRelay().requestEthereumAccounts();if(Yn(s))throw s;if(!s.result)throw new Error("accounts received is empty");return this._setAddresses(s.result),(r=this.callback)===null||r===void 0||r.call(this,"connect",{chainId:Nl(this.getChainId())}),this._addresses}async personalSign({params:t}){if(!Array.isArray(t))throw dt.rpc.invalidParams();let r=t[1],n=t[0];this._ensureKnownAddress(r);let o=await this.initializeRelay().sendRequest({method:"signEthereumMessage",params:{address:Ef(r),message:lP(n),addPrefix:!0,typedDataJson:null}});if(Yn(o))throw o;return o.result}async _eth_signTransaction(t){let r=this._prepareTransactionParams(t[0]||{}),s=await this.initializeRelay().signEthereumTransaction(r);if(Yn(s))throw s;return s.result}async _eth_sendRawTransaction(t){let r=dP(t[0]),s=await this.initializeRelay().submitEthereumTransaction(r,this.getChainId());if(Yn(s))throw s;return s.result}async _eth_sendTransaction(t){let r=this._prepareTransactionParams(t[0]||{}),s=await this.initializeRelay().signAndSubmitEthereumTransaction(r);if(Yn(s))throw s;return s.result}async signTypedData(t){let{method:r,params:n}=t;if(!Array.isArray(n))throw dt.rpc.invalidParams();let s=l=>{let u={eth_signTypedData_v1:rE.default.hashForSignTypedDataLegacy,eth_signTypedData_v3:rE.default.hashForSignTypedData_v3,eth_signTypedData_v4:rE.default.hashForSignTypedData_v4,eth_signTypedData:rE.default.hashForSignTypedData_v4};return m2(u[r]({data:tEe(l)}),!0)},o=n[r==="eth_signTypedData_v1"?1:0],i=n[r==="eth_signTypedData_v1"?0:1];this._ensureKnownAddress(o);let c=await this.initializeRelay().sendRequest({method:"signEthereumMessage",params:{address:Ef(o),message:s(i),typedDataJson:JSON.stringify(i,null,2),addPrefix:!1}});if(Yn(c))throw c;return c.result}initializeRelay(){return this._relay||(this._relay=new tE({linkAPIUrl:Aq,storage:this._storage,metadata:this.metadata,accountsCallback:this._setAddresses.bind(this),chainCallback:this.updateProviderInfo.bind(this)})),this._relay}};var iCe="SignerType",aCe=new To("CBWSDK","SignerConfigurator");function cCe(){return aCe.getItem(iCe)}function lCe(e){aCe.setItem(iCe,e)}async function uCe(e){let{communicator:t,metadata:r,handshakeRequest:n,callback:s}=e;_at(t,r,s).catch(()=>{});let o={id:crypto.randomUUID(),event:"selectSignerType",data:Object.assign(Object.assign({},e.preference),{handshakeRequest:n})},{data:i}=await t.postRequestAndWaitForResponse(o);return i}function dCe(e){let{signerType:t,metadata:r,communicator:n,callback:s}=e;switch(t){case"scw":return new gP({metadata:r,callback:s,communicator:n});case"walletlink":return new nE({metadata:r,callback:s})}}async function _at(e,t,r){await e.onMessage(({event:s})=>s==="WalletLinkSessionRequest");let n=new nE({metadata:t,callback:r});e.postMessage({event:"WalletLinkUpdate",data:{session:n.getSession()}}),await n.handshake(),e.postMessage({event:"WalletLinkUpdate",data:{connected:!0}})}var Tat=`Coinbase Wallet SDK requires the Cross-Origin-Opener-Policy header to not be set to 'same-origin'. This is to ensure that the SDK can communicate with the Coinbase Smart Wallet app.

Please see https://www.smartwallet.dev/guides/tips/popup-tips#cross-origin-opener-policy for more information.`,Pat=()=>{let e;return{getCrossOriginOpenerPolicy:()=>e===void 0?"undefined":e,checkCrossOriginOpenerPolicy:async()=>{if(typeof window>"u"){e="non-browser-env";return}try{let t=`${window.location.origin}${window.location.pathname}`,r=await fetch(t,{method:"HEAD"});if(!r.ok)throw new Error(`HTTP error! status: ${r.status}`);let n=r.headers.get("Cross-Origin-Opener-Policy");e=n??"null",e==="same-origin"&&console.error(Tat)}catch(t){console.error("Error checking Cross-Origin-Opener-Policy:",t.message),e="error"}}}},{checkCrossOriginOpenerPolicy:pCe,getCrossOriginOpenerPolicy:fCe}=Pat();var hCe=420,mCe=540,Nat={isRed:!1,info:"Retry",svgWidth:"10",svgHeight:"11",path:Eq,defaultFillRule:"evenodd",defaultClipRule:"evenodd"},Rat="Popup was blocked. Try again.",MP=null;function gCe(e){let t=(window.innerWidth-hCe)/2+window.screenX,r=(window.innerHeight-mCe)/2+window.screenY;Oat(e);function n(){let o=`wallet_${crypto.randomUUID()}`,i=window.open(e,o,`width=${hCe}, height=${mCe}, left=${t}, top=${r}`);return i?.focus(),i||null}let s=n();if(!s){let o=kat();return new Promise((i,a)=>{o.presentItem({autoExpand:!0,message:Rat,menuItems:[Object.assign(Object.assign({},Nat),{onClick:()=>{s=n(),s?i(s):a(dt.rpc.internal("Popup window was blocked")),o.clear()}})]})})}return Promise.resolve(s)}function yCe(e){e&&!e.closed&&e.close()}function Oat(e){let t={sdkName:mP,sdkVersion:Dd,origin:window.location.origin,coop:fCe()};for(let[r,n]of Object.entries(t))e.searchParams.append(r,n.toString())}function kat(){if(!MP){let e=document.createElement("div");e.className="-cbwsdk-css-reset",document.body.appendChild(e),MP=new K6,MP.attach(e)}return MP}var HP=class{constructor({url:t=tCe,metadata:r,preference:n}){this.popup=null,this.listeners=new Map,this.postMessage=async s=>{(await this.waitForPopupLoaded()).postMessage(s,this.url.origin)},this.postRequestAndWaitForResponse=async s=>{let o=this.onMessage(({requestId:i})=>i===s.id);return this.postMessage(s),await o},this.onMessage=async s=>new Promise((o,i)=>{let a=c=>{if(c.origin!==this.url.origin)return;let l=c.data;s(l)&&(o(l),window.removeEventListener("message",a),this.listeners.delete(a))};window.addEventListener("message",a),this.listeners.set(a,{reject:i})}),this.disconnect=()=>{yCe(this.popup),this.popup=null,this.listeners.forEach(({reject:s},o)=>{s(dt.provider.userRejectedRequest("Request rejected")),window.removeEventListener("message",o)}),this.listeners.clear()},this.waitForPopupLoaded=async()=>this.popup&&!this.popup.closed?(this.popup.focus(),this.popup):(this.popup=await gCe(this.url),this.onMessage(({event:s})=>s==="PopupUnload").then(this.disconnect).catch(()=>{}),this.onMessage(({event:s})=>s==="PopupLoaded").then(s=>{this.postMessage({requestId:s.id,data:{version:Dd,metadata:this.metadata,preference:this.preference,location:window.location.toString()}})}).then(()=>{if(!this.popup)throw dt.rpc.internal();return this.popup})),this.url=new URL(t),this.metadata=r,this.preference=n}};function wCe(e){let t=K5e(Bat(e),{shouldIncludeStack:!0}),r=new URL("https://docs.cloud.coinbase.com/wallet-sdk/docs/errors");return r.searchParams.set("version",Dd),r.searchParams.set("code",t.code.toString()),r.searchParams.set("message",t.message),Object.assign(Object.assign({},t),{docUrl:r.href})}function Bat(e){var t;if(typeof e=="string")return{message:e,code:Yr.rpc.internal};if(Yn(e)){let r=e.errorMessage,n=(t=e.errorCode)!==null&&t!==void 0?t:r.match(/(denied|rejected)/i)?Yr.provider.userRejectedRequest:void 0;return Object.assign(Object.assign({},e),{message:r,code:n,data:{method:e.method}})}return e}var Sq=Bt(xCe(),1);var FP=class extends Sq.default{};var Lat=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r},jP=class extends FP{constructor(t){var{metadata:r}=t,n=t.preference,{keysUrl:s}=n,o=Lat(n,["keysUrl"]);super(),this.signer=null,this.isCoinbaseWallet=!0,this.metadata=r,this.preference=o,this.communicator=new HP({url:s,metadata:r,preference:o});let i=cCe();i&&(this.signer=this.initSigner(i))}async request(t){try{if(uEe(t),!this.signer)switch(t.method){case"eth_requestAccounts":{let r=await this.requestSignerSelection(t),n=this.initSigner(r);await n.handshake(t),this.signer=n,lCe(r);break}case"wallet_sendCalls":{let r=this.initSigner("scw");await r.handshake({method:"handshake"});let n=await r.request(t);return await r.cleanup(),n}case"wallet_getCallsStatus":return F6(t,rCe);case"net_version":return 1;case"eth_chainId":return Nl(1);default:throw dt.provider.unauthorized("Must call 'eth_requestAccounts' before other methods")}return await this.signer.request(t)}catch(r){let{code:n}=r;return n===Yr.provider.unauthorized&&this.disconnect(),Promise.reject(wCe(r))}}async enable(){return console.warn('.enable() has been deprecated. Please use .request({ method: "eth_requestAccounts" }) instead.'),await this.request({method:"eth_requestAccounts"})}async disconnect(){var t;await((t=this.signer)===null||t===void 0?void 0:t.cleanup()),this.signer=null,To.clearAll(),this.emit("disconnect",dt.provider.disconnected("User initiated disconnection"))}requestSignerSelection(t){return uCe({communicator:this.communicator,preference:this.preference,metadata:this.metadata,handshakeRequest:t,callback:this.emit.bind(this)})}initSigner(t){return dCe({signerType:t,metadata:this.metadata,communicator:this.communicator,callback:this.emit.bind(this)})}};function vCe(e){if(e){if(!["all","smartWalletOnly","eoaOnly"].includes(e.options))throw new Error(`Invalid options: ${e.options}`);if(e.attribution&&e.attribution.auto!==void 0&&e.attribution.dataSuffix!==void 0)throw new Error("Attribution cannot contain both auto and dataSuffix properties")}}var zP=class{constructor(t){this.metadata={appName:t.appName||"Dapp",appLogoUrl:t.appLogoUrl||rEe(),appChainIds:t.appChainIds||[]},this.storeLatestVersion(),pCe()}makeWeb3Provider(t={options:"all"}){var r;vCe(t);let n={metadata:this.metadata,preference:t};return(r=lEe(n))!==null&&r!==void 0?r:new jP(n)}getCoinbaseWalletLogo(t,r=240){return z5e(t,r)}storeLatestVersion(){new To("CBWSDK").setItem("VERSION",Dd)}};var ECe=zP;var Iq=window.ARCA_CONFIG?.wcProjectId||"",_q=window.ARCA_CONFIG?.chainId||8453,ACe=window.ARCA_CONFIG?.rpcUrl||"https://mainnet.base.org",oE=[];function Mat(){window.addEventListener("eip6963:announceProvider",e=>{let{info:t,provider:r}=e.detail;oE.find(n=>n.info.uuid===t.uuid)||(oE.push({info:t,provider:r}),CCe())}),window.dispatchEvent(new Event("eip6963:requestProvider"))}async function Hat(e){let t=await e.request({method:"eth_requestAccounts"});return{provider:e,accounts:t}}async function $at(){if(!Iq)throw new Error("WalletConnect not configured yet");let e=await $5e.init({projectId:Iq,chains:[_q],showQrModal:!0,rpcMap:{[_q]:ACe},metadata:{name:"ARCA Presale",description:"Community presale for $ARCA token on Base",url:"https://arcabot.eth.limo",icons:["https://arcabot.eth.limo/avatar.png"]}});return await e.connect(),{provider:e,accounts:e.accounts}}async function Fat(){let t=new ECe({appName:"ARCA Presale",appLogoUrl:"https://arcabot.eth.limo/avatar.png"}).makeWeb3Provider(ACe,_q),r=await t.request({method:"eth_requestAccounts"});return{provider:t,accounts:r}}async function jat(){if(!window.ethereum)throw new Error("No wallet detected");let e=await window.ethereum.request({method:"eth_requestAccounts"});return{provider:window.ethereum,accounts:e}}function zat(){document.getElementById("walletModal")?.remove();let e=document.createElement("div");if(e.id="walletModal",e.innerHTML=`
    <div class="wm-overlay" onclick="window.closeWalletModal()"></div>
    <div class="wm-content">
      <div class="wm-header">
        <span class="wm-title">Connect Wallet</span>
        <button class="wm-close" onclick="window.closeWalletModal()">\u2715</button>
      </div>
      <div class="wm-subtitle">Choose how to connect</div>
      <div id="walletList" class="wm-list"></div>
      <div class="wm-divider"><span>or</span></div>
      <div class="wm-extras">
        <button class="wm-extra-btn" id="wcBtn" onclick="window.connectViaWC()">
          <span class="wm-extra-icon">\u{1F4F1}</span>
          <span>
            <span class="wm-extra-name">WalletConnect</span>
            <span class="wm-extra-desc">Scan QR with mobile wallet</span>
          </span>
        </button>
        <button class="wm-extra-btn" id="cbBtn" onclick="window.connectViaCB()">
          <span class="wm-extra-icon">\u{1F535}</span>
          <span>
            <span class="wm-extra-name">Coinbase Wallet</span>
            <span class="wm-extra-desc">Connect via Coinbase app</span>
          </span>
        </button>
      </div>
      <div class="wm-footer">
        Don't have a wallet? <a href="https://www.coinbase.com/wallet" target="_blank">Get Coinbase Wallet</a>
      </div>
    </div>
  `,!document.getElementById("walletModalStyles")){let t=document.createElement("style");t.id="walletModalStyles",t.textContent=`
      #walletModal { position: fixed; top: 0; left: 0; right: 0; bottom: 0; z-index: 1000; display: flex; align-items: center; justify-content: center; }
      .wm-overlay { position: absolute; inset: 0; background: rgba(0,0,0,0.7); backdrop-filter: blur(4px); }
      .wm-content { position: relative; background: #111827; border: 1px solid rgba(245,158,11,0.15); border-radius: 16px; padding: 1.5rem; width: 380px; max-width: 90vw; max-height: 80vh; overflow-y: auto; }
      .wm-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 0.25rem; }
      .wm-title { font-size: 1.1rem; font-weight: 700; color: #f1f5f9; }
      .wm-close { background: none; border: none; color: #64748b; font-size: 1.2rem; cursor: pointer; padding: 0.25rem; }
      .wm-close:hover { color: #f1f5f9; }
      .wm-subtitle { font-size: 0.78rem; color: #64748b; margin-bottom: 1rem; }
      .wm-list { display: grid; gap: 0.5rem; }
      .wm-wallet-btn { display: flex; align-items: center; gap: 0.75rem; width: 100%; padding: 0.75rem; background: rgba(255,255,255,0.04); border: 1px solid rgba(255,255,255,0.06); border-radius: 10px; cursor: pointer; transition: all 0.2s; color: #f1f5f9; }
      .wm-wallet-btn:hover { background: rgba(245,158,11,0.08); border-color: rgba(245,158,11,0.2); }
      .wm-wallet-icon { width: 36px; height: 36px; border-radius: 8px; object-fit: cover; }
      .wm-wallet-icon-placeholder { width: 36px; height: 36px; border-radius: 8px; background: linear-gradient(135deg, #3b82f6, #8b5cf6); display: flex; align-items: center; justify-content: center; font-size: 1rem; flex-shrink: 0; }
      .wm-wallet-name { font-size: 0.85rem; font-weight: 600; }
      .wm-wallet-tag { font-size: 0.6rem; padding: 0.1rem 0.35rem; border-radius: 4px; background: rgba(34,197,94,0.12); color: #22c55e; margin-left: 0.35rem; font-weight: 600; }
      .wm-divider { display: flex; align-items: center; gap: 0.75rem; margin: 1rem 0; }
      .wm-divider::before, .wm-divider::after { content: ''; flex: 1; height: 1px; background: rgba(255,255,255,0.06); }
      .wm-divider span { font-size: 0.7rem; color: #64748b; text-transform: uppercase; }
      .wm-extras { display: grid; gap: 0.5rem; }
      .wm-extra-btn { display: flex; align-items: center; gap: 0.75rem; width: 100%; padding: 0.75rem; background: rgba(255,255,255,0.03); border: 1px solid rgba(255,255,255,0.06); border-radius: 10px; cursor: pointer; transition: all 0.2s; color: #f1f5f9; text-align: left; }
      .wm-extra-btn:hover { background: rgba(255,255,255,0.06); border-color: rgba(255,255,255,0.12); }
      .wm-extra-btn:disabled { opacity: 0.4; cursor: not-allowed; }
      .wm-extra-icon { font-size: 1.4rem; flex-shrink: 0; width: 36px; text-align: center; }
      .wm-extra-name { font-size: 0.85rem; font-weight: 600; display: block; }
      .wm-extra-desc { font-size: 0.68rem; color: #64748b; display: block; margin-top: 0.1rem; }
      .wm-footer { text-align: center; font-size: 0.7rem; color: #64748b; margin-top: 1rem; padding-top: 0.75rem; border-top: 1px solid rgba(255,255,255,0.04); }
      .wm-footer a { color: #3b82f6; text-decoration: none; }
      .wm-footer a:hover { text-decoration: underline; }
      .wm-no-wallets { text-align: center; padding: 1rem; color: #64748b; font-size: 0.8rem; }
    `,document.head.appendChild(t)}if(document.body.appendChild(e),CCe(),!Iq){let t=document.getElementById("wcBtn");t&&(t.disabled=!0,t.querySelector(".wm-extra-desc").textContent="Coming soon")}}function CCe(){let e=document.getElementById("walletList");if(e){if(oE.length===0){window.ethereum?e.innerHTML=`
        <button class="wm-wallet-btn" onclick="window.connectViaInjected()">
          <div class="wm-wallet-icon-placeholder">\u{1F98A}</div>
          <span>
            <span class="wm-wallet-name">Browser Wallet<span class="wm-wallet-tag">detected</span></span>
          </span>
        </button>
      `:e.innerHTML='<div class="wm-no-wallets">No browser wallets detected. Use WalletConnect or Coinbase below.</div>';return}e.innerHTML=oE.map((t,r)=>`
    <button class="wm-wallet-btn" onclick="window.connectViaEIP6963(${r})">
      ${t.info.icon?`<img class="wm-wallet-icon" src="${t.info.icon}" alt="${t.info.name}">`:'<div class="wm-wallet-icon-placeholder">\u{1F517}</div>'}
      <span>
        <span class="wm-wallet-name">${t.info.name}<span class="wm-wallet-tag">installed</span></span>
      </span>
    </button>
  `).join("")}}window.openWalletModal=()=>zat();window.closeWalletModal=()=>document.getElementById("walletModal")?.remove();window.connectViaEIP6963=async e=>{try{let t=oE[e],r=await Hat(t.provider);window.closeWalletModal(),window.onWalletConnected?.(r.provider,r.accounts[0],t.info.name)}catch(t){console.error("EIP-6963 connect error:",t),window.onWalletError?.(t.message)}};window.connectViaWC=async()=>{try{let e=await $at();window.closeWalletModal(),window.onWalletConnected?.(e.provider,e.accounts[0],"WalletConnect")}catch(e){console.error("WalletConnect error:",e),window.onWalletError?.(e.message)}};window.connectViaCB=async()=>{try{let e=await Fat();window.closeWalletModal(),window.onWalletConnected?.(e.provider,e.accounts[0],"Coinbase Wallet")}catch(e){console.error("Coinbase error:",e),window.onWalletError?.(e.message)}};window.connectViaInjected=async()=>{try{let e=await jat();window.closeWalletModal(),window.onWalletConnected?.(e.provider,e.accounts[0],"Browser Wallet")}catch(e){console.error("Injected error:",e),window.onWalletError?.(e.message)}};Mat();console.log("[ARCA] Wallet connector loaded");})();
/*! Bundled license information:

tslib/tslib.es6.js:
  (*! *****************************************************************************
  Copyright (c) Microsoft Corporation.
  
  Permission to use, copy, modify, and/or distribute this software for any
  purpose with or without fee is hereby granted.
  
  THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  PERFORMANCE OF THIS SOFTWARE.
  ***************************************************************************** *)

@noble/hashes/esm/utils.js:
@noble/hashes/utils.js:
  (*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@scure/base/lib/esm/index.js:
  (*! scure-base - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@scure/bip39/esm/index.js:
  (*! scure-bip39 - MIT License (c) 2022 Patricio Palladino, Paul Miller (paulmillr.com) *)

@walletconnect/relay-auth/dist/index.es.js:
  (*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) *)
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/abstract/utils.js:
@noble/curves/esm/abstract/modular.js:
@noble/curves/esm/abstract/curve.js:
@noble/curves/esm/abstract/weierstrass.js:
@noble/curves/esm/_shortw_utils.js:
@noble/curves/esm/secp256k1.js:
@noble/curves/esm/abstract/utils.js:
@noble/curves/esm/abstract/modular.js:
@noble/curves/esm/abstract/curve.js:
@noble/curves/esm/abstract/weierstrass.js:
@noble/curves/esm/_shortw_utils.js:
@noble/curves/esm/secp256k1.js:
@noble/curves/esm/abstract/utils.js:
@noble/curves/esm/abstract/modular.js:
@noble/curves/esm/abstract/curve.js:
@noble/curves/esm/abstract/weierstrass.js:
@noble/curves/esm/_shortw_utils.js:
@noble/curves/esm/secp256k1.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@walletconnect/utils/dist/index.js:
@walletconnect/utils/dist/index.js:
  (*! noble-ciphers - MIT License (c) 2023 Paul Miller (paulmillr.com) *)

@lit/reactive-element/css-tag.js:
@lit/reactive-element/css-tag.mjs:
  (**
   * @license
   * Copyright 2019 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

@lit/reactive-element/reactive-element.js:
lit-html/lit-html.js:
lit-element/lit-element.js:
@lit/reactive-element/decorators/custom-element.js:
@lit/reactive-element/decorators/property.js:
@lit/reactive-element/decorators/state.js:
@lit/reactive-element/decorators/event-options.js:
@lit/reactive-element/decorators/base.js:
@lit/reactive-element/decorators/query.js:
@lit/reactive-element/decorators/query-all.js:
@lit/reactive-element/decorators/query-async.js:
@lit/reactive-element/decorators/query-assigned-nodes.js:
@lit/reactive-element/reactive-element.mjs:
lit-html/lit-html.mjs:
lit-element/lit-element.mjs:
@lit/reactive-element/decorators/custom-element.mjs:
@lit/reactive-element/decorators/property.mjs:
lit-html/directive.js:
lit-html/async-directive.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

lit-html/is-server.js:
  (**
   * @license
   * Copyright 2022 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

@lit/reactive-element/decorators/query-assigned-elements.js:
  (**
   * @license
   * Copyright 2021 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

lit-html/directives/if-defined.js:
lit-html/directives/class-map.js:
  (**
   * @license
   * Copyright 2018 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)

lit-html/static.js:
lit-html/directive-helpers.js:
lit-html/directives/ref.js:
  (**
   * @license
   * Copyright 2020 Google LLC
   * SPDX-License-Identifier: BSD-3-Clause
   *)
*/
